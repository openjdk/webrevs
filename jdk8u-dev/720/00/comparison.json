{"files":[{"patch":"@@ -1036,1 +1036,1 @@\n-## The FreeType Project: Freetype v2.9\n+## The FreeType Project: Freetype v2.10.0\n","filename":"THIRD_PARTY_README","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -15,0 +15,2 @@\n+Also modules the JDK does not include must be commented out in\n+src\/java.desktop\/share\/native\/libfreetype\/include\/freetype\/config\/ftmodule.h.\n@@ -22,2 +24,3 @@\n-.\/src\/base\/md5.h and .\/src\/base\/md5.c are the only files with tabs,\n-and .\/include\/freetype\/ftdriver.h has the only trailing white space.\n+None of files we import have tabs, and .\/include\/freetype\/freetype.h,\n+.\/include\/freetype\/ftlcdfil.h and .\/include\/freetype\/ftstroke.h have the\n+only trailing white space.\n@@ -28,0 +31,6 @@\n+\n+When updating specify --with-freetype=bundled to test builds to\n+expose build issues.\n+This is important because presently on Linux and Solaris the build\n+defaults to linking against the system library and does not attempt\n+to compile the sources.\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/UPDATING.txt","additions":11,"deletions":2,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -1,36 +1,35 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftconfig.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    ANSI-specific configuration file (specification only).               *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* This header file contains a number of macro definitions that are used *\/\n-  \/* by the rest of the engine.  Most of the macros here are automatically *\/\n-  \/* determined at compile time, and you should not need to change it to   *\/\n-  \/* port FreeType, except to compile the library with a non-ANSI          *\/\n-  \/* compiler.                                                             *\/\n-  \/*                                                                       *\/\n-  \/* Note however that if some specific modifications are needed, we       *\/\n-  \/* advise you to place a modified copy in your build directory.          *\/\n-  \/*                                                                       *\/\n-  \/* The build directory is usually `builds\/<system>', and contains        *\/\n-  \/* system-specific files that are always included first when building    *\/\n-  \/* the library.                                                          *\/\n-  \/*                                                                       *\/\n-  \/* This ANSI version should stay in `include\/config\/'.                   *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftconfig.h\n+ *\n+ *   ANSI-specific configuration file (specification only).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * This header file contains a number of macro definitions that are used by\n+   * the rest of the engine.  Most of the macros here are automatically\n+   * determined at compile time, and you should not need to change it to port\n+   * FreeType, except to compile the library with a non-ANSI compiler.\n+   *\n+   * Note however that if some specific modifications are needed, we advise\n+   * you to place a modified copy in your build directory.\n+   *\n+   * The build directory is usually `builds\/<system>`, and contains\n+   * system-specific files that are always included first when building the\n+   * library.\n+   *\n+   * This ANSI version should stay in `include\/config\/`.\n+   *\n+   *\/\n@@ -49,10 +48,10 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*               PLATFORM-SPECIFIC CONFIGURATION MACROS                  *\/\n-  \/*                                                                       *\/\n-  \/* These macros can be toggled to suit a specific system.  The current   *\/\n-  \/* ones are defaults used to compile FreeType in an ANSI C environment   *\/\n-  \/* (16bit compilers are also supported).  Copy this file to your own     *\/\n-  \/* `builds\/<system>' directory, and edit it to port the engine.          *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   *              PLATFORM-SPECIFIC CONFIGURATION MACROS\n+   *\n+   * These macros can be toggled to suit a specific system.  The current ones\n+   * are defaults used to compile FreeType in an ANSI C environment (16bit\n+   * compilers are also supported).  Copy this file to your own\n+   * `builds\/<system>` directory, and edit it to port the engine.\n+   *\n+   *\/\n@@ -61,7 +60,7 @@\n-  \/* There are systems (like the Texas Instruments 'C54x) where a `char' *\/\n-  \/* has 16 bits.  ANSI C says that sizeof(char) is always 1.  Since an  *\/\n-  \/* `int' has 16 bits also for this system, sizeof(int) gives 1 which   *\/\n-  \/* is probably unexpected.                                             *\/\n-  \/*                                                                     *\/\n-  \/* `CHAR_BIT' (defined in limits.h) gives the number of bits in a      *\/\n-  \/* `char' type.                                                        *\/\n+  \/* There are systems (like the Texas Instruments 'C54x) where a `char`  *\/\n+  \/* has 16~bits.  ANSI~C says that `sizeof(char)` is always~1.  Since an *\/\n+  \/* `int` has 16~bits also for this system, `sizeof(int)` gives~1 which  *\/\n+  \/* is probably unexpected.                                              *\/\n+  \/*                                                                      *\/\n+  \/* `CHAR_BIT` (defined in `limits.h`) gives the number of bits in a     *\/\n+  \/* `char` type.                                                         *\/\n@@ -74,1 +73,1 @@\n-  \/* The size of an `int' type.  *\/\n+  \/* The size of an `int` type. *\/\n@@ -85,1 +84,1 @@\n-  \/* The size of a `long' type.  A five-byte `long' (as used e.g. on the *\/\n+  \/* The size of a `long` type.  A five-byte `long` (as used e.g. on the *\/\n@@ -98,2 +97,2 @@\n-  \/* FT_UNUSED is a macro used to indicate that a given parameter is not  *\/\n-  \/* used -- this is only used to get rid of unpleasant compiler warnings *\/\n+  \/* `FT_UNUSED` indicates that a given parameter is not used --   *\/\n+  \/* this is only used to get rid of unpleasant compiler warnings. *\/\n@@ -105,18 +104,18 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*                     AUTOMATIC CONFIGURATION MACROS                    *\/\n-  \/*                                                                       *\/\n-  \/* These macros are computed from the ones defined above.  Don't touch   *\/\n-  \/* their definition, unless you know precisely what you are doing.  No   *\/\n-  \/* porter should need to mess with them.                                 *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Mac support                                                           *\/\n-  \/*                                                                       *\/\n-  \/*   This is the only necessary change, so it is defined here instead    *\/\n-  \/*   providing a new configuration file.                                 *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   *                    AUTOMATIC CONFIGURATION MACROS\n+   *\n+   * These macros are computed from the ones defined above.  Don't touch\n+   * their definition, unless you know precisely what you are doing.  No\n+   * porter should need to mess with them.\n+   *\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * Mac support\n+   *\n+   *   This is the only necessary change, so it is defined here instead\n+   *   providing a new configuration file.\n+   *\/\n@@ -124,3 +123,3 @@\n-  \/* no Carbon frameworks for 64bit 10.4.x *\/\n-  \/* AvailabilityMacros.h is available since Mac OS X 10.2,        *\/\n-  \/* so guess the system version by maximum errno before inclusion *\/\n+  \/* No Carbon frameworks for 64bit 10.4.x.                         *\/\n+  \/* `AvailabilityMacros.h` is available since Mac OS X 10.2,       *\/\n+  \/* so guess the system version by maximum errno before inclusion. *\/\n@@ -146,1 +145,1 @@\n-  \/* Fix compiler warning with sgi compiler *\/\n+  \/* Fix compiler warning with sgi compiler. *\/\n@@ -154,6 +153,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Section>                                                             *\/\n-  \/*    basic_types                                                        *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   basic_types\n+   *\n+   *\/\n@@ -162,8 +161,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_Int16                                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A typedef for a 16bit signed integer type.                         *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_Int16\n+   *\n+   * @description:\n+   *   A typedef for a 16bit signed integer type.\n+   *\/\n@@ -173,8 +172,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_UInt16                                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A typedef for a 16bit unsigned integer type.                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_UInt16\n+   *\n+   * @description:\n+   *   A typedef for a 16bit unsigned integer type.\n+   *\/\n@@ -189,9 +188,9 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_Int32                                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A typedef for a 32bit signed integer type.  The size depends on    *\/\n-  \/*    the configuration.                                                 *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_Int32\n+   *\n+   * @description:\n+   *   A typedef for a 32bit signed integer type.  The size depends on the\n+   *   configuration.\n+   *\/\n@@ -201,8 +200,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_UInt32                                                          *\/\n-  \/*                                                                       *\/\n-  \/*    A typedef for a 32bit unsigned integer type.  The size depends on  *\/\n-  \/*    the configuration.                                                 *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_UInt32\n+   *\n+   *   A typedef for a 32bit unsigned integer type.  The size depends on the\n+   *   configuration.\n+   *\/\n@@ -212,9 +211,9 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_Int64                                                           *\/\n-  \/*                                                                       *\/\n-  \/*    A typedef for a 64bit signed integer type.  The size depends on    *\/\n-  \/*    the configuration.  Only defined if there is real 64bit support;   *\/\n-  \/*    otherwise, it gets emulated with a structure (if necessary).       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_Int64\n+   *\n+   *   A typedef for a 64bit signed integer type.  The size depends on the\n+   *   configuration.  Only defined if there is real 64bit support;\n+   *   otherwise, it gets emulated with a structure (if necessary).\n+   *\/\n@@ -224,9 +223,9 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_UInt64                                                          *\/\n-  \/*                                                                       *\/\n-  \/*    A typedef for a 64bit unsigned integer type.  The size depends on  *\/\n-  \/*    the configuration.  Only defined if there is real 64bit support;   *\/\n-  \/*    otherwise, it gets emulated with a structure (if necessary).       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_UInt64\n+   *\n+   *   A typedef for a 64bit unsigned integer type.  The size depends on the\n+   *   configuration.  Only defined if there is real 64bit support;\n+   *   otherwise, it gets emulated with a structure (if necessary).\n+   *\/\n@@ -254,1 +253,1 @@\n-  \/* look up an integer type that is at least 32 bits *\/\n+  \/* look up an integer type that is at least 32~bits *\/\n@@ -268,2 +267,2 @@\n-  \/* determine whether we have a 64-bit int type for platforms without *\/\n-  \/* Autoconf                                                          *\/\n+  \/* determine whether we have a 64-bit `int` type for platforms without *\/\n+  \/* Autoconf                                                            *\/\n@@ -272,1 +271,1 @@\n-  \/* FT_LONG64 must be defined if a 64-bit type is available *\/\n+  \/* `FT_LONG64` must be defined if a 64-bit type is available *\/\n@@ -277,7 +276,7 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* A 64-bit data type may create compilation problems if you compile     *\/\n-  \/* in strict ANSI mode.  To avoid them, we disable other 64-bit data     *\/\n-  \/* types if __STDC__ is defined.  You can however ignore this rule       *\/\n-  \/* by defining the FT_CONFIG_OPTION_FORCE_INT64 configuration macro.     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * A 64-bit data type may create compilation problems if you compile in\n+   * strict ANSI mode.  To avoid them, we disable other 64-bit data types if\n+   * `__STDC__` is defined.  You can however ignore this rule by defining the\n+   * `FT_CONFIG_OPTION_FORCE_INT64` configuration macro.\n+   *\/\n@@ -292,1 +291,1 @@\n-#elif defined( _MSC_VER ) && _MSC_VER >= 900  \/* Visual C++ (and Intel C++) *\/\n+#elif defined( _MSC_VER ) && _MSC_VER >= 900 \/* Visual C++ (and Intel C++) *\/\n@@ -294,1 +293,1 @@\n-  \/* this compiler provides the __int64 type *\/\n+  \/* this compiler provides the `__int64` type *\/\n@@ -301,2 +300,2 @@\n-  \/* XXXX: We should probably check the value of __BORLANDC__ in order *\/\n-  \/*       to test the compiler version.                               *\/\n+  \/* XXXX: We should probably check the value of `__BORLANDC__` in order *\/\n+  \/*       to test the compiler version.                                 *\/\n@@ -304,1 +303,1 @@\n-  \/* this compiler provides the __int64 type *\/\n+  \/* this compiler provides the `__int64` type *\/\n@@ -321,1 +320,1 @@\n-  \/* GCC provides the `long long' type *\/\n+  \/* GCC provides the `long long` type *\/\n@@ -345,5 +344,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* miscellaneous                                                         *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * miscellaneous\n+   *\n+   *\/\n@@ -357,1 +356,1 @@\n-  \/* typeof condition taken from gnulib's `intprops.h' header file *\/\n+  \/* `typeof` condition taken from gnulib's `intprops.h` header file *\/\n@@ -368,8 +367,8 @@\n-  \/* Use FT_LOCAL and FT_LOCAL_DEF to declare and define, respectively, *\/\n-  \/* a function that gets used only within the scope of a module.       *\/\n-  \/* Normally, both the header and source code files for such a         *\/\n-  \/* function are within a single module directory.                     *\/\n-  \/*                                                                    *\/\n-  \/* Intra-module arrays should be tagged with FT_LOCAL_ARRAY and       *\/\n-  \/* FT_LOCAL_ARRAY_DEF.                                                *\/\n-  \/*                                                                    *\/\n+  \/* Use `FT_LOCAL` and `FT_LOCAL_DEF` to declare and define,            *\/\n+  \/* respectively, a function that gets used only within the scope of a  *\/\n+  \/* module.  Normally, both the header and source code files for such a *\/\n+  \/* function are within a single module directory.                      *\/\n+  \/*                                                                     *\/\n+  \/* Intra-module arrays should be tagged with `FT_LOCAL_ARRAY` and      *\/\n+  \/* `FT_LOCAL_ARRAY_DEF`.                                               *\/\n+  \/*                                                                     *\/\n@@ -397,6 +396,6 @@\n-  \/* Use FT_BASE and FT_BASE_DEF to declare and define, respectively, *\/\n-  \/* functions that are used in more than a single module.  In the    *\/\n-  \/* current setup this implies that the declaration is in a header   *\/\n-  \/* file in the `include\/freetype\/internal' directory, and the       *\/\n-  \/* function body is in a file in `src\/base'.                        *\/\n-  \/*                                                                  *\/\n+  \/* Use `FT_BASE` and `FT_BASE_DEF` to declare and define, respectively, *\/\n+  \/* functions that are used in more than a single module.  In the        *\/\n+  \/* current setup this implies that the declaration is in a header file  *\/\n+  \/* in the `include\/freetype\/internal` directory, and the function body  *\/\n+  \/* is in a file in `src\/base`.                                          *\/\n+  \/*                                                                      *\/\n@@ -425,31 +424,34 @@\n-  \/*   When compiling FreeType as a DLL, some systems\/compilers need a     *\/\n-  \/*   special attribute in front OR after the return type of function     *\/\n-  \/*   declarations.                                                       *\/\n-  \/*                                                                       *\/\n-  \/*   Two macros are used within the FreeType source code to define       *\/\n-  \/*   exported library functions: FT_EXPORT and FT_EXPORT_DEF.            *\/\n-  \/*                                                                       *\/\n-  \/*     FT_EXPORT( return_type )                                          *\/\n-  \/*                                                                       *\/\n-  \/*       is used in a function declaration, as in                        *\/\n-  \/*                                                                       *\/\n-  \/*         FT_EXPORT( FT_Error )                                         *\/\n-  \/*         FT_Init_FreeType( FT_Library*  alibrary );                    *\/\n-  \/*                                                                       *\/\n-  \/*                                                                       *\/\n-  \/*     FT_EXPORT_DEF( return_type )                                      *\/\n-  \/*                                                                       *\/\n-  \/*       is used in a function definition, as in                         *\/\n-  \/*                                                                       *\/\n-  \/*         FT_EXPORT_DEF( FT_Error )                                     *\/\n-  \/*         FT_Init_FreeType( FT_Library*  alibrary )                     *\/\n-  \/*         {                                                             *\/\n-  \/*           ... some code ...                                           *\/\n-  \/*           return FT_Err_Ok;                                           *\/\n-  \/*         }                                                             *\/\n-  \/*                                                                       *\/\n-  \/*   You can provide your own implementation of FT_EXPORT and            *\/\n-  \/*   FT_EXPORT_DEF here if you want.                                     *\/\n-  \/*                                                                       *\/\n-  \/*   To export a variable, use FT_EXPORT_VAR.                            *\/\n-  \/*                                                                       *\/\n+  \/* When compiling FreeType as a DLL or DSO with hidden visibility    *\/\n+  \/* some systems\/compilers need a special attribute in front OR after *\/\n+  \/* the return type of function declarations.                         *\/\n+  \/*                                                                   *\/\n+  \/* Two macros are used within the FreeType source code to define     *\/\n+  \/* exported library functions: `FT_EXPORT` and `FT_EXPORT_DEF`.      *\/\n+  \/*                                                                   *\/\n+  \/* - `FT_EXPORT( return_type )`                                      *\/\n+  \/*                                                                   *\/\n+  \/*   is used in a function declaration, as in                        *\/\n+  \/*                                                                   *\/\n+  \/*   ```                                                             *\/\n+  \/*     FT_EXPORT( FT_Error )                                         *\/\n+  \/*     FT_Init_FreeType( FT_Library*  alibrary );                    *\/\n+  \/*   ```                                                             *\/\n+  \/*                                                                   *\/\n+  \/* - `FT_EXPORT_DEF( return_type )`                                  *\/\n+  \/*                                                                   *\/\n+  \/*   is used in a function definition, as in                         *\/\n+  \/*                                                                   *\/\n+  \/*   ```                                                             *\/\n+  \/*     FT_EXPORT_DEF( FT_Error )                                     *\/\n+  \/*     FT_Init_FreeType( FT_Library*  alibrary )                     *\/\n+  \/*     {                                                             *\/\n+  \/*       ... some code ...                                           *\/\n+  \/*       return FT_Err_Ok;                                           *\/\n+  \/*     }                                                             *\/\n+  \/*   ```                                                             *\/\n+  \/*                                                                   *\/\n+  \/* You can provide your own implementation of `FT_EXPORT` and        *\/\n+  \/* `FT_EXPORT_DEF` here if you want.                                 *\/\n+  \/*                                                                   *\/\n+  \/* To export a variable, use `FT_EXPORT_VAR`.                        *\/\n+  \/*                                                                   *\/\n@@ -458,1 +460,9 @@\n-#ifdef __cplusplus\n+#ifdef FT2_BUILD_LIBRARY\n+\n+#if defined( _WIN32 ) && defined( DLL_EXPORT )\n+#define FT_EXPORT( x )  __declspec( dllexport )  x\n+#elif defined( __GNUC__ ) && __GNUC__ >= 4\n+#define FT_EXPORT( x )  __attribute__(( visibility( \"default\" ) ))  x\n+#elif defined( __SUNPRO_C ) && __SUNPRO_C >= 0x550\n+#define FT_EXPORT( x )  __global  x\n+#elif defined( __cplusplus )\n@@ -464,4 +474,0 @@\n-#ifdef _MSC_VER\n-#undef FT_EXPORT\n-#ifdef _DLL\n-#define FT_EXPORT( x )  __declspec( dllexport )  x\n@@ -469,0 +475,2 @@\n+\n+#if defined( _WIN32 ) && defined( DLL_IMPORT )\n@@ -470,0 +478,4 @@\n+#elif defined( __cplusplus )\n+#define FT_EXPORT( x )  extern \"C\"  x\n+#else\n+#define FT_EXPORT( x )  extern  x\n@@ -471,0 +483,1 @@\n+\n@@ -502,1 +515,1 @@\n-  \/* This is special.  Within C++, you must specify `extern \"C\"' for *\/\n+  \/* This is special.  Within C++, you must specify `extern \"C\"` for *\/\n@@ -525,1 +538,1 @@\n-  \/* the infamous `_cdecl' or `__fastcall' declarations.             *\/\n+  \/* the infamous `_cdecl` or `__fastcall` declarations.             *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/config\/ftconfig.h","additions":224,"deletions":211,"binary":false,"changes":435,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftheader.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    Build macros of the FreeType 2 library.                              *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftheader.h\n+ *\n+ *   Build macros of the FreeType 2 library.\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -30,1 +30,1 @@\n-  \/*    encapsulated in an `extern \"C\" { .. }' block when included from a  *\/\n+  \/*    encapsulated in an `extern \"C\" { .. }` block when included from a  *\/\n@@ -48,1 +48,1 @@\n-  \/*    encapsulated in an `extern \"C\" { .. }' block when included from a  *\/\n+  \/*    encapsulated in an `extern \"C\" { .. }` block when included from a  *\/\n@@ -58,5 +58,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Aliases for the FreeType 2 public and configuration files.            *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * Aliases for the FreeType 2 public and configuration files.\n+   *\n+   *\/\n@@ -64,31 +64,31 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Section>                                                             *\/\n-  \/*    header_file_macros                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Title>                                                               *\/\n-  \/*    Header File Macros                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Abstract>                                                            *\/\n-  \/*    Macro definitions used to #include specific header files.          *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    The following macros are defined to the name of specific           *\/\n-  \/*    FreeType~2 header files.  They can be used directly in #include    *\/\n-  \/*    statements as in:                                                  *\/\n-  \/*                                                                       *\/\n-  \/*    {                                                                  *\/\n-  \/*      #include FT_FREETYPE_H                                           *\/\n-  \/*      #include FT_MULTIPLE_MASTERS_H                                   *\/\n-  \/*      #include FT_GLYPH_H                                              *\/\n-  \/*    }                                                                  *\/\n-  \/*                                                                       *\/\n-  \/*    There are several reasons why we are now using macros to name      *\/\n-  \/*    public header files.  The first one is that such macros are not    *\/\n-  \/*    limited to the infamous 8.3~naming rule required by DOS (and       *\/\n-  \/*    `FT_MULTIPLE_MASTERS_H' is a lot more meaningful than `ftmm.h').   *\/\n-  \/*                                                                       *\/\n-  \/*    The second reason is that it allows for more flexibility in the    *\/\n-  \/*    way FreeType~2 is installed on a given system.                     *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   header_file_macros\n+   *\n+   * @title:\n+   *   Header File Macros\n+   *\n+   * @abstract:\n+   *   Macro definitions used to `#include` specific header files.\n+   *\n+   * @description:\n+   *   The following macros are defined to the name of specific FreeType~2\n+   *   header files.  They can be used directly in `#include` statements as\n+   *   in:\n+   *\n+   *   ```\n+   *     #include FT_FREETYPE_H\n+   *     #include FT_MULTIPLE_MASTERS_H\n+   *     #include FT_GLYPH_H\n+   *   ```\n+   *\n+   *   There are several reasons why we are now using macros to name public\n+   *   header files.  The first one is that such macros are not limited to\n+   *   the infamous 8.3~naming rule required by DOS (and\n+   *   `FT_MULTIPLE_MASTERS_H` is a lot more meaningful than `ftmm.h`).\n+   *\n+   *   The second reason is that it allows for more flexibility in the way\n+   *   FreeType~2 is installed on a given system.\n+   *\n+   *\/\n@@ -99,1 +99,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -105,1 +105,1 @@\n-   *   A macro used in #include statements to name the file containing\n+   *   A macro used in `#include` statements to name the file containing\n@@ -114,1 +114,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -120,1 +120,1 @@\n-   *   A macro used in #include statements to name the file containing\n+   *   A macro used in `#include` statements to name the file containing\n@@ -129,1 +129,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -135,1 +135,1 @@\n-   *   A macro used in #include statements to name the file containing\n+   *   A macro used in `#include` statements to name the file containing\n@@ -144,1 +144,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -150,1 +150,1 @@\n-   *   A macro used in #include statements to name the file containing the\n+   *   A macro used in `#include` statements to name the file containing the\n@@ -163,1 +163,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -169,1 +169,1 @@\n-   *   A macro used in #include statements to name the file containing the\n+   *   A macro used in `#include` statements to name the file containing the\n@@ -176,1 +176,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -182,1 +182,1 @@\n-   *   A macro used in #include statements to name the file containing the\n+   *   A macro used in `#include` statements to name the file containing the\n@@ -191,1 +191,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -197,1 +197,1 @@\n-   *   A macro used in #include statements to name the file containing the\n+   *   A macro used in `#include` statements to name the file containing the\n@@ -204,1 +204,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -210,1 +210,1 @@\n-   *   A macro used in #include statements to name the file containing the\n+   *   A macro used in `#include` statements to name the file containing the\n@@ -220,1 +220,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -226,1 +226,1 @@\n-   *   A macro used in #include statements to name the file containing type\n+   *   A macro used in `#include` statements to name the file containing type\n@@ -236,1 +236,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -242,1 +242,1 @@\n-   *   A macro used in #include statements to name the file containing the\n+   *   A macro used in `#include` statements to name the file containing the\n@@ -251,1 +251,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -257,1 +257,1 @@\n-   *   A macro used in #include statements to name the file containing the\n+   *   A macro used in `#include` statements to name the file containing the\n@@ -266,1 +266,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -272,1 +272,1 @@\n-   *   A macro used in #include statements to name the file containing the\n+   *   A macro used in `#include` statements to name the file containing the\n@@ -279,1 +279,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -285,1 +285,1 @@\n-   *   A macro used in #include statements to name the file containing the\n+   *   A macro used in `#include` statements to name the file containing the\n@@ -292,1 +292,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -298,1 +298,1 @@\n-   *   A macro used in #include statements to name the file containing the\n+   *   A macro used in `#include` statements to name the file containing the\n@@ -305,1 +305,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -311,1 +311,1 @@\n-   *   A macro used in #include statements to name the file containing the\n+   *   A macro used in `#include` statements to name the file containing the\n@@ -318,1 +318,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -324,1 +324,1 @@\n-   *   A macro used in #include statements to name the file containing\n+   *   A macro used in `#include` statements to name the file containing\n@@ -331,1 +331,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -337,1 +337,1 @@\n-   *   A macro used in #include statements to name the file containing\n+   *   A macro used in `#include` statements to name the file containing\n@@ -340,1 +340,1 @@\n-   *   Deprecated since version 2.9; use @FT_DRIVER_H instead.\n+   *   Deprecated since version~2.9; use @FT_DRIVER_H instead.\n@@ -346,1 +346,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -352,1 +352,1 @@\n-   *   A macro used in #include statements to name the file containing\n+   *   A macro used in `#include` statements to name the file containing\n@@ -355,1 +355,1 @@\n-   *   Deprecated since version 2.9; use @FT_DRIVER_H instead.\n+   *   Deprecated since version~2.9; use @FT_DRIVER_H instead.\n@@ -361,1 +361,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -367,1 +367,1 @@\n-   *   A macro used in #include statements to name the file containing\n+   *   A macro used in `#include` statements to name the file containing\n@@ -370,1 +370,1 @@\n-   *   Deprecated since version 2.9; use @FT_DRIVER_H instead.\n+   *   Deprecated since version~2.9; use @FT_DRIVER_H instead.\n@@ -376,1 +376,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -382,1 +382,1 @@\n-   *   A macro used in #include statements to name the file containing\n+   *   A macro used in `#include` statements to name the file containing\n@@ -385,1 +385,1 @@\n-   *   Deprecated since version 2.9; use @FT_DRIVER_H instead.\n+   *   Deprecated since version~2.9; use @FT_DRIVER_H instead.\n@@ -391,1 +391,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -397,1 +397,1 @@\n-   *   A macro used in #include statements to name the file containing the\n+   *   A macro used in `#include` statements to name the file containing the\n@@ -404,1 +404,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -410,1 +410,1 @@\n-   *   A macro used in #include statements to name the file containing the\n+   *   A macro used in `#include` statements to name the file containing the\n@@ -419,1 +419,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -425,1 +425,1 @@\n-   *   A macro used in #include statements to name the file containing the\n+   *   A macro used in `#include` statements to name the file containing the\n@@ -432,1 +432,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -438,2 +438,2 @@\n-   *   A macro used in #include statements to name the file containing the\n-   *   definitions of TrueType four-byte `tags' which identify blocks in\n+   *   A macro used in `#include` statements to name the file containing the\n+   *   definitions of TrueType four-byte 'tags' which identify blocks in\n@@ -446,1 +446,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -452,3 +452,2 @@\n-   *   A macro used in #include statements to name the file containing the\n-   *   definitions of an API which accesses BDF-specific strings from a\n-   *   face.\n+   *   A macro used in `#include` statements to name the file containing the\n+   *   definitions of an API which accesses BDF-specific strings from a face.\n@@ -460,1 +459,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -466,3 +465,2 @@\n-   *   A macro used in #include statements to name the file containing the\n-   *   definitions of an API which access CID font information from a\n-   *   face.\n+   *   A macro used in `#include` statements to name the file containing the\n+   *   definitions of an API which access CID font information from a face.\n@@ -474,1 +472,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -480,1 +478,1 @@\n-   *   A macro used in #include statements to name the file containing the\n+   *   A macro used in `#include` statements to name the file containing the\n@@ -487,1 +485,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -493,1 +491,1 @@\n-   *   A macro used in #include statements to name the file containing the\n+   *   A macro used in `#include` statements to name the file containing the\n@@ -500,1 +498,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -506,1 +504,1 @@\n-   *   A macro used in #include statements to name the file containing the\n+   *   A macro used in `#include` statements to name the file containing the\n@@ -513,1 +511,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -519,1 +517,1 @@\n-   *   A macro used in #include statements to name the file containing the\n+   *   A macro used in `#include` statements to name the file containing the\n@@ -526,1 +524,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -532,1 +530,1 @@\n-   *   A macro used in #include statements to name the file containing the\n+   *   A macro used in `#include` statements to name the file containing the\n@@ -539,1 +537,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -545,1 +543,1 @@\n-   *   A macro used in #include statements to name the file containing the\n+   *   A macro used in `#include` statements to name the file containing the\n@@ -552,1 +550,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -558,1 +556,1 @@\n-   *   A macro used in #include statements to name the file containing the\n+   *   A macro used in `#include` statements to name the file containing the\n@@ -565,1 +563,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -571,1 +569,1 @@\n-   *   A macro used in #include statements to name the file containing the\n+   *   A macro used in `#include` statements to name the file containing the\n@@ -578,1 +576,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -584,3 +582,3 @@\n-   *   A macro used in #include statements to name the file containing the\n-   *   Macintosh-specific FreeType~2 API.  The latter is used to access\n-   *   fonts embedded in resource forks.\n+   *   A macro used in `#include` statements to name the file containing the\n+   *   Macintosh-specific FreeType~2 API.  The latter is used to access fonts\n+   *   embedded in resource forks.\n@@ -595,1 +593,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -601,1 +599,1 @@\n-   *   A macro used in #include statements to name the file containing the\n+   *   A macro used in `#include` statements to name the file containing the\n@@ -608,1 +606,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -614,2 +612,2 @@\n-   *   A macro used in #include statements to name the file containing the\n-   *   optional FreeType~2 API which accesses embedded `name' strings in\n+   *   A macro used in `#include` statements to name the file containing the\n+   *   optional FreeType~2 API which accesses embedded 'name' strings in\n@@ -622,1 +620,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -628,3 +626,3 @@\n-   *   A macro used in #include statements to name the file containing the\n-   *   optional FreeType~2 API which validates OpenType tables (BASE, GDEF,\n-   *   GPOS, GSUB, JSTF).\n+   *   A macro used in `#include` statements to name the file containing the\n+   *   optional FreeType~2 API which validates OpenType tables ('BASE',\n+   *   'GDEF', 'GPOS', 'GSUB', 'JSTF').\n@@ -636,1 +634,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -642,3 +640,3 @@\n-   *   A macro used in #include statements to name the file containing the\n-   *   optional FreeType~2 API which validates TrueTypeGX\/AAT tables (feat,\n-   *   mort, morx, bsln, just, kern, opbd, trak, prop).\n+   *   A macro used in `#include` statements to name the file containing the\n+   *   optional FreeType~2 API which validates TrueTypeGX\/AAT tables ('feat',\n+   *   'mort', 'morx', 'bsln', 'just', 'kern', 'opbd', 'trak', 'prop').\n@@ -650,1 +648,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -656,1 +654,1 @@\n-   *   A macro used in #include statements to name the file containing the\n+   *   A macro used in `#include` statements to name the file containing the\n@@ -663,1 +661,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -669,1 +667,1 @@\n-   *   A macro used in #include statements to name the file containing the\n+   *   A macro used in `#include` statements to name the file containing the\n@@ -675,1 +673,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -681,1 +679,1 @@\n-   *   A macro used in #include statements to name the file containing the\n+   *   A macro used in `#include` statements to name the file containing the\n@@ -687,1 +685,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -693,1 +691,1 @@\n-   *   A macro used in #include statements to name the file containing the\n+   *   A macro used in `#include` statements to name the file containing the\n@@ -702,1 +700,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -708,1 +706,1 @@\n-   *   A macro used in #include statements to name the file containing the\n+   *   A macro used in `#include` statements to name the file containing the\n@@ -715,1 +713,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -721,1 +719,1 @@\n-   *   A macro used in #include statements to name the file containing the\n+   *   A macro used in `#include` statements to name the file containing the\n@@ -727,1 +725,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -733,1 +731,1 @@\n-   *   A macro used in #include statements to name the file containing the\n+   *   A macro used in `#include` statements to name the file containing the\n@@ -739,1 +737,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -745,1 +743,1 @@\n-   *   A macro used in #include statements to name the file containing the\n+   *   A macro used in `#include` statements to name the file containing the\n@@ -751,1 +749,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -757,1 +755,1 @@\n-   *   A macro used in #include statements to name the file containing the\n+   *   A macro used in `#include` statements to name the file containing the\n@@ -763,0 +761,12 @@\n+  \/**************************************************************************\n+   *\n+   * @macro:\n+   *   FT_COLOR_H\n+   *\n+   * @description:\n+   *   A macro used in `#include` statements to name the file containing the\n+   *   FreeType~2 API which handles the OpenType 'CPAL' table.\n+   *\/\n+#define FT_COLOR_H  <freetype\/ftcolor.h>\n+\n+\n@@ -773,1 +783,1 @@\n-  \/* FT_CACHE_H is the only header file needed for the cache subsystem. *\/\n+  \/* `FT_CACHE_H` is the only header file needed for the cache subsystem. *\/\n@@ -779,2 +789,2 @@\n-  \/* default to FT_CACHE_H at the moment just in case, but we know of *\/\n-  \/* no rogue client that uses them.                                  *\/\n+  \/* default to `FT_CACHE_H` at the moment just in case, but we know  *\/\n+  \/* of no rogue client that uses them.                               *\/\n@@ -792,2 +802,2 @@\n-   * Include internal headers definitions from <internal\/...>\n-   * only when building the library.\n+   * Include internal headers definitions from `<internal\/...>` only when\n+   * building the library.\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/config\/ftheader.h","additions":181,"deletions":171,"binary":false,"changes":352,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- *  This file registers the FreeType modules compiled into the library.\n+ * This file registers the FreeType modules compiled into the library.\n@@ -4,3 +4,3 @@\n- *  If you use GNU make, this file IS NOT USED!  Instead, it is created in\n- *  the objects directory (normally `<topdir>\/objs\/') based on information\n- *  from `<topdir>\/modules.cfg'.\n+ * If you use GNU make, this file IS NOT USED!  Instead, it is created in\n+ * the objects directory (normally `<topdir>\/objs\/`) based on information\n+ * from `<topdir>\/modules.cfg`.\n@@ -8,2 +8,2 @@\n- *  Please read `docs\/INSTALL.ANY' and `docs\/CUSTOMIZE' how to compile\n- *  FreeType without GNU make.\n+ * Please read `docs\/INSTALL.ANY` and `docs\/CUSTOMIZE` how to compile\n+ * FreeType without GNU make.\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/config\/ftmodule.h","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftoption.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    User-selectable configuration macros (specification only).           *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftoption.h\n+ *\n+ *   User-selectable configuration macros (specification only).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -28,39 +28,41 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*                 USER-SELECTABLE CONFIGURATION MACROS                  *\/\n-  \/*                                                                       *\/\n-  \/* This file contains the default configuration macro definitions for    *\/\n-  \/* a standard build of the FreeType library.  There are three ways to    *\/\n-  \/* use this file to build project-specific versions of the library:      *\/\n-  \/*                                                                       *\/\n-  \/*  - You can modify this file by hand, but this is not recommended in   *\/\n-  \/*    cases where you would like to build several versions of the        *\/\n-  \/*    library from a single source directory.                            *\/\n-  \/*                                                                       *\/\n-  \/*  - You can put a copy of this file in your build directory, more      *\/\n-  \/*    precisely in `$BUILD\/freetype\/config\/ftoption.h', where `$BUILD'   *\/\n-  \/*    is the name of a directory that is included _before_ the FreeType  *\/\n-  \/*    include path during compilation.                                   *\/\n-  \/*                                                                       *\/\n-  \/*    The default FreeType Makefiles and Jamfiles use the build          *\/\n-  \/*    directory `builds\/<system>' by default, but you can easily change  *\/\n-  \/*    that for your own projects.                                        *\/\n-  \/*                                                                       *\/\n-  \/*  - Copy the file <ft2build.h> to `$BUILD\/ft2build.h' and modify it    *\/\n-  \/*    slightly to pre-define the macro FT_CONFIG_OPTIONS_H used to       *\/\n-  \/*    locate this file during the build.  For example,                   *\/\n-  \/*                                                                       *\/\n-  \/*      #define FT_CONFIG_OPTIONS_H  <myftoptions.h>                     *\/\n-  \/*      #include <freetype\/config\/ftheader.h>                            *\/\n-  \/*                                                                       *\/\n-  \/*    will use `$BUILD\/myftoptions.h' instead of this file for macro     *\/\n-  \/*    definitions.                                                       *\/\n-  \/*                                                                       *\/\n-  \/*    Note also that you can similarly pre-define the macro              *\/\n-  \/*    FT_CONFIG_MODULES_H used to locate the file listing of the modules *\/\n-  \/*    that are statically linked to the library at compile time.  By     *\/\n-  \/*    default, this file is <freetype\/config\/ftmodule.h>.                *\/\n-  \/*                                                                       *\/\n-  \/* We highly recommend using the third method whenever possible.         *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   *                USER-SELECTABLE CONFIGURATION MACROS\n+   *\n+   * This file contains the default configuration macro definitions for a\n+   * standard build of the FreeType library.  There are three ways to use\n+   * this file to build project-specific versions of the library:\n+   *\n+   * - You can modify this file by hand, but this is not recommended in\n+   *   cases where you would like to build several versions of the library\n+   *   from a single source directory.\n+   *\n+   * - You can put a copy of this file in your build directory, more\n+   *   precisely in `$BUILD\/freetype\/config\/ftoption.h`, where `$BUILD` is\n+   *   the name of a directory that is included _before_ the FreeType include\n+   *   path during compilation.\n+   *\n+   *   The default FreeType Makefiles and Jamfiles use the build directory\n+   *   `builds\/<system>` by default, but you can easily change that for your\n+   *   own projects.\n+   *\n+   * - Copy the file <ft2build.h> to `$BUILD\/ft2build.h` and modify it\n+   *   slightly to pre-define the macro `FT_CONFIG_OPTIONS_H` used to locate\n+   *   this file during the build.  For example,\n+   *\n+   *   ```\n+   *     #define FT_CONFIG_OPTIONS_H  <myftoptions.h>\n+   *     #include <freetype\/config\/ftheader.h>\n+   *   ```\n+   *\n+   *   will use `$BUILD\/myftoptions.h` instead of this file for macro\n+   *   definitions.\n+   *\n+   *   Note also that you can similarly pre-define the macro\n+   *   `FT_CONFIG_MODULES_H` used to locate the file listing of the modules\n+   *   that are statically linked to the library at compile time.  By\n+   *   default, this file is `<freetype\/config\/ftmodule.h>`.\n+   *\n+   * We highly recommend using the third method whenever possible.\n+   *\n+   *\/\n@@ -78,26 +80,33 @@\n-  \/*#***********************************************************************\/\n-  \/*                                                                       *\/\n-  \/* If you enable this configuration option, FreeType recognizes an       *\/\n-  \/* environment variable called `FREETYPE_PROPERTIES', which can be used  *\/\n-  \/* to control the various font drivers and modules.  The controllable    *\/\n-  \/* properties are listed in the section @properties.                     *\/\n-  \/*                                                                       *\/\n-  \/* `FREETYPE_PROPERTIES' has the following syntax form (broken here into *\/\n-  \/* multiple lines for better readability).                               *\/\n-  \/*                                                                       *\/\n-  \/* {                                                                     *\/\n-  \/*   <optional whitespace>                                               *\/\n-  \/*   <module-name1> ':'                                                  *\/\n-  \/*   <property-name1> '=' <property-value1>                              *\/\n-  \/*   <whitespace>                                                        *\/\n-  \/*   <module-name2> ':'                                                  *\/\n-  \/*   <property-name2> '=' <property-value2>                              *\/\n-  \/*   ...                                                                 *\/\n-  \/* }                                                                     *\/\n-  \/*                                                                       *\/\n-  \/* Example:                                                              *\/\n-  \/*                                                                       *\/\n-  \/*   FREETYPE_PROPERTIES=truetype:interpreter-version=35 \\               *\/\n-  \/*                       cff:no-stem-darkening=1 \\                       *\/\n-  \/*                       autofitter:warping=1                            *\/\n-  \/*                                                                       *\/\n+  \/*#************************************************************************\n+   *\n+   * If you enable this configuration option, FreeType recognizes an\n+   * environment variable called `FREETYPE_PROPERTIES`, which can be used to\n+   * control the various font drivers and modules.  The controllable\n+   * properties are listed in the section @properties.\n+   *\n+   * You have to undefine this configuration option on platforms that lack\n+   * the concept of environment variables (and thus don't have the `getenv`\n+   * function), for example Windows CE.\n+   *\n+   * `FREETYPE_PROPERTIES` has the following syntax form (broken here into\n+   * multiple lines for better readability).\n+   *\n+   * ```\n+   *   <optional whitespace>\n+   *   <module-name1> ':'\n+   *   <property-name1> '=' <property-value1>\n+   *   <whitespace>\n+   *   <module-name2> ':'\n+   *   <property-name2> '=' <property-value2>\n+   *   ...\n+   * ```\n+   *\n+   * Example:\n+   *\n+   * ```\n+   *   FREETYPE_PROPERTIES=truetype:interpreter-version=35 \\\n+   *                       cff:no-stem-darkening=1 \\\n+   *                       autofitter:warping=1\n+   * ```\n+   *\n+   *\/\n@@ -107,14 +116,13 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Uncomment the line below if you want to activate LCD rendering        *\/\n-  \/* technology similar to ClearType in this build of the library.  This   *\/\n-  \/* technology triples the resolution in the direction color subpixels.   *\/\n-  \/* To mitigate color fringes inherent to this technology, you also need  *\/\n-  \/* to explicitly set up LCD filtering.                                   *\/\n-  \/*                                                                       *\/\n-  \/* Note that this feature is covered by several Microsoft patents        *\/\n-  \/* and should not be activated in any default build of the library.      *\/\n-  \/* When this macro is not defined, FreeType offers alternative LCD       *\/\n-  \/* rendering technology that produces excellent output without LCD       *\/\n-  \/* filtering.                                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Uncomment the line below if you want to activate LCD rendering\n+   * technology similar to ClearType in this build of the library.  This\n+   * technology triples the resolution in the direction color subpixels.  To\n+   * mitigate color fringes inherent to this technology, you also need to\n+   * explicitly set up LCD filtering.\n+   *\n+   * Note that this feature is covered by several Microsoft patents and\n+   * should not be activated in any default build of the library.  When this\n+   * macro is not defined, FreeType offers alternative LCD rendering\n+   * technology that produces excellent output without LCD filtering.\n+   *\/\n@@ -124,17 +132,17 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Many compilers provide a non-ANSI 64-bit data type that can be used   *\/\n-  \/* by FreeType to speed up some computations.  However, this will create *\/\n-  \/* some problems when compiling the library in strict ANSI mode.         *\/\n-  \/*                                                                       *\/\n-  \/* For this reason, the use of 64-bit integers is normally disabled when *\/\n-  \/* the __STDC__ macro is defined.  You can however disable this by       *\/\n-  \/* defining the macro FT_CONFIG_OPTION_FORCE_INT64 here.                 *\/\n-  \/*                                                                       *\/\n-  \/* For most compilers, this will only create compilation warnings when   *\/\n-  \/* building the library.                                                 *\/\n-  \/*                                                                       *\/\n-  \/* ObNote: The compiler-specific 64-bit integers are detected in the     *\/\n-  \/*         file `ftconfig.h' either statically or through the            *\/\n-  \/*         `configure' script on supported platforms.                    *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Many compilers provide a non-ANSI 64-bit data type that can be used by\n+   * FreeType to speed up some computations.  However, this will create some\n+   * problems when compiling the library in strict ANSI mode.\n+   *\n+   * For this reason, the use of 64-bit integers is normally disabled when\n+   * the `__STDC__` macro is defined.  You can however disable this by\n+   * defining the macro `FT_CONFIG_OPTION_FORCE_INT64` here.\n+   *\n+   * For most compilers, this will only create compilation warnings when\n+   * building the library.\n+   *\n+   * ObNote: The compiler-specific 64-bit integers are detected in the\n+   *         file `ftconfig.h` either statically or through the `configure`\n+   *         script on supported platforms.\n+   *\/\n@@ -144,6 +152,7 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* If this macro is defined, do not try to use an assembler version of   *\/\n-  \/* performance-critical functions (e.g. FT_MulFix).  You should only do  *\/\n-  \/* that to verify that the assembler function works properly, or to      *\/\n-  \/* execute benchmark tests of the various implementations.               *\/\n+  \/**************************************************************************\n+   *\n+   * If this macro is defined, do not try to use an assembler version of\n+   * performance-critical functions (e.g., @FT_MulFix).  You should only do\n+   * that to verify that the assembler function works properly, or to execute\n+   * benchmark tests of the various implementations.\n+   *\/\n@@ -153,9 +162,9 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* If this macro is defined, try to use an inlined assembler version of  *\/\n-  \/* the `FT_MulFix' function, which is a `hotspot' when loading and       *\/\n-  \/* hinting glyphs, and which should be executed as fast as possible.     *\/\n-  \/*                                                                       *\/\n-  \/* Note that if your compiler or CPU is not supported, this will default *\/\n-  \/* to the standard and portable implementation found in `ftcalc.c'.      *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * If this macro is defined, try to use an inlined assembler version of the\n+   * @FT_MulFix function, which is a 'hotspot' when loading and hinting\n+   * glyphs, and which should be executed as fast as possible.\n+   *\n+   * Note that if your compiler or CPU is not supported, this will default to\n+   * the standard and portable implementation found in `ftcalc.c`.\n+   *\/\n@@ -165,12 +174,12 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* LZW-compressed file support.                                          *\/\n-  \/*                                                                       *\/\n-  \/*   FreeType now handles font files that have been compressed with the  *\/\n-  \/*   `compress' program.  This is mostly used to parse many of the PCF   *\/\n-  \/*   files that come with various X11 distributions.  The implementation *\/\n-  \/*   uses NetBSD's `zopen' to partially uncompress the file on the fly   *\/\n-  \/*   (see src\/lzw\/ftgzip.c).                                             *\/\n-  \/*                                                                       *\/\n-  \/*   Define this macro if you want to enable this `feature'.             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * LZW-compressed file support.\n+   *\n+   *   FreeType now handles font files that have been compressed with the\n+   *   `compress` program.  This is mostly used to parse many of the PCF\n+   *   files that come with various X11 distributions.  The implementation\n+   *   uses NetBSD's `zopen` to partially uncompress the file on the fly (see\n+   *   `src\/lzw\/ftgzip.c`).\n+   *\n+   *   Define this macro if you want to enable this 'feature'.\n+   *\/\n@@ -180,12 +189,12 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Gzip-compressed file support.                                         *\/\n-  \/*                                                                       *\/\n-  \/*   FreeType now handles font files that have been compressed with the  *\/\n-  \/*   `gzip' program.  This is mostly used to parse many of the PCF files *\/\n-  \/*   that come with XFree86.  The implementation uses `zlib' to          *\/\n-  \/*   partially uncompress the file on the fly (see src\/gzip\/ftgzip.c).   *\/\n-  \/*                                                                       *\/\n-  \/*   Define this macro if you want to enable this `feature'.  See also   *\/\n-  \/*   the macro FT_CONFIG_OPTION_SYSTEM_ZLIB below.                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Gzip-compressed file support.\n+   *\n+   *   FreeType now handles font files that have been compressed with the\n+   *   `gzip` program.  This is mostly used to parse many of the PCF files\n+   *   that come with XFree86.  The implementation uses 'zlib' to partially\n+   *   uncompress the file on the fly (see `src\/gzip\/ftgzip.c`).\n+   *\n+   *   Define this macro if you want to enable this 'feature'.  See also the\n+   *   macro `FT_CONFIG_OPTION_SYSTEM_ZLIB` below.\n+   *\/\n@@ -195,22 +204,22 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* ZLib library selection                                                *\/\n-  \/*                                                                       *\/\n-  \/*   This macro is only used when FT_CONFIG_OPTION_USE_ZLIB is defined.  *\/\n-  \/*   It allows FreeType's `ftgzip' component to link to the system's     *\/\n-  \/*   installation of the ZLib library.  This is useful on systems like   *\/\n-  \/*   Unix or VMS where it generally is already available.                *\/\n-  \/*                                                                       *\/\n-  \/*   If you let it undefined, the component will use its own copy        *\/\n-  \/*   of the zlib sources instead.  These have been modified to be        *\/\n-  \/*   included directly within the component and *not* export external    *\/\n-  \/*   function names.  This allows you to link any program with FreeType  *\/\n-  \/*   _and_ ZLib without linking conflicts.                               *\/\n-  \/*                                                                       *\/\n-  \/*   Do not #undef this macro here since the build system might define   *\/\n-  \/*   it for certain configurations only.                                 *\/\n-  \/*                                                                       *\/\n-  \/*   If you use a build system like cmake or the `configure' script,     *\/\n-  \/*   options set by those programs have precendence, overwriting the     *\/\n-  \/*   value here with the configured one.                                 *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * ZLib library selection\n+   *\n+   *   This macro is only used when `FT_CONFIG_OPTION_USE_ZLIB` is defined.\n+   *   It allows FreeType's 'ftgzip' component to link to the system's\n+   *   installation of the ZLib library.  This is useful on systems like\n+   *   Unix or VMS where it generally is already available.\n+   *\n+   *   If you let it undefined, the component will use its own copy of the\n+   *   zlib sources instead.  These have been modified to be included\n+   *   directly within the component and **not** export external function\n+   *   names.  This allows you to link any program with FreeType _and_ ZLib\n+   *   without linking conflicts.\n+   *\n+   *   Do not `#undef` this macro here since the build system might define\n+   *   it for certain configurations only.\n+   *\n+   *   If you use a build system like cmake or the `configure` script,\n+   *   options set by those programs have precedence, overwriting the value\n+   *   here with the configured one.\n+   *\/\n@@ -220,17 +229,17 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Bzip2-compressed file support.                                        *\/\n-  \/*                                                                       *\/\n-  \/*   FreeType now handles font files that have been compressed with the  *\/\n-  \/*   `bzip2' program.  This is mostly used to parse many of the PCF      *\/\n-  \/*   files that come with XFree86.  The implementation uses `libbz2' to  *\/\n-  \/*   partially uncompress the file on the fly (see src\/bzip2\/ftbzip2.c). *\/\n-  \/*   Contrary to gzip, bzip2 currently is not included and need to use   *\/\n-  \/*   the system available bzip2 implementation.                          *\/\n-  \/*                                                                       *\/\n-  \/*   Define this macro if you want to enable this `feature'.             *\/\n-  \/*                                                                       *\/\n-  \/*   If you use a build system like cmake or the `configure' script,     *\/\n-  \/*   options set by those programs have precendence, overwriting the     *\/\n-  \/*   value here with the configured one.                                 *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Bzip2-compressed file support.\n+   *\n+   *   FreeType now handles font files that have been compressed with the\n+   *   `bzip2` program.  This is mostly used to parse many of the PCF files\n+   *   that come with XFree86.  The implementation uses `libbz2` to partially\n+   *   uncompress the file on the fly (see `src\/bzip2\/ftbzip2.c`).  Contrary\n+   *   to gzip, bzip2 currently is not included and need to use the system\n+   *   available bzip2 implementation.\n+   *\n+   *   Define this macro if you want to enable this 'feature'.\n+   *\n+   *   If you use a build system like cmake or the `configure` script,\n+   *   options set by those programs have precedence, overwriting the value\n+   *   here with the configured one.\n+   *\/\n@@ -240,8 +249,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Define to disable the use of file stream functions and types, FILE,   *\/\n-  \/* fopen() etc.  Enables the use of smaller system libraries on embedded *\/\n-  \/* systems that have multiple system libraries, some with or without     *\/\n-  \/* file stream support, in the cases where file stream support is not    *\/\n-  \/* necessary such as memory loading of font files.                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Define to disable the use of file stream functions and types, `FILE`,\n+   * `fopen`, etc.  Enables the use of smaller system libraries on embedded\n+   * systems that have multiple system libraries, some with or without file\n+   * stream support, in the cases where file stream support is not necessary\n+   * such as memory loading of font files.\n+   *\/\n@@ -251,15 +260,15 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* PNG bitmap support.                                                   *\/\n-  \/*                                                                       *\/\n-  \/*   FreeType now handles loading color bitmap glyphs in the PNG format. *\/\n-  \/*   This requires help from the external libpng library.  Uncompressed  *\/\n-  \/*   color bitmaps do not need any external libraries and will be        *\/\n-  \/*   supported regardless of this configuration.                         *\/\n-  \/*                                                                       *\/\n-  \/*   Define this macro if you want to enable this `feature'.             *\/\n-  \/*                                                                       *\/\n-  \/*   If you use a build system like cmake or the `configure' script,     *\/\n-  \/*   options set by those programs have precendence, overwriting the     *\/\n-  \/*   value here with the configured one.                                 *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * PNG bitmap support.\n+   *\n+   *   FreeType now handles loading color bitmap glyphs in the PNG format.\n+   *   This requires help from the external libpng library.  Uncompressed\n+   *   color bitmaps do not need any external libraries and will be supported\n+   *   regardless of this configuration.\n+   *\n+   *   Define this macro if you want to enable this 'feature'.\n+   *\n+   *   If you use a build system like cmake or the `configure` script,\n+   *   options set by those programs have precedence, overwriting the value\n+   *   here with the configured one.\n+   *\/\n@@ -269,14 +278,14 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* HarfBuzz support.                                                     *\/\n-  \/*                                                                       *\/\n-  \/*   FreeType uses the HarfBuzz library to improve auto-hinting of       *\/\n-  \/*   OpenType fonts.  If available, many glyphs not directly addressable *\/\n-  \/*   by a font's character map will be hinted also.                      *\/\n-  \/*                                                                       *\/\n-  \/*   Define this macro if you want to enable this `feature'.             *\/\n-  \/*                                                                       *\/\n-  \/*   If you use a build system like cmake or the `configure' script,     *\/\n-  \/*   options set by those programs have precendence, overwriting the     *\/\n-  \/*   value here with the configured one.                                 *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * HarfBuzz support.\n+   *\n+   *   FreeType uses the HarfBuzz library to improve auto-hinting of OpenType\n+   *   fonts.  If available, many glyphs not directly addressable by a font's\n+   *   character map will be hinted also.\n+   *\n+   *   Define this macro if you want to enable this 'feature'.\n+   *\n+   *   If you use a build system like cmake or the `configure` script,\n+   *   options set by those programs have precedence, overwriting the value\n+   *   here with the configured one.\n+   *\/\n@@ -286,22 +295,22 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Glyph Postscript Names handling                                       *\/\n-  \/*                                                                       *\/\n-  \/*   By default, FreeType 2 is compiled with the `psnames' module.  This *\/\n-  \/*   module is in charge of converting a glyph name string into a        *\/\n-  \/*   Unicode value, or return a Macintosh standard glyph name for the    *\/\n-  \/*   use with the TrueType `post' table.                                 *\/\n-  \/*                                                                       *\/\n-  \/*   Undefine this macro if you do not want `psnames' compiled in your   *\/\n-  \/*   build of FreeType.  This has the following effects:                 *\/\n-  \/*                                                                       *\/\n-  \/*   - The TrueType driver will provide its own set of glyph names,      *\/\n-  \/*     if you build it to support postscript names in the TrueType       *\/\n-  \/*     `post' table, but will not synthesize a missing Unicode charmap.  *\/\n-  \/*                                                                       *\/\n-  \/*   - The Type 1 driver will not be able to synthesize a Unicode        *\/\n-  \/*     charmap out of the glyphs found in the fonts.                     *\/\n-  \/*                                                                       *\/\n-  \/*   You would normally undefine this configuration macro when building  *\/\n-  \/*   a version of FreeType that doesn't contain a Type 1 or CFF driver.  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Glyph Postscript Names handling\n+   *\n+   *   By default, FreeType 2 is compiled with the 'psnames' module.  This\n+   *   module is in charge of converting a glyph name string into a Unicode\n+   *   value, or return a Macintosh standard glyph name for the use with the\n+   *   TrueType 'post' table.\n+   *\n+   *   Undefine this macro if you do not want 'psnames' compiled in your\n+   *   build of FreeType.  This has the following effects:\n+   *\n+   *   - The TrueType driver will provide its own set of glyph names, if you\n+   *     build it to support postscript names in the TrueType 'post' table,\n+   *     but will not synthesize a missing Unicode charmap.\n+   *\n+   *   - The Type~1 driver will not be able to synthesize a Unicode charmap\n+   *     out of the glyphs found in the fonts.\n+   *\n+   *   You would normally undefine this configuration macro when building a\n+   *   version of FreeType that doesn't contain a Type~1 or CFF driver.\n+   *\/\n@@ -311,15 +320,14 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Postscript Names to Unicode Values support                            *\/\n-  \/*                                                                       *\/\n-  \/*   By default, FreeType 2 is built with the `PSNames' module compiled  *\/\n-  \/*   in.  Among other things, the module is used to convert a glyph name *\/\n-  \/*   into a Unicode value.  This is especially useful in order to        *\/\n-  \/*   synthesize on the fly a Unicode charmap from the CFF\/Type 1 driver  *\/\n-  \/*   through a big table named the `Adobe Glyph List' (AGL).             *\/\n-  \/*                                                                       *\/\n-  \/*   Undefine this macro if you do not want the Adobe Glyph List         *\/\n-  \/*   compiled in your `PSNames' module.  The Type 1 driver will not be   *\/\n-  \/*   able to synthesize a Unicode charmap out of the glyphs found in the *\/\n-  \/*   fonts.                                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Postscript Names to Unicode Values support\n+   *\n+   *   By default, FreeType~2 is built with the 'psnames' module compiled in.\n+   *   Among other things, the module is used to convert a glyph name into a\n+   *   Unicode value.  This is especially useful in order to synthesize on\n+   *   the fly a Unicode charmap from the CFF\/Type~1 driver through a big\n+   *   table named the 'Adobe Glyph List' (AGL).\n+   *\n+   *   Undefine this macro if you do not want the Adobe Glyph List compiled\n+   *   in your 'psnames' module.  The Type~1 driver will not be able to\n+   *   synthesize a Unicode charmap out of the glyphs found in the fonts.\n+   *\/\n@@ -329,10 +337,10 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Support for Mac fonts                                                 *\/\n-  \/*                                                                       *\/\n-  \/*   Define this macro if you want support for outline fonts in Mac      *\/\n-  \/*   format (mac dfont, mac resource, macbinary containing a mac         *\/\n-  \/*   resource) on non-Mac platforms.                                     *\/\n-  \/*                                                                       *\/\n-  \/*   Note that the `FOND' resource isn't checked.                        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Support for Mac fonts\n+   *\n+   *   Define this macro if you want support for outline fonts in Mac format\n+   *   (mac dfont, mac resource, macbinary containing a mac resource) on\n+   *   non-Mac platforms.\n+   *\n+   *   Note that the 'FOND' resource isn't checked.\n+   *\/\n@@ -342,18 +350,16 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Guessing methods to access embedded resource forks                    *\/\n-  \/*                                                                       *\/\n-  \/*   Enable extra Mac fonts support on non-Mac platforms (e.g.           *\/\n-  \/*   GNU\/Linux).                                                         *\/\n-  \/*                                                                       *\/\n-  \/*   Resource forks which include fonts data are stored sometimes in     *\/\n-  \/*   locations which users or developers don't expected.  In some cases, *\/\n-  \/*   resource forks start with some offset from the head of a file.  In  *\/\n-  \/*   other cases, the actual resource fork is stored in file different   *\/\n-  \/*   from what the user specifies.  If this option is activated,         *\/\n-  \/*   FreeType tries to guess whether such offsets or different file      *\/\n-  \/*   names must be used.                                                 *\/\n-  \/*                                                                       *\/\n-  \/*   Note that normal, direct access of resource forks is controlled via *\/\n-  \/*   the FT_CONFIG_OPTION_MAC_FONTS option.                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Guessing methods to access embedded resource forks\n+   *\n+   *   Enable extra Mac fonts support on non-Mac platforms (e.g., GNU\/Linux).\n+   *\n+   *   Resource forks which include fonts data are stored sometimes in\n+   *   locations which users or developers don't expected.  In some cases,\n+   *   resource forks start with some offset from the head of a file.  In\n+   *   other cases, the actual resource fork is stored in file different from\n+   *   what the user specifies.  If this option is activated, FreeType tries\n+   *   to guess whether such offsets or different file names must be used.\n+   *\n+   *   Note that normal, direct access of resource forks is controlled via\n+   *   the `FT_CONFIG_OPTION_MAC_FONTS` option.\n+   *\/\n@@ -365,8 +371,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Allow the use of FT_Incremental_Interface to load typefaces that      *\/\n-  \/* contain no glyph data, but supply it via a callback function.         *\/\n-  \/* This is required by clients supporting document formats which         *\/\n-  \/* supply font data incrementally as the document is parsed, such        *\/\n-  \/* as the Ghostscript interpreter for the PostScript language.           *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Allow the use of `FT_Incremental_Interface` to load typefaces that\n+   * contain no glyph data, but supply it via a callback function.  This is\n+   * required by clients supporting document formats which supply font data\n+   * incrementally as the document is parsed, such as the Ghostscript\n+   * interpreter for the PostScript language.\n+   *\/\n@@ -376,5 +382,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The size in bytes of the render pool used by the scan-line converter  *\/\n-  \/* to do all of its work.                                                *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The size in bytes of the render pool used by the scan-line converter to\n+   * do all of its work.\n+   *\/\n@@ -384,7 +390,7 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* FT_MAX_MODULES                                                        *\/\n-  \/*                                                                       *\/\n-  \/*   The maximum number of modules that can be registered in a single    *\/\n-  \/*   FreeType library object.  32 is the default.                        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * FT_MAX_MODULES\n+   *\n+   *   The maximum number of modules that can be registered in a single\n+   *   FreeType library object.  32~is the default.\n+   *\/\n@@ -394,17 +400,16 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Debug level                                                           *\/\n-  \/*                                                                       *\/\n-  \/*   FreeType can be compiled in debug or trace mode.  In debug mode,    *\/\n-  \/*   errors are reported through the `ftdebug' component.  In trace      *\/\n-  \/*   mode, additional messages are sent to the standard output during    *\/\n-  \/*   execution.                                                          *\/\n-  \/*                                                                       *\/\n-  \/*   Define FT_DEBUG_LEVEL_ERROR to build the library in debug mode.     *\/\n-  \/*   Define FT_DEBUG_LEVEL_TRACE to build it in trace mode.              *\/\n-  \/*                                                                       *\/\n-  \/*   Don't define any of these macros to compile in `release' mode!      *\/\n-  \/*                                                                       *\/\n-  \/*   Do not #undef these macros here since the build system might define *\/\n-  \/*   them for certain configurations only.                               *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Debug level\n+   *\n+   *   FreeType can be compiled in debug or trace mode.  In debug mode,\n+   *   errors are reported through the 'ftdebug' component.  In trace mode,\n+   *   additional messages are sent to the standard output during execution.\n+   *\n+   *   Define `FT_DEBUG_LEVEL_ERROR` to build the library in debug mode.\n+   *   Define `FT_DEBUG_LEVEL_TRACE` to build it in trace mode.\n+   *\n+   *   Don't define any of these macros to compile in 'release' mode!\n+   *\n+   *   Do not `#undef` these macros here since the build system might define\n+   *   them for certain configurations only.\n+   *\/\n@@ -415,32 +420,38 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Autofitter debugging                                                  *\/\n-  \/*                                                                       *\/\n-  \/*   If FT_DEBUG_AUTOFIT is defined, FreeType provides some means to     *\/\n-  \/*   control the autofitter behaviour for debugging purposes with global *\/\n-  \/*   boolean variables (consequently, you should *never* enable this     *\/\n-  \/*   while compiling in `release' mode):                                 *\/\n-  \/*                                                                       *\/\n-  \/*     _af_debug_disable_horz_hints                                      *\/\n-  \/*     _af_debug_disable_vert_hints                                      *\/\n-  \/*     _af_debug_disable_blue_hints                                      *\/\n-  \/*                                                                       *\/\n-  \/*   Additionally, the following functions provide dumps of various      *\/\n-  \/*   internal autofit structures to stdout (using `printf'):             *\/\n-  \/*                                                                       *\/\n-  \/*     af_glyph_hints_dump_points                                        *\/\n-  \/*     af_glyph_hints_dump_segments                                      *\/\n-  \/*     af_glyph_hints_dump_edges                                         *\/\n-  \/*     af_glyph_hints_get_num_segments                                   *\/\n-  \/*     af_glyph_hints_get_segment_offset                                 *\/\n-  \/*                                                                       *\/\n-  \/*   As an argument, they use another global variable:                   *\/\n-  \/*                                                                       *\/\n-  \/*     _af_debug_hints                                                   *\/\n-  \/*                                                                       *\/\n-  \/*   Please have a look at the `ftgrid' demo program to see how those    *\/\n-  \/*   variables and macros should be used.                                *\/\n-  \/*                                                                       *\/\n-  \/*   Do not #undef these macros here since the build system might define *\/\n-  \/*   them for certain configurations only.                               *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Autofitter debugging\n+   *\n+   *   If `FT_DEBUG_AUTOFIT` is defined, FreeType provides some means to\n+   *   control the autofitter behaviour for debugging purposes with global\n+   *   boolean variables (consequently, you should **never** enable this\n+   *   while compiling in 'release' mode):\n+   *\n+   *   ```\n+   *     _af_debug_disable_horz_hints\n+   *     _af_debug_disable_vert_hints\n+   *     _af_debug_disable_blue_hints\n+   *   ```\n+   *\n+   *   Additionally, the following functions provide dumps of various\n+   *   internal autofit structures to stdout (using `printf`):\n+   *\n+   *   ```\n+   *     af_glyph_hints_dump_points\n+   *     af_glyph_hints_dump_segments\n+   *     af_glyph_hints_dump_edges\n+   *     af_glyph_hints_get_num_segments\n+   *     af_glyph_hints_get_segment_offset\n+   *   ```\n+   *\n+   *   As an argument, they use another global variable:\n+   *\n+   *   ```\n+   *     _af_debug_hints\n+   *   ```\n+   *\n+   *   Please have a look at the `ftgrid` demo program to see how those\n+   *   variables and macros should be used.\n+   *\n+   *   Do not `#undef` these macros here since the build system might define\n+   *   them for certain configurations only.\n+   *\/\n@@ -450,15 +461,15 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Memory Debugging                                                      *\/\n-  \/*                                                                       *\/\n-  \/*   FreeType now comes with an integrated memory debugger that is       *\/\n-  \/*   capable of detecting simple errors like memory leaks or double      *\/\n-  \/*   deletes.  To compile it within your build of the library, you       *\/\n-  \/*   should define FT_DEBUG_MEMORY here.                                 *\/\n-  \/*                                                                       *\/\n-  \/*   Note that the memory debugger is only activated at runtime when     *\/\n-  \/*   when the _environment_ variable `FT2_DEBUG_MEMORY' is defined also! *\/\n-  \/*                                                                       *\/\n-  \/*   Do not #undef this macro here since the build system might define   *\/\n-  \/*   it for certain configurations only.                                 *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Memory Debugging\n+   *\n+   *   FreeType now comes with an integrated memory debugger that is capable\n+   *   of detecting simple errors like memory leaks or double deletes.  To\n+   *   compile it within your build of the library, you should define\n+   *   `FT_DEBUG_MEMORY` here.\n+   *\n+   *   Note that the memory debugger is only activated at runtime when when\n+   *   the _environment_ variable `FT2_DEBUG_MEMORY` is defined also!\n+   *\n+   *   Do not `#undef` this macro here since the build system might define it\n+   *   for certain configurations only.\n+   *\/\n@@ -468,14 +479,14 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Module errors                                                         *\/\n-  \/*                                                                       *\/\n-  \/*   If this macro is set (which is _not_ the default), the higher byte  *\/\n-  \/*   of an error code gives the module in which the error has occurred,  *\/\n-  \/*   while the lower byte is the real error code.                        *\/\n-  \/*                                                                       *\/\n-  \/*   Setting this macro makes sense for debugging purposes only, since   *\/\n-  \/*   it would break source compatibility of certain programs that use    *\/\n-  \/*   FreeType 2.                                                         *\/\n-  \/*                                                                       *\/\n-  \/*   More details can be found in the files ftmoderr.h and fterrors.h.   *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Module errors\n+   *\n+   *   If this macro is set (which is _not_ the default), the higher byte of\n+   *   an error code gives the module in which the error has occurred, while\n+   *   the lower byte is the real error code.\n+   *\n+   *   Setting this macro makes sense for debugging purposes only, since it\n+   *   would break source compatibility of certain programs that use\n+   *   FreeType~2.\n+   *\n+   *   More details can be found in the files `ftmoderr.h` and `fterrors.h`.\n+   *\/\n@@ -485,27 +496,11 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Position Independent Code                                             *\/\n-  \/*                                                                       *\/\n-  \/*   If this macro is set (which is _not_ the default), FreeType2 will   *\/\n-  \/*   avoid creating constants that require address fixups.  Instead the  *\/\n-  \/*   constants will be moved into a struct and additional intialization  *\/\n-  \/*   code will be used.                                                  *\/\n-  \/*                                                                       *\/\n-  \/*   Setting this macro is needed for systems that prohibit address      *\/\n-  \/*   fixups, such as BREW.  [Note that standard compilers like gcc or    *\/\n-  \/*   clang handle PIC generation automatically; you don't have to set    *\/\n-  \/*   FT_CONFIG_OPTION_PIC, which is only necessary for very special      *\/\n-  \/*   compilers.]                                                         *\/\n-  \/*                                                                       *\/\n-  \/*   Note that FT_CONFIG_OPTION_PIC support is not available for all     *\/\n-  \/*   modules (see `modules.cfg' for a complete list).  For building with *\/\n-  \/*   FT_CONFIG_OPTION_PIC support, do the following.                     *\/\n-  \/*                                                                       *\/\n-  \/*     0. Clone the repository.                                          *\/\n-  \/*     1. Define FT_CONFIG_OPTION_PIC.                                   *\/\n-  \/*     2. Remove all subdirectories in `src' that don't have             *\/\n-  \/*        FT_CONFIG_OPTION_PIC support.                                  *\/\n-  \/*     3. Comment out the corresponding modules in `modules.cfg'.        *\/\n-  \/*     4. Compile.                                                       *\/\n-  \/*                                                                       *\/\n-\/* #define FT_CONFIG_OPTION_PIC *\/\n+  \/**************************************************************************\n+   *\n+   * Error Strings\n+   *\n+   *   If this macro is set, `FT_Error_String` will return meaningful\n+   *   descriptions.  This is not enabled by default to reduce the overall\n+   *   size of FreeType.\n+   *\n+   *   More details can be found in the file `fterrors.h`.\n+   *\/\n+\/* #define FT_CONFIG_OPTION_ERROR_STRINGS *\/\n@@ -523,6 +518,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Define TT_CONFIG_OPTION_EMBEDDED_BITMAPS if you want to support       *\/\n-  \/* embedded bitmaps in all formats using the SFNT module (namely         *\/\n-  \/* TrueType & OpenType).                                                 *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Define `TT_CONFIG_OPTION_EMBEDDED_BITMAPS` if you want to support\n+   * embedded bitmaps in all formats using the 'sfnt' module (namely\n+   * TrueType~& OpenType).\n+   *\/\n@@ -532,12 +527,21 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Define TT_CONFIG_OPTION_POSTSCRIPT_NAMES if you want to be able to    *\/\n-  \/* load and enumerate the glyph Postscript names in a TrueType or        *\/\n-  \/* OpenType file.                                                        *\/\n-  \/*                                                                       *\/\n-  \/* Note that when you do not compile the `PSNames' module by undefining  *\/\n-  \/* the above FT_CONFIG_OPTION_POSTSCRIPT_NAMES, the `sfnt' module will   *\/\n-  \/* contain additional code used to read the PS Names table from a font.  *\/\n-  \/*                                                                       *\/\n-  \/* (By default, the module uses `PSNames' to extract glyph names.)       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Define `TT_CONFIG_OPTION_COLOR_LAYERS` if you want to support coloured\n+   * outlines (from the 'COLR'\/'CPAL' tables) in all formats using the 'sfnt'\n+   * module (namely TrueType~& OpenType).\n+   *\/\n+#define TT_CONFIG_OPTION_COLOR_LAYERS\n+\n+\n+  \/**************************************************************************\n+   *\n+   * Define `TT_CONFIG_OPTION_POSTSCRIPT_NAMES` if you want to be able to\n+   * load and enumerate the glyph Postscript names in a TrueType or OpenType\n+   * file.\n+   *\n+   * Note that when you do not compile the 'psnames' module by undefining the\n+   * above `FT_CONFIG_OPTION_POSTSCRIPT_NAMES`, the 'sfnt' module will\n+   * contain additional code used to read the PS Names table from a font.\n+   *\n+   * (By default, the module uses 'psnames' to extract glyph names.)\n+   *\/\n@@ -547,11 +551,11 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Define TT_CONFIG_OPTION_SFNT_NAMES if your applications need to       *\/\n-  \/* access the internal name table in a SFNT-based format like TrueType   *\/\n-  \/* or OpenType.  The name table contains various strings used to         *\/\n-  \/* describe the font, like family name, copyright, version, etc.  It     *\/\n-  \/* does not contain any glyph name though.                               *\/\n-  \/*                                                                       *\/\n-  \/* Accessing SFNT names is done through the functions declared in        *\/\n-  \/* `ftsnames.h'.                                                         *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Define `TT_CONFIG_OPTION_SFNT_NAMES` if your applications need to access\n+   * the internal name table in a SFNT-based format like TrueType or\n+   * OpenType.  The name table contains various strings used to describe the\n+   * font, like family name, copyright, version, etc.  It does not contain\n+   * any glyph name though.\n+   *\n+   * Accessing SFNT names is done through the functions declared in\n+   * `ftsnames.h`.\n+   *\/\n@@ -561,6 +565,7 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* TrueType CMap support                                                 *\/\n-  \/*                                                                       *\/\n-  \/*   Here you can fine-tune which TrueType CMap table format shall be    *\/\n-  \/*   supported.                                                          *\/\n+  \/**************************************************************************\n+   *\n+   * TrueType CMap support\n+   *\n+   *   Here you can fine-tune which TrueType CMap table format shall be\n+   *   supported.\n+   *\/\n@@ -586,11 +591,11 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Define TT_CONFIG_OPTION_BYTECODE_INTERPRETER if you want to compile   *\/\n-  \/* a bytecode interpreter in the TrueType driver.                        *\/\n-  \/*                                                                       *\/\n-  \/* By undefining this, you will only compile the code necessary to load  *\/\n-  \/* TrueType glyphs without hinting.                                      *\/\n-  \/*                                                                       *\/\n-  \/*   Do not #undef this macro here, since the build system might         *\/\n-  \/*   define it for certain configurations only.                          *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Define `TT_CONFIG_OPTION_BYTECODE_INTERPRETER` if you want to compile a\n+   * bytecode interpreter in the TrueType driver.\n+   *\n+   * By undefining this, you will only compile the code necessary to load\n+   * TrueType glyphs without hinting.\n+   *\n+   * Do not `#undef` this macro here, since the build system might define it\n+   * for certain configurations only.\n+   *\/\n@@ -600,56 +605,55 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Define TT_CONFIG_OPTION_SUBPIXEL_HINTING if you want to compile       *\/\n-  \/* subpixel hinting support into the TrueType driver.  This modifies the *\/\n-  \/* TrueType hinting mechanism when anything but FT_RENDER_MODE_MONO is   *\/\n-  \/* requested.                                                            *\/\n-  \/*                                                                       *\/\n-  \/* In particular, it modifies the bytecode interpreter to interpret (or  *\/\n-  \/* not) instructions in a certain way so that all TrueType fonts look    *\/\n-  \/* like they do in a Windows ClearType (DirectWrite) environment.  See   *\/\n-  \/* [1] for a technical overview on what this means.  See `ttinterp.h'    *\/\n-  \/* for more details on the LEAN option.                                  *\/\n-  \/*                                                                       *\/\n-  \/* There are three possible values.                                      *\/\n-  \/*                                                                       *\/\n-  \/* Value 1:                                                              *\/\n-  \/*    This value is associated with the `Infinality' moniker,            *\/\n-  \/*    contributed by an individual nicknamed Infinality with the goal of *\/\n-  \/*    making TrueType fonts render better than on Windows.  A high       *\/\n-  \/*    amount of configurability and flexibility, down to rules for       *\/\n-  \/*    single glyphs in fonts, but also very slow.  Its experimental and  *\/\n-  \/*    slow nature and the original developer losing interest meant that  *\/\n-  \/*    this option was never enabled in default builds.                   *\/\n-  \/*                                                                       *\/\n-  \/*    The corresponding interpreter version is v38.                      *\/\n-  \/*                                                                       *\/\n-  \/* Value 2:                                                              *\/\n-  \/*    The new default mode for the TrueType driver.  The Infinality code *\/\n-  \/*    base was stripped to the bare minimum and all configurability      *\/\n-  \/*    removed in the name of speed and simplicity.  The configurability  *\/\n-  \/*    was mainly aimed at legacy fonts like Arial, Times New Roman, or   *\/\n-  \/*    Courier.  Legacy fonts are fonts that modify vertical stems to     *\/\n-  \/*    achieve clean black-and-white bitmaps.  The new mode focuses on    *\/\n-  \/*    applying a minimal set of rules to all fonts indiscriminately so   *\/\n-  \/*    that modern and web fonts render well while legacy fonts render    *\/\n-  \/*    okay.                                                              *\/\n-  \/*                                                                       *\/\n-  \/*    The corresponding interpreter version is v40.                      *\/\n-  \/*                                                                       *\/\n-  \/* Value 3:                                                              *\/\n-  \/*    Compile both, making both v38 and v40 available (the latter is the *\/\n-  \/*    default).                                                          *\/\n-  \/*                                                                       *\/\n-  \/* By undefining these, you get rendering behavior like on Windows       *\/\n-  \/* without ClearType, i.e., Windows XP without ClearType enabled and     *\/\n-  \/* Win9x (interpreter version v35).  Or not, depending on how much       *\/\n-  \/* hinting blood and testing tears the font designer put into a given    *\/\n-  \/* font.  If you define one or both subpixel hinting options, you can    *\/\n-  \/* switch between between v35 and the ones you define (using             *\/\n-  \/* `FT_Property_Set').                                                   *\/\n-  \/*                                                                       *\/\n-  \/* This option requires TT_CONFIG_OPTION_BYTECODE_INTERPRETER to be      *\/\n-  \/* defined.                                                              *\/\n-  \/*                                                                       *\/\n-  \/* [1] https:\/\/www.microsoft.com\/typography\/cleartype\/truetypecleartype.aspx *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Define `TT_CONFIG_OPTION_SUBPIXEL_HINTING` if you want to compile\n+   * subpixel hinting support into the TrueType driver.  This modifies the\n+   * TrueType hinting mechanism when anything but `FT_RENDER_MODE_MONO` is\n+   * requested.\n+   *\n+   * In particular, it modifies the bytecode interpreter to interpret (or\n+   * not) instructions in a certain way so that all TrueType fonts look like\n+   * they do in a Windows ClearType (DirectWrite) environment.  See [1] for a\n+   * technical overview on what this means.  See `ttinterp.h` for more\n+   * details on the LEAN option.\n+   *\n+   * There are three possible values.\n+   *\n+   * Value 1:\n+   *   This value is associated with the 'Infinality' moniker, contributed by\n+   *   an individual nicknamed Infinality with the goal of making TrueType\n+   *   fonts render better than on Windows.  A high amount of configurability\n+   *   and flexibility, down to rules for single glyphs in fonts, but also\n+   *   very slow.  Its experimental and slow nature and the original\n+   *   developer losing interest meant that this option was never enabled in\n+   *   default builds.\n+   *\n+   *   The corresponding interpreter version is v38.\n+   *\n+   * Value 2:\n+   *   The new default mode for the TrueType driver.  The Infinality code\n+   *   base was stripped to the bare minimum and all configurability removed\n+   *   in the name of speed and simplicity.  The configurability was mainly\n+   *   aimed at legacy fonts like 'Arial', 'Times New Roman', or 'Courier'.\n+   *   Legacy fonts are fonts that modify vertical stems to achieve clean\n+   *   black-and-white bitmaps.  The new mode focuses on applying a minimal\n+   *   set of rules to all fonts indiscriminately so that modern and web\n+   *   fonts render well while legacy fonts render okay.\n+   *\n+   *   The corresponding interpreter version is v40.\n+   *\n+   * Value 3:\n+   *   Compile both, making both v38 and v40 available (the latter is the\n+   *   default).\n+   *\n+   * By undefining these, you get rendering behavior like on Windows without\n+   * ClearType, i.e., Windows XP without ClearType enabled and Win9x\n+   * (interpreter version v35).  Or not, depending on how much hinting blood\n+   * and testing tears the font designer put into a given font.  If you\n+   * define one or both subpixel hinting options, you can switch between\n+   * between v35 and the ones you define (using `FT_Property_Set`).\n+   *\n+   * This option requires `TT_CONFIG_OPTION_BYTECODE_INTERPRETER` to be\n+   * defined.\n+   *\n+   * [1]\n+   * https:\/\/www.microsoft.com\/typography\/cleartype\/truetypecleartype.aspx\n+   *\/\n@@ -661,16 +665,16 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Define TT_CONFIG_OPTION_COMPONENT_OFFSET_SCALED to compile the        *\/\n-  \/* TrueType glyph loader to use Apple's definition of how to handle      *\/\n-  \/* component offsets in composite glyphs.                                *\/\n-  \/*                                                                       *\/\n-  \/* Apple and MS disagree on the default behavior of component offsets    *\/\n-  \/* in composites.  Apple says that they should be scaled by the scaling  *\/\n-  \/* factors in the transformation matrix (roughly, it's more complex)     *\/\n-  \/* while MS says they should not.  OpenType defines two bits in the      *\/\n-  \/* composite flags array which can be used to disambiguate, but old      *\/\n-  \/* fonts will not have them.                                             *\/\n-  \/*                                                                       *\/\n-  \/*   https:\/\/www.microsoft.com\/typography\/otspec\/glyf.htm                *\/\n-  \/*   https:\/\/developer.apple.com\/fonts\/TrueType-Reference-Manual\/RM06\/Chap6glyf.html *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Define `TT_CONFIG_OPTION_COMPONENT_OFFSET_SCALED` to compile the\n+   * TrueType glyph loader to use Apple's definition of how to handle\n+   * component offsets in composite glyphs.\n+   *\n+   * Apple and MS disagree on the default behavior of component offsets in\n+   * composites.  Apple says that they should be scaled by the scaling\n+   * factors in the transformation matrix (roughly, it's more complex) while\n+   * MS says they should not.  OpenType defines two bits in the composite\n+   * flags array which can be used to disambiguate, but old fonts will not\n+   * have them.\n+   *\n+   *   https:\/\/www.microsoft.com\/typography\/otspec\/glyf.htm\n+   *   https:\/\/developer.apple.com\/fonts\/TrueType-Reference-Manual\/RM06\/Chap6glyf.html\n+   *\/\n@@ -680,7 +684,7 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Define TT_CONFIG_OPTION_GX_VAR_SUPPORT if you want to include         *\/\n-  \/* support for Apple's distortable font technology (fvar, gvar, cvar,    *\/\n-  \/* and avar tables).  This has many similarities to Type 1 Multiple      *\/\n-  \/* Masters support.                                                      *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Define `TT_CONFIG_OPTION_GX_VAR_SUPPORT` if you want to include support\n+   * for Apple's distortable font technology ('fvar', 'gvar', 'cvar', and\n+   * 'avar' tables).  Tagged 'Font Variations', this is now part of OpenType\n+   * also.  This has many similarities to Type~1 Multiple Masters support.\n+   *\/\n@@ -690,5 +694,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Define TT_CONFIG_OPTION_BDF if you want to include support for        *\/\n-  \/* an embedded `BDF ' table within SFNT-based bitmap formats.            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Define `TT_CONFIG_OPTION_BDF` if you want to include support for an\n+   * embedded 'BDF~' table within SFNT-based bitmap formats.\n+   *\/\n@@ -698,13 +702,13 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Option TT_CONFIG_OPTION_MAX_RUNNABLE_OPCODES controls the maximum     *\/\n-  \/* number of bytecode instructions executed for a single run of the      *\/\n-  \/* bytecode interpreter, needed to prevent infinite loops.  You don't    *\/\n-  \/* want to change this except for very special situations (e.g., making  *\/\n-  \/* a library fuzzer spend less time to handle broken fonts).             *\/\n-  \/*                                                                       *\/\n-  \/* It is not expected that this value is ever modified by a configuring  *\/\n-  \/* script; instead, it gets surrounded with #ifndef ... #endif so that   *\/\n-  \/* the value can be set as a preprocessor option on the compiler's       *\/\n-  \/* command line.                                                         *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Option `TT_CONFIG_OPTION_MAX_RUNNABLE_OPCODES` controls the maximum\n+   * number of bytecode instructions executed for a single run of the\n+   * bytecode interpreter, needed to prevent infinite loops.  You don't want\n+   * to change this except for very special situations (e.g., making a\n+   * library fuzzer spend less time to handle broken fonts).\n+   *\n+   * It is not expected that this value is ever modified by a configuring\n+   * script; instead, it gets surrounded with `#ifndef ... #endif` so that\n+   * the value can be set as a preprocessor option on the compiler's command\n+   * line.\n+   *\/\n@@ -725,6 +729,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* T1_MAX_DICT_DEPTH is the maximum depth of nest dictionaries and       *\/\n-  \/* arrays in the Type 1 stream (see t1load.c).  A minimum of 4 is        *\/\n-  \/* required.                                                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * `T1_MAX_DICT_DEPTH` is the maximum depth of nest dictionaries and arrays\n+   * in the Type~1 stream (see `t1load.c`).  A minimum of~4 is required.\n+   *\/\n@@ -734,5 +737,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* T1_MAX_SUBRS_CALLS details the maximum number of nested sub-routine   *\/\n-  \/* calls during glyph loading.                                           *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * `T1_MAX_SUBRS_CALLS` details the maximum number of nested sub-routine\n+   * calls during glyph loading.\n+   *\/\n@@ -742,7 +745,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* T1_MAX_CHARSTRING_OPERANDS is the charstring stack's capacity.  A     *\/\n-  \/* minimum of 16 is required.                                            *\/\n-  \/*                                                                       *\/\n-  \/* The Chinese font MingTiEG-Medium (CNS 11643 character set) needs 256. *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * `T1_MAX_CHARSTRING_OPERANDS` is the charstring stack's capacity.  A\n+   * minimum of~16 is required.\n+   *\n+   * The Chinese font 'MingTiEG-Medium' (covering the CNS 11643 character\n+   * set) needs 256.\n+   *\/\n@@ -752,7 +756,7 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Define this configuration macro if you want to prevent the            *\/\n-  \/* compilation of `t1afm', which is in charge of reading Type 1 AFM      *\/\n-  \/* files into an existing face.  Note that if set, the T1 driver will be *\/\n-  \/* unable to produce kerning distances.                                  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Define this configuration macro if you want to prevent the compilation\n+   * of the 't1afm' module, which is in charge of reading Type~1 AFM files\n+   * into an existing face.  Note that if set, the Type~1 driver will be\n+   * unable to produce kerning distances.\n+   *\/\n@@ -762,6 +766,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Define this configuration macro if you want to prevent the            *\/\n-  \/* compilation of the Multiple Masters font support in the Type 1        *\/\n-  \/* driver.                                                               *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Define this configuration macro if you want to prevent the compilation\n+   * of the Multiple Masters font support in the Type~1 driver.\n+   *\/\n@@ -771,7 +774,7 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* T1_CONFIG_OPTION_OLD_ENGINE controls whether the pre-Adobe Type 1     *\/\n-  \/* engine gets compiled into FreeType.  If defined, it is possible to    *\/\n-  \/* switch between the two engines using the `hinting-engine' property of *\/\n-  \/* the type1 driver module.                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * `T1_CONFIG_OPTION_OLD_ENGINE` controls whether the pre-Adobe Type~1\n+   * engine gets compiled into FreeType.  If defined, it is possible to\n+   * switch between the two engines using the `hinting-engine` property of\n+   * the 'type1' driver module.\n+   *\/\n@@ -790,11 +793,10 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Using CFF_CONFIG_OPTION_DARKENING_PARAMETER_{X,Y}{1,2,3,4} it is      *\/\n-  \/* possible to set up the default values of the four control points that *\/\n-  \/* define the stem darkening behaviour of the (new) CFF engine.  For     *\/\n-  \/* more details please read the documentation of the                     *\/\n-  \/* `darkening-parameters' property (file `ftdriver.h'), which allows the *\/\n-  \/* control at run-time.                                                  *\/\n-  \/*                                                                       *\/\n-  \/* Do *not* undefine these macros!                                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Using `CFF_CONFIG_OPTION_DARKENING_PARAMETER_{X,Y}{1,2,3,4}` it is\n+   * possible to set up the default values of the four control points that\n+   * define the stem darkening behaviour of the (new) CFF engine.  For more\n+   * details please read the documentation of the `darkening-parameters`\n+   * property (file `ftdriver.h`), which allows the control at run-time.\n+   *\n+   * Do **not** undefine these macros!\n+   *\/\n@@ -814,7 +816,7 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* CFF_CONFIG_OPTION_OLD_ENGINE controls whether the pre-Adobe CFF       *\/\n-  \/* engine gets compiled into FreeType.  If defined, it is possible to    *\/\n-  \/* switch between the two engines using the `hinting-engine' property of *\/\n-  \/* the cff driver module.                                                *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * `CFF_CONFIG_OPTION_OLD_ENGINE` controls whether the pre-Adobe CFF engine\n+   * gets compiled into FreeType.  If defined, it is possible to switch\n+   * between the two engines using the `hinting-engine` property of the 'cff'\n+   * driver module.\n+   *\/\n@@ -833,15 +835,15 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* There are many PCF fonts just called `Fixed' which look completely    *\/\n-  \/* different, and which have nothing to do with each other.  When        *\/\n-  \/* selecting `Fixed' in KDE or Gnome one gets results that appear rather *\/\n-  \/* random, the style changes often if one changes the size and one       *\/\n-  \/* cannot select some fonts at all.  This option makes the PCF module    *\/\n-  \/* prepend the foundry name (plus a space) to the family name.           *\/\n-  \/*                                                                       *\/\n-  \/* We also check whether we have `wide' characters; all put together, we *\/\n-  \/* get family names like `Sony Fixed' or `Misc Fixed Wide'.              *\/\n-  \/*                                                                       *\/\n-  \/* If this option is activated, it can be controlled with the            *\/\n-  \/* `no-long-family-names' property of the pcf driver module.             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * There are many PCF fonts just called 'Fixed' which look completely\n+   * different, and which have nothing to do with each other.  When selecting\n+   * 'Fixed' in KDE or Gnome one gets results that appear rather random, the\n+   * style changes often if one changes the size and one cannot select some\n+   * fonts at all.  This option makes the 'pcf' module prepend the foundry\n+   * name (plus a space) to the family name.\n+   *\n+   * We also check whether we have 'wide' characters; all put together, we\n+   * get family names like 'Sony Fixed' or 'Misc Fixed Wide'.\n+   *\n+   * If this option is activated, it can be controlled with the\n+   * `no-long-family-names` property of the 'pcf' driver module.\n+   *\/\n@@ -860,5 +862,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Compile autofit module with CJK (Chinese, Japanese, Korean) script    *\/\n-  \/* support.                                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Compile 'autofit' module with CJK (Chinese, Japanese, Korean) script\n+   * support.\n+   *\/\n@@ -867,6 +869,7 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Compile autofit module with fallback Indic script support, covering   *\/\n-  \/* some scripts that the `latin' submodule of the autofit module doesn't *\/\n-  \/* (yet) handle.                                                         *\/\n-  \/*                                                                       *\/\n+\n+  \/**************************************************************************\n+   *\n+   * Compile 'autofit' module with fallback Indic script support, covering\n+   * some scripts that the 'latin' submodule of the 'autofit' module doesn't\n+   * (yet) handle.\n+   *\/\n@@ -875,13 +878,16 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Compile autofit module with warp hinting.  The idea of the warping    *\/\n-  \/* code is to slightly scale and shift a glyph within a single dimension *\/\n-  \/* so that as much of its segments are aligned (more or less) on the     *\/\n-  \/* grid.  To find out the optimal scaling and shifting value, various    *\/\n-  \/* parameter combinations are tried and scored.                          *\/\n-  \/*                                                                       *\/\n-  \/* This experimental option is active only if the rendering mode is      *\/\n-  \/* FT_RENDER_MODE_LIGHT; you can switch warping on and off with the      *\/\n-  \/* `warping' property of the auto-hinter (see file `ftdriver.h' for more *\/\n-  \/* information; by default it is switched off).                          *\/\n-  \/*                                                                       *\/\n+\n+  \/**************************************************************************\n+   *\n+   * Compile 'autofit' module with warp hinting.  The idea of the warping\n+   * code is to slightly scale and shift a glyph within a single dimension so\n+   * that as much of its segments are aligned (more or less) on the grid.  To\n+   * find out the optimal scaling and shifting value, various parameter\n+   * combinations are tried and scored.\n+   *\n+   * You can switch warping on and off with the `warping` property of the\n+   * auto-hinter (see file `ftdriver.h` for more information; by default it\n+   * is switched off).\n+   *\n+   * This experimental option is not active if the rendering mode is\n+   * `FT_RENDER_MODE_LIGHT`.\n+   *\/\n@@ -890,18 +896,21 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Use TrueType-like size metrics for `light' auto-hinting.              *\/\n-  \/*                                                                       *\/\n-  \/* It is strongly recommended to avoid this option, which exists only to *\/\n-  \/* help some legacy applications retain its appearance and behaviour     *\/\n-  \/* with respect to auto-hinted TrueType fonts.                           *\/\n-  \/*                                                                       *\/\n-  \/* The very reason this option exists at all are GNU\/Linux distributions *\/\n-  \/* like Fedora that did not un-patch the following change (which was     *\/\n-  \/* present in FreeType between versions 2.4.6 and 2.7.1, inclusive).     *\/\n-  \/*                                                                       *\/\n-  \/*   2011-07-16  Steven Chu  <steven.f.chu@gmail.com>                    *\/\n-  \/*                                                                       *\/\n-  \/*     [truetype] Fix metrics on size request for scalable fonts.        *\/\n-  \/*                                                                       *\/\n-  \/* This problematic commit is now reverted (more or less).               *\/\n-  \/*                                                                       *\/\n+\n+  \/**************************************************************************\n+   *\n+   * Use TrueType-like size metrics for 'light' auto-hinting.\n+   *\n+   * It is strongly recommended to avoid this option, which exists only to\n+   * help some legacy applications retain its appearance and behaviour with\n+   * respect to auto-hinted TrueType fonts.\n+   *\n+   * The very reason this option exists at all are GNU\/Linux distributions\n+   * like Fedora that did not un-patch the following change (which was\n+   * present in FreeType between versions 2.4.6 and 2.7.1, inclusive).\n+   *\n+   * ```\n+   *   2011-07-16  Steven Chu  <steven.f.chu@gmail.com>\n+   *\n+   *     [truetype] Fix metrics on size request for scalable fonts.\n+   * ```\n+   *\n+   * This problematic commit is now reverted (more or less).\n+   *\/\n@@ -914,2 +923,2 @@\n-   * This macro is obsolete.  Support has been removed in FreeType\n-   * version 2.5.\n+   * This macro is obsolete.  Support has been removed in FreeType version\n+   * 2.5.\n@@ -921,2 +930,2 @@\n-   * This macro is defined if native TrueType hinting is requested by the\n-   * definitions above.\n+   * The next three macros are defined if native TrueType hinting is\n+   * requested by the definitions above.  Don't change this.\n@@ -941,1 +950,1 @@\n-   * `cff_property_set' in file `cffdrivr.c'.\n+   * `cff_property_set` in file `cffdrivr.c`.\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/config\/ftoption.h","additions":687,"deletions":678,"binary":false,"changes":1365,"status":"modified"},{"patch":"@@ -1,28 +1,28 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftstdlib.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    ANSI-specific library and header configuration file (specification   *\/\n-\/*    only).                                                               *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2002-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* This file is used to group all #includes to the ANSI C library that   *\/\n-  \/* FreeType normally requires.  It also defines macros to rename the     *\/\n-  \/* standard functions within the FreeType source code.                   *\/\n-  \/*                                                                       *\/\n-  \/* Load a file which defines FTSTDLIB_H_ before this one to override it. *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftstdlib.h\n+ *\n+ *   ANSI-specific library and header configuration file (specification\n+ *   only).\n+ *\n+ * Copyright (C) 2002-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * This file is used to group all `#includes` to the ANSI~C library that\n+   * FreeType normally requires.  It also defines macros to rename the\n+   * standard functions within the FreeType source code.\n+   *\n+   * Load a file which defines `FTSTDLIB_H_` before this one to override it.\n+   *\n+   *\/\n@@ -40,17 +40,17 @@\n-  \/**********************************************************************\/\n-  \/*                                                                    *\/\n-  \/*                           integer limits                           *\/\n-  \/*                                                                    *\/\n-  \/* UINT_MAX and ULONG_MAX are used to automatically compute the size  *\/\n-  \/* of `int' and `long' in bytes at compile-time.  So far, this works  *\/\n-  \/* for all platforms the library has been tested on.                  *\/\n-  \/*                                                                    *\/\n-  \/* Note that on the extremely rare platforms that do not provide      *\/\n-  \/* integer types that are _exactly_ 16 and 32 bits wide (e.g. some    *\/\n-  \/* old Crays where `int' is 36 bits), we do not make any guarantee    *\/\n-  \/* about the correct behaviour of FT2 with all fonts.                 *\/\n-  \/*                                                                    *\/\n-  \/* In these case, `ftconfig.h' will refuse to compile anyway with a   *\/\n-  \/* message like `couldn't find 32-bit type' or something similar.     *\/\n-  \/*                                                                    *\/\n-  \/**********************************************************************\/\n+  \/**************************************************************************\n+   *\n+   *                          integer limits\n+   *\n+   * `UINT_MAX` and `ULONG_MAX` are used to automatically compute the size of\n+   * `int` and `long` in bytes at compile-time.  So far, this works for all\n+   * platforms the library has been tested on.\n+   *\n+   * Note that on the extremely rare platforms that do not provide integer\n+   * types that are _exactly_ 16 and 32~bits wide (e.g., some old Crays where\n+   * `int` is 36~bits), we do not make any guarantee about the correct\n+   * behaviour of FreeType~2 with all fonts.\n+   *\n+   * In these cases, `ftconfig.h` will refuse to compile anyway with a\n+   * message like 'couldn't find 32-bit type' or something similar.\n+   *\n+   *\/\n@@ -71,5 +71,5 @@\n-  \/**********************************************************************\/\n-  \/*                                                                    *\/\n-  \/*                 character and string processing                    *\/\n-  \/*                                                                    *\/\n-  \/**********************************************************************\/\n+  \/**************************************************************************\n+   *\n+   *                character and string processing\n+   *\n+   *\/\n@@ -95,5 +95,5 @@\n-  \/**********************************************************************\/\n-  \/*                                                                    *\/\n-  \/*                           file handling                            *\/\n-  \/*                                                                    *\/\n-  \/**********************************************************************\/\n+  \/**************************************************************************\n+   *\n+   *                          file handling\n+   *\n+   *\/\n@@ -113,5 +113,5 @@\n-  \/**********************************************************************\/\n-  \/*                                                                    *\/\n-  \/*                             sorting                                *\/\n-  \/*                                                                    *\/\n-  \/**********************************************************************\/\n+  \/**************************************************************************\n+   *\n+   *                            sorting\n+   *\n+   *\/\n@@ -125,5 +125,5 @@\n-  \/**********************************************************************\/\n-  \/*                                                                    *\/\n-  \/*                        memory allocation                           *\/\n-  \/*                                                                    *\/\n-  \/**********************************************************************\/\n+  \/**************************************************************************\n+   *\n+   *                       memory allocation\n+   *\n+   *\/\n@@ -138,5 +138,5 @@\n-  \/**********************************************************************\/\n-  \/*                                                                    *\/\n-  \/*                          miscellaneous                             *\/\n-  \/*                                                                    *\/\n-  \/**********************************************************************\/\n+  \/**************************************************************************\n+   *\n+   *                         miscellaneous\n+   *\n+   *\/\n@@ -149,5 +149,5 @@\n-  \/**********************************************************************\/\n-  \/*                                                                    *\/\n-  \/*                         execution control                          *\/\n-  \/*                                                                    *\/\n-  \/**********************************************************************\/\n+  \/**************************************************************************\n+   *\n+   *                        execution control\n+   *\n+   *\/\n@@ -158,3 +158,3 @@\n-#define ft_jmp_buf     jmp_buf  \/* note: this cannot be a typedef since *\/\n-                                \/*       jmp_buf is defined as a macro  *\/\n-                                \/*       on certain platforms           *\/\n+#define ft_jmp_buf     jmp_buf  \/* note: this cannot be a typedef since  *\/\n+                                \/*       `jmp_buf` is defined as a macro *\/\n+                                \/*       on certain platforms            *\/\n@@ -166,2 +166,2 @@\n-  \/* the following is only used for debugging purposes, i.e., if *\/\n-  \/* FT_DEBUG_LEVEL_ERROR or FT_DEBUG_LEVEL_TRACE are defined    *\/\n+  \/* The following is only used for debugging purposes, i.e., if   *\/\n+  \/* `FT_DEBUG_LEVEL_ERROR` or `FT_DEBUG_LEVEL_TRACE` are defined. *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/config\/ftstdlib.h","additions":80,"deletions":80,"binary":false,"changes":160,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  freetype.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    FreeType high-level API and common types (specification only).       *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * freetype.h\n+ *\n+ *   FreeType high-level API and common types (specification only).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -42,30 +42,29 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Section>                                                             *\/\n-  \/*    header_inclusion                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Title>                                                               *\/\n-  \/*    FreeType's header inclusion scheme                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Abstract>                                                            *\/\n-  \/*    How client applications should include FreeType header files.      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    To be as flexible as possible (and for historical reasons),        *\/\n-  \/*    FreeType uses a very special inclusion scheme to load header       *\/\n-  \/*    files, for example                                                 *\/\n-  \/*                                                                       *\/\n-  \/*    {                                                                  *\/\n-  \/*      #include <ft2build.h>                                            *\/\n-  \/*                                                                       *\/\n-  \/*      #include FT_FREETYPE_H                                           *\/\n-  \/*      #include FT_OUTLINE_H                                            *\/\n-  \/*    }                                                                  *\/\n-  \/*                                                                       *\/\n-  \/*    A compiler and its preprocessor only needs an include path to find *\/\n-  \/*    the file `ft2build.h'; the exact locations and names of the other  *\/\n-  \/*    FreeType header files are hidden by preprocessor macro names,      *\/\n-  \/*    loaded by `ft2build.h'.  The API documentation always gives the    *\/\n-  \/*    header macro name needed for a particular function.                *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   header_inclusion\n+   *\n+   * @title:\n+   *   FreeType's header inclusion scheme\n+   *\n+   * @abstract:\n+   *   How client applications should include FreeType header files.\n+   *\n+   * @description:\n+   *   To be as flexible as possible (and for historical reasons), FreeType\n+   *   uses a very special inclusion scheme to load header files, for example\n+   *\n+   *   ```\n+   *     #include <ft2build.h>\n+   *\n+   *     #include FT_FREETYPE_H\n+   *     #include FT_OUTLINE_H\n+   *   ```\n+   *\n+   *   A compiler and its preprocessor only needs an include path to find the\n+   *   file `ft2build.h`; the exact locations and names of the other FreeType\n+   *   header files are hidden by @header_file_macros, loaded by\n+   *   `ft2build.h`.  The API documentation always gives the header macro\n+   *   name needed for a particular function.\n+   *\n+   *\/\n@@ -74,18 +73,18 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Section>                                                             *\/\n-  \/*    user_allocation                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Title>                                                               *\/\n-  \/*    User allocation                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Abstract>                                                            *\/\n-  \/*    How client applications should allocate FreeType data structures.  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    FreeType assumes that structures allocated by the user and passed  *\/\n-  \/*    as arguments are zeroed out except for the actual data.  In other  *\/\n-  \/*    words, it is recommended to use `calloc' (or variants of it)       *\/\n-  \/*    instead of `malloc' for allocation.                                *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   user_allocation\n+   *\n+   * @title:\n+   *   User allocation\n+   *\n+   * @abstract:\n+   *   How client applications should allocate FreeType data structures.\n+   *\n+   * @description:\n+   *   FreeType assumes that structures allocated by the user and passed as\n+   *   arguments are zeroed out except for the actual data.  In other words,\n+   *   it is recommended to use `calloc` (or variants of it) instead of\n+   *   `malloc` for allocation.\n+   *\n+   *\/\n@@ -104,160 +103,160 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Section>                                                             *\/\n-  \/*    base_interface                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Title>                                                               *\/\n-  \/*    Base Interface                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Abstract>                                                            *\/\n-  \/*    The FreeType~2 base font interface.                                *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This section describes the most important public high-level API    *\/\n-  \/*    functions of FreeType~2.                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Order>                                                               *\/\n-  \/*    FT_Library                                                         *\/\n-  \/*    FT_Face                                                            *\/\n-  \/*    FT_Size                                                            *\/\n-  \/*    FT_GlyphSlot                                                       *\/\n-  \/*    FT_CharMap                                                         *\/\n-  \/*    FT_Encoding                                                        *\/\n-  \/*    FT_ENC_TAG                                                         *\/\n-  \/*                                                                       *\/\n-  \/*    FT_FaceRec                                                         *\/\n-  \/*                                                                       *\/\n-  \/*    FT_FACE_FLAG_SCALABLE                                              *\/\n-  \/*    FT_FACE_FLAG_FIXED_SIZES                                           *\/\n-  \/*    FT_FACE_FLAG_FIXED_WIDTH                                           *\/\n-  \/*    FT_FACE_FLAG_HORIZONTAL                                            *\/\n-  \/*    FT_FACE_FLAG_VERTICAL                                              *\/\n-  \/*    FT_FACE_FLAG_COLOR                                                 *\/\n-  \/*    FT_FACE_FLAG_SFNT                                                  *\/\n-  \/*    FT_FACE_FLAG_CID_KEYED                                             *\/\n-  \/*    FT_FACE_FLAG_TRICKY                                                *\/\n-  \/*    FT_FACE_FLAG_KERNING                                               *\/\n-  \/*    FT_FACE_FLAG_MULTIPLE_MASTERS                                      *\/\n-  \/*    FT_FACE_FLAG_VARIATION                                             *\/\n-  \/*    FT_FACE_FLAG_GLYPH_NAMES                                           *\/\n-  \/*    FT_FACE_FLAG_EXTERNAL_STREAM                                       *\/\n-  \/*    FT_FACE_FLAG_HINTER                                                *\/\n-  \/*                                                                       *\/\n-  \/*    FT_HAS_HORIZONTAL                                                  *\/\n-  \/*    FT_HAS_VERTICAL                                                    *\/\n-  \/*    FT_HAS_KERNING                                                     *\/\n-  \/*    FT_HAS_FIXED_SIZES                                                 *\/\n-  \/*    FT_HAS_GLYPH_NAMES                                                 *\/\n-  \/*    FT_HAS_COLOR                                                       *\/\n-  \/*    FT_HAS_MULTIPLE_MASTERS                                            *\/\n-  \/*                                                                       *\/\n-  \/*    FT_IS_SFNT                                                         *\/\n-  \/*    FT_IS_SCALABLE                                                     *\/\n-  \/*    FT_IS_FIXED_WIDTH                                                  *\/\n-  \/*    FT_IS_CID_KEYED                                                    *\/\n-  \/*    FT_IS_TRICKY                                                       *\/\n-  \/*    FT_IS_NAMED_INSTANCE                                               *\/\n-  \/*    FT_IS_VARIATION                                                    *\/\n-  \/*                                                                       *\/\n-  \/*    FT_STYLE_FLAG_BOLD                                                 *\/\n-  \/*    FT_STYLE_FLAG_ITALIC                                               *\/\n-  \/*                                                                       *\/\n-  \/*    FT_SizeRec                                                         *\/\n-  \/*    FT_Size_Metrics                                                    *\/\n-  \/*                                                                       *\/\n-  \/*    FT_GlyphSlotRec                                                    *\/\n-  \/*    FT_Glyph_Metrics                                                   *\/\n-  \/*    FT_SubGlyph                                                        *\/\n-  \/*                                                                       *\/\n-  \/*    FT_Bitmap_Size                                                     *\/\n-  \/*                                                                       *\/\n-  \/*    FT_Init_FreeType                                                   *\/\n-  \/*    FT_Done_FreeType                                                   *\/\n-  \/*                                                                       *\/\n-  \/*    FT_New_Face                                                        *\/\n-  \/*    FT_Done_Face                                                       *\/\n-  \/*    FT_Reference_Face                                                  *\/\n-  \/*    FT_New_Memory_Face                                                 *\/\n-  \/*    FT_Face_Properties                                                 *\/\n-  \/*    FT_Open_Face                                                       *\/\n-  \/*    FT_Open_Args                                                       *\/\n-  \/*    FT_Parameter                                                       *\/\n-  \/*    FT_Attach_File                                                     *\/\n-  \/*    FT_Attach_Stream                                                   *\/\n-  \/*                                                                       *\/\n-  \/*    FT_Set_Char_Size                                                   *\/\n-  \/*    FT_Set_Pixel_Sizes                                                 *\/\n-  \/*    FT_Request_Size                                                    *\/\n-  \/*    FT_Select_Size                                                     *\/\n-  \/*    FT_Size_Request_Type                                               *\/\n-  \/*    FT_Size_RequestRec                                                 *\/\n-  \/*    FT_Size_Request                                                    *\/\n-  \/*    FT_Set_Transform                                                   *\/\n-  \/*    FT_Load_Glyph                                                      *\/\n-  \/*    FT_Get_Char_Index                                                  *\/\n-  \/*    FT_Get_First_Char                                                  *\/\n-  \/*    FT_Get_Next_Char                                                   *\/\n-  \/*    FT_Get_Name_Index                                                  *\/\n-  \/*    FT_Load_Char                                                       *\/\n-  \/*                                                                       *\/\n-  \/*    FT_OPEN_MEMORY                                                     *\/\n-  \/*    FT_OPEN_STREAM                                                     *\/\n-  \/*    FT_OPEN_PATHNAME                                                   *\/\n-  \/*    FT_OPEN_DRIVER                                                     *\/\n-  \/*    FT_OPEN_PARAMS                                                     *\/\n-  \/*                                                                       *\/\n-  \/*    FT_LOAD_DEFAULT                                                    *\/\n-  \/*    FT_LOAD_RENDER                                                     *\/\n-  \/*    FT_LOAD_MONOCHROME                                                 *\/\n-  \/*    FT_LOAD_LINEAR_DESIGN                                              *\/\n-  \/*    FT_LOAD_NO_SCALE                                                   *\/\n-  \/*    FT_LOAD_NO_HINTING                                                 *\/\n-  \/*    FT_LOAD_NO_BITMAP                                                  *\/\n-  \/*    FT_LOAD_NO_AUTOHINT                                                *\/\n-  \/*    FT_LOAD_COLOR                                                      *\/\n-  \/*                                                                       *\/\n-  \/*    FT_LOAD_VERTICAL_LAYOUT                                            *\/\n-  \/*    FT_LOAD_IGNORE_TRANSFORM                                           *\/\n-  \/*    FT_LOAD_FORCE_AUTOHINT                                             *\/\n-  \/*    FT_LOAD_NO_RECURSE                                                 *\/\n-  \/*    FT_LOAD_PEDANTIC                                                   *\/\n-  \/*                                                                       *\/\n-  \/*    FT_LOAD_TARGET_NORMAL                                              *\/\n-  \/*    FT_LOAD_TARGET_LIGHT                                               *\/\n-  \/*    FT_LOAD_TARGET_MONO                                                *\/\n-  \/*    FT_LOAD_TARGET_LCD                                                 *\/\n-  \/*    FT_LOAD_TARGET_LCD_V                                               *\/\n-  \/*                                                                       *\/\n-  \/*    FT_LOAD_TARGET_MODE                                                *\/\n-  \/*                                                                       *\/\n-  \/*    FT_Render_Glyph                                                    *\/\n-  \/*    FT_Render_Mode                                                     *\/\n-  \/*    FT_Get_Kerning                                                     *\/\n-  \/*    FT_Kerning_Mode                                                    *\/\n-  \/*    FT_Get_Track_Kerning                                               *\/\n-  \/*    FT_Get_Glyph_Name                                                  *\/\n-  \/*    FT_Get_Postscript_Name                                             *\/\n-  \/*                                                                       *\/\n-  \/*    FT_CharMapRec                                                      *\/\n-  \/*    FT_Select_Charmap                                                  *\/\n-  \/*    FT_Set_Charmap                                                     *\/\n-  \/*    FT_Get_Charmap_Index                                               *\/\n-  \/*                                                                       *\/\n-  \/*    FT_Get_FSType_Flags                                                *\/\n-  \/*    FT_Get_SubGlyph_Info                                               *\/\n-  \/*                                                                       *\/\n-  \/*    FT_Face_Internal                                                   *\/\n-  \/*    FT_Size_Internal                                                   *\/\n-  \/*    FT_Slot_Internal                                                   *\/\n-  \/*                                                                       *\/\n-  \/*    FT_FACE_FLAG_XXX                                                   *\/\n-  \/*    FT_STYLE_FLAG_XXX                                                  *\/\n-  \/*    FT_OPEN_XXX                                                        *\/\n-  \/*    FT_LOAD_XXX                                                        *\/\n-  \/*    FT_LOAD_TARGET_XXX                                                 *\/\n-  \/*    FT_SUBGLYPH_FLAG_XXX                                               *\/\n-  \/*    FT_FSTYPE_XXX                                                      *\/\n-  \/*                                                                       *\/\n-  \/*    FT_HAS_FAST_GLYPHS                                                 *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   base_interface\n+   *\n+   * @title:\n+   *   Base Interface\n+   *\n+   * @abstract:\n+   *   The FreeType~2 base font interface.\n+   *\n+   * @description:\n+   *   This section describes the most important public high-level API\n+   *   functions of FreeType~2.\n+   *\n+   * @order:\n+   *   FT_Library\n+   *   FT_Face\n+   *   FT_Size\n+   *   FT_GlyphSlot\n+   *   FT_CharMap\n+   *   FT_Encoding\n+   *   FT_ENC_TAG\n+   *\n+   *   FT_FaceRec\n+   *\n+   *   FT_FACE_FLAG_SCALABLE\n+   *   FT_FACE_FLAG_FIXED_SIZES\n+   *   FT_FACE_FLAG_FIXED_WIDTH\n+   *   FT_FACE_FLAG_HORIZONTAL\n+   *   FT_FACE_FLAG_VERTICAL\n+   *   FT_FACE_FLAG_COLOR\n+   *   FT_FACE_FLAG_SFNT\n+   *   FT_FACE_FLAG_CID_KEYED\n+   *   FT_FACE_FLAG_TRICKY\n+   *   FT_FACE_FLAG_KERNING\n+   *   FT_FACE_FLAG_MULTIPLE_MASTERS\n+   *   FT_FACE_FLAG_VARIATION\n+   *   FT_FACE_FLAG_GLYPH_NAMES\n+   *   FT_FACE_FLAG_EXTERNAL_STREAM\n+   *   FT_FACE_FLAG_HINTER\n+   *\n+   *   FT_HAS_HORIZONTAL\n+   *   FT_HAS_VERTICAL\n+   *   FT_HAS_KERNING\n+   *   FT_HAS_FIXED_SIZES\n+   *   FT_HAS_GLYPH_NAMES\n+   *   FT_HAS_COLOR\n+   *   FT_HAS_MULTIPLE_MASTERS\n+   *\n+   *   FT_IS_SFNT\n+   *   FT_IS_SCALABLE\n+   *   FT_IS_FIXED_WIDTH\n+   *   FT_IS_CID_KEYED\n+   *   FT_IS_TRICKY\n+   *   FT_IS_NAMED_INSTANCE\n+   *   FT_IS_VARIATION\n+   *\n+   *   FT_STYLE_FLAG_BOLD\n+   *   FT_STYLE_FLAG_ITALIC\n+   *\n+   *   FT_SizeRec\n+   *   FT_Size_Metrics\n+   *\n+   *   FT_GlyphSlotRec\n+   *   FT_Glyph_Metrics\n+   *   FT_SubGlyph\n+   *\n+   *   FT_Bitmap_Size\n+   *\n+   *   FT_Init_FreeType\n+   *   FT_Done_FreeType\n+   *\n+   *   FT_New_Face\n+   *   FT_Done_Face\n+   *   FT_Reference_Face\n+   *   FT_New_Memory_Face\n+   *   FT_Face_Properties\n+   *   FT_Open_Face\n+   *   FT_Open_Args\n+   *   FT_Parameter\n+   *   FT_Attach_File\n+   *   FT_Attach_Stream\n+   *\n+   *   FT_Set_Char_Size\n+   *   FT_Set_Pixel_Sizes\n+   *   FT_Request_Size\n+   *   FT_Select_Size\n+   *   FT_Size_Request_Type\n+   *   FT_Size_RequestRec\n+   *   FT_Size_Request\n+   *   FT_Set_Transform\n+   *   FT_Load_Glyph\n+   *   FT_Get_Char_Index\n+   *   FT_Get_First_Char\n+   *   FT_Get_Next_Char\n+   *   FT_Get_Name_Index\n+   *   FT_Load_Char\n+   *\n+   *   FT_OPEN_MEMORY\n+   *   FT_OPEN_STREAM\n+   *   FT_OPEN_PATHNAME\n+   *   FT_OPEN_DRIVER\n+   *   FT_OPEN_PARAMS\n+   *\n+   *   FT_LOAD_DEFAULT\n+   *   FT_LOAD_RENDER\n+   *   FT_LOAD_MONOCHROME\n+   *   FT_LOAD_LINEAR_DESIGN\n+   *   FT_LOAD_NO_SCALE\n+   *   FT_LOAD_NO_HINTING\n+   *   FT_LOAD_NO_BITMAP\n+   *   FT_LOAD_NO_AUTOHINT\n+   *   FT_LOAD_COLOR\n+   *\n+   *   FT_LOAD_VERTICAL_LAYOUT\n+   *   FT_LOAD_IGNORE_TRANSFORM\n+   *   FT_LOAD_FORCE_AUTOHINT\n+   *   FT_LOAD_NO_RECURSE\n+   *   FT_LOAD_PEDANTIC\n+   *\n+   *   FT_LOAD_TARGET_NORMAL\n+   *   FT_LOAD_TARGET_LIGHT\n+   *   FT_LOAD_TARGET_MONO\n+   *   FT_LOAD_TARGET_LCD\n+   *   FT_LOAD_TARGET_LCD_V\n+   *\n+   *   FT_LOAD_TARGET_MODE\n+   *\n+   *   FT_Render_Glyph\n+   *   FT_Render_Mode\n+   *   FT_Get_Kerning\n+   *   FT_Kerning_Mode\n+   *   FT_Get_Track_Kerning\n+   *   FT_Get_Glyph_Name\n+   *   FT_Get_Postscript_Name\n+   *\n+   *   FT_CharMapRec\n+   *   FT_Select_Charmap\n+   *   FT_Set_Charmap\n+   *   FT_Get_Charmap_Index\n+   *\n+   *   FT_Get_FSType_Flags\n+   *   FT_Get_SubGlyph_Info\n+   *\n+   *   FT_Face_Internal\n+   *   FT_Size_Internal\n+   *   FT_Slot_Internal\n+   *\n+   *   FT_FACE_FLAG_XXX\n+   *   FT_STYLE_FLAG_XXX\n+   *   FT_OPEN_XXX\n+   *   FT_LOAD_XXX\n+   *   FT_LOAD_TARGET_XXX\n+   *   FT_SUBGLYPH_FLAG_XXX\n+   *   FT_FSTYPE_XXX\n+   *\n+   *   FT_HAS_FAST_GLYPHS\n+   *\n+   *\/\n@@ -266,51 +265,51 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_Glyph_Metrics                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure to model the metrics of a single glyph.  The values    *\/\n-  \/*    are expressed in 26.6 fractional pixel format; if the flag         *\/\n-  \/*    @FT_LOAD_NO_SCALE has been used while loading the glyph, values    *\/\n-  \/*    are expressed in font units instead.                               *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    width ::                                                           *\/\n-  \/*      The glyph's width.                                               *\/\n-  \/*                                                                       *\/\n-  \/*    height ::                                                          *\/\n-  \/*      The glyph's height.                                              *\/\n-  \/*                                                                       *\/\n-  \/*    horiBearingX ::                                                    *\/\n-  \/*      Left side bearing for horizontal layout.                         *\/\n-  \/*                                                                       *\/\n-  \/*    horiBearingY ::                                                    *\/\n-  \/*      Top side bearing for horizontal layout.                          *\/\n-  \/*                                                                       *\/\n-  \/*    horiAdvance ::                                                     *\/\n-  \/*      Advance width for horizontal layout.                             *\/\n-  \/*                                                                       *\/\n-  \/*    vertBearingX ::                                                    *\/\n-  \/*      Left side bearing for vertical layout.                           *\/\n-  \/*                                                                       *\/\n-  \/*    vertBearingY ::                                                    *\/\n-  \/*      Top side bearing for vertical layout.  Larger positive values    *\/\n-  \/*      mean further below the vertical glyph origin.                    *\/\n-  \/*                                                                       *\/\n-  \/*    vertAdvance ::                                                     *\/\n-  \/*      Advance height for vertical layout.  Positive values mean the    *\/\n-  \/*      glyph has a positive advance downward.                           *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    If not disabled with @FT_LOAD_NO_HINTING, the values represent     *\/\n-  \/*    dimensions of the hinted glyph (in case hinting is applicable).    *\/\n-  \/*                                                                       *\/\n-  \/*    Stroking a glyph with an outside border does not increase          *\/\n-  \/*    `horiAdvance' or `vertAdvance'; you have to manually adjust these  *\/\n-  \/*    values to account for the added width and height.                  *\/\n-  \/*                                                                       *\/\n-  \/*    FreeType doesn't use the `VORG' table data for CFF fonts because   *\/\n-  \/*    it doesn't have an interface to quickly retrieve the glyph height. *\/\n-  \/*    The y~coordinate of the vertical origin can be simply computed as  *\/\n-  \/*    `vertBearingY + height' after loading a glyph.                     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_Glyph_Metrics\n+   *\n+   * @description:\n+   *   A structure to model the metrics of a single glyph.  The values are\n+   *   expressed in 26.6 fractional pixel format; if the flag\n+   *   @FT_LOAD_NO_SCALE has been used while loading the glyph, values are\n+   *   expressed in font units instead.\n+   *\n+   * @fields:\n+   *   width ::\n+   *     The glyph's width.\n+   *\n+   *   height ::\n+   *     The glyph's height.\n+   *\n+   *   horiBearingX ::\n+   *     Left side bearing for horizontal layout.\n+   *\n+   *   horiBearingY ::\n+   *     Top side bearing for horizontal layout.\n+   *\n+   *   horiAdvance ::\n+   *     Advance width for horizontal layout.\n+   *\n+   *   vertBearingX ::\n+   *     Left side bearing for vertical layout.\n+   *\n+   *   vertBearingY ::\n+   *     Top side bearing for vertical layout.  Larger positive values mean\n+   *     further below the vertical glyph origin.\n+   *\n+   *   vertAdvance ::\n+   *     Advance height for vertical layout.  Positive values mean the glyph\n+   *     has a positive advance downward.\n+   *\n+   * @note:\n+   *   If not disabled with @FT_LOAD_NO_HINTING, the values represent\n+   *   dimensions of the hinted glyph (in case hinting is applicable).\n+   *\n+   *   Stroking a glyph with an outside border does not increase\n+   *   `horiAdvance` or `vertAdvance`; you have to manually adjust these\n+   *   values to account for the added width and height.\n+   *\n+   *   FreeType doesn't use the 'VORG' table data for CFF fonts because it\n+   *   doesn't have an interface to quickly retrieve the glyph height.  The\n+   *   y~coordinate of the vertical origin can be simply computed as\n+   *   `vertBearingY + height` after loading a glyph.\n+   *\/\n@@ -333,38 +332,39 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_Bitmap_Size                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This structure models the metrics of a bitmap strike (i.e., a set  *\/\n-  \/*    of glyphs for a given point size and resolution) in a bitmap font. *\/\n-  \/*    It is used for the `available_sizes' field of @FT_Face.            *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    height :: The vertical distance, in pixels, between two            *\/\n-  \/*              consecutive baselines.  It is always positive.           *\/\n-  \/*                                                                       *\/\n-  \/*    width  :: The average width, in pixels, of all glyphs in the       *\/\n-  \/*              strike.                                                  *\/\n-  \/*                                                                       *\/\n-  \/*    size   :: The nominal size of the strike in 26.6 fractional        *\/\n-  \/*              points.  This field is not very useful.                  *\/\n-  \/*                                                                       *\/\n-  \/*    x_ppem :: The horizontal ppem (nominal width) in 26.6 fractional   *\/\n-  \/*              pixels.                                                  *\/\n-  \/*                                                                       *\/\n-  \/*    y_ppem :: The vertical ppem (nominal height) in 26.6 fractional    *\/\n-  \/*              pixels.                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    Windows FNT:                                                       *\/\n-  \/*      The nominal size given in a FNT font is not reliable.  If the    *\/\n-  \/*      driver finds it incorrect, it sets `size' to some calculated     *\/\n-  \/*      values, and `x_ppem' and `y_ppem' to the pixel width and height  *\/\n-  \/*      given in the font, respectively.                                 *\/\n-  \/*                                                                       *\/\n-  \/*    TrueType embedded bitmaps:                                         *\/\n-  \/*      `size', `width', and `height' values are not contained in the    *\/\n-  \/*      bitmap strike itself.  They are computed from the global font    *\/\n-  \/*      parameters.                                                      *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_Bitmap_Size\n+   *\n+   * @description:\n+   *   This structure models the metrics of a bitmap strike (i.e., a set of\n+   *   glyphs for a given point size and resolution) in a bitmap font.  It is\n+   *   used for the `available_sizes` field of @FT_Face.\n+   *\n+   * @fields:\n+   *   height ::\n+   *     The vertical distance, in pixels, between two consecutive baselines.\n+   *     It is always positive.\n+   *\n+   *   width ::\n+   *     The average width, in pixels, of all glyphs in the strike.\n+   *\n+   *   size ::\n+   *     The nominal size of the strike in 26.6 fractional points.  This\n+   *     field is not very useful.\n+   *\n+   *   x_ppem ::\n+   *     The horizontal ppem (nominal width) in 26.6 fractional pixels.\n+   *\n+   *   y_ppem ::\n+   *     The vertical ppem (nominal height) in 26.6 fractional pixels.\n+   *\n+   * @note:\n+   *   Windows FNT:\n+   *     The nominal size given in a FNT font is not reliable.  If the driver\n+   *     finds it incorrect, it sets `size` to some calculated values, and\n+   *     `x_ppem` and `y_ppem` to the pixel width and height given in the\n+   *     font, respectively.\n+   *\n+   *   TrueType embedded bitmaps:\n+   *     `size`, `width`, and `height` values are not contained in the bitmap\n+   *     strike itself.  They are computed from the global font parameters.\n+   *\/\n@@ -392,25 +392,23 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_Library                                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A handle to a FreeType library instance.  Each `library' is        *\/\n-  \/*    completely independent from the others; it is the `root' of a set  *\/\n-  \/*    of objects like fonts, faces, sizes, etc.                          *\/\n-  \/*                                                                       *\/\n-  \/*    It also embeds a memory manager (see @FT_Memory), as well as a     *\/\n-  \/*    scan-line converter object (see @FT_Raster).                       *\/\n-  \/*                                                                       *\/\n-  \/*    In multi-threaded applications it is easiest to use one            *\/\n-  \/*    `FT_Library' object per thread.  In case this is too cumbersome,   *\/\n-  \/*    a single `FT_Library' object across threads is possible also       *\/\n-  \/*    (since FreeType version 2.5.6), as long as a mutex lock is used    *\/\n-  \/*    around @FT_New_Face and @FT_Done_Face.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    Library objects are normally created by @FT_Init_FreeType, and     *\/\n-  \/*    destroyed with @FT_Done_FreeType.  If you need reference-counting  *\/\n-  \/*    (cf. @FT_Reference_Library), use @FT_New_Library and               *\/\n-  \/*    @FT_Done_Library.                                                  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_Library\n+   *\n+   * @description:\n+   *   A handle to a FreeType library instance.  Each 'library' is completely\n+   *   independent from the others; it is the 'root' of a set of objects like\n+   *   fonts, faces, sizes, etc.\n+   *\n+   *   It also embeds a memory manager (see @FT_Memory), as well as a\n+   *   scan-line converter object (see @FT_Raster).\n+   *\n+   *   [Since 2.5.6] In multi-threaded applications it is easiest to use one\n+   *   `FT_Library` object per thread.  In case this is too cumbersome, a\n+   *   single `FT_Library` object across threads is possible also, as long as\n+   *   a mutex lock is used around @FT_New_Face and @FT_Done_Face.\n+   *\n+   * @note:\n+   *   Library objects are normally created by @FT_Init_FreeType, and\n+   *   destroyed with @FT_Done_FreeType.  If you need reference-counting\n+   *   (cf. @FT_Reference_Library), use @FT_New_Library and @FT_Done_Library.\n+   *\/\n@@ -420,6 +418,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Section>                                                             *\/\n-  \/*    module_management                                                  *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   module_management\n+   *\n+   *\/\n@@ -427,10 +425,10 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_Module                                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A handle to a given FreeType module object.  A module can be a     *\/\n-  \/*    font driver, a renderer, or anything else that provides services   *\/\n-  \/*    to the former.                                                     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_Module\n+   *\n+   * @description:\n+   *   A handle to a given FreeType module object.  A module can be a font\n+   *   driver, a renderer, or anything else that provides services to the\n+   *   former.\n+   *\/\n@@ -440,9 +438,9 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_Driver                                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A handle to a given FreeType font driver object.  A font driver    *\/\n-  \/*    is a module capable of creating faces from font files.             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_Driver\n+   *\n+   * @description:\n+   *   A handle to a given FreeType font driver object.  A font driver is a\n+   *   module capable of creating faces from font files.\n+   *\/\n@@ -452,11 +450,10 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_Renderer                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A handle to a given FreeType renderer.  A renderer is a module in  *\/\n-  \/*    charge of converting a glyph's outline image to a bitmap.  It      *\/\n-  \/*    supports a single glyph image format, and one or more target       *\/\n-  \/*    surface depths.                                                    *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_Renderer\n+   *\n+   * @description:\n+   *   A handle to a given FreeType renderer.  A renderer is a module in\n+   *   charge of converting a glyph's outline image to a bitmap.  It supports\n+   *   a single glyph image format, and one or more target surface depths.\n+   *\/\n@@ -466,6 +463,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Section>                                                             *\/\n-  \/*    base_interface                                                     *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   base_interface\n+   *\n+   *\/\n@@ -473,30 +470,29 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_Face                                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A handle to a typographic face object.  A face object models a     *\/\n-  \/*    given typeface, in a given style.                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    A face object also owns a single @FT_GlyphSlot object, as well     *\/\n-  \/*    as one or more @FT_Size objects.                                   *\/\n-  \/*                                                                       *\/\n-  \/*    Use @FT_New_Face or @FT_Open_Face to create a new face object from *\/\n-  \/*    a given filepath or a custom input stream.                         *\/\n-  \/*                                                                       *\/\n-  \/*    Use @FT_Done_Face to destroy it (along with its slot and sizes).   *\/\n-  \/*                                                                       *\/\n-  \/*    An `FT_Face' object can only be safely used from one thread at a   *\/\n-  \/*    time.  Similarly, creation and destruction of `FT_Face' with the   *\/\n-  \/*    same @FT_Library object can only be done from one thread at a      *\/\n-  \/*    time.  On the other hand, functions like @FT_Load_Glyph and its    *\/\n-  \/*    siblings are thread-safe and do not need the lock to be held as    *\/\n-  \/*    long as the same `FT_Face' object is not used from multiple        *\/\n-  \/*    threads at the same time.                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Also>                                                                *\/\n-  \/*    See @FT_FaceRec for the publicly accessible fields of a given face *\/\n-  \/*    object.                                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_Face\n+   *\n+   * @description:\n+   *   A handle to a typographic face object.  A face object models a given\n+   *   typeface, in a given style.\n+   *\n+   * @note:\n+   *   A face object also owns a single @FT_GlyphSlot object, as well as one\n+   *   or more @FT_Size objects.\n+   *\n+   *   Use @FT_New_Face or @FT_Open_Face to create a new face object from a\n+   *   given filepath or a custom input stream.\n+   *\n+   *   Use @FT_Done_Face to destroy it (along with its slot and sizes).\n+   *\n+   *   An `FT_Face` object can only be safely used from one thread at a time.\n+   *   Similarly, creation and destruction of `FT_Face` with the same\n+   *   @FT_Library object can only be done from one thread at a time.  On the\n+   *   other hand, functions like @FT_Load_Glyph and its siblings are\n+   *   thread-safe and do not need the lock to be held as long as the same\n+   *   `FT_Face` object is not used from multiple threads at the same time.\n+   *\n+   * @also:\n+   *   See @FT_FaceRec for the publicly accessible fields of a given face\n+   *   object.\n+   *\/\n@@ -506,28 +502,27 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_Size                                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A handle to an object that models a face scaled to a given         *\/\n-  \/*    character size.                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    An @FT_Face has one _active_ @FT_Size object that is used by       *\/\n-  \/*    functions like @FT_Load_Glyph to determine the scaling             *\/\n-  \/*    transformation that in turn is used to load and hint glyphs and    *\/\n-  \/*    metrics.                                                           *\/\n-  \/*                                                                       *\/\n-  \/*    You can use @FT_Set_Char_Size, @FT_Set_Pixel_Sizes,                *\/\n-  \/*    @FT_Request_Size or even @FT_Select_Size to change the content     *\/\n-  \/*    (i.e., the scaling values) of the active @FT_Size.                 *\/\n-  \/*                                                                       *\/\n-  \/*    You can use @FT_New_Size to create additional size objects for a   *\/\n-  \/*    given @FT_Face, but they won't be used by other functions until    *\/\n-  \/*    you activate it through @FT_Activate_Size.  Only one size can be   *\/\n-  \/*    activated at any given time per face.                              *\/\n-  \/*                                                                       *\/\n-  \/* <Also>                                                                *\/\n-  \/*    See @FT_SizeRec for the publicly accessible fields of a given size *\/\n-  \/*    object.                                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_Size\n+   *\n+   * @description:\n+   *   A handle to an object that models a face scaled to a given character\n+   *   size.\n+   *\n+   * @note:\n+   *   An @FT_Face has one _active_ @FT_Size object that is used by functions\n+   *   like @FT_Load_Glyph to determine the scaling transformation that in\n+   *   turn is used to load and hint glyphs and metrics.\n+   *\n+   *   You can use @FT_Set_Char_Size, @FT_Set_Pixel_Sizes, @FT_Request_Size\n+   *   or even @FT_Select_Size to change the content (i.e., the scaling\n+   *   values) of the active @FT_Size.\n+   *\n+   *   You can use @FT_New_Size to create additional size objects for a given\n+   *   @FT_Face, but they won't be used by other functions until you activate\n+   *   it through @FT_Activate_Size.  Only one size can be activated at any\n+   *   given time per face.\n+   *\n+   * @also:\n+   *   See @FT_SizeRec for the publicly accessible fields of a given size\n+   *   object.\n+   *\/\n@@ -537,17 +532,16 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_GlyphSlot                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A handle to a given `glyph slot'.  A slot is a container that can  *\/\n-  \/*    hold any of the glyphs contained in its parent face.               *\/\n-  \/*                                                                       *\/\n-  \/*    In other words, each time you call @FT_Load_Glyph or               *\/\n-  \/*    @FT_Load_Char, the slot's content is erased by the new glyph data, *\/\n-  \/*    i.e., the glyph's metrics, its image (bitmap or outline), and      *\/\n-  \/*    other control information.                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Also>                                                                *\/\n-  \/*    See @FT_GlyphSlotRec for the publicly accessible glyph fields.     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_GlyphSlot\n+   *\n+   * @description:\n+   *   A handle to a given 'glyph slot'.  A slot is a container that can hold\n+   *   any of the glyphs contained in its parent face.\n+   *\n+   *   In other words, each time you call @FT_Load_Glyph or @FT_Load_Char,\n+   *   the slot's content is erased by the new glyph data, i.e., the glyph's\n+   *   metrics, its image (bitmap or outline), and other control information.\n+   *\n+   * @also:\n+   *   See @FT_GlyphSlotRec for the publicly accessible glyph fields.\n+   *\/\n@@ -557,31 +551,31 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_CharMap                                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A handle to a character map (usually abbreviated to `charmap').  A *\/\n-  \/*    charmap is used to translate character codes in a given encoding   *\/\n-  \/*    into glyph indexes for its parent's face.  Some font formats may   *\/\n-  \/*    provide several charmaps per font.                                 *\/\n-  \/*                                                                       *\/\n-  \/*    Each face object owns zero or more charmaps, but only one of them  *\/\n-  \/*    can be `active', providing the data used by @FT_Get_Char_Index or  *\/\n-  \/*    @FT_Load_Char.                                                     *\/\n-  \/*                                                                       *\/\n-  \/*    The list of available charmaps in a face is available through the  *\/\n-  \/*    `face->num_charmaps' and `face->charmaps' fields of @FT_FaceRec.   *\/\n-  \/*                                                                       *\/\n-  \/*    The currently active charmap is available as `face->charmap'.      *\/\n-  \/*    You should call @FT_Set_Charmap to change it.                      *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    When a new face is created (either through @FT_New_Face or         *\/\n-  \/*    @FT_Open_Face), the library looks for a Unicode charmap within     *\/\n-  \/*    the list and automatically activates it.  If there is no Unicode   *\/\n-  \/*    charmap, FreeType doesn't set an `active' charmap.                 *\/\n-  \/*                                                                       *\/\n-  \/* <Also>                                                                *\/\n-  \/*    See @FT_CharMapRec for the publicly accessible fields of a given   *\/\n-  \/*    character map.                                                     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_CharMap\n+   *\n+   * @description:\n+   *   A handle to a character map (usually abbreviated to 'charmap').  A\n+   *   charmap is used to translate character codes in a given encoding into\n+   *   glyph indexes for its parent's face.  Some font formats may provide\n+   *   several charmaps per font.\n+   *\n+   *   Each face object owns zero or more charmaps, but only one of them can\n+   *   be 'active', providing the data used by @FT_Get_Char_Index or\n+   *   @FT_Load_Char.\n+   *\n+   *   The list of available charmaps in a face is available through the\n+   *   `face->num_charmaps` and `face->charmaps` fields of @FT_FaceRec.\n+   *\n+   *   The currently active charmap is available as `face->charmap`.  You\n+   *   should call @FT_Set_Charmap to change it.\n+   *\n+   * @note:\n+   *   When a new face is created (either through @FT_New_Face or\n+   *   @FT_Open_Face), the library looks for a Unicode charmap within the\n+   *   list and automatically activates it.  If there is no Unicode charmap,\n+   *   FreeType doesn't set an 'active' charmap.\n+   *\n+   * @also:\n+   *   See @FT_CharMapRec for the publicly accessible fields of a given\n+   *   character map.\n+   *\/\n@@ -591,20 +585,19 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Macro>                                                               *\/\n-  \/*    FT_ENC_TAG                                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This macro converts four-letter tags into an unsigned long.  It is *\/\n-  \/*    used to define `encoding' identifiers (see @FT_Encoding).          *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    Since many 16-bit compilers don't like 32-bit enumerations, you    *\/\n-  \/*    should redefine this macro in case of problems to something like   *\/\n-  \/*    this:                                                              *\/\n-  \/*                                                                       *\/\n-  \/*    {                                                                  *\/\n-  \/*      #define FT_ENC_TAG( value, a, b, c, d )  value                   *\/\n-  \/*    }                                                                  *\/\n-  \/*                                                                       *\/\n-  \/*    to get a simple enumeration without assigning special numbers.     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @macro:\n+   *   FT_ENC_TAG\n+   *\n+   * @description:\n+   *   This macro converts four-letter tags into an unsigned long.  It is\n+   *   used to define 'encoding' identifiers (see @FT_Encoding).\n+   *\n+   * @note:\n+   *   Since many 16-bit compilers don't like 32-bit enumerations, you should\n+   *   redefine this macro in case of problems to something like this:\n+   *\n+   *   ```\n+   *     #define FT_ENC_TAG( value, a, b, c, d )  value\n+   *   ```\n+   *\n+   *   to get a simple enumeration without assigning special numbers.\n+   *\/\n@@ -622,143 +615,141 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Enum>                                                                *\/\n-  \/*    FT_Encoding                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    An enumeration to specify character sets supported by charmaps.    *\/\n-  \/*    Used in the @FT_Select_Charmap API function.                       *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    Despite the name, this enumeration lists specific character        *\/\n-  \/*    repertories (i.e., charsets), and not text encoding methods (e.g., *\/\n-  \/*    UTF-8, UTF-16, etc.).                                              *\/\n-  \/*                                                                       *\/\n-  \/*    Other encodings might be defined in the future.                    *\/\n-  \/*                                                                       *\/\n-  \/* <Values>                                                              *\/\n-  \/*    FT_ENCODING_NONE ::                                                *\/\n-  \/*      The encoding value~0 is reserved.                                *\/\n-  \/*                                                                       *\/\n-  \/*    FT_ENCODING_UNICODE ::                                             *\/\n-  \/*      The Unicode character set.  This value covers all versions of    *\/\n-  \/*      the Unicode repertoire, including ASCII and Latin-1.  Most fonts *\/\n-  \/*      include a Unicode charmap, but not all of them.                  *\/\n-  \/*                                                                       *\/\n-  \/*      For example, if you want to access Unicode value U+1F028 (and    *\/\n-  \/*      the font contains it), use value 0x1F028 as the input value for  *\/\n-  \/*      @FT_Get_Char_Index.                                              *\/\n-  \/*                                                                       *\/\n-  \/*    FT_ENCODING_MS_SYMBOL ::                                           *\/\n-  \/*      Microsoft Symbol encoding, used to encode mathematical symbols   *\/\n-  \/*      and wingdings.  For more information, see                        *\/\n-  \/*      `https:\/\/www.microsoft.com\/typography\/otspec\/recom.htm',         *\/\n-  \/*      `http:\/\/www.kostis.net\/charsets\/symbol.htm', and                 *\/\n-  \/*      `http:\/\/www.kostis.net\/charsets\/wingding.htm'.                   *\/\n-  \/*                                                                       *\/\n-  \/*      This encoding uses character codes from the PUA (Private Unicode *\/\n-  \/*      Area) in the range U+F020-U+F0FF.                                *\/\n-  \/*                                                                       *\/\n-  \/*    FT_ENCODING_SJIS ::                                                *\/\n-  \/*      Shift JIS encoding for Japanese.  More info at                   *\/\n-  \/*      `https:\/\/en.wikipedia.org\/wiki\/Shift_JIS'.  See note on          *\/\n-  \/*      multi-byte encodings below.                                      *\/\n-  \/*                                                                       *\/\n-  \/*    FT_ENCODING_PRC ::                                                 *\/\n-  \/*      Corresponds to encoding systems mainly for Simplified Chinese as *\/\n-  \/*      used in People's Republic of China (PRC).  The encoding layout   *\/\n-  \/*      is based on GB~2312 and its supersets GBK and GB~18030.          *\/\n-  \/*                                                                       *\/\n-  \/*    FT_ENCODING_BIG5 ::                                                *\/\n-  \/*      Corresponds to an encoding system for Traditional Chinese as     *\/\n-  \/*      used in Taiwan and Hong Kong.                                    *\/\n-  \/*                                                                       *\/\n-  \/*    FT_ENCODING_WANSUNG ::                                             *\/\n-  \/*      Corresponds to the Korean encoding system known as Extended      *\/\n-  \/*      Wansung (MS Windows code page 949).                              *\/\n-  \/*      For more information see                                         *\/\n-  \/*      `https:\/\/www.unicode.org\/Public\/MAPPINGS\/VENDORS\/MICSFT\/WindowsBestFit\/bestfit949.txt'. *\/\n-  \/*                                                                       *\/\n-  \/*    FT_ENCODING_JOHAB ::                                               *\/\n-  \/*      The Korean standard character set (KS~C 5601-1992), which        *\/\n-  \/*      corresponds to MS Windows code page 1361.  This character set    *\/\n-  \/*      includes all possible Hangul character combinations.             *\/\n-  \/*                                                                       *\/\n-  \/*    FT_ENCODING_ADOBE_LATIN_1 ::                                       *\/\n-  \/*      Corresponds to a Latin-1 encoding as defined in a Type~1         *\/\n-  \/*      PostScript font.  It is limited to 256 character codes.          *\/\n-  \/*                                                                       *\/\n-  \/*    FT_ENCODING_ADOBE_STANDARD ::                                      *\/\n-  \/*      Adobe Standard encoding, as found in Type~1, CFF, and            *\/\n-  \/*      OpenType\/CFF fonts.  It is limited to 256 character codes.       *\/\n-  \/*                                                                       *\/\n-  \/*    FT_ENCODING_ADOBE_EXPERT ::                                        *\/\n-  \/*      Adobe Expert encoding, as found in Type~1, CFF, and OpenType\/CFF *\/\n-  \/*      fonts.  It is limited to 256 character codes.                    *\/\n-  \/*                                                                       *\/\n-  \/*    FT_ENCODING_ADOBE_CUSTOM ::                                        *\/\n-  \/*      Corresponds to a custom encoding, as found in Type~1, CFF, and   *\/\n-  \/*      OpenType\/CFF fonts.  It is limited to 256 character codes.       *\/\n-  \/*                                                                       *\/\n-  \/*    FT_ENCODING_APPLE_ROMAN ::                                         *\/\n-  \/*      Apple roman encoding.  Many TrueType and OpenType fonts contain  *\/\n-  \/*      a charmap for this 8-bit encoding, since older versions of Mac   *\/\n-  \/*      OS are able to use it.                                           *\/\n-  \/*                                                                       *\/\n-  \/*    FT_ENCODING_OLD_LATIN_2 ::                                         *\/\n-  \/*      This value is deprecated and was neither used nor reported by    *\/\n-  \/*      FreeType.  Don't use or test for it.                             *\/\n-  \/*                                                                       *\/\n-  \/*    FT_ENCODING_MS_SJIS ::                                             *\/\n-  \/*      Same as FT_ENCODING_SJIS.  Deprecated.                           *\/\n-  \/*                                                                       *\/\n-  \/*    FT_ENCODING_MS_GB2312 ::                                           *\/\n-  \/*      Same as FT_ENCODING_PRC.  Deprecated.                            *\/\n-  \/*                                                                       *\/\n-  \/*    FT_ENCODING_MS_BIG5 ::                                             *\/\n-  \/*      Same as FT_ENCODING_BIG5.  Deprecated.                           *\/\n-  \/*                                                                       *\/\n-  \/*    FT_ENCODING_MS_WANSUNG ::                                          *\/\n-  \/*      Same as FT_ENCODING_WANSUNG.  Deprecated.                        *\/\n-  \/*                                                                       *\/\n-  \/*    FT_ENCODING_MS_JOHAB ::                                            *\/\n-  \/*      Same as FT_ENCODING_JOHAB.  Deprecated.                          *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    By default, FreeType automatically synthesizes a Unicode charmap   *\/\n-  \/*    for PostScript fonts, using their glyph name dictionaries.         *\/\n-  \/*    However, it also reports the encodings defined explicitly in the   *\/\n-  \/*    font file, for the cases when they are needed, with the Adobe      *\/\n-  \/*    values as well.                                                    *\/\n-  \/*                                                                       *\/\n-  \/*    FT_ENCODING_NONE is set by the BDF and PCF drivers if the charmap  *\/\n-  \/*    is neither Unicode nor ISO-8859-1 (otherwise it is set to          *\/\n-  \/*    FT_ENCODING_UNICODE).  Use @FT_Get_BDF_Charset_ID to find out      *\/\n-  \/*    which encoding is really present.  If, for example, the            *\/\n-  \/*    `cs_registry' field is `KOI8' and the `cs_encoding' field is `R',  *\/\n-  \/*    the font is encoded in KOI8-R.                                     *\/\n-  \/*                                                                       *\/\n-  \/*    FT_ENCODING_NONE is always set (with a single exception) by the    *\/\n-  \/*    winfonts driver.  Use @FT_Get_WinFNT_Header and examine the        *\/\n-  \/*    `charset' field of the @FT_WinFNT_HeaderRec structure to find out  *\/\n-  \/*    which encoding is really present.  For example,                    *\/\n-  \/*    @FT_WinFNT_ID_CP1251 (204) means Windows code page 1251 (for       *\/\n-  \/*    Russian).                                                          *\/\n-  \/*                                                                       *\/\n-  \/*    FT_ENCODING_NONE is set if `platform_id' is @TT_PLATFORM_MACINTOSH *\/\n-  \/*    and `encoding_id' is not `TT_MAC_ID_ROMAN' (otherwise it is set to *\/\n-  \/*    FT_ENCODING_APPLE_ROMAN).                                          *\/\n-  \/*                                                                       *\/\n-  \/*    If `platform_id' is @TT_PLATFORM_MACINTOSH, use the function       *\/\n-  \/*    @FT_Get_CMap_Language_ID to query the Mac language ID that may     *\/\n-  \/*    be needed to be able to distinguish Apple encoding variants.  See  *\/\n-  \/*                                                                       *\/\n-  \/*      https:\/\/www.unicode.org\/Public\/MAPPINGS\/VENDORS\/APPLE\/Readme.txt *\/\n-  \/*                                                                       *\/\n-  \/*    to get an idea how to do that.  Basically, if the language ID      *\/\n-  \/*    is~0, don't use it, otherwise subtract 1 from the language ID.     *\/\n-  \/*    Then examine `encoding_id'.  If, for example, `encoding_id' is     *\/\n-  \/*    `TT_MAC_ID_ROMAN' and the language ID (minus~1) is                 *\/\n-  \/*    `TT_MAC_LANGID_GREEK', it is the Greek encoding, not Roman.        *\/\n-  \/*    `TT_MAC_ID_ARABIC' with `TT_MAC_LANGID_FARSI' means the Farsi      *\/\n-  \/*    variant the Arabic encoding.                                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @enum:\n+   *   FT_Encoding\n+   *\n+   * @description:\n+   *   An enumeration to specify character sets supported by charmaps.  Used\n+   *   in the @FT_Select_Charmap API function.\n+   *\n+   * @note:\n+   *   Despite the name, this enumeration lists specific character\n+   *   repertories (i.e., charsets), and not text encoding methods (e.g.,\n+   *   UTF-8, UTF-16, etc.).\n+   *\n+   *   Other encodings might be defined in the future.\n+   *\n+   * @values:\n+   *   FT_ENCODING_NONE ::\n+   *     The encoding value~0 is reserved for all formats except BDF, PCF,\n+   *     and Windows FNT; see below for more information.\n+   *\n+   *   FT_ENCODING_UNICODE ::\n+   *     The Unicode character set.  This value covers all versions of the\n+   *     Unicode repertoire, including ASCII and Latin-1.  Most fonts include\n+   *     a Unicode charmap, but not all of them.\n+   *\n+   *     For example, if you want to access Unicode value U+1F028 (and the\n+   *     font contains it), use value 0x1F028 as the input value for\n+   *     @FT_Get_Char_Index.\n+   *\n+   *   FT_ENCODING_MS_SYMBOL ::\n+   *     Microsoft Symbol encoding, used to encode mathematical symbols and\n+   *     wingdings.  For more information, see\n+   *     'https:\/\/www.microsoft.com\/typography\/otspec\/recom.htm',\n+   *     'http:\/\/www.kostis.net\/charsets\/symbol.htm', and\n+   *     'http:\/\/www.kostis.net\/charsets\/wingding.htm'.\n+   *\n+   *     This encoding uses character codes from the PUA (Private Unicode\n+   *     Area) in the range U+F020-U+F0FF.\n+   *\n+   *   FT_ENCODING_SJIS ::\n+   *     Shift JIS encoding for Japanese.  More info at\n+   *     'https:\/\/en.wikipedia.org\/wiki\/Shift_JIS'.  See note on multi-byte\n+   *     encodings below.\n+   *\n+   *   FT_ENCODING_PRC ::\n+   *     Corresponds to encoding systems mainly for Simplified Chinese as\n+   *     used in People's Republic of China (PRC).  The encoding layout is\n+   *     based on GB~2312 and its supersets GBK and GB~18030.\n+   *\n+   *   FT_ENCODING_BIG5 ::\n+   *     Corresponds to an encoding system for Traditional Chinese as used in\n+   *     Taiwan and Hong Kong.\n+   *\n+   *   FT_ENCODING_WANSUNG ::\n+   *     Corresponds to the Korean encoding system known as Extended Wansung\n+   *     (MS Windows code page 949).  For more information see\n+   *     'https:\/\/www.unicode.org\/Public\/MAPPINGS\/VENDORS\/MICSFT\/WindowsBestFit\/bestfit949.txt'.\n+   *\n+   *   FT_ENCODING_JOHAB ::\n+   *     The Korean standard character set (KS~C 5601-1992), which\n+   *     corresponds to MS Windows code page 1361.  This character set\n+   *     includes all possible Hangul character combinations.\n+   *\n+   *   FT_ENCODING_ADOBE_LATIN_1 ::\n+   *     Corresponds to a Latin-1 encoding as defined in a Type~1 PostScript\n+   *     font.  It is limited to 256 character codes.\n+   *\n+   *   FT_ENCODING_ADOBE_STANDARD ::\n+   *     Adobe Standard encoding, as found in Type~1, CFF, and OpenType\/CFF\n+   *     fonts.  It is limited to 256 character codes.\n+   *\n+   *   FT_ENCODING_ADOBE_EXPERT ::\n+   *     Adobe Expert encoding, as found in Type~1, CFF, and OpenType\/CFF\n+   *     fonts.  It is limited to 256 character codes.\n+   *\n+   *   FT_ENCODING_ADOBE_CUSTOM ::\n+   *     Corresponds to a custom encoding, as found in Type~1, CFF, and\n+   *     OpenType\/CFF fonts.  It is limited to 256 character codes.\n+   *\n+   *   FT_ENCODING_APPLE_ROMAN ::\n+   *     Apple roman encoding.  Many TrueType and OpenType fonts contain a\n+   *     charmap for this 8-bit encoding, since older versions of Mac OS are\n+   *     able to use it.\n+   *\n+   *   FT_ENCODING_OLD_LATIN_2 ::\n+   *     This value is deprecated and was neither used nor reported by\n+   *     FreeType.  Don't use or test for it.\n+   *\n+   *   FT_ENCODING_MS_SJIS ::\n+   *     Same as FT_ENCODING_SJIS.  Deprecated.\n+   *\n+   *   FT_ENCODING_MS_GB2312 ::\n+   *     Same as FT_ENCODING_PRC.  Deprecated.\n+   *\n+   *   FT_ENCODING_MS_BIG5 ::\n+   *     Same as FT_ENCODING_BIG5.  Deprecated.\n+   *\n+   *   FT_ENCODING_MS_WANSUNG ::\n+   *     Same as FT_ENCODING_WANSUNG.  Deprecated.\n+   *\n+   *   FT_ENCODING_MS_JOHAB ::\n+   *     Same as FT_ENCODING_JOHAB.  Deprecated.\n+   *\n+   * @note:\n+   *   By default, FreeType enables a Unicode charmap and tags it with\n+   *   `FT_ENCODING_UNICODE` when it is either provided or can be generated\n+   *   from PostScript glyph name dictionaries in the font file.  All other\n+   *   encodings are considered legacy and tagged only if explicitly defined\n+   *   in the font file.  Otherwise, `FT_ENCODING_NONE` is used.\n+   *\n+   *   `FT_ENCODING_NONE` is set by the BDF and PCF drivers if the charmap is\n+   *   neither Unicode nor ISO-8859-1 (otherwise it is set to\n+   *   `FT_ENCODING_UNICODE`).  Use @FT_Get_BDF_Charset_ID to find out which\n+   *   encoding is really present.  If, for example, the `cs_registry` field\n+   *   is 'KOI8' and the `cs_encoding` field is 'R', the font is encoded in\n+   *   KOI8-R.\n+   *\n+   *   `FT_ENCODING_NONE` is always set (with a single exception) by the\n+   *   winfonts driver.  Use @FT_Get_WinFNT_Header and examine the `charset`\n+   *   field of the @FT_WinFNT_HeaderRec structure to find out which encoding\n+   *   is really present.  For example, @FT_WinFNT_ID_CP1251 (204) means\n+   *   Windows code page 1251 (for Russian).\n+   *\n+   *   `FT_ENCODING_NONE` is set if `platform_id` is @TT_PLATFORM_MACINTOSH\n+   *   and `encoding_id` is not `TT_MAC_ID_ROMAN` (otherwise it is set to\n+   *   `FT_ENCODING_APPLE_ROMAN`).\n+   *\n+   *   If `platform_id` is @TT_PLATFORM_MACINTOSH, use the function\n+   *   @FT_Get_CMap_Language_ID to query the Mac language ID that may be\n+   *   needed to be able to distinguish Apple encoding variants.  See\n+   *\n+   *     https:\/\/www.unicode.org\/Public\/MAPPINGS\/VENDORS\/APPLE\/Readme.txt\n+   *\n+   *   to get an idea how to do that.  Basically, if the language ID is~0,\n+   *   don't use it, otherwise subtract 1 from the language ID.  Then examine\n+   *   `encoding_id`.  If, for example, `encoding_id` is `TT_MAC_ID_ROMAN`\n+   *   and the language ID (minus~1) is `TT_MAC_LANGID_GREEK`, it is the\n+   *   Greek encoding, not Roman.  `TT_MAC_ID_ARABIC` with\n+   *   `TT_MAC_LANGID_FARSI` means the Farsi variant the Arabic encoding.\n+   *\/\n@@ -798,1 +789,1 @@\n-  \/* these constants are deprecated; use the corresponding `FT_Encoding' *\/\n+  \/* these constants are deprecated; use the corresponding `FT_Encoding` *\/\n@@ -817,23 +808,25 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_CharMapRec                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    The base charmap structure.                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    face        :: A handle to the parent face object.                 *\/\n-  \/*                                                                       *\/\n-  \/*    encoding    :: An @FT_Encoding tag identifying the charmap.  Use   *\/\n-  \/*                   this with @FT_Select_Charmap.                       *\/\n-  \/*                                                                       *\/\n-  \/*    platform_id :: An ID number describing the platform for the        *\/\n-  \/*                   following encoding ID.  This comes directly from    *\/\n-  \/*                   the TrueType specification and gets emulated for    *\/\n-  \/*                   other formats.                                      *\/\n-  \/*                                                                       *\/\n-  \/*    encoding_id :: A platform specific encoding number.  This also     *\/\n-  \/*                   comes from the TrueType specification and gets      *\/\n-  \/*                   emulated similarly.                                 *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_CharMapRec\n+   *\n+   * @description:\n+   *   The base charmap structure.\n+   *\n+   * @fields:\n+   *   face ::\n+   *     A handle to the parent face object.\n+   *\n+   *   encoding ::\n+   *     An @FT_Encoding tag identifying the charmap.  Use this with\n+   *     @FT_Select_Charmap.\n+   *\n+   *   platform_id ::\n+   *     An ID number describing the platform for the following encoding ID.\n+   *     This comes directly from the TrueType specification and gets\n+   *     emulated for other formats.\n+   *\n+   *   encoding_id ::\n+   *     A platform-specific encoding number.  This also comes from the\n+   *     TrueType specification and gets emulated similarly.\n+   *\/\n@@ -859,12 +852,12 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_Face_Internal                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    An opaque handle to an `FT_Face_InternalRec' structure that models *\/\n-  \/*    the private data of a given @FT_Face object.                       *\/\n-  \/*                                                                       *\/\n-  \/*    This structure might change between releases of FreeType~2 and is  *\/\n-  \/*    not generally available to client applications.                    *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_Face_Internal\n+   *\n+   * @description:\n+   *   An opaque handle to an `FT_Face_InternalRec` structure that models the\n+   *   private data of a given @FT_Face object.\n+   *\n+   *   This structure might change between releases of FreeType~2 and is not\n+   *   generally available to client applications.\n+   *\/\n@@ -874,194 +867,174 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_FaceRec                                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    FreeType root face class structure.  A face object models a        *\/\n-  \/*    typeface in a font file.                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    num_faces           :: The number of faces in the font file.  Some *\/\n-  \/*                           font formats can have multiple faces in     *\/\n-  \/*                           a single font file.                         *\/\n-  \/*                                                                       *\/\n-  \/*    face_index          :: This field holds two different values.      *\/\n-  \/*                           Bits 0-15 are the index of the face in the  *\/\n-  \/*                           font file (starting with value~0).  They    *\/\n-  \/*                           are set to~0 if there is only one face in   *\/\n-  \/*                           the font file.                              *\/\n-  \/*                                                                       *\/\n-  \/*                           [Since 2.6.1] Bits 16-30 are relevant to GX *\/\n-  \/*                           and OpenType variation fonts only, holding  *\/\n-  \/*                           the named instance index for the current    *\/\n-  \/*                           face index (starting with value~1; value~0  *\/\n-  \/*                           indicates font access without a named       *\/\n-  \/*                           instance).  For non-variation fonts, bits   *\/\n-  \/*                           16-30 are ignored.  If we have the third    *\/\n-  \/*                           named instance of face~4, say, `face_index' *\/\n-  \/*                           is set to 0x00030004.                       *\/\n-  \/*                                                                       *\/\n-  \/*                           Bit 31 is always zero (this is,             *\/\n-  \/*                           `face_index' is always a positive value).   *\/\n-  \/*                                                                       *\/\n-  \/*                           [Since 2.9] Changing the design coordinates *\/\n-  \/*                           with @FT_Set_Var_Design_Coordinates or      *\/\n-  \/*                           @FT_Set_Var_Blend_Coordinates does not      *\/\n-  \/*                           influence the named instance index value    *\/\n-  \/*                           (only @FT_Set_Named_Instance does that).    *\/\n-  \/*                                                                       *\/\n-  \/*    face_flags          :: A set of bit flags that give important      *\/\n-  \/*                           information about the face; see             *\/\n-  \/*                           @FT_FACE_FLAG_XXX for the details.          *\/\n-  \/*                                                                       *\/\n-  \/*    style_flags         :: The lower 16~bits contain a set of bit      *\/\n-  \/*                           flags indicating the style of the face; see *\/\n-  \/*                           @FT_STYLE_FLAG_XXX for the details.         *\/\n-  \/*                                                                       *\/\n-  \/*                           [Since 2.6.1] Bits 16-30 hold the number    *\/\n-  \/*                           of named instances available for the        *\/\n-  \/*                           current face if we have a GX or OpenType    *\/\n-  \/*                           variation (sub)font.  Bit 31 is always zero *\/\n-  \/*                           (this is, `style_flags' is always a         *\/\n-  \/*                           positive value).  Note that a variation     *\/\n-  \/*                           font has always at least one named          *\/\n-  \/*                           instance, namely the default instance.      *\/\n-  \/*                                                                       *\/\n-  \/*    num_glyphs          :: The number of glyphs in the face.  If the   *\/\n-  \/*                           face is scalable and has sbits (see         *\/\n-  \/*                           `num_fixed_sizes'), it is set to the number *\/\n-  \/*                           of outline glyphs.                          *\/\n-  \/*                                                                       *\/\n-  \/*                           For CID-keyed fonts (not in an SFNT         *\/\n-  \/*                           wrapper) this value gives the highest CID   *\/\n-  \/*                           used in the font.                           *\/\n-  \/*                                                                       *\/\n-  \/*    family_name         :: The face's family name.  This is an ASCII   *\/\n-  \/*                           string, usually in English, that describes  *\/\n-  \/*                           the typeface's family (like `Times New      *\/\n-  \/*                           Roman', `Bodoni', `Garamond', etc).  This   *\/\n-  \/*                           is a least common denominator used to list  *\/\n-  \/*                           fonts.  Some formats (TrueType & OpenType)  *\/\n-  \/*                           provide localized and Unicode versions of   *\/\n-  \/*                           this string.  Applications should use the   *\/\n-  \/*                           format specific interface to access them.   *\/\n-  \/*                           Can be NULL (e.g., in fonts embedded in a   *\/\n-  \/*                           PDF file).                                  *\/\n-  \/*                                                                       *\/\n-  \/*                           In case the font doesn't provide a specific *\/\n-  \/*                           family name entry, FreeType tries to        *\/\n-  \/*                           synthesize one, deriving it from other name *\/\n-  \/*                           entries.                                    *\/\n-  \/*                                                                       *\/\n-  \/*    style_name          :: The face's style name.  This is an ASCII    *\/\n-  \/*                           string, usually in English, that describes  *\/\n-  \/*                           the typeface's style (like `Italic',        *\/\n-  \/*                           `Bold', `Condensed', etc).  Not all font    *\/\n-  \/*                           formats provide a style name, so this field *\/\n-  \/*                           is optional, and can be set to NULL.  As    *\/\n-  \/*                           for `family_name', some formats provide     *\/\n-  \/*                           localized and Unicode versions of this      *\/\n-  \/*                           string.  Applications should use the format *\/\n-  \/*                           specific interface to access them.          *\/\n-  \/*                                                                       *\/\n-  \/*    num_fixed_sizes     :: The number of bitmap strikes in the face.   *\/\n-  \/*                           Even if the face is scalable, there might   *\/\n-  \/*                           still be bitmap strikes, which are called   *\/\n-  \/*                           `sbits' in that case.                       *\/\n-  \/*                                                                       *\/\n-  \/*    available_sizes     :: An array of @FT_Bitmap_Size for all bitmap  *\/\n-  \/*                           strikes in the face.  It is set to NULL if  *\/\n-  \/*                           there is no bitmap strike.                  *\/\n-  \/*                                                                       *\/\n-  \/*                           Note that FreeType tries to sanitize the    *\/\n-  \/*                           strike data since they are sometimes sloppy *\/\n-  \/*                           or incorrect, but this can easily fail.     *\/\n-  \/*                                                                       *\/\n-  \/*    num_charmaps        :: The number of charmaps in the face.         *\/\n-  \/*                                                                       *\/\n-  \/*    charmaps            :: An array of the charmaps of the face.       *\/\n-  \/*                                                                       *\/\n-  \/*    generic             :: A field reserved for client uses.  See the  *\/\n-  \/*                           @FT_Generic type description.               *\/\n-  \/*                                                                       *\/\n-  \/*    bbox                :: The font bounding box.  Coordinates are     *\/\n-  \/*                           expressed in font units (see                *\/\n-  \/*                           `units_per_EM').  The box is large enough   *\/\n-  \/*                           to contain any glyph from the font.  Thus,  *\/\n-  \/*                           `bbox.yMax' can be seen as the `maximum     *\/\n-  \/*                           ascender', and `bbox.yMin' as the `minimum  *\/\n-  \/*                           descender'.  Only relevant for scalable     *\/\n-  \/*                           formats.                                    *\/\n-  \/*                                                                       *\/\n-  \/*                           Note that the bounding box might be off by  *\/\n-  \/*                           (at least) one pixel for hinted fonts.  See *\/\n-  \/*                           @FT_Size_Metrics for further discussion.    *\/\n-  \/*                                                                       *\/\n-  \/*    units_per_EM        :: The number of font units per EM square for  *\/\n-  \/*                           this face.  This is typically 2048 for      *\/\n-  \/*                           TrueType fonts, and 1000 for Type~1 fonts.  *\/\n-  \/*                           Only relevant for scalable formats.         *\/\n-  \/*                                                                       *\/\n-  \/*    ascender            :: The typographic ascender of the face,       *\/\n-  \/*                           expressed in font units.  For font formats  *\/\n-  \/*                           not having this information, it is set to   *\/\n-  \/*                           `bbox.yMax'.  Only relevant for scalable    *\/\n-  \/*                           formats.                                    *\/\n-  \/*                                                                       *\/\n-  \/*    descender           :: The typographic descender of the face,      *\/\n-  \/*                           expressed in font units.  For font formats  *\/\n-  \/*                           not having this information, it is set to   *\/\n-  \/*                           `bbox.yMin'.  Note that this field is       *\/\n-  \/*                           negative for values below the baseline.     *\/\n-  \/*                           Only relevant for scalable formats.         *\/\n-  \/*                                                                       *\/\n-  \/*    height              :: This value is the vertical distance         *\/\n-  \/*                           between two consecutive baselines,          *\/\n-  \/*                           expressed in font units.  It is always      *\/\n-  \/*                           positive.  Only relevant for scalable       *\/\n-  \/*                           formats.                                    *\/\n-  \/*                                                                       *\/\n-  \/*                           If you want the global glyph height, use    *\/\n-  \/*                           `ascender - descender'.                     *\/\n-  \/*                                                                       *\/\n-  \/*    max_advance_width   :: The maximum advance width, in font units,   *\/\n-  \/*                           for all glyphs in this face.  This can be   *\/\n-  \/*                           used to make word wrapping computations     *\/\n-  \/*                           faster.  Only relevant for scalable         *\/\n-  \/*                           formats.                                    *\/\n-  \/*                                                                       *\/\n-  \/*    max_advance_height  :: The maximum advance height, in font units,  *\/\n-  \/*                           for all glyphs in this face.  This is only  *\/\n-  \/*                           relevant for vertical layouts, and is set   *\/\n-  \/*                           to `height' for fonts that do not provide   *\/\n-  \/*                           vertical metrics.  Only relevant for        *\/\n-  \/*                           scalable formats.                           *\/\n-  \/*                                                                       *\/\n-  \/*    underline_position  :: The position, in font units, of the         *\/\n-  \/*                           underline line for this face.  It is the    *\/\n-  \/*                           center of the underlining stem.  Only       *\/\n-  \/*                           relevant for scalable formats.              *\/\n-  \/*                                                                       *\/\n-  \/*    underline_thickness :: The thickness, in font units, of the        *\/\n-  \/*                           underline for this face.  Only relevant for *\/\n-  \/*                           scalable formats.                           *\/\n-  \/*                                                                       *\/\n-  \/*    glyph               :: The face's associated glyph slot(s).        *\/\n-  \/*                                                                       *\/\n-  \/*    size                :: The current active size for this face.      *\/\n-  \/*                                                                       *\/\n-  \/*    charmap             :: The current active charmap for this face.   *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    Fields may be changed after a call to @FT_Attach_File or           *\/\n-  \/*    @FT_Attach_Stream.                                                 *\/\n-  \/*                                                                       *\/\n-  \/*    For an OpenType variation font, the values of the following fields *\/\n-  \/*    can change after a call to @FT_Set_Var_Design_Coordinates (and     *\/\n-  \/*    friends) if the font contains an `MVAR' table: `ascender',         *\/\n-  \/*    `descender', `height', `underline_position', and                   *\/\n-  \/*    `underline_thickness'.                                             *\/\n-  \/*                                                                       *\/\n-  \/*    Especially for TrueType fonts see also the documentation for       *\/\n-  \/*    @FT_Size_Metrics.                                                  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_FaceRec\n+   *\n+   * @description:\n+   *   FreeType root face class structure.  A face object models a typeface\n+   *   in a font file.\n+   *\n+   * @fields:\n+   *   num_faces ::\n+   *     The number of faces in the font file.  Some font formats can have\n+   *     multiple faces in a single font file.\n+   *\n+   *   face_index ::\n+   *     This field holds two different values.  Bits 0-15 are the index of\n+   *     the face in the font file (starting with value~0).  They are set\n+   *     to~0 if there is only one face in the font file.\n+   *\n+   *     [Since 2.6.1] Bits 16-30 are relevant to GX and OpenType variation\n+   *     fonts only, holding the named instance index for the current face\n+   *     index (starting with value~1; value~0 indicates font access without\n+   *     a named instance).  For non-variation fonts, bits 16-30 are ignored.\n+   *     If we have the third named instance of face~4, say, `face_index` is\n+   *     set to 0x00030004.\n+   *\n+   *     Bit 31 is always zero (this is, `face_index` is always a positive\n+   *     value).\n+   *\n+   *     [Since 2.9] Changing the design coordinates with\n+   *     @FT_Set_Var_Design_Coordinates or @FT_Set_Var_Blend_Coordinates does\n+   *     not influence the named instance index value (only\n+   *     @FT_Set_Named_Instance does that).\n+   *\n+   *   face_flags ::\n+   *     A set of bit flags that give important information about the face;\n+   *     see @FT_FACE_FLAG_XXX for the details.\n+   *\n+   *   style_flags ::\n+   *     The lower 16~bits contain a set of bit flags indicating the style of\n+   *     the face; see @FT_STYLE_FLAG_XXX for the details.\n+   *\n+   *     [Since 2.6.1] Bits 16-30 hold the number of named instances\n+   *     available for the current face if we have a GX or OpenType variation\n+   *     (sub)font.  Bit 31 is always zero (this is, `style_flags` is always\n+   *     a positive value).  Note that a variation font has always at least\n+   *     one named instance, namely the default instance.\n+   *\n+   *   num_glyphs ::\n+   *     The number of glyphs in the face.  If the face is scalable and has\n+   *     sbits (see `num_fixed_sizes`), it is set to the number of outline\n+   *     glyphs.\n+   *\n+   *     For CID-keyed fonts (not in an SFNT wrapper) this value gives the\n+   *     highest CID used in the font.\n+   *\n+   *   family_name ::\n+   *     The face's family name.  This is an ASCII string, usually in\n+   *     English, that describes the typeface's family (like 'Times New\n+   *     Roman', 'Bodoni', 'Garamond', etc).  This is a least common\n+   *     denominator used to list fonts.  Some formats (TrueType & OpenType)\n+   *     provide localized and Unicode versions of this string.  Applications\n+   *     should use the format-specific interface to access them.  Can be\n+   *     `NULL` (e.g., in fonts embedded in a PDF file).\n+   *\n+   *     In case the font doesn't provide a specific family name entry,\n+   *     FreeType tries to synthesize one, deriving it from other name\n+   *     entries.\n+   *\n+   *   style_name ::\n+   *     The face's style name.  This is an ASCII string, usually in English,\n+   *     that describes the typeface's style (like 'Italic', 'Bold',\n+   *     'Condensed', etc).  Not all font formats provide a style name, so\n+   *     this field is optional, and can be set to `NULL`.  As for\n+   *     `family_name`, some formats provide localized and Unicode versions\n+   *     of this string.  Applications should use the format-specific\n+   *     interface to access them.\n+   *\n+   *   num_fixed_sizes ::\n+   *     The number of bitmap strikes in the face.  Even if the face is\n+   *     scalable, there might still be bitmap strikes, which are called\n+   *     'sbits' in that case.\n+   *\n+   *   available_sizes ::\n+   *     An array of @FT_Bitmap_Size for all bitmap strikes in the face.  It\n+   *     is set to `NULL` if there is no bitmap strike.\n+   *\n+   *     Note that FreeType tries to sanitize the strike data since they are\n+   *     sometimes sloppy or incorrect, but this can easily fail.\n+   *\n+   *   num_charmaps ::\n+   *     The number of charmaps in the face.\n+   *\n+   *   charmaps ::\n+   *     An array of the charmaps of the face.\n+   *\n+   *   generic ::\n+   *     A field reserved for client uses.  See the @FT_Generic type\n+   *     description.\n+   *\n+   *   bbox ::\n+   *     The font bounding box.  Coordinates are expressed in font units (see\n+   *     `units_per_EM`).  The box is large enough to contain any glyph from\n+   *     the font.  Thus, `bbox.yMax` can be seen as the 'maximum ascender',\n+   *     and `bbox.yMin` as the 'minimum descender'.  Only relevant for\n+   *     scalable formats.\n+   *\n+   *     Note that the bounding box might be off by (at least) one pixel for\n+   *     hinted fonts.  See @FT_Size_Metrics for further discussion.\n+   *\n+   *   units_per_EM ::\n+   *     The number of font units per EM square for this face.  This is\n+   *     typically 2048 for TrueType fonts, and 1000 for Type~1 fonts.  Only\n+   *     relevant for scalable formats.\n+   *\n+   *   ascender ::\n+   *     The typographic ascender of the face, expressed in font units.  For\n+   *     font formats not having this information, it is set to `bbox.yMax`.\n+   *     Only relevant for scalable formats.\n+   *\n+   *   descender ::\n+   *     The typographic descender of the face, expressed in font units.  For\n+   *     font formats not having this information, it is set to `bbox.yMin`.\n+   *     Note that this field is negative for values below the baseline.\n+   *     Only relevant for scalable formats.\n+   *\n+   *   height ::\n+   *     This value is the vertical distance between two consecutive\n+   *     baselines, expressed in font units.  It is always positive.  Only\n+   *     relevant for scalable formats.\n+   *\n+   *     If you want the global glyph height, use `ascender - descender`.\n+   *\n+   *   max_advance_width ::\n+   *     The maximum advance width, in font units, for all glyphs in this\n+   *     face.  This can be used to make word wrapping computations faster.\n+   *     Only relevant for scalable formats.\n+   *\n+   *   max_advance_height ::\n+   *     The maximum advance height, in font units, for all glyphs in this\n+   *     face.  This is only relevant for vertical layouts, and is set to\n+   *     `height` for fonts that do not provide vertical metrics.  Only\n+   *     relevant for scalable formats.\n+   *\n+   *   underline_position ::\n+   *     The position, in font units, of the underline line for this face.\n+   *     It is the center of the underlining stem.  Only relevant for\n+   *     scalable formats.\n+   *\n+   *   underline_thickness ::\n+   *     The thickness, in font units, of the underline for this face.  Only\n+   *     relevant for scalable formats.\n+   *\n+   *   glyph ::\n+   *     The face's associated glyph slot(s).\n+   *\n+   *   size ::\n+   *     The current active size for this face.\n+   *\n+   *   charmap ::\n+   *     The current active charmap for this face.\n+   *\n+   * @note:\n+   *   Fields may be changed after a call to @FT_Attach_File or\n+   *   @FT_Attach_Stream.\n+   *\n+   *   For an OpenType variation font, the values of the following fields can\n+   *   change after a call to @FT_Set_Var_Design_Coordinates (and friends) if\n+   *   the font contains an 'MVAR' table: `ascender`, `descender`, `height`,\n+   *   `underline_position`, and `underline_thickness`.\n+   *\n+   *   Especially for TrueType fonts see also the documentation for\n+   *   @FT_Size_Metrics.\n+   *\/\n@@ -1089,1 +1062,1 @@\n-    \/*# The following member variables (down to `underline_thickness') *\/\n+    \/*# The following member variables (down to `underline_thickness`) *\/\n@@ -1127,111 +1100,110 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Enum>                                                                *\/\n-  \/*    FT_FACE_FLAG_XXX                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A list of bit flags used in the `face_flags' field of the          *\/\n-  \/*    @FT_FaceRec structure.  They inform client applications of         *\/\n-  \/*    properties of the corresponding face.                              *\/\n-  \/*                                                                       *\/\n-  \/* <Values>                                                              *\/\n-  \/*    FT_FACE_FLAG_SCALABLE ::                                           *\/\n-  \/*      The face contains outline glyphs.  Note that a face can contain  *\/\n-  \/*      bitmap strikes also, i.e., a face can have both this flag and    *\/\n-  \/*      @FT_FACE_FLAG_FIXED_SIZES set.                                   *\/\n-  \/*                                                                       *\/\n-  \/*    FT_FACE_FLAG_FIXED_SIZES ::                                        *\/\n-  \/*      The face contains bitmap strikes.  See also the                  *\/\n-  \/*      `num_fixed_sizes' and `available_sizes' fields of @FT_FaceRec.   *\/\n-  \/*                                                                       *\/\n-  \/*    FT_FACE_FLAG_FIXED_WIDTH ::                                        *\/\n-  \/*      The face contains fixed-width characters (like Courier, Lucida,  *\/\n-  \/*      MonoType, etc.).                                                 *\/\n-  \/*                                                                       *\/\n-  \/*    FT_FACE_FLAG_SFNT ::                                               *\/\n-  \/*      The face uses the SFNT storage scheme.  For now, this means      *\/\n-  \/*      TrueType and OpenType.                                           *\/\n-  \/*                                                                       *\/\n-  \/*    FT_FACE_FLAG_HORIZONTAL ::                                         *\/\n-  \/*      The face contains horizontal glyph metrics.  This should be set  *\/\n-  \/*      for all common formats.                                          *\/\n-  \/*                                                                       *\/\n-  \/*    FT_FACE_FLAG_VERTICAL ::                                           *\/\n-  \/*      The face contains vertical glyph metrics.  This is only          *\/\n-  \/*      available in some formats, not all of them.                      *\/\n-  \/*                                                                       *\/\n-  \/*    FT_FACE_FLAG_KERNING ::                                            *\/\n-  \/*      The face contains kerning information.  If set, the kerning      *\/\n-  \/*      distance can be retrieved using the function @FT_Get_Kerning.    *\/\n-  \/*      Otherwise the function always return the vector (0,0).  Note     *\/\n-  \/*      that FreeType doesn't handle kerning data from the SFNT `GPOS'   *\/\n-  \/*      table (as present in many OpenType fonts).                       *\/\n-  \/*                                                                       *\/\n-  \/*    FT_FACE_FLAG_FAST_GLYPHS ::                                        *\/\n-  \/*      THIS FLAG IS DEPRECATED.  DO NOT USE OR TEST IT.                 *\/\n-  \/*                                                                       *\/\n-  \/*    FT_FACE_FLAG_MULTIPLE_MASTERS ::                                   *\/\n-  \/*      The face contains multiple masters and is capable of             *\/\n-  \/*      interpolating between them.  Supported formats are Adobe MM,     *\/\n-  \/*      TrueType GX, and OpenType variation fonts.                       *\/\n-  \/*                                                                       *\/\n-  \/*      See the multiple-masters specific API for details.               *\/\n-  \/*                                                                       *\/\n-  \/*    FT_FACE_FLAG_GLYPH_NAMES ::                                        *\/\n-  \/*      The face contains glyph names, which can be retrieved using      *\/\n-  \/*      @FT_Get_Glyph_Name.  Note that some TrueType fonts contain       *\/\n-  \/*      broken glyph name tables.  Use the function                      *\/\n-  \/*      @FT_Has_PS_Glyph_Names when needed.                              *\/\n-  \/*                                                                       *\/\n-  \/*    FT_FACE_FLAG_EXTERNAL_STREAM ::                                    *\/\n-  \/*      Used internally by FreeType to indicate that a face's stream was *\/\n-  \/*      provided by the client application and should not be destroyed   *\/\n-  \/*      when @FT_Done_Face is called.  Don't read or test this flag.     *\/\n-  \/*                                                                       *\/\n-  \/*    FT_FACE_FLAG_HINTER ::                                             *\/\n-  \/*      The font driver has a hinting machine of its own.  For example,  *\/\n-  \/*      with TrueType fonts, it makes sense to use data from the SFNT    *\/\n-  \/*      `gasp' table only if the native TrueType hinting engine (with    *\/\n-  \/*      the bytecode interpreter) is available and active.               *\/\n-  \/*                                                                       *\/\n-  \/*    FT_FACE_FLAG_CID_KEYED ::                                          *\/\n-  \/*      The face is CID-keyed.  In that case, the face is not accessed   *\/\n-  \/*      by glyph indices but by CID values.  For subsetted CID-keyed     *\/\n-  \/*      fonts this has the consequence that not all index values are a   *\/\n-  \/*      valid argument to @FT_Load_Glyph.  Only the CID values for which *\/\n-  \/*      corresponding glyphs in the subsetted font exist make            *\/\n-  \/*      `FT_Load_Glyph' return successfully; in all other cases you get  *\/\n-  \/*      an `FT_Err_Invalid_Argument' error.                              *\/\n-  \/*                                                                       *\/\n-  \/*      Note that CID-keyed fonts that are in an SFNT wrapper (this is,  *\/\n-  \/*      all OpenType\/CFF fonts) don't have this flag set since the       *\/\n-  \/*      glyphs are accessed in the normal way (using contiguous          *\/\n-  \/*      indices); the `CID-ness' isn't visible to the application.       *\/\n-  \/*                                                                       *\/\n-  \/*    FT_FACE_FLAG_TRICKY ::                                             *\/\n-  \/*      The face is `tricky', this is, it always needs the font format's *\/\n-  \/*      native hinting engine to get a reasonable result.  A typical     *\/\n-  \/*      example is the old Chinese font `mingli.ttf' (but not            *\/\n-  \/*      `mingliu.ttc') that uses TrueType bytecode instructions to move  *\/\n-  \/*      and scale all of its subglyphs.                                  *\/\n-  \/*                                                                       *\/\n-  \/*      It is not possible to auto-hint such fonts using                 *\/\n-  \/*      @FT_LOAD_FORCE_AUTOHINT; it will also ignore                     *\/\n-  \/*      @FT_LOAD_NO_HINTING.  You have to set both @FT_LOAD_NO_HINTING   *\/\n-  \/*      and @FT_LOAD_NO_AUTOHINT to really disable hinting; however, you *\/\n-  \/*      probably never want this except for demonstration purposes.      *\/\n-  \/*                                                                       *\/\n-  \/*      Currently, there are about a dozen TrueType fonts in the list of *\/\n-  \/*      tricky fonts; they are hard-coded in file `ttobjs.c'.            *\/\n-  \/*                                                                       *\/\n-  \/*    FT_FACE_FLAG_COLOR ::                                              *\/\n-  \/*      [Since 2.5.1] The face has color glyph tables.  To access color  *\/\n-  \/*      glyphs use @FT_LOAD_COLOR.                                       *\/\n-  \/*                                                                       *\/\n-  \/*    FT_FACE_FLAG_VARIATION ::                                          *\/\n-  \/*      [Since 2.9] Set if the current face (or named instance) has been *\/\n-  \/*      altered with @FT_Set_MM_Design_Coordinates,                      *\/\n-  \/*      @FT_Set_Var_Design_Coordinates, or                               *\/\n-  \/*      @FT_Set_Var_Blend_Coordinates.  This flag is unset by a call to  *\/\n-  \/*      @FT_Set_Named_Instance.                                          *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @enum:\n+   *   FT_FACE_FLAG_XXX\n+   *\n+   * @description:\n+   *   A list of bit flags used in the `face_flags` field of the @FT_FaceRec\n+   *   structure.  They inform client applications of properties of the\n+   *   corresponding face.\n+   *\n+   * @values:\n+   *   FT_FACE_FLAG_SCALABLE ::\n+   *     The face contains outline glyphs.  Note that a face can contain\n+   *     bitmap strikes also, i.e., a face can have both this flag and\n+   *     @FT_FACE_FLAG_FIXED_SIZES set.\n+   *\n+   *   FT_FACE_FLAG_FIXED_SIZES ::\n+   *     The face contains bitmap strikes.  See also the `num_fixed_sizes`\n+   *     and `available_sizes` fields of @FT_FaceRec.\n+   *\n+   *   FT_FACE_FLAG_FIXED_WIDTH ::\n+   *     The face contains fixed-width characters (like Courier, Lucida,\n+   *     MonoType, etc.).\n+   *\n+   *   FT_FACE_FLAG_SFNT ::\n+   *     The face uses the SFNT storage scheme.  For now, this means TrueType\n+   *     and OpenType.\n+   *\n+   *   FT_FACE_FLAG_HORIZONTAL ::\n+   *     The face contains horizontal glyph metrics.  This should be set for\n+   *     all common formats.\n+   *\n+   *   FT_FACE_FLAG_VERTICAL ::\n+   *     The face contains vertical glyph metrics.  This is only available in\n+   *     some formats, not all of them.\n+   *\n+   *   FT_FACE_FLAG_KERNING ::\n+   *     The face contains kerning information.  If set, the kerning distance\n+   *     can be retrieved using the function @FT_Get_Kerning.  Otherwise the\n+   *     function always return the vector (0,0).  Note that FreeType doesn't\n+   *     handle kerning data from the SFNT 'GPOS' table (as present in many\n+   *     OpenType fonts).\n+   *\n+   *   FT_FACE_FLAG_FAST_GLYPHS ::\n+   *     THIS FLAG IS DEPRECATED.  DO NOT USE OR TEST IT.\n+   *\n+   *   FT_FACE_FLAG_MULTIPLE_MASTERS ::\n+   *     The face contains multiple masters and is capable of interpolating\n+   *     between them.  Supported formats are Adobe MM, TrueType GX, and\n+   *     OpenType variation fonts.\n+   *\n+   *     See section @multiple_masters for API details.\n+   *\n+   *   FT_FACE_FLAG_GLYPH_NAMES ::\n+   *     The face contains glyph names, which can be retrieved using\n+   *     @FT_Get_Glyph_Name.  Note that some TrueType fonts contain broken\n+   *     glyph name tables.  Use the function @FT_Has_PS_Glyph_Names when\n+   *     needed.\n+   *\n+   *   FT_FACE_FLAG_EXTERNAL_STREAM ::\n+   *     Used internally by FreeType to indicate that a face's stream was\n+   *     provided by the client application and should not be destroyed when\n+   *     @FT_Done_Face is called.  Don't read or test this flag.\n+   *\n+   *   FT_FACE_FLAG_HINTER ::\n+   *     The font driver has a hinting machine of its own.  For example, with\n+   *     TrueType fonts, it makes sense to use data from the SFNT 'gasp'\n+   *     table only if the native TrueType hinting engine (with the bytecode\n+   *     interpreter) is available and active.\n+   *\n+   *   FT_FACE_FLAG_CID_KEYED ::\n+   *     The face is CID-keyed.  In that case, the face is not accessed by\n+   *     glyph indices but by CID values.  For subsetted CID-keyed fonts this\n+   *     has the consequence that not all index values are a valid argument\n+   *     to @FT_Load_Glyph.  Only the CID values for which corresponding\n+   *     glyphs in the subsetted font exist make `FT_Load_Glyph` return\n+   *     successfully; in all other cases you get an\n+   *     `FT_Err_Invalid_Argument` error.\n+   *\n+   *     Note that CID-keyed fonts that are in an SFNT wrapper (this is, all\n+   *     OpenType\/CFF fonts) don't have this flag set since the glyphs are\n+   *     accessed in the normal way (using contiguous indices); the\n+   *     'CID-ness' isn't visible to the application.\n+   *\n+   *   FT_FACE_FLAG_TRICKY ::\n+   *     The face is 'tricky', this is, it always needs the font format's\n+   *     native hinting engine to get a reasonable result.  A typical example\n+   *     is the old Chinese font `mingli.ttf` (but not `mingliu.ttc`) that\n+   *     uses TrueType bytecode instructions to move and scale all of its\n+   *     subglyphs.\n+   *\n+   *     It is not possible to auto-hint such fonts using\n+   *     @FT_LOAD_FORCE_AUTOHINT; it will also ignore @FT_LOAD_NO_HINTING.\n+   *     You have to set both @FT_LOAD_NO_HINTING and @FT_LOAD_NO_AUTOHINT to\n+   *     really disable hinting; however, you probably never want this except\n+   *     for demonstration purposes.\n+   *\n+   *     Currently, there are about a dozen TrueType fonts in the list of\n+   *     tricky fonts; they are hard-coded in file `ttobjs.c`.\n+   *\n+   *   FT_FACE_FLAG_COLOR ::\n+   *     [Since 2.5.1] The face has color glyph tables.  See @FT_LOAD_COLOR\n+   *     for more information.\n+   *\n+   *   FT_FACE_FLAG_VARIATION ::\n+   *     [Since 2.9] Set if the current face (or named instance) has been\n+   *     altered with @FT_Set_MM_Design_Coordinates,\n+   *     @FT_Set_Var_Design_Coordinates, or @FT_Set_Var_Blend_Coordinates.\n+   *     This flag is unset by a call to @FT_Set_Named_Instance.\n+   *\/\n@@ -1256,1 +1228,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -1259,1 +1231,1 @@\n-   *   FT_HAS_HORIZONTAL( face )\n+   *   FT_HAS_HORIZONTAL\n@@ -1262,2 +1234,2 @@\n-   *   A macro that returns true whenever a face object contains\n-   *   horizontal metrics (this is true for all font formats though).\n+   *   A macro that returns true whenever a face object contains horizontal\n+   *   metrics (this is true for all font formats though).\n@@ -1273,1 +1245,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -1276,1 +1248,1 @@\n-   *   FT_HAS_VERTICAL( face )\n+   *   FT_HAS_VERTICAL\n@@ -1287,1 +1259,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -1290,1 +1262,1 @@\n-   *   FT_HAS_KERNING( face )\n+   *   FT_HAS_KERNING\n@@ -1293,2 +1265,2 @@\n-   *   A macro that returns true whenever a face object contains kerning\n-   *   data that can be accessed with @FT_Get_Kerning.\n+   *   A macro that returns true whenever a face object contains kerning data\n+   *   that can be accessed with @FT_Get_Kerning.\n@@ -1301,1 +1273,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -1304,1 +1276,1 @@\n-   *   FT_IS_SCALABLE( face )\n+   *   FT_IS_SCALABLE\n@@ -1308,2 +1280,2 @@\n-   *   font face (true for TrueType, Type~1, Type~42, CID, OpenType\/CFF,\n-   *   and PFR font formats).\n+   *   font face (true for TrueType, Type~1, Type~42, CID, OpenType\/CFF, and\n+   *   PFR font formats).\n@@ -1316,1 +1288,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -1319,1 +1291,1 @@\n-   *   FT_IS_SFNT( face )\n+   *   FT_IS_SFNT\n@@ -1322,4 +1294,4 @@\n-   *   A macro that returns true whenever a face object contains a font\n-   *   whose format is based on the SFNT storage scheme.  This usually\n-   *   means: TrueType fonts, OpenType fonts, as well as SFNT-based embedded\n-   *   bitmap fonts.\n+   *   A macro that returns true whenever a face object contains a font whose\n+   *   format is based on the SFNT storage scheme.  This usually means:\n+   *   TrueType fonts, OpenType fonts, as well as SFNT-based embedded bitmap\n+   *   fonts.\n@@ -1335,1 +1307,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -1338,1 +1310,1 @@\n-   *   FT_IS_FIXED_WIDTH( face )\n+   *   FT_IS_FIXED_WIDTH\n@@ -1342,1 +1314,1 @@\n-   *   that contains fixed-width (or `monospace', `fixed-pitch', etc.)\n+   *   that contains fixed-width (or 'monospace', 'fixed-pitch', etc.)\n@@ -1350,1 +1322,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -1353,1 +1325,1 @@\n-   *   FT_HAS_FIXED_SIZES( face )\n+   *   FT_HAS_FIXED_SIZES\n@@ -1357,2 +1329,2 @@\n-   *   embedded bitmaps.  See the `available_sizes' field of the\n-   *   @FT_FaceRec structure.\n+   *   embedded bitmaps.  See the `available_sizes` field of the @FT_FaceRec\n+   *   structure.\n@@ -1365,1 +1337,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -1368,1 +1340,1 @@\n-   *   FT_HAS_FAST_GLYPHS( face )\n+   *   FT_HAS_FAST_GLYPHS\n@@ -1377,1 +1349,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -1380,1 +1352,1 @@\n-   *   FT_HAS_GLYPH_NAMES( face )\n+   *   FT_HAS_GLYPH_NAMES\n@@ -1391,1 +1363,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -1394,1 +1366,1 @@\n-   *   FT_HAS_MULTIPLE_MASTERS( face )\n+   *   FT_HAS_MULTIPLE_MASTERS\n@@ -1406,1 +1378,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -1409,1 +1381,1 @@\n-   *   FT_IS_NAMED_INSTANCE( face )\n+   *   FT_IS_NAMED_INSTANCE\n@@ -1428,1 +1400,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -1431,1 +1403,1 @@\n-   *   FT_IS_VARIATION( face )\n+   *   FT_IS_VARIATION\n@@ -1434,2 +1406,2 @@\n-   *   A macro that returns true whenever a face object has been altered\n-   *   by @FT_Set_MM_Design_Coordinates, @FT_Set_Var_Design_Coordinates, or\n+   *   A macro that returns true whenever a face object has been altered by\n+   *   @FT_Set_MM_Design_Coordinates, @FT_Set_Var_Design_Coordinates, or\n@@ -1446,1 +1418,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -1449,1 +1421,1 @@\n-   *   FT_IS_CID_KEYED( face )\n+   *   FT_IS_CID_KEYED\n@@ -1453,2 +1425,1 @@\n-   *   font.  See the discussion of @FT_FACE_FLAG_CID_KEYED for more\n-   *   details.\n+   *   font.  See the discussion of @FT_FACE_FLAG_CID_KEYED for more details.\n@@ -1464,1 +1435,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -1467,1 +1438,1 @@\n-   *   FT_IS_TRICKY( face )\n+   *   FT_IS_TRICKY\n@@ -1470,1 +1441,1 @@\n-   *   A macro that returns true whenever a face represents a `tricky' font.\n+   *   A macro that returns true whenever a face represents a 'tricky' font.\n@@ -1478,1 +1449,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -1481,1 +1452,1 @@\n-   *   FT_HAS_COLOR( face )\n+   *   FT_HAS_COLOR\n@@ -1484,2 +1455,2 @@\n-   *   A macro that returns true whenever a face object contains\n-   *   tables for color glyphs.\n+   *   A macro that returns true whenever a face object contains tables for\n+   *   color glyphs.\n@@ -1495,22 +1466,22 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Const>                                                               *\/\n-  \/*    FT_STYLE_FLAG_XXX                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A list of bit flags to indicate the style of a given face.  These  *\/\n-  \/*    are used in the `style_flags' field of @FT_FaceRec.                *\/\n-  \/*                                                                       *\/\n-  \/* <Values>                                                              *\/\n-  \/*    FT_STYLE_FLAG_ITALIC ::                                            *\/\n-  \/*      The face style is italic or oblique.                             *\/\n-  \/*                                                                       *\/\n-  \/*    FT_STYLE_FLAG_BOLD ::                                              *\/\n-  \/*      The face is bold.                                                *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The style information as provided by FreeType is very basic.  More *\/\n-  \/*    details are beyond the scope and should be done on a higher level  *\/\n-  \/*    (for example, by analyzing various fields of the `OS\/2' table in   *\/\n-  \/*    SFNT based fonts).                                                 *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @enum:\n+   *   FT_STYLE_FLAG_XXX\n+   *\n+   * @description:\n+   *   A list of bit flags to indicate the style of a given face.  These are\n+   *   used in the `style_flags` field of @FT_FaceRec.\n+   *\n+   * @values:\n+   *   FT_STYLE_FLAG_ITALIC ::\n+   *     The face style is italic or oblique.\n+   *\n+   *   FT_STYLE_FLAG_BOLD ::\n+   *     The face is bold.\n+   *\n+   * @note:\n+   *   The style information as provided by FreeType is very basic.  More\n+   *   details are beyond the scope and should be done on a higher level (for\n+   *   example, by analyzing various fields of the 'OS\/2' table in SFNT based\n+   *   fonts).\n+   *\/\n@@ -1521,9 +1492,9 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_Size_Internal                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    An opaque handle to an `FT_Size_InternalRec' structure, used to    *\/\n-  \/*    model private data of a given @FT_Size object.                     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_Size_Internal\n+   *\n+   * @description:\n+   *   An opaque handle to an `FT_Size_InternalRec` structure, used to model\n+   *   private data of a given @FT_Size object.\n+   *\/\n@@ -1533,105 +1504,104 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_Size_Metrics                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    The size metrics structure gives the metrics of a size object.     *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    x_ppem       :: The width of the scaled EM square in pixels, hence *\/\n-  \/*                    the term `ppem' (pixels per EM).  It is also       *\/\n-  \/*                    referred to as `nominal width'.                    *\/\n-  \/*                                                                       *\/\n-  \/*    y_ppem       :: The height of the scaled EM square in pixels,      *\/\n-  \/*                    hence the term `ppem' (pixels per EM).  It is also *\/\n-  \/*                    referred to as `nominal height'.                   *\/\n-  \/*                                                                       *\/\n-  \/*    x_scale      :: A 16.16 fractional scaling value to convert        *\/\n-  \/*                    horizontal metrics from font units to 26.6         *\/\n-  \/*                    fractional pixels.  Only relevant for scalable     *\/\n-  \/*                    font formats.                                      *\/\n-  \/*                                                                       *\/\n-  \/*    y_scale      :: A 16.16 fractional scaling value to convert        *\/\n-  \/*                    vertical metrics from font units to 26.6           *\/\n-  \/*                    fractional pixels.  Only relevant for scalable     *\/\n-  \/*                    font formats.                                      *\/\n-  \/*                                                                       *\/\n-  \/*    ascender     :: The ascender in 26.6 fractional pixels, rounded up *\/\n-  \/*                    to an integer value.  See @FT_FaceRec for the      *\/\n-  \/*                    details.                                           *\/\n-  \/*                                                                       *\/\n-  \/*    descender    :: The descender in 26.6 fractional pixels, rounded   *\/\n-  \/*                    down to an integer value.  See @FT_FaceRec for the *\/\n-  \/*                    details.                                           *\/\n-  \/*                                                                       *\/\n-  \/*    height       :: The height in 26.6 fractional pixels, rounded to   *\/\n-  \/*                    an integer value.  See @FT_FaceRec for the         *\/\n-  \/*                    details.                                           *\/\n-  \/*                                                                       *\/\n-  \/*    max_advance  :: The maximum advance width in 26.6 fractional       *\/\n-  \/*                    pixels, rounded to an integer value.  See          *\/\n-  \/*                    @FT_FaceRec for the details.                       *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The scaling values, if relevant, are determined first during a     *\/\n-  \/*    size changing operation.  The remaining fields are then set by the *\/\n-  \/*    driver.  For scalable formats, they are usually set to scaled      *\/\n-  \/*    values of the corresponding fields in @FT_FaceRec.  Some values    *\/\n-  \/*    like ascender or descender are rounded for historical reasons;     *\/\n-  \/*    more precise values (for outline fonts) can be derived by scaling  *\/\n-  \/*    the corresponding @FT_FaceRec values manually, with code similar   *\/\n-  \/*    to the following.                                                  *\/\n-  \/*                                                                       *\/\n-  \/*    {                                                                  *\/\n-  \/*      scaled_ascender = FT_MulFix( face->ascender,                     *\/\n-  \/*                                   size_metrics->y_scale );            *\/\n-  \/*    }                                                                  *\/\n-  \/*                                                                       *\/\n-  \/*    Note that due to glyph hinting and the selected rendering mode     *\/\n-  \/*    these values are usually not exact; consequently, they must be     *\/\n-  \/*    treated as unreliable with an error margin of at least one pixel!  *\/\n-  \/*                                                                       *\/\n-  \/*    Indeed, the only way to get the exact metrics is to render _all_   *\/\n-  \/*    glyphs.  As this would be a definite performance hit, it is up to  *\/\n-  \/*    client applications to perform such computations.                  *\/\n-  \/*                                                                       *\/\n-  \/*    The `FT_Size_Metrics' structure is valid for bitmap fonts also.    *\/\n-  \/*                                                                       *\/\n-  \/*                                                                       *\/\n-  \/*    *TrueType* *fonts* *with* *native* *bytecode* *hinting*            *\/\n-  \/*                                                                       *\/\n-  \/*    All applications that handle TrueType fonts with native hinting    *\/\n-  \/*    must be aware that TTFs expect different rounding of vertical font *\/\n-  \/*    dimensions.  The application has to cater for this, especially if  *\/\n-  \/*    it wants to rely on a TTF's vertical data (for example, to         *\/\n-  \/*    properly align box characters vertically).                         *\/\n-  \/*                                                                       *\/\n-  \/*    Only the application knows _in_ _advance_ that it is going to use  *\/\n-  \/*    native hinting for TTFs!  FreeType, on the other hand, selects the *\/\n-  \/*    hinting mode not at the time of creating an @FT_Size object but    *\/\n-  \/*    much later, namely while calling @FT_Load_Glyph.                   *\/\n-  \/*                                                                       *\/\n-  \/*    Here is some pseudo code that illustrates a possible solution.     *\/\n-  \/*                                                                       *\/\n-  \/*    {                                                                  *\/\n-  \/*      font_format = FT_Get_Font_Format( face );                        *\/\n-  \/*                                                                       *\/\n-  \/*      if ( !strcmp( font_format, \"TrueType\" ) &&                       *\/\n-  \/*           do_native_bytecode_hinting         )                        *\/\n-  \/*      {                                                                *\/\n-  \/*        ascender  = ROUND( FT_MulFix( face->ascender,                  *\/\n-  \/*                                      size_metrics->y_scale ) );       *\/\n-  \/*        descender = ROUND( FT_MulFix( face->descender,                 *\/\n-  \/*                                      size_metrics->y_scale ) );       *\/\n-  \/*      }                                                                *\/\n-  \/*      else                                                             *\/\n-  \/*      {                                                                *\/\n-  \/*        ascender  = size_metrics->ascender;                            *\/\n-  \/*        descender = size_metrics->descender;                           *\/\n-  \/*      }                                                                *\/\n-  \/*                                                                       *\/\n-  \/*      height      = size_metrics->height;                              *\/\n-  \/*      max_advance = size_metrics->max_advance;                         *\/\n-  \/*    }                                                                  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_Size_Metrics\n+   *\n+   * @description:\n+   *   The size metrics structure gives the metrics of a size object.\n+   *\n+   * @fields:\n+   *   x_ppem ::\n+   *     The width of the scaled EM square in pixels, hence the term 'ppem'\n+   *     (pixels per EM).  It is also referred to as 'nominal width'.\n+   *\n+   *   y_ppem ::\n+   *     The height of the scaled EM square in pixels, hence the term 'ppem'\n+   *     (pixels per EM).  It is also referred to as 'nominal height'.\n+   *\n+   *   x_scale ::\n+   *     A 16.16 fractional scaling value to convert horizontal metrics from\n+   *     font units to 26.6 fractional pixels.  Only relevant for scalable\n+   *     font formats.\n+   *\n+   *   y_scale ::\n+   *     A 16.16 fractional scaling value to convert vertical metrics from\n+   *     font units to 26.6 fractional pixels.  Only relevant for scalable\n+   *     font formats.\n+   *\n+   *   ascender ::\n+   *     The ascender in 26.6 fractional pixels, rounded up to an integer\n+   *     value.  See @FT_FaceRec for the details.\n+   *\n+   *   descender ::\n+   *     The descender in 26.6 fractional pixels, rounded down to an integer\n+   *     value.  See @FT_FaceRec for the details.\n+   *\n+   *   height ::\n+   *     The height in 26.6 fractional pixels, rounded to an integer value.\n+   *     See @FT_FaceRec for the details.\n+   *\n+   *   max_advance ::\n+   *     The maximum advance width in 26.6 fractional pixels, rounded to an\n+   *     integer value.  See @FT_FaceRec for the details.\n+   *\n+   * @note:\n+   *   The scaling values, if relevant, are determined first during a size\n+   *   changing operation.  The remaining fields are then set by the driver.\n+   *   For scalable formats, they are usually set to scaled values of the\n+   *   corresponding fields in @FT_FaceRec.  Some values like ascender or\n+   *   descender are rounded for historical reasons; more precise values (for\n+   *   outline fonts) can be derived by scaling the corresponding @FT_FaceRec\n+   *   values manually, with code similar to the following.\n+   *\n+   *   ```\n+   *     scaled_ascender = FT_MulFix( face->ascender,\n+   *                                  size_metrics->y_scale );\n+   *   ```\n+   *\n+   *   Note that due to glyph hinting and the selected rendering mode these\n+   *   values are usually not exact; consequently, they must be treated as\n+   *   unreliable with an error margin of at least one pixel!\n+   *\n+   *   Indeed, the only way to get the exact metrics is to render _all_\n+   *   glyphs.  As this would be a definite performance hit, it is up to\n+   *   client applications to perform such computations.\n+   *\n+   *   The `FT_Size_Metrics` structure is valid for bitmap fonts also.\n+   *\n+   *\n+   *   **TrueType fonts with native bytecode hinting**\n+   *\n+   *   All applications that handle TrueType fonts with native hinting must\n+   *   be aware that TTFs expect different rounding of vertical font\n+   *   dimensions.  The application has to cater for this, especially if it\n+   *   wants to rely on a TTF's vertical data (for example, to properly align\n+   *   box characters vertically).\n+   *\n+   *   Only the application knows _in advance_ that it is going to use native\n+   *   hinting for TTFs!  FreeType, on the other hand, selects the hinting\n+   *   mode not at the time of creating an @FT_Size object but much later,\n+   *   namely while calling @FT_Load_Glyph.\n+   *\n+   *   Here is some pseudo code that illustrates a possible solution.\n+   *\n+   *   ```\n+   *     font_format = FT_Get_Font_Format( face );\n+   *\n+   *     if ( !strcmp( font_format, \"TrueType\" ) &&\n+   *          do_native_bytecode_hinting         )\n+   *     {\n+   *       ascender  = ROUND( FT_MulFix( face->ascender,\n+   *                                     size_metrics->y_scale ) );\n+   *       descender = ROUND( FT_MulFix( face->descender,\n+   *                                     size_metrics->y_scale ) );\n+   *     }\n+   *     else\n+   *     {\n+   *       ascender  = size_metrics->ascender;\n+   *       descender = size_metrics->descender;\n+   *     }\n+   *\n+   *     height      = size_metrics->height;\n+   *     max_advance = size_metrics->max_advance;\n+   *   ```\n+   *\/\n@@ -1654,19 +1624,21 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_SizeRec                                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    FreeType root size class structure.  A size object models a face   *\/\n-  \/*    object at a given size.                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    face    :: Handle to the parent face object.                       *\/\n-  \/*                                                                       *\/\n-  \/*    generic :: A typeless pointer, unused by the FreeType library or   *\/\n-  \/*               any of its drivers.  It can be used by client           *\/\n-  \/*               applications to link their own data to each size        *\/\n-  \/*               object.                                                 *\/\n-  \/*                                                                       *\/\n-  \/*    metrics :: Metrics for this size object.  This field is read-only. *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_SizeRec\n+   *\n+   * @description:\n+   *   FreeType root size class structure.  A size object models a face\n+   *   object at a given size.\n+   *\n+   * @fields:\n+   *   face ::\n+   *     Handle to the parent face object.\n+   *\n+   *   generic ::\n+   *     A typeless pointer, unused by the FreeType library or any of its\n+   *     drivers.  It can be used by client applications to link their own\n+   *     data to each size object.\n+   *\n+   *   metrics ::\n+   *     Metrics for this size object.  This field is read-only.\n+   *\/\n@@ -1683,16 +1655,16 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_SubGlyph                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    The subglyph structure is an internal object used to describe      *\/\n-  \/*    subglyphs (for example, in the case of composites).                *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The subglyph implementation is not part of the high-level API,     *\/\n-  \/*    hence the forward structure declaration.                           *\/\n-  \/*                                                                       *\/\n-  \/*    You can however retrieve subglyph information with                 *\/\n-  \/*    @FT_Get_SubGlyph_Info.                                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_SubGlyph\n+   *\n+   * @description:\n+   *   The subglyph structure is an internal object used to describe\n+   *   subglyphs (for example, in the case of composites).\n+   *\n+   * @note:\n+   *   The subglyph implementation is not part of the high-level API, hence\n+   *   the forward structure declaration.\n+   *\n+   *   You can however retrieve subglyph information with\n+   *   @FT_Get_SubGlyph_Info.\n+   *\/\n@@ -1702,9 +1674,9 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_Slot_Internal                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    An opaque handle to an `FT_Slot_InternalRec' structure, used to    *\/\n-  \/*    model private data of a given @FT_GlyphSlot object.                *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_Slot_Internal\n+   *\n+   * @description:\n+   *   An opaque handle to an `FT_Slot_InternalRec` structure, used to model\n+   *   private data of a given @FT_GlyphSlot object.\n+   *\/\n@@ -1714,194 +1686,191 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_GlyphSlotRec                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    FreeType root glyph slot class structure.  A glyph slot is a       *\/\n-  \/*    container where individual glyphs can be loaded, be they in        *\/\n-  \/*    outline or bitmap format.                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    library           :: A handle to the FreeType library instance     *\/\n-  \/*                         this slot belongs to.                         *\/\n-  \/*                                                                       *\/\n-  \/*    face              :: A handle to the parent face object.           *\/\n-  \/*                                                                       *\/\n-  \/*    next              :: In some cases (like some font tools), several *\/\n-  \/*                         glyph slots per face object can be a good     *\/\n-  \/*                         thing.  As this is rare, the glyph slots are  *\/\n-  \/*                         listed through a direct, single-linked list   *\/\n-  \/*                         using its `next' field.                       *\/\n-  \/*                                                                       *\/\n-  \/*    generic           :: A typeless pointer unused by the FreeType     *\/\n-  \/*                         library or any of its drivers.  It can be     *\/\n-  \/*                         used by client applications to link their own *\/\n-  \/*                         data to each glyph slot object.               *\/\n-  \/*                                                                       *\/\n-  \/*    metrics           :: The metrics of the last loaded glyph in the   *\/\n-  \/*                         slot.  The returned values depend on the last *\/\n-  \/*                         load flags (see the @FT_Load_Glyph API        *\/\n-  \/*                         function) and can be expressed either in 26.6 *\/\n-  \/*                         fractional pixels or font units.              *\/\n-  \/*                                                                       *\/\n-  \/*                         Note that even when the glyph image is        *\/\n-  \/*                         transformed, the metrics are not.             *\/\n-  \/*                                                                       *\/\n-  \/*    linearHoriAdvance :: The advance width of the unhinted glyph.      *\/\n-  \/*                         Its value is expressed in 16.16 fractional    *\/\n-  \/*                         pixels, unless @FT_LOAD_LINEAR_DESIGN is set  *\/\n-  \/*                         when loading the glyph.  This field can be    *\/\n-  \/*                         important to perform correct WYSIWYG layout.  *\/\n-  \/*                         Only relevant for outline glyphs.             *\/\n-  \/*                                                                       *\/\n-  \/*    linearVertAdvance :: The advance height of the unhinted glyph.     *\/\n-  \/*                         Its value is expressed in 16.16 fractional    *\/\n-  \/*                         pixels, unless @FT_LOAD_LINEAR_DESIGN is set  *\/\n-  \/*                         when loading the glyph.  This field can be    *\/\n-  \/*                         important to perform correct WYSIWYG layout.  *\/\n-  \/*                         Only relevant for outline glyphs.             *\/\n-  \/*                                                                       *\/\n-  \/*    advance           :: This shorthand is, depending on               *\/\n-  \/*                         @FT_LOAD_IGNORE_TRANSFORM, the transformed    *\/\n-  \/*                         (hinted) advance width for the glyph, in 26.6 *\/\n-  \/*                         fractional pixel format.  As specified with   *\/\n-  \/*                         @FT_LOAD_VERTICAL_LAYOUT, it uses either the  *\/\n-  \/*                         `horiAdvance' or the `vertAdvance' value of   *\/\n-  \/*                         `metrics' field.                              *\/\n-  \/*                                                                       *\/\n-  \/*    format            :: This field indicates the format of the image  *\/\n-  \/*                         contained in the glyph slot.  Typically       *\/\n-  \/*                         @FT_GLYPH_FORMAT_BITMAP,                      *\/\n-  \/*                         @FT_GLYPH_FORMAT_OUTLINE, or                  *\/\n-  \/*                         @FT_GLYPH_FORMAT_COMPOSITE, but other values  *\/\n-  \/*                         are possible.                                 *\/\n-  \/*                                                                       *\/\n-  \/*    bitmap            :: This field is used as a bitmap descriptor.    *\/\n-  \/*                         Note that the address and content of the      *\/\n-  \/*                         bitmap buffer can change between calls of     *\/\n-  \/*                         @FT_Load_Glyph and a few other functions.     *\/\n-  \/*                                                                       *\/\n-  \/*    bitmap_left       :: The bitmap's left bearing expressed in        *\/\n-  \/*                         integer pixels.                               *\/\n-  \/*                                                                       *\/\n-  \/*    bitmap_top        :: The bitmap's top bearing expressed in integer *\/\n-  \/*                         pixels.  This is the distance from the        *\/\n-  \/*                         baseline to the top-most glyph scanline,      *\/\n-  \/*                         upwards y~coordinates being *positive*.       *\/\n-  \/*                                                                       *\/\n-  \/*    outline           :: The outline descriptor for the current glyph  *\/\n-  \/*                         image if its format is                        *\/\n-  \/*                         @FT_GLYPH_FORMAT_OUTLINE.  Once a glyph is    *\/\n-  \/*                         loaded, `outline' can be transformed,         *\/\n-  \/*                         distorted, emboldened, etc.  However, it must *\/\n-  \/*                         not be freed.                                 *\/\n-  \/*                                                                       *\/\n-  \/*    num_subglyphs     :: The number of subglyphs in a composite glyph. *\/\n-  \/*                         This field is only valid for the composite    *\/\n-  \/*                         glyph format that should normally only be     *\/\n-  \/*                         loaded with the @FT_LOAD_NO_RECURSE flag.     *\/\n-  \/*                                                                       *\/\n-  \/*    subglyphs         :: An array of subglyph descriptors for          *\/\n-  \/*                         composite glyphs.  There are `num_subglyphs'  *\/\n-  \/*                         elements in there.  Currently internal to     *\/\n-  \/*                         FreeType.                                     *\/\n-  \/*                                                                       *\/\n-  \/*    control_data      :: Certain font drivers can also return the      *\/\n-  \/*                         control data for a given glyph image (e.g.    *\/\n-  \/*                         TrueType bytecode, Type~1 charstrings, etc.). *\/\n-  \/*                         This field is a pointer to such data; it is   *\/\n-  \/*                         currently internal to FreeType.               *\/\n-  \/*                                                                       *\/\n-  \/*    control_len       :: This is the length in bytes of the control    *\/\n-  \/*                         data.  Currently internal to FreeType.        *\/\n-  \/*                                                                       *\/\n-  \/*    other             :: Reserved.                                     *\/\n-  \/*                                                                       *\/\n-  \/*    lsb_delta         :: The difference between hinted and unhinted    *\/\n-  \/*                         left side bearing while auto-hinting is       *\/\n-  \/*                         active.  Zero otherwise.                      *\/\n-  \/*                                                                       *\/\n-  \/*    rsb_delta         :: The difference between hinted and unhinted    *\/\n-  \/*                         right side bearing while auto-hinting is      *\/\n-  \/*                         active.  Zero otherwise.                      *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    If @FT_Load_Glyph is called with default flags (see                *\/\n-  \/*    @FT_LOAD_DEFAULT) the glyph image is loaded in the glyph slot in   *\/\n-  \/*    its native format (e.g., an outline glyph for TrueType and Type~1  *\/\n-  \/*    formats).  [Since 2.9] The prospective bitmap metrics are          *\/\n-  \/*    calculated according to @FT_LOAD_TARGET_XXX and other flags even   *\/\n-  \/*    for the outline glyph, even if @FT_LOAD_RENDER is not set.         *\/\n-  \/*                                                                       *\/\n-  \/*    This image can later be converted into a bitmap by calling         *\/\n-  \/*    @FT_Render_Glyph.  This function searches the current renderer for *\/\n-  \/*    the native image's format, then invokes it.                        *\/\n-  \/*                                                                       *\/\n-  \/*    The renderer is in charge of transforming the native image through *\/\n-  \/*    the slot's face transformation fields, then converting it into a   *\/\n-  \/*    bitmap that is returned in `slot->bitmap'.                         *\/\n-  \/*                                                                       *\/\n-  \/*    Note that `slot->bitmap_left' and `slot->bitmap_top' are also used *\/\n-  \/*    to specify the position of the bitmap relative to the current pen  *\/\n-  \/*    position (e.g., coordinates (0,0) on the baseline).  Of course,    *\/\n-  \/*    `slot->format' is also changed to @FT_GLYPH_FORMAT_BITMAP.         *\/\n-  \/*                                                                       *\/\n-  \/*    Here is a small pseudo code fragment that shows how to use         *\/\n-  \/*    `lsb_delta' and `rsb_delta' to do fractional positioning of        *\/\n-  \/*    glyphs:                                                            *\/\n-  \/*                                                                       *\/\n-  \/*    {                                                                  *\/\n-  \/*      FT_GlyphSlot  slot     = face->glyph;                            *\/\n-  \/*      FT_Pos        origin_x = 0;                                      *\/\n-  \/*                                                                       *\/\n-  \/*                                                                       *\/\n-  \/*      for all glyphs do                                                *\/\n-  \/*        <load glyph with `FT_Load_Glyph'>                              *\/\n-  \/*                                                                       *\/\n-  \/*        FT_Outline_Translate( slot->outline, origin_x & 63, 0 );       *\/\n-  \/*                                                                       *\/\n-  \/*        <save glyph image, or render glyph, or ...>                    *\/\n-  \/*                                                                       *\/\n-  \/*        <compute kern between current and next glyph                   *\/\n-  \/*         and add it to `origin_x'>                                     *\/\n-  \/*                                                                       *\/\n-  \/*        origin_x += slot->advance.x;                                   *\/\n-  \/*        origin_x += slot->rsb_delta - slot->lsb_delta;                 *\/\n-  \/*      endfor                                                           *\/\n-  \/*    }                                                                  *\/\n-  \/*                                                                       *\/\n-  \/*    Here is another small pseudo code fragment that shows how to use   *\/\n-  \/*    `lsb_delta' and `rsb_delta' to improve integer positioning of      *\/\n-  \/*    glyphs:                                                            *\/\n-  \/*                                                                       *\/\n-  \/*    {                                                                  *\/\n-  \/*      FT_GlyphSlot  slot           = face->glyph;                      *\/\n-  \/*      FT_Pos        origin_x       = 0;                                *\/\n-  \/*      FT_Pos        prev_rsb_delta = 0;                                *\/\n-  \/*                                                                       *\/\n-  \/*                                                                       *\/\n-  \/*      for all glyphs do                                                *\/\n-  \/*        <compute kern between current and previous glyph               *\/\n-  \/*         and add it to `origin_x'>                                     *\/\n-  \/*                                                                       *\/\n-  \/*        <load glyph with `FT_Load_Glyph'>                              *\/\n-  \/*                                                                       *\/\n-  \/*        if ( prev_rsb_delta - slot->lsb_delta >  32 )                  *\/\n-  \/*          origin_x -= 64;                                              *\/\n-  \/*        else if ( prev_rsb_delta - slot->lsb_delta < -31 )             *\/\n-  \/*          origin_x += 64;                                              *\/\n-  \/*                                                                       *\/\n-  \/*        prev_rsb_delta = slot->rsb_delta;                              *\/\n-  \/*                                                                       *\/\n-  \/*        <save glyph image, or render glyph, or ...>                    *\/\n-  \/*                                                                       *\/\n-  \/*        origin_x += slot->advance.x;                                   *\/\n-  \/*      endfor                                                           *\/\n-  \/*    }                                                                  *\/\n-  \/*                                                                       *\/\n-  \/*    If you use strong auto-hinting, you *must* apply these delta       *\/\n-  \/*    values!  Otherwise you will experience far too large inter-glyph   *\/\n-  \/*    spacing at small rendering sizes in most cases.  Note that it      *\/\n-  \/*    doesn't harm to use the above code for other hinting modes also,   *\/\n-  \/*    since the delta values are zero then.                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_GlyphSlotRec\n+   *\n+   * @description:\n+   *   FreeType root glyph slot class structure.  A glyph slot is a container\n+   *   where individual glyphs can be loaded, be they in outline or bitmap\n+   *   format.\n+   *\n+   * @fields:\n+   *   library ::\n+   *     A handle to the FreeType library instance this slot belongs to.\n+   *\n+   *   face ::\n+   *     A handle to the parent face object.\n+   *\n+   *   next ::\n+   *     In some cases (like some font tools), several glyph slots per face\n+   *     object can be a good thing.  As this is rare, the glyph slots are\n+   *     listed through a direct, single-linked list using its `next` field.\n+   *\n+   *   glyph_index ::\n+   *     [Since 2.10] The glyph index passed as an argument to @FT_Load_Glyph\n+   *     while initializing the glyph slot.\n+   *\n+   *   generic ::\n+   *     A typeless pointer unused by the FreeType library or any of its\n+   *     drivers.  It can be used by client applications to link their own\n+   *     data to each glyph slot object.\n+   *\n+   *   metrics ::\n+   *     The metrics of the last loaded glyph in the slot.  The returned\n+   *     values depend on the last load flags (see the @FT_Load_Glyph API\n+   *     function) and can be expressed either in 26.6 fractional pixels or\n+   *     font units.\n+   *\n+   *     Note that even when the glyph image is transformed, the metrics are\n+   *     not.\n+   *\n+   *   linearHoriAdvance ::\n+   *     The advance width of the unhinted glyph.  Its value is expressed in\n+   *     16.16 fractional pixels, unless @FT_LOAD_LINEAR_DESIGN is set when\n+   *     loading the glyph.  This field can be important to perform correct\n+   *     WYSIWYG layout.  Only relevant for outline glyphs.\n+   *\n+   *   linearVertAdvance ::\n+   *     The advance height of the unhinted glyph.  Its value is expressed in\n+   *     16.16 fractional pixels, unless @FT_LOAD_LINEAR_DESIGN is set when\n+   *     loading the glyph.  This field can be important to perform correct\n+   *     WYSIWYG layout.  Only relevant for outline glyphs.\n+   *\n+   *   advance ::\n+   *     This shorthand is, depending on @FT_LOAD_IGNORE_TRANSFORM, the\n+   *     transformed (hinted) advance width for the glyph, in 26.6 fractional\n+   *     pixel format.  As specified with @FT_LOAD_VERTICAL_LAYOUT, it uses\n+   *     either the `horiAdvance` or the `vertAdvance` value of `metrics`\n+   *     field.\n+   *\n+   *   format ::\n+   *     This field indicates the format of the image contained in the glyph\n+   *     slot.  Typically @FT_GLYPH_FORMAT_BITMAP, @FT_GLYPH_FORMAT_OUTLINE,\n+   *     or @FT_GLYPH_FORMAT_COMPOSITE, but other values are possible.\n+   *\n+   *   bitmap ::\n+   *     This field is used as a bitmap descriptor.  Note that the address\n+   *     and content of the bitmap buffer can change between calls of\n+   *     @FT_Load_Glyph and a few other functions.\n+   *\n+   *   bitmap_left ::\n+   *     The bitmap's left bearing expressed in integer pixels.\n+   *\n+   *   bitmap_top ::\n+   *     The bitmap's top bearing expressed in integer pixels.  This is the\n+   *     distance from the baseline to the top-most glyph scanline, upwards\n+   *     y~coordinates being **positive**.\n+   *\n+   *   outline ::\n+   *     The outline descriptor for the current glyph image if its format is\n+   *     @FT_GLYPH_FORMAT_OUTLINE.  Once a glyph is loaded, `outline` can be\n+   *     transformed, distorted, emboldened, etc.  However, it must not be\n+   *     freed.\n+   *\n+   *   num_subglyphs ::\n+   *     The number of subglyphs in a composite glyph.  This field is only\n+   *     valid for the composite glyph format that should normally only be\n+   *     loaded with the @FT_LOAD_NO_RECURSE flag.\n+   *\n+   *   subglyphs ::\n+   *     An array of subglyph descriptors for composite glyphs.  There are\n+   *     `num_subglyphs` elements in there.  Currently internal to FreeType.\n+   *\n+   *   control_data ::\n+   *     Certain font drivers can also return the control data for a given\n+   *     glyph image (e.g.  TrueType bytecode, Type~1 charstrings, etc.).\n+   *     This field is a pointer to such data; it is currently internal to\n+   *     FreeType.\n+   *\n+   *   control_len ::\n+   *     This is the length in bytes of the control data.  Currently internal\n+   *     to FreeType.\n+   *\n+   *   other ::\n+   *     Reserved.\n+   *\n+   *   lsb_delta ::\n+   *     The difference between hinted and unhinted left side bearing while\n+   *     auto-hinting is active.  Zero otherwise.\n+   *\n+   *   rsb_delta ::\n+   *     The difference between hinted and unhinted right side bearing while\n+   *     auto-hinting is active.  Zero otherwise.\n+   *\n+   * @note:\n+   *   If @FT_Load_Glyph is called with default flags (see @FT_LOAD_DEFAULT)\n+   *   the glyph image is loaded in the glyph slot in its native format\n+   *   (e.g., an outline glyph for TrueType and Type~1 formats).  [Since 2.9]\n+   *   The prospective bitmap metrics are calculated according to\n+   *   @FT_LOAD_TARGET_XXX and other flags even for the outline glyph, even\n+   *   if @FT_LOAD_RENDER is not set.\n+   *\n+   *   This image can later be converted into a bitmap by calling\n+   *   @FT_Render_Glyph.  This function searches the current renderer for the\n+   *   native image's format, then invokes it.\n+   *\n+   *   The renderer is in charge of transforming the native image through the\n+   *   slot's face transformation fields, then converting it into a bitmap\n+   *   that is returned in `slot->bitmap`.\n+   *\n+   *   Note that `slot->bitmap_left` and `slot->bitmap_top` are also used to\n+   *   specify the position of the bitmap relative to the current pen\n+   *   position (e.g., coordinates (0,0) on the baseline).  Of course,\n+   *   `slot->format` is also changed to @FT_GLYPH_FORMAT_BITMAP.\n+   *\n+   *   Here is a small pseudo code fragment that shows how to use `lsb_delta`\n+   *   and `rsb_delta` to do fractional positioning of glyphs:\n+   *\n+   *   ```\n+   *     FT_GlyphSlot  slot     = face->glyph;\n+   *     FT_Pos        origin_x = 0;\n+   *\n+   *\n+   *     for all glyphs do\n+   *       <load glyph with `FT_Load_Glyph'>\n+   *\n+   *       FT_Outline_Translate( slot->outline, origin_x & 63, 0 );\n+   *\n+   *       <save glyph image, or render glyph, or ...>\n+   *\n+   *       <compute kern between current and next glyph\n+   *        and add it to `origin_x'>\n+   *\n+   *       origin_x += slot->advance.x;\n+   *       origin_x += slot->lsb_delta - slot->rsb_delta;\n+   *     endfor\n+   *   ```\n+   *\n+   *   Here is another small pseudo code fragment that shows how to use\n+   *   `lsb_delta` and `rsb_delta` to improve integer positioning of glyphs:\n+   *\n+   *   ```\n+   *     FT_GlyphSlot  slot           = face->glyph;\n+   *     FT_Pos        origin_x       = 0;\n+   *     FT_Pos        prev_rsb_delta = 0;\n+   *\n+   *\n+   *     for all glyphs do\n+   *       <compute kern between current and previous glyph\n+   *        and add it to `origin_x'>\n+   *\n+   *       <load glyph with `FT_Load_Glyph'>\n+   *\n+   *       if ( prev_rsb_delta - slot->lsb_delta >  32 )\n+   *         origin_x -= 64;\n+   *       else if ( prev_rsb_delta - slot->lsb_delta < -31 )\n+   *         origin_x += 64;\n+   *\n+   *       prev_rsb_delta = slot->rsb_delta;\n+   *\n+   *       <save glyph image, or render glyph, or ...>\n+   *\n+   *       origin_x += slot->advance.x;\n+   *     endfor\n+   *   ```\n+   *\n+   *   If you use strong auto-hinting, you **must** apply these delta values!\n+   *   Otherwise you will experience far too large inter-glyph spacing at\n+   *   small rendering sizes in most cases.  Note that it doesn't harm to use\n+   *   the above code for other hinting modes also, since the delta values\n+   *   are zero then.\n+   *\/\n@@ -1913,1 +1882,1 @@\n-    FT_UInt           reserved;       \/* retained for binary compatibility *\/\n+    FT_UInt           glyph_index; \/* new in 2.10; was reserved previously *\/\n@@ -1954,32 +1923,33 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Init_FreeType                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Initialize a new FreeType library object.  The set of modules      *\/\n-  \/*    that are registered by this function is determined at build time.  *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    alibrary :: A handle to a new library object.                      *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    In case you want to provide your own memory allocating routines,   *\/\n-  \/*    use @FT_New_Library instead, followed by a call to                 *\/\n-  \/*    @FT_Add_Default_Modules (or a series of calls to @FT_Add_Module)   *\/\n-  \/*    and @FT_Set_Default_Properties.                                    *\/\n-  \/*                                                                       *\/\n-  \/*    See the documentation of @FT_Library and @FT_Face for              *\/\n-  \/*    multi-threading issues.                                            *\/\n-  \/*                                                                       *\/\n-  \/*    If you need reference-counting (cf. @FT_Reference_Library), use    *\/\n-  \/*    @FT_New_Library and @FT_Done_Library.                              *\/\n-  \/*                                                                       *\/\n-  \/*    If compilation option FT_CONFIG_OPTION_ENVIRONMENT_PROPERTIES is   *\/\n-  \/*    set, this function reads the `FREETYPE_PROPERTIES' environment     *\/\n-  \/*    variable to control driver properties.  See section @properties    *\/\n-  \/*    for more.                                                          *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Init_FreeType\n+   *\n+   * @description:\n+   *   Initialize a new FreeType library object.  The set of modules that are\n+   *   registered by this function is determined at build time.\n+   *\n+   * @output:\n+   *   alibrary ::\n+   *     A handle to a new library object.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   In case you want to provide your own memory allocating routines, use\n+   *   @FT_New_Library instead, followed by a call to @FT_Add_Default_Modules\n+   *   (or a series of calls to @FT_Add_Module) and\n+   *   @FT_Set_Default_Properties.\n+   *\n+   *   See the documentation of @FT_Library and @FT_Face for multi-threading\n+   *   issues.\n+   *\n+   *   If you need reference-counting (cf. @FT_Reference_Library), use\n+   *   @FT_New_Library and @FT_Done_Library.\n+   *\n+   *   If compilation option `FT_CONFIG_OPTION_ENVIRONMENT_PROPERTIES` is\n+   *   set, this function reads the `FREETYPE_PROPERTIES` environment\n+   *   variable to control driver properties.  See section @properties for\n+   *   more.\n+   *\/\n@@ -1990,15 +1960,16 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Done_FreeType                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Destroy a given FreeType library object and all of its children,   *\/\n-  \/*    including resources, drivers, faces, sizes, etc.                   *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    library :: A handle to the target library object.                  *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Done_FreeType\n+   *\n+   * @description:\n+   *   Destroy a given FreeType library object and all of its children,\n+   *   including resources, drivers, faces, sizes, etc.\n+   *\n+   * @input:\n+   *   library ::\n+   *     A handle to the target library object.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\/\n@@ -2009,25 +1980,29 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Enum>                                                                *\/\n-  \/*    FT_OPEN_XXX                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A list of bit field constants used within the `flags' field of the *\/\n-  \/*    @FT_Open_Args structure.                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Values>                                                              *\/\n-  \/*    FT_OPEN_MEMORY   :: This is a memory-based stream.                 *\/\n-  \/*                                                                       *\/\n-  \/*    FT_OPEN_STREAM   :: Copy the stream from the `stream' field.       *\/\n-  \/*                                                                       *\/\n-  \/*    FT_OPEN_PATHNAME :: Create a new input stream from a C~path        *\/\n-  \/*                        name.                                          *\/\n-  \/*                                                                       *\/\n-  \/*    FT_OPEN_DRIVER   :: Use the `driver' field.                        *\/\n-  \/*                                                                       *\/\n-  \/*    FT_OPEN_PARAMS   :: Use the `num_params' and `params' fields.      *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The `FT_OPEN_MEMORY', `FT_OPEN_STREAM', and `FT_OPEN_PATHNAME'     *\/\n-  \/*    flags are mutually exclusive.                                      *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @enum:\n+   *   FT_OPEN_XXX\n+   *\n+   * @description:\n+   *   A list of bit field constants used within the `flags` field of the\n+   *   @FT_Open_Args structure.\n+   *\n+   * @values:\n+   *   FT_OPEN_MEMORY ::\n+   *     This is a memory-based stream.\n+   *\n+   *   FT_OPEN_STREAM ::\n+   *     Copy the stream from the `stream` field.\n+   *\n+   *   FT_OPEN_PATHNAME ::\n+   *     Create a new input stream from a C~path name.\n+   *\n+   *   FT_OPEN_DRIVER ::\n+   *     Use the `driver` field.\n+   *\n+   *   FT_OPEN_PARAMS ::\n+   *     Use the `num_params` and `params` fields.\n+   *\n+   * @note:\n+   *   The `FT_OPEN_MEMORY`, `FT_OPEN_STREAM`, and `FT_OPEN_PATHNAME` flags\n+   *   are mutually exclusive.\n+   *\/\n@@ -2041,1 +2016,1 @@\n-  \/* these constants are deprecated; use the corresponding `FT_OPEN_XXX' *\/\n+  \/* these constants are deprecated; use the corresponding `FT_OPEN_XXX` *\/\n@@ -2050,21 +2025,23 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_Parameter                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A simple structure to pass more or less generic parameters to      *\/\n-  \/*    @FT_Open_Face and @FT_Face_Properties.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    tag  :: A four-byte identification tag.                            *\/\n-  \/*                                                                       *\/\n-  \/*    data :: A pointer to the parameter data.                           *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The ID and function of parameters are driver-specific.  See the    *\/\n-  \/*    various FT_PARAM_TAG_XXX flags for more information.               *\/\n-  \/*                                                                       *\/\n-  typedef struct  FT_Parameter_\n-  {\n-    FT_ULong    tag;\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_Parameter\n+   *\n+   * @description:\n+   *   A simple structure to pass more or less generic parameters to\n+   *   @FT_Open_Face and @FT_Face_Properties.\n+   *\n+   * @fields:\n+   *   tag ::\n+   *     A four-byte identification tag.\n+   *\n+   *   data ::\n+   *     A pointer to the parameter data.\n+   *\n+   * @note:\n+   *   The ID and function of parameters are driver-specific.  See section\n+   *   @parameter_tags for more information.\n+   *\/\n+  typedef struct  FT_Parameter_\n+  {\n+    FT_ULong    tag;\n@@ -2076,59 +2053,63 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_Open_Args                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure to indicate how to open a new font file or stream.  A  *\/\n-  \/*    pointer to such a structure can be used as a parameter for the     *\/\n-  \/*    functions @FT_Open_Face and @FT_Attach_Stream.                     *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    flags       :: A set of bit flags indicating how to use the        *\/\n-  \/*                   structure.                                          *\/\n-  \/*                                                                       *\/\n-  \/*    memory_base :: The first byte of the file in memory.               *\/\n-  \/*                                                                       *\/\n-  \/*    memory_size :: The size in bytes of the file in memory.            *\/\n-  \/*                                                                       *\/\n-  \/*    pathname    :: A pointer to an 8-bit file pathname.                *\/\n-  \/*                                                                       *\/\n-  \/*    stream      :: A handle to a source stream object.                 *\/\n-  \/*                                                                       *\/\n-  \/*    driver      :: This field is exclusively used by @FT_Open_Face;    *\/\n-  \/*                   it simply specifies the font driver to use for      *\/\n-  \/*                   opening the face.  If set to NULL, FreeType tries   *\/\n-  \/*                   to load the face with each one of the drivers in    *\/\n-  \/*                   its list.                                           *\/\n-  \/*                                                                       *\/\n-  \/*    num_params  :: The number of extra parameters.                     *\/\n-  \/*                                                                       *\/\n-  \/*    params      :: Extra parameters passed to the font driver when     *\/\n-  \/*                   opening a new face.                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The stream type is determined by the contents of `flags' that      *\/\n-  \/*    are tested in the following order by @FT_Open_Face:                *\/\n-  \/*                                                                       *\/\n-  \/*    If the @FT_OPEN_MEMORY bit is set, assume that this is a           *\/\n-  \/*    memory file of `memory_size' bytes, located at `memory_address'.   *\/\n-  \/*    The data are not copied, and the client is responsible for         *\/\n-  \/*    releasing and destroying them _after_ the corresponding call to    *\/\n-  \/*    @FT_Done_Face.                                                     *\/\n-  \/*                                                                       *\/\n-  \/*    Otherwise, if the @FT_OPEN_STREAM bit is set, assume that a        *\/\n-  \/*    custom input stream `stream' is used.                              *\/\n-  \/*                                                                       *\/\n-  \/*    Otherwise, if the @FT_OPEN_PATHNAME bit is set, assume that this   *\/\n-  \/*    is a normal file and use `pathname' to open it.                    *\/\n-  \/*                                                                       *\/\n-  \/*    If the @FT_OPEN_DRIVER bit is set, @FT_Open_Face only tries to     *\/\n-  \/*    open the file with the driver whose handler is in `driver'.        *\/\n-  \/*                                                                       *\/\n-  \/*    If the @FT_OPEN_PARAMS bit is set, the parameters given by         *\/\n-  \/*    `num_params' and `params' is used.  They are ignored otherwise.    *\/\n-  \/*                                                                       *\/\n-  \/*    Ideally, both the `pathname' and `params' fields should be tagged  *\/\n-  \/*    as `const'; this is missing for API backward compatibility.  In    *\/\n-  \/*    other words, applications should treat them as read-only.          *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_Open_Args\n+   *\n+   * @description:\n+   *   A structure to indicate how to open a new font file or stream.  A\n+   *   pointer to such a structure can be used as a parameter for the\n+   *   functions @FT_Open_Face and @FT_Attach_Stream.\n+   *\n+   * @fields:\n+   *   flags ::\n+   *     A set of bit flags indicating how to use the structure.\n+   *\n+   *   memory_base ::\n+   *     The first byte of the file in memory.\n+   *\n+   *   memory_size ::\n+   *     The size in bytes of the file in memory.\n+   *\n+   *   pathname ::\n+   *     A pointer to an 8-bit file pathname.\n+   *\n+   *   stream ::\n+   *     A handle to a source stream object.\n+   *\n+   *   driver ::\n+   *     This field is exclusively used by @FT_Open_Face; it simply specifies\n+   *     the font driver to use for opening the face.  If set to `NULL`,\n+   *     FreeType tries to load the face with each one of the drivers in its\n+   *     list.\n+   *\n+   *   num_params ::\n+   *     The number of extra parameters.\n+   *\n+   *   params ::\n+   *     Extra parameters passed to the font driver when opening a new face.\n+   *\n+   * @note:\n+   *   The stream type is determined by the contents of `flags` that are\n+   *   tested in the following order by @FT_Open_Face:\n+   *\n+   *   If the @FT_OPEN_MEMORY bit is set, assume that this is a memory file\n+   *   of `memory_size` bytes, located at `memory_address`.  The data are not\n+   *   copied, and the client is responsible for releasing and destroying\n+   *   them _after_ the corresponding call to @FT_Done_Face.\n+   *\n+   *   Otherwise, if the @FT_OPEN_STREAM bit is set, assume that a custom\n+   *   input stream `stream` is used.\n+   *\n+   *   Otherwise, if the @FT_OPEN_PATHNAME bit is set, assume that this is a\n+   *   normal file and use `pathname` to open it.\n+   *\n+   *   If the @FT_OPEN_DRIVER bit is set, @FT_Open_Face only tries to open\n+   *   the file with the driver whose handler is in `driver`.\n+   *\n+   *   If the @FT_OPEN_PARAMS bit is set, the parameters given by\n+   *   `num_params` and `params` is used.  They are ignored otherwise.\n+   *\n+   *   Ideally, both the `pathname` and `params` fields should be tagged as\n+   *   'const'; this is missing for API backward compatibility.  In other\n+   *   words, applications should treat them as read-only.\n+   *\/\n@@ -2149,28 +2130,31 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_New_Face                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Call @FT_Open_Face to open a font by its pathname.                 *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    library    :: A handle to the library resource.                    *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    pathname   :: A path to the font file.                             *\/\n-  \/*                                                                       *\/\n-  \/*    face_index :: See @FT_Open_Face for a detailed description of this *\/\n-  \/*                  parameter.                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    aface      :: A handle to a new face object.  If `face_index' is   *\/\n-  \/*                  greater than or equal to zero, it must be non-NULL.  *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    Use @FT_Done_Face to destroy the created @FT_Face object (along    *\/\n-  \/*    with its slot and sizes).                                          *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_New_Face\n+   *\n+   * @description:\n+   *   Call @FT_Open_Face to open a font by its pathname.\n+   *\n+   * @inout:\n+   *   library ::\n+   *     A handle to the library resource.\n+   *\n+   * @input:\n+   *   pathname ::\n+   *     A path to the font file.\n+   *\n+   *   face_index ::\n+   *     See @FT_Open_Face for a detailed description of this parameter.\n+   *\n+   * @output:\n+   *   aface ::\n+   *     A handle to a new face object.  If `face_index` is greater than or\n+   *     equal to zero, it must be non-`NULL`.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   Use @FT_Done_Face to destroy the created @FT_Face object (along with\n+   *   its slot and sizes).\n+   *\/\n@@ -2184,30 +2168,33 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_New_Memory_Face                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Call @FT_Open_Face to open a font that has been loaded into        *\/\n-  \/*    memory.                                                            *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    library    :: A handle to the library resource.                    *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    file_base  :: A pointer to the beginning of the font data.         *\/\n-  \/*                                                                       *\/\n-  \/*    file_size  :: The size of the memory chunk used by the font data.  *\/\n-  \/*                                                                       *\/\n-  \/*    face_index :: See @FT_Open_Face for a detailed description of this *\/\n-  \/*                  parameter.                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    aface      :: A handle to a new face object.  If `face_index' is   *\/\n-  \/*                  greater than or equal to zero, it must be non-NULL.  *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    You must not deallocate the memory before calling @FT_Done_Face.   *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_New_Memory_Face\n+   *\n+   * @description:\n+   *   Call @FT_Open_Face to open a font that has been loaded into memory.\n+   *\n+   * @inout:\n+   *   library ::\n+   *     A handle to the library resource.\n+   *\n+   * @input:\n+   *   file_base ::\n+   *     A pointer to the beginning of the font data.\n+   *\n+   *   file_size ::\n+   *     The size of the memory chunk used by the font data.\n+   *\n+   *   face_index ::\n+   *     See @FT_Open_Face for a detailed description of this parameter.\n+   *\n+   * @output:\n+   *   aface ::\n+   *     A handle to a new face object.  If `face_index` is greater than or\n+   *     equal to zero, it must be non-`NULL`.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   You must not deallocate the memory before calling @FT_Done_Face.\n+   *\/\n@@ -2222,141 +2209,137 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Open_Face                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Create a face object from a given resource described by            *\/\n-  \/*    @FT_Open_Args.                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    library    :: A handle to the library resource.                    *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    args       :: A pointer to an `FT_Open_Args' structure that must   *\/\n-  \/*                  be filled by the caller.                             *\/\n-  \/*                                                                       *\/\n-  \/*    face_index :: This field holds two different values.  Bits 0-15    *\/\n-  \/*                  are the index of the face in the font file (starting *\/\n-  \/*                  with value~0).  Set it to~0 if there is only one     *\/\n-  \/*                  face in the font file.                               *\/\n-  \/*                                                                       *\/\n-  \/*                  [Since 2.6.1] Bits 16-30 are relevant to GX and      *\/\n-  \/*                  OpenType variation fonts only, specifying the named  *\/\n-  \/*                  instance index for the current face index (starting  *\/\n-  \/*                  with value~1; value~0 makes FreeType ignore named    *\/\n-  \/*                  instances).  For non-variation fonts, bits 16-30 are *\/\n-  \/*                  ignored.  Assuming that you want to access the third *\/\n-  \/*                  named instance in face~4, `face_index' should be set *\/\n-  \/*                  to 0x00030004.  If you want to access face~4 without *\/\n-  \/*                  variation handling, simply set `face_index' to       *\/\n-  \/*                  value~4.                                             *\/\n-  \/*                                                                       *\/\n-  \/*                  `FT_Open_Face' and its siblings can be used to       *\/\n-  \/*                  quickly check whether the font format of a given     *\/\n-  \/*                  font resource is supported by FreeType.  In general, *\/\n-  \/*                  if the `face_index' argument is negative, the        *\/\n-  \/*                  function's return value is~0 if the font format is   *\/\n-  \/*                  recognized, or non-zero otherwise.  The function     *\/\n-  \/*                  allocates a more or less empty face handle in        *\/\n-  \/*                  `*aface' (if `aface' isn't NULL); the only two       *\/\n-  \/*                  useful fields in this special case are               *\/\n-  \/*                  `face->num_faces' and `face->style_flags'.  For any  *\/\n-  \/*                  negative value of `face_index', `face->num_faces'    *\/\n-  \/*                  gives the number of faces within the font file.  For *\/\n-  \/*                  the negative value `-(N+1)' (with `N' a non-negative *\/\n-  \/*                  16-bit value), bits 16-30 in `face->style_flags'     *\/\n-  \/*                  give the number of named instances in face `N' if we *\/\n-  \/*                  have a variation font (or zero otherwise).  After    *\/\n-  \/*                  examination, the returned @FT_Face structure should  *\/\n-  \/*                  be deallocated with a call to @FT_Done_Face.         *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    aface      :: A handle to a new face object.  If `face_index' is   *\/\n-  \/*                  greater than or equal to zero, it must be non-NULL.  *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    Unlike FreeType 1.x, this function automatically creates a glyph   *\/\n-  \/*    slot for the face object that can be accessed directly through     *\/\n-  \/*    `face->glyph'.                                                     *\/\n-  \/*                                                                       *\/\n-  \/*    Each new face object created with this function also owns a        *\/\n-  \/*    default @FT_Size object, accessible as `face->size'.               *\/\n-  \/*                                                                       *\/\n-  \/*    One @FT_Library instance can have multiple face objects, this is,  *\/\n-  \/*    @FT_Open_Face and its siblings can be called multiple times using  *\/\n-  \/*    the same `library' argument.                                       *\/\n-  \/*                                                                       *\/\n-  \/*    See the discussion of reference counters in the description of     *\/\n-  \/*    @FT_Reference_Face.                                                *\/\n-  \/*                                                                       *\/\n-  \/*    To loop over all faces, use code similar to the following snippet  *\/\n-  \/*    (omitting the error handling).                                     *\/\n-  \/*                                                                       *\/\n-  \/*    {                                                                  *\/\n-  \/*      ...                                                              *\/\n-  \/*      FT_Face  face;                                                   *\/\n-  \/*      FT_Long  i, num_faces;                                           *\/\n-  \/*                                                                       *\/\n-  \/*                                                                       *\/\n-  \/*      error = FT_Open_Face( library, args, -1, &face );                *\/\n-  \/*      if ( error ) { ... }                                             *\/\n-  \/*                                                                       *\/\n-  \/*      num_faces = face->num_faces;                                     *\/\n-  \/*      FT_Done_Face( face );                                            *\/\n-  \/*                                                                       *\/\n-  \/*      for ( i = 0; i < num_faces; i++ )                                *\/\n-  \/*      {                                                                *\/\n-  \/*        ...                                                            *\/\n-  \/*        error = FT_Open_Face( library, args, i, &face );               *\/\n-  \/*        ...                                                            *\/\n-  \/*        FT_Done_Face( face );                                          *\/\n-  \/*        ...                                                            *\/\n-  \/*      }                                                                *\/\n-  \/*    }                                                                  *\/\n-  \/*                                                                       *\/\n-  \/*    To loop over all valid values for `face_index', use something      *\/\n-  \/*    similar to the following snippet, again without error handling.    *\/\n-  \/*    The code accesses all faces immediately (thus only a single call   *\/\n-  \/*    of `FT_Open_Face' within the do-loop), with and without named      *\/\n-  \/*    instances.                                                         *\/\n-  \/*                                                                       *\/\n-  \/*    {                                                                  *\/\n-  \/*      ...                                                              *\/\n-  \/*      FT_Face  face;                                                   *\/\n-  \/*                                                                       *\/\n-  \/*      FT_Long  num_faces     = 0;                                      *\/\n-  \/*      FT_Long  num_instances = 0;                                      *\/\n-  \/*                                                                       *\/\n-  \/*      FT_Long  face_idx     = 0;                                       *\/\n-  \/*      FT_Long  instance_idx = 0;                                       *\/\n-  \/*                                                                       *\/\n-  \/*                                                                       *\/\n-  \/*      do                                                               *\/\n-  \/*      {                                                                *\/\n-  \/*        FT_Long  id = ( instance_idx << 16 ) + face_idx;               *\/\n-  \/*                                                                       *\/\n-  \/*                                                                       *\/\n-  \/*        error = FT_Open_Face( library, args, id, &face );              *\/\n-  \/*        if ( error ) { ... }                                           *\/\n-  \/*                                                                       *\/\n-  \/*        num_faces     = face->num_faces;                               *\/\n-  \/*        num_instances = face->style_flags >> 16;                       *\/\n-  \/*                                                                       *\/\n-  \/*        ...                                                            *\/\n-  \/*                                                                       *\/\n-  \/*        FT_Done_Face( face );                                          *\/\n-  \/*                                                                       *\/\n-  \/*        if ( instance_idx < num_instances )                            *\/\n-  \/*          instance_idx++;                                              *\/\n-  \/*        else                                                           *\/\n-  \/*        {                                                              *\/\n-  \/*          face_idx++;                                                  *\/\n-  \/*          instance_idx = 0;                                            *\/\n-  \/*        }                                                              *\/\n-  \/*                                                                       *\/\n-  \/*      } while ( face_idx < num_faces )                                 *\/\n-  \/*    }                                                                  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Open_Face\n+   *\n+   * @description:\n+   *   Create a face object from a given resource described by @FT_Open_Args.\n+   *\n+   * @inout:\n+   *   library ::\n+   *     A handle to the library resource.\n+   *\n+   * @input:\n+   *   args ::\n+   *     A pointer to an `FT_Open_Args` structure that must be filled by the\n+   *     caller.\n+   *\n+   *   face_index ::\n+   *     This field holds two different values.  Bits 0-15 are the index of\n+   *     the face in the font file (starting with value~0).  Set it to~0 if\n+   *     there is only one face in the font file.\n+   *\n+   *     [Since 2.6.1] Bits 16-30 are relevant to GX and OpenType variation\n+   *     fonts only, specifying the named instance index for the current face\n+   *     index (starting with value~1; value~0 makes FreeType ignore named\n+   *     instances).  For non-variation fonts, bits 16-30 are ignored.\n+   *     Assuming that you want to access the third named instance in face~4,\n+   *     `face_index` should be set to 0x00030004.  If you want to access\n+   *     face~4 without variation handling, simply set `face_index` to\n+   *     value~4.\n+   *\n+   *     `FT_Open_Face` and its siblings can be used to quickly check whether\n+   *     the font format of a given font resource is supported by FreeType.\n+   *     In general, if the `face_index` argument is negative, the function's\n+   *     return value is~0 if the font format is recognized, or non-zero\n+   *     otherwise.  The function allocates a more or less empty face handle\n+   *     in `*aface` (if `aface` isn't `NULL`); the only two useful fields in\n+   *     this special case are `face->num_faces` and `face->style_flags`.\n+   *     For any negative value of `face_index`, `face->num_faces` gives the\n+   *     number of faces within the font file.  For the negative value\n+   *     '-(N+1)' (with 'N' a non-negative 16-bit value), bits 16-30 in\n+   *     `face->style_flags` give the number of named instances in face 'N'\n+   *     if we have a variation font (or zero otherwise).  After examination,\n+   *     the returned @FT_Face structure should be deallocated with a call to\n+   *     @FT_Done_Face.\n+   *\n+   * @output:\n+   *   aface ::\n+   *     A handle to a new face object.  If `face_index` is greater than or\n+   *     equal to zero, it must be non-`NULL`.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   Unlike FreeType 1.x, this function automatically creates a glyph slot\n+   *   for the face object that can be accessed directly through\n+   *   `face->glyph`.\n+   *\n+   *   Each new face object created with this function also owns a default\n+   *   @FT_Size object, accessible as `face->size`.\n+   *\n+   *   One @FT_Library instance can have multiple face objects, this is,\n+   *   @FT_Open_Face and its siblings can be called multiple times using the\n+   *   same `library` argument.\n+   *\n+   *   See the discussion of reference counters in the description of\n+   *   @FT_Reference_Face.\n+   *\n+   * @example:\n+   *   To loop over all faces, use code similar to the following snippet\n+   *   (omitting the error handling).\n+   *\n+   *   ```\n+   *     ...\n+   *     FT_Face  face;\n+   *     FT_Long  i, num_faces;\n+   *\n+   *\n+   *     error = FT_Open_Face( library, args, -1, &face );\n+   *     if ( error ) { ... }\n+   *\n+   *     num_faces = face->num_faces;\n+   *     FT_Done_Face( face );\n+   *\n+   *     for ( i = 0; i < num_faces; i++ )\n+   *     {\n+   *       ...\n+   *       error = FT_Open_Face( library, args, i, &face );\n+   *       ...\n+   *       FT_Done_Face( face );\n+   *       ...\n+   *     }\n+   *   ```\n+   *\n+   *   To loop over all valid values for `face_index`, use something similar\n+   *   to the following snippet, again without error handling.  The code\n+   *   accesses all faces immediately (thus only a single call of\n+   *   `FT_Open_Face` within the do-loop), with and without named instances.\n+   *\n+   *   ```\n+   *     ...\n+   *     FT_Face  face;\n+   *\n+   *     FT_Long  num_faces     = 0;\n+   *     FT_Long  num_instances = 0;\n+   *\n+   *     FT_Long  face_idx     = 0;\n+   *     FT_Long  instance_idx = 0;\n+   *\n+   *\n+   *     do\n+   *     {\n+   *       FT_Long  id = ( instance_idx << 16 ) + face_idx;\n+   *\n+   *\n+   *       error = FT_Open_Face( library, args, id, &face );\n+   *       if ( error ) { ... }\n+   *\n+   *       num_faces     = face->num_faces;\n+   *       num_instances = face->style_flags >> 16;\n+   *\n+   *       ...\n+   *\n+   *       FT_Done_Face( face );\n+   *\n+   *       if ( instance_idx < num_instances )\n+   *         instance_idx++;\n+   *       else\n+   *       {\n+   *         face_idx++;\n+   *         instance_idx = 0;\n+   *       }\n+   *\n+   *     } while ( face_idx < num_faces )\n+   *   ```\n+   *\/\n@@ -2370,17 +2353,19 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Attach_File                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Call @FT_Attach_Stream to attach a file.                           *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    face         :: The target face object.                            *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    filepathname :: The pathname.                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Attach_File\n+   *\n+   * @description:\n+   *   Call @FT_Attach_Stream to attach a file.\n+   *\n+   * @inout:\n+   *   face ::\n+   *     The target face object.\n+   *\n+   * @input:\n+   *   filepathname ::\n+   *     The pathname.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\/\n@@ -2392,30 +2377,31 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Attach_Stream                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    `Attach' data to a face object.  Normally, this is used to read    *\/\n-  \/*    additional information for the face object.  For example, you can  *\/\n-  \/*    attach an AFM file that comes with a Type~1 font to get the        *\/\n-  \/*    kerning values and other metrics.                                  *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    face       :: The target face object.                              *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    parameters :: A pointer to @FT_Open_Args that must be filled by    *\/\n-  \/*                  the caller.                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The meaning of the `attach' (i.e., what really happens when the    *\/\n-  \/*    new file is read) is not fixed by FreeType itself.  It really      *\/\n-  \/*    depends on the font format (and thus the font driver).             *\/\n-  \/*                                                                       *\/\n-  \/*    Client applications are expected to know what they are doing       *\/\n-  \/*    when invoking this function.  Most drivers simply do not implement *\/\n-  \/*    file or stream attachments.                                        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Attach_Stream\n+   *\n+   * @description:\n+   *   'Attach' data to a face object.  Normally, this is used to read\n+   *   additional information for the face object.  For example, you can\n+   *   attach an AFM file that comes with a Type~1 font to get the kerning\n+   *   values and other metrics.\n+   *\n+   * @inout:\n+   *   face ::\n+   *     The target face object.\n+   *\n+   * @input:\n+   *   parameters ::\n+   *     A pointer to @FT_Open_Args that must be filled by the caller.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   The meaning of the 'attach' (i.e., what really happens when the new\n+   *   file is read) is not fixed by FreeType itself.  It really depends on\n+   *   the font format (and thus the font driver).\n+   *\n+   *   Client applications are expected to know what they are doing when\n+   *   invoking this function.  Most drivers simply do not implement file or\n+   *   stream attachments.\n+   *\/\n@@ -2427,23 +2413,24 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Reference_Face                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A counter gets initialized to~1 at the time an @FT_Face structure  *\/\n-  \/*    is created.  This function increments the counter.  @FT_Done_Face  *\/\n-  \/*    then only destroys a face if the counter is~1, otherwise it simply *\/\n-  \/*    decrements the counter.                                            *\/\n-  \/*                                                                       *\/\n-  \/*    This function helps in managing life-cycles of structures that     *\/\n-  \/*    reference @FT_Face objects.                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face :: A handle to a target face object.                          *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Since>                                                               *\/\n-  \/*    2.4.2                                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Reference_Face\n+   *\n+   * @description:\n+   *   A counter gets initialized to~1 at the time an @FT_Face structure is\n+   *   created.  This function increments the counter.  @FT_Done_Face then\n+   *   only destroys a face if the counter is~1, otherwise it simply\n+   *   decrements the counter.\n+   *\n+   *   This function helps in managing life-cycles of structures that\n+   *   reference @FT_Face objects.\n+   *\n+   * @input:\n+   *   face ::\n+   *     A handle to a target face object.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @since:\n+   *   2.4.2\n+   *\/\n@@ -2454,19 +2441,20 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Done_Face                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Discard a given face object, as well as all of its child slots and *\/\n-  \/*    sizes.                                                             *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face :: A handle to a target face object.                          *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    See the discussion of reference counters in the description of     *\/\n-  \/*    @FT_Reference_Face.                                                *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Done_Face\n+   *\n+   * @description:\n+   *   Discard a given face object, as well as all of its child slots and\n+   *   sizes.\n+   *\n+   * @input:\n+   *   face ::\n+   *     A handle to a target face object.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   See the discussion of reference counters in the description of\n+   *   @FT_Reference_Face.\n+   *\/\n@@ -2477,35 +2465,36 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Select_Size                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Select a bitmap strike.  To be more precise, this function sets    *\/\n-  \/*    the scaling factors of the active @FT_Size object in a face so     *\/\n-  \/*    that bitmaps from this particular strike are taken by              *\/\n-  \/*    @FT_Load_Glyph and friends.                                        *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    face         :: A handle to a target face object.                  *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    strike_index :: The index of the bitmap strike in the              *\/\n-  \/*                    `available_sizes' field of @FT_FaceRec structure.  *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    For bitmaps embedded in outline fonts it is common that only a     *\/\n-  \/*    subset of the available glyphs at a given ppem value is available. *\/\n-  \/*    FreeType silently uses outlines if there is no bitmap for a given  *\/\n-  \/*    glyph index.                                                       *\/\n-  \/*                                                                       *\/\n-  \/*    For GX and OpenType variation fonts, a bitmap strike makes sense   *\/\n-  \/*    only if the default instance is active (this is, no glyph          *\/\n-  \/*    variation takes place); otherwise, FreeType simply ignores bitmap  *\/\n-  \/*    strikes.  The same is true for all named instances that are        *\/\n-  \/*    different from the default instance.                               *\/\n-  \/*                                                                       *\/\n-  \/*    Don't use this function if you are using the FreeType cache API.   *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Select_Size\n+   *\n+   * @description:\n+   *   Select a bitmap strike.  To be more precise, this function sets the\n+   *   scaling factors of the active @FT_Size object in a face so that\n+   *   bitmaps from this particular strike are taken by @FT_Load_Glyph and\n+   *   friends.\n+   *\n+   * @inout:\n+   *   face ::\n+   *     A handle to a target face object.\n+   *\n+   * @input:\n+   *   strike_index ::\n+   *     The index of the bitmap strike in the `available_sizes` field of\n+   *     @FT_FaceRec structure.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   For bitmaps embedded in outline fonts it is common that only a subset\n+   *   of the available glyphs at a given ppem value is available.  FreeType\n+   *   silently uses outlines if there is no bitmap for a given glyph index.\n+   *\n+   *   For GX and OpenType variation fonts, a bitmap strike makes sense only\n+   *   if the default instance is active (this is, no glyph variation takes\n+   *   place); otherwise, FreeType simply ignores bitmap strikes.  The same\n+   *   is true for all named instances that are different from the default\n+   *   instance.\n+   *\n+   *   Don't use this function if you are using the FreeType cache API.\n+   *\/\n@@ -2517,51 +2506,49 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Enum>                                                                *\/\n-  \/*    FT_Size_Request_Type                                               *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    An enumeration type that lists the supported size request types,   *\/\n-  \/*    i.e., what input size (in font units) maps to the requested output *\/\n-  \/*    size (in pixels, as computed from the arguments of                 *\/\n-  \/*    @FT_Size_Request).                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Values>                                                              *\/\n-  \/*    FT_SIZE_REQUEST_TYPE_NOMINAL ::                                    *\/\n-  \/*      The nominal size.  The `units_per_EM' field of @FT_FaceRec is    *\/\n-  \/*      used to determine both scaling values.                           *\/\n-  \/*                                                                       *\/\n-  \/*      This is the standard scaling found in most applications.  In     *\/\n-  \/*      particular, use this size request type for TrueType fonts if     *\/\n-  \/*      they provide optical scaling or something similar.  Note,        *\/\n-  \/*      however, that `units_per_EM' is a rather abstract value which    *\/\n-  \/*      bears no relation to the actual size of the glyphs in a font.    *\/\n-  \/*                                                                       *\/\n-  \/*    FT_SIZE_REQUEST_TYPE_REAL_DIM ::                                   *\/\n-  \/*      The real dimension.  The sum of the `ascender' and (minus of)    *\/\n-  \/*      the `descender' fields of @FT_FaceRec is used to determine both  *\/\n-  \/*      scaling values.                                                  *\/\n-  \/*                                                                       *\/\n-  \/*    FT_SIZE_REQUEST_TYPE_BBOX ::                                       *\/\n-  \/*      The font bounding box.  The width and height of the `bbox' field *\/\n-  \/*      of @FT_FaceRec are used to determine the horizontal and vertical *\/\n-  \/*      scaling value, respectively.                                     *\/\n-  \/*                                                                       *\/\n-  \/*    FT_SIZE_REQUEST_TYPE_CELL ::                                       *\/\n-  \/*      The `max_advance_width' field of @FT_FaceRec is used to          *\/\n-  \/*      determine the horizontal scaling value; the vertical scaling     *\/\n-  \/*      value is determined the same way as                              *\/\n-  \/*      @FT_SIZE_REQUEST_TYPE_REAL_DIM does.  Finally, both scaling      *\/\n-  \/*      values are set to the smaller one.  This type is useful if you   *\/\n-  \/*      want to specify the font size for, say, a window of a given      *\/\n-  \/*      dimension and 80x24 cells.                                       *\/\n-  \/*                                                                       *\/\n-  \/*    FT_SIZE_REQUEST_TYPE_SCALES ::                                     *\/\n-  \/*      Specify the scaling values directly.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The above descriptions only apply to scalable formats.  For bitmap *\/\n-  \/*    formats, the behaviour is up to the driver.                        *\/\n-  \/*                                                                       *\/\n-  \/*    See the note section of @FT_Size_Metrics if you wonder how size    *\/\n-  \/*    requesting relates to scaling values.                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @enum:\n+   *   FT_Size_Request_Type\n+   *\n+   * @description:\n+   *   An enumeration type that lists the supported size request types, i.e.,\n+   *   what input size (in font units) maps to the requested output size (in\n+   *   pixels, as computed from the arguments of @FT_Size_Request).\n+   *\n+   * @values:\n+   *   FT_SIZE_REQUEST_TYPE_NOMINAL ::\n+   *     The nominal size.  The `units_per_EM` field of @FT_FaceRec is used\n+   *     to determine both scaling values.\n+   *\n+   *     This is the standard scaling found in most applications.  In\n+   *     particular, use this size request type for TrueType fonts if they\n+   *     provide optical scaling or something similar.  Note, however, that\n+   *     `units_per_EM` is a rather abstract value which bears no relation to\n+   *     the actual size of the glyphs in a font.\n+   *\n+   *   FT_SIZE_REQUEST_TYPE_REAL_DIM ::\n+   *     The real dimension.  The sum of the `ascender` and (minus of) the\n+   *     `descender` fields of @FT_FaceRec is used to determine both scaling\n+   *     values.\n+   *\n+   *   FT_SIZE_REQUEST_TYPE_BBOX ::\n+   *     The font bounding box.  The width and height of the `bbox` field of\n+   *     @FT_FaceRec are used to determine the horizontal and vertical\n+   *     scaling value, respectively.\n+   *\n+   *   FT_SIZE_REQUEST_TYPE_CELL ::\n+   *     The `max_advance_width` field of @FT_FaceRec is used to determine\n+   *     the horizontal scaling value; the vertical scaling value is\n+   *     determined the same way as @FT_SIZE_REQUEST_TYPE_REAL_DIM does.\n+   *     Finally, both scaling values are set to the smaller one.  This type\n+   *     is useful if you want to specify the font size for, say, a window of\n+   *     a given dimension and 80x24 cells.\n+   *\n+   *   FT_SIZE_REQUEST_TYPE_SCALES ::\n+   *     Specify the scaling values directly.\n+   *\n+   * @note:\n+   *   The above descriptions only apply to scalable formats.  For bitmap\n+   *   formats, the behaviour is up to the driver.\n+   *\n+   *   See the note section of @FT_Size_Metrics if you wonder how size\n+   *   requesting relates to scaling values.\n+   *\/\n@@ -2581,36 +2568,39 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_Size_RequestRec                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure to model a size request.                               *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    type           :: See @FT_Size_Request_Type.                       *\/\n-  \/*                                                                       *\/\n-  \/*    width          :: The desired width, given as a 26.6 fractional    *\/\n-  \/*                      point value (with 72pt = 1in).                   *\/\n-  \/*                                                                       *\/\n-  \/*    height         :: The desired height, given as a 26.6 fractional   *\/\n-  \/*                      point value (with 72pt = 1in).                   *\/\n-  \/*                                                                       *\/\n-  \/*    horiResolution :: The horizontal resolution (dpi, i.e., pixels per *\/\n-  \/*                      inch).  If set to zero, `width' is treated as a  *\/\n-  \/*                      26.6 fractional *pixel* value, which gets        *\/\n-  \/*                      internally rounded to an integer.                *\/\n-  \/*                                                                       *\/\n-  \/*    vertResolution :: The vertical resolution (dpi, i.e., pixels per   *\/\n-  \/*                      inch).  If set to zero, `height' is treated as a *\/\n-  \/*                      26.6 fractional *pixel* value, which gets        *\/\n-  \/*                      internally rounded to an integer.                *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    If `width' is zero, the horizontal scaling value is set equal      *\/\n-  \/*    to the vertical scaling value, and vice versa.                     *\/\n-  \/*                                                                       *\/\n-  \/*    If `type' is FT_SIZE_REQUEST_TYPE_SCALES, `width' and `height' are *\/\n-  \/*    interpreted directly as 16.16 fractional scaling values, without   *\/\n-  \/*    any further modification, and both `horiResolution' and            *\/\n-  \/*    `vertResolution' are ignored.                                      *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_Size_RequestRec\n+   *\n+   * @description:\n+   *   A structure to model a size request.\n+   *\n+   * @fields:\n+   *   type ::\n+   *     See @FT_Size_Request_Type.\n+   *\n+   *   width ::\n+   *     The desired width, given as a 26.6 fractional point value (with 72pt\n+   *     = 1in).\n+   *\n+   *   height ::\n+   *     The desired height, given as a 26.6 fractional point value (with\n+   *     72pt = 1in).\n+   *\n+   *   horiResolution ::\n+   *     The horizontal resolution (dpi, i.e., pixels per inch).  If set to\n+   *     zero, `width` is treated as a 26.6 fractional **pixel** value, which\n+   *     gets internally rounded to an integer.\n+   *\n+   *   vertResolution ::\n+   *     The vertical resolution (dpi, i.e., pixels per inch).  If set to\n+   *     zero, `height` is treated as a 26.6 fractional **pixel** value,\n+   *     which gets internally rounded to an integer.\n+   *\n+   * @note:\n+   *   If `width` is zero, the horizontal scaling value is set equal to the\n+   *   vertical scaling value, and vice versa.\n+   *\n+   *   If `type` is `FT_SIZE_REQUEST_TYPE_SCALES`, `width` and `height` are\n+   *   interpreted directly as 16.16 fractional scaling values, without any\n+   *   further modification, and both `horiResolution` and `vertResolution`\n+   *   are ignored.\n+   *\/\n@@ -2628,8 +2618,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_Size_Request                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A handle to a size request structure.                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_Size_Request\n+   *\n+   * @description:\n+   *   A handle to a size request structure.\n+   *\/\n@@ -2639,35 +2629,36 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Request_Size                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Resize the scale of the active @FT_Size object in a face.          *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    face :: A handle to a target face object.                          *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    req  :: A pointer to a @FT_Size_RequestRec.                        *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    Although drivers may select the bitmap strike matching the         *\/\n-  \/*    request, you should not rely on this if you intend to select a     *\/\n-  \/*    particular bitmap strike.  Use @FT_Select_Size instead in that     *\/\n-  \/*    case.                                                              *\/\n-  \/*                                                                       *\/\n-  \/*    The relation between the requested size and the resulting glyph    *\/\n-  \/*    size is dependent entirely on how the size is defined in the       *\/\n-  \/*    source face.  The font designer chooses the final size of each     *\/\n-  \/*    glyph relative to this size.  For more information refer to        *\/\n-  \/*    `https:\/\/www.freetype.org\/freetype2\/docs\/glyphs\/glyphs-2.html'.    *\/\n-  \/*                                                                       *\/\n-  \/*    Contrary to @FT_Set_Char_Size, this function doesn't have special  *\/\n-  \/*    code to normalize zero-valued widths, heights, or resolutions      *\/\n-  \/*    (which lead to errors in most cases).                              *\/\n-  \/*                                                                       *\/\n-  \/*    Don't use this function if you are using the FreeType cache API.   *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Request_Size\n+   *\n+   * @description:\n+   *   Resize the scale of the active @FT_Size object in a face.\n+   *\n+   * @inout:\n+   *   face ::\n+   *     A handle to a target face object.\n+   *\n+   * @input:\n+   *   req ::\n+   *     A pointer to a @FT_Size_RequestRec.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   Although drivers may select the bitmap strike matching the request,\n+   *   you should not rely on this if you intend to select a particular\n+   *   bitmap strike.  Use @FT_Select_Size instead in that case.\n+   *\n+   *   The relation between the requested size and the resulting glyph size\n+   *   is dependent entirely on how the size is defined in the source face.\n+   *   The font designer chooses the final size of each glyph relative to\n+   *   this size.  For more information refer to\n+   *   'https:\/\/www.freetype.org\/freetype2\/docs\/glyphs\/glyphs-2.html'.\n+   *\n+   *   Contrary to @FT_Set_Char_Size, this function doesn't have special code\n+   *   to normalize zero-valued widths, heights, or resolutions (which lead\n+   *   to errors in most cases).\n+   *\n+   *   Don't use this function if you are using the FreeType cache API.\n+   *\/\n@@ -2679,39 +2670,44 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Set_Char_Size                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Call @FT_Request_Size to request the nominal size (in points).     *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    face            :: A handle to a target face object.               *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    char_width      :: The nominal width, in 26.6 fractional points.   *\/\n-  \/*                                                                       *\/\n-  \/*    char_height     :: The nominal height, in 26.6 fractional points.  *\/\n-  \/*                                                                       *\/\n-  \/*    horz_resolution :: The horizontal resolution in dpi.               *\/\n-  \/*                                                                       *\/\n-  \/*    vert_resolution :: The vertical resolution in dpi.                 *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    While this function allows fractional points as input values, the  *\/\n-  \/*    resulting ppem value for the given resolution is always rounded to *\/\n-  \/*    the nearest integer.                                               *\/\n-  \/*                                                                       *\/\n-  \/*    If either the character width or height is zero, it is set equal   *\/\n-  \/*    to the other value.                                                *\/\n-  \/*                                                                       *\/\n-  \/*    If either the horizontal or vertical resolution is zero, it is set *\/\n-  \/*    equal to the other value.                                          *\/\n-  \/*                                                                       *\/\n-  \/*    A character width or height smaller than 1pt is set to 1pt; if     *\/\n-  \/*    both resolution values are zero, they are set to 72dpi.            *\/\n-  \/*                                                                       *\/\n-  \/*    Don't use this function if you are using the FreeType cache API.   *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Set_Char_Size\n+   *\n+   * @description:\n+   *   Call @FT_Request_Size to request the nominal size (in points).\n+   *\n+   * @inout:\n+   *   face ::\n+   *     A handle to a target face object.\n+   *\n+   * @input:\n+   *   char_width ::\n+   *     The nominal width, in 26.6 fractional points.\n+   *\n+   *   char_height ::\n+   *     The nominal height, in 26.6 fractional points.\n+   *\n+   *   horz_resolution ::\n+   *     The horizontal resolution in dpi.\n+   *\n+   *   vert_resolution ::\n+   *     The vertical resolution in dpi.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   While this function allows fractional points as input values, the\n+   *   resulting ppem value for the given resolution is always rounded to the\n+   *   nearest integer.\n+   *\n+   *   If either the character width or height is zero, it is set equal to\n+   *   the other value.\n+   *\n+   *   If either the horizontal or vertical resolution is zero, it is set\n+   *   equal to the other value.\n+   *\n+   *   A character width or height smaller than 1pt is set to 1pt; if both\n+   *   resolution values are zero, they are set to 72dpi.\n+   *\n+   *   Don't use this function if you are using the FreeType cache API.\n+   *\/\n@@ -2726,26 +2722,29 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Set_Pixel_Sizes                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Call @FT_Request_Size to request the nominal size (in pixels).     *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    face         :: A handle to the target face object.                *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    pixel_width  :: The nominal width, in pixels.                      *\/\n-  \/*                                                                       *\/\n-  \/*    pixel_height :: The nominal height, in pixels.                     *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    You should not rely on the resulting glyphs matching or being      *\/\n-  \/*    constrained to this pixel size.  Refer to @FT_Request_Size to      *\/\n-  \/*    understand how requested sizes relate to actual sizes.             *\/\n-  \/*                                                                       *\/\n-  \/*    Don't use this function if you are using the FreeType cache API.   *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Set_Pixel_Sizes\n+   *\n+   * @description:\n+   *   Call @FT_Request_Size to request the nominal size (in pixels).\n+   *\n+   * @inout:\n+   *   face ::\n+   *     A handle to the target face object.\n+   *\n+   * @input:\n+   *   pixel_width ::\n+   *     The nominal width, in pixels.\n+   *\n+   *   pixel_height ::\n+   *     The nominal height, in pixels.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   You should not rely on the resulting glyphs matching or being\n+   *   constrained to this pixel size.  Refer to @FT_Request_Size to\n+   *   understand how requested sizes relate to actual sizes.\n+   *\n+   *   Don't use this function if you are using the FreeType cache API.\n+   *\/\n@@ -2758,39 +2757,40 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Load_Glyph                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Load a glyph into the glyph slot of a face object.                 *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    face        :: A handle to the target face object where the glyph  *\/\n-  \/*                   is loaded.                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    glyph_index :: The index of the glyph in the font file.  For       *\/\n-  \/*                   CID-keyed fonts (either in PS or in CFF format)     *\/\n-  \/*                   this argument specifies the CID value.              *\/\n-  \/*                                                                       *\/\n-  \/*    load_flags  :: A flag indicating what to load for this glyph.  The *\/\n-  \/*                   @FT_LOAD_XXX constants can be used to control the   *\/\n-  \/*                   glyph loading process (e.g., whether the outline    *\/\n-  \/*                   should be scaled, whether to load bitmaps or not,   *\/\n-  \/*                   whether to hint the outline, etc).                  *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The loaded glyph may be transformed.  See @FT_Set_Transform for    *\/\n-  \/*    the details.                                                       *\/\n-  \/*                                                                       *\/\n-  \/*    For subsetted CID-keyed fonts, `FT_Err_Invalid_Argument' is        *\/\n-  \/*    returned for invalid CID values (this is, for CID values that      *\/\n-  \/*    don't have a corresponding glyph in the font).  See the discussion *\/\n-  \/*    of the @FT_FACE_FLAG_CID_KEYED flag for more details.              *\/\n-  \/*                                                                       *\/\n-  \/*    If you receive `FT_Err_Glyph_Too_Big', try getting the glyph       *\/\n-  \/*    outline at EM size, then scale it manually and fill it as a        *\/\n-  \/*    graphics operation.                                                *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Load_Glyph\n+   *\n+   * @description:\n+   *   Load a glyph into the glyph slot of a face object.\n+   *\n+   * @inout:\n+   *   face ::\n+   *     A handle to the target face object where the glyph is loaded.\n+   *\n+   * @input:\n+   *   glyph_index ::\n+   *     The index of the glyph in the font file.  For CID-keyed fonts\n+   *     (either in PS or in CFF format) this argument specifies the CID\n+   *     value.\n+   *\n+   *   load_flags ::\n+   *     A flag indicating what to load for this glyph.  The @FT_LOAD_XXX\n+   *     constants can be used to control the glyph loading process (e.g.,\n+   *     whether the outline should be scaled, whether to load bitmaps or\n+   *     not, whether to hint the outline, etc).\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   The loaded glyph may be transformed.  See @FT_Set_Transform for the\n+   *   details.\n+   *\n+   *   For subsetted CID-keyed fonts, `FT_Err_Invalid_Argument` is returned\n+   *   for invalid CID values (this is, for CID values that don't have a\n+   *   corresponding glyph in the font).  See the discussion of the\n+   *   @FT_FACE_FLAG_CID_KEYED flag for more details.\n+   *\n+   *   If you receive `FT_Err_Glyph_Too_Big`, try getting the glyph outline\n+   *   at EM size, then scale it manually and fill it as a graphics\n+   *   operation.\n+   *\/\n@@ -2803,33 +2803,37 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Load_Char                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Load a glyph into the glyph slot of a face object, accessed by its *\/\n-  \/*    character code.                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    face        :: A handle to a target face object where the glyph    *\/\n-  \/*                   is loaded.                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    char_code   :: The glyph's character code, according to the        *\/\n-  \/*                   current charmap used in the face.                   *\/\n-  \/*                                                                       *\/\n-  \/*    load_flags  :: A flag indicating what to load for this glyph.  The *\/\n-  \/*                   @FT_LOAD_XXX constants can be used to control the   *\/\n-  \/*                   glyph loading process (e.g., whether the outline    *\/\n-  \/*                   should be scaled, whether to load bitmaps or not,   *\/\n-  \/*                   whether to hint the outline, etc).                  *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    This function simply calls @FT_Get_Char_Index and @FT_Load_Glyph.  *\/\n-  \/*                                                                       *\/\n-  \/*    Many fonts contain glyphs that can't be loaded by this function    *\/\n-  \/*    since its glyph indices are not listed in any of the font's        *\/\n-  \/*    charmaps.                                                          *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Load_Char\n+   *\n+   * @description:\n+   *   Load a glyph into the glyph slot of a face object, accessed by its\n+   *   character code.\n+   *\n+   * @inout:\n+   *   face ::\n+   *     A handle to a target face object where the glyph is loaded.\n+   *\n+   * @input:\n+   *   char_code ::\n+   *     The glyph's character code, according to the current charmap used in\n+   *     the face.\n+   *\n+   *   load_flags ::\n+   *     A flag indicating what to load for this glyph.  The @FT_LOAD_XXX\n+   *     constants can be used to control the glyph loading process (e.g.,\n+   *     whether the outline should be scaled, whether to load bitmaps or\n+   *     not, whether to hint the outline, etc).\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   This function simply calls @FT_Get_Char_Index and @FT_Load_Glyph.\n+   *\n+   *   Many fonts contain glyphs that can't be loaded by this function since\n+   *   its glyph indices are not listed in any of the font's charmaps.\n+   *\n+   *   If no active cmap is set up (i.e., `face->charmap` is zero), the call\n+   *   to @FT_Get_Char_Index is omitted, and the function behaves identically\n+   *   to @FT_Load_Glyph.\n+   *\/\n@@ -2842,1 +2846,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -2848,2 +2852,2 @@\n-   *   A list of bit field constants for @FT_Load_Glyph to indicate what\n-   *   kind of operations to perform during glyph loading.\n+   *   A list of bit field constants for @FT_Load_Glyph to indicate what kind\n+   *   of operations to perform during glyph loading.\n@@ -2857,3 +2861,2 @@\n-   *        face's current size.  If one is found, the function returns.\n-   *        The bitmap data can be accessed from the glyph slot (see note\n-   *        below).\n+   *     face's current size.  If one is found, the function returns.  The\n+   *     bitmap data can be accessed from the glyph slot (see note below).\n@@ -2862,4 +2865,4 @@\n-   *        for a scalable outline.  If one is found, it is loaded from\n-   *        the font file, scaled to device pixels, then `hinted' to the\n-   *        pixel grid in order to optimize it.  The outline data can be\n-   *        accessed from the glyph slot (see note below).\n+   *     for a scalable outline.  If one is found, it is loaded from the font\n+   *     file, scaled to device pixels, then 'hinted' to the pixel grid in\n+   *     order to optimize it.  The outline data can be accessed from the\n+   *     glyph slot (see note below).\n@@ -2877,2 +2880,2 @@\n-   *     If the font is `tricky' (see @FT_FACE_FLAG_TRICKY for more), using\n-   *     FT_LOAD_NO_SCALE usually yields meaningless outlines because the\n+   *     If the font is 'tricky' (see @FT_FACE_FLAG_TRICKY for more), using\n+   *     `FT_LOAD_NO_SCALE` usually yields meaningless outlines because the\n@@ -2880,2 +2883,2 @@\n-   *     This can be solved by loading the font without FT_LOAD_NO_SCALE and\n-   *     setting the character size to `font->units_per_EM'.\n+   *     This can be solved by loading the font without `FT_LOAD_NO_SCALE`\n+   *     and setting the character size to `font->units_per_EM`.\n@@ -2884,1 +2887,1 @@\n-   *     Disable hinting.  This generally generates `blurrier' bitmap glyphs\n+   *     Disable hinting.  This generally generates 'blurrier' bitmap glyphs\n@@ -2905,2 +2908,2 @@\n-   *     `advance' value in the @FT_GlyphSlotRec structure is set to the\n-   *     `vertAdvance' value of the `metrics' field.\n+   *     `advance` value in the @FT_GlyphSlotRec structure is set to the\n+   *     `vertAdvance` value of the `metrics` field.\n@@ -2908,3 +2911,3 @@\n-   *     In case @FT_HAS_VERTICAL doesn't return true, you shouldn't use\n-   *     this flag currently.  Reason is that in this case vertical metrics\n-   *     get synthesized, and those values are not always consistent across\n+   *     In case @FT_HAS_VERTICAL doesn't return true, you shouldn't use this\n+   *     flag currently.  Reason is that in this case vertical metrics get\n+   *     synthesized, and those values are not always consistent across\n@@ -2914,2 +2917,2 @@\n-   *     Prefer the auto-hinter over the font's native hinter.  See also\n-   *     the note below.\n+   *     Prefer the auto-hinter over the font's native hinter.  See also the\n+   *     note below.\n@@ -2919,2 +2922,2 @@\n-   *     loading.  This is mostly used to detect broken glyphs in fonts.\n-   *     By default, FreeType tries to handle broken fonts also.\n+   *     loading and hinting.  This is mostly used to detect broken glyphs in\n+   *     fonts.  By default, FreeType tries to handle broken fonts also.\n@@ -2923,3 +2926,3 @@\n-   *     passed to the application if this flag is not set; this might\n-   *     result in partially hinted or distorted glyphs in case a glyph's\n-   *     bytecode is buggy.\n+   *     passed to the application if this flag is not set; this might result\n+   *     in partially hinted or distorted glyphs in case a glyph's bytecode\n+   *     is buggy.\n@@ -2928,5 +2931,8 @@\n-   *     Don't load composite glyphs recursively.  Instead, the font\n-   *     driver should set the `num_subglyph' and `subglyphs' values of\n-   *     the glyph slot accordingly, and set `glyph->format' to\n-   *     @FT_GLYPH_FORMAT_COMPOSITE.  The description of subglyphs can\n-   *     then be accessed with @FT_Get_SubGlyph_Info.\n+   *     Don't load composite glyphs recursively.  Instead, the font driver\n+   *     fills the `num_subglyph` and `subglyphs` values of the glyph slot;\n+   *     it also sets `glyph->format` to @FT_GLYPH_FORMAT_COMPOSITE.  The\n+   *     description of subglyphs can then be accessed with\n+   *     @FT_Get_SubGlyph_Info.\n+   *\n+   *     Don't use this flag for retrieving metrics information since some\n+   *     font drivers only return rudimentary data.\n@@ -2949,3 +2955,2 @@\n-   *     Keep  `linearHoriAdvance' and `linearVertAdvance' fields of\n-   *     @FT_GlyphSlotRec in font units.  See @FT_GlyphSlotRec for\n-   *     details.\n+   *     Keep `linearHoriAdvance` and `linearVertAdvance` fields of\n+   *     @FT_GlyphSlotRec in font units.  See @FT_GlyphSlotRec for details.\n@@ -2957,0 +2962,3 @@\n+   *     Load colored glyphs.  There are slight differences depending on the\n+   *     font format.\n+   *\n@@ -2958,4 +2966,14 @@\n-   *     bitmaps, if available, will have the @FT_PIXEL_MODE_BGRA format.\n-   *     If the flag is not set and color bitmaps are found, they are\n-   *     converted to 256-level gray bitmaps transparently, using the\n-   *     @FT_PIXEL_MODE_GRAY format.\n+   *     bitmaps, if available, will have the @FT_PIXEL_MODE_BGRA format,\n+   *     with pre-multiplied color channels.  If the flag is not set and\n+   *     color bitmaps are found, they are converted to 256-level gray\n+   *     bitmaps, using the @FT_PIXEL_MODE_GRAY format.\n+   *\n+   *     [Since 2.10, experimental] If the glyph index contains an entry in\n+   *     the face's 'COLR' table with a 'CPAL' palette table (as defined in\n+   *     the OpenType specification), make @FT_Render_Glyph provide a default\n+   *     blending of the color glyph layers associated with the glyph index,\n+   *     using the same bitmap format as embedded color bitmap images.  This\n+   *     is mainly for convenience; for full control of color layers use\n+   *     @FT_Get_Color_Glyph_Layer and FreeType's color functions like\n+   *     @FT_Palette_Select instead of setting @FT_LOAD_COLOR for rendering\n+   *     so that the client application can handle blending by itself.\n@@ -2964,2 +2982,2 @@\n-   *     [Since 2.6.1] Compute glyph metrics from the glyph data, without\n-   *     the use of bundled metrics tables (for example, the `hdmx' table in\n+   *     [Since 2.6.1] Compute glyph metrics from the glyph data, without the\n+   *     use of bundled metrics tables (for example, the 'hdmx' table in\n@@ -2974,3 +2992,3 @@\n-   *     information of a (possibly embedded) bitmap glyph without\n-   *     allocating or copying the bitmap image data itself.  No effect if\n-   *     the target glyph is not a bitmap image.\n+   *     information of a (possibly embedded) bitmap glyph without allocating\n+   *     or copying the bitmap image data itself.  No effect if the target\n+   *     glyph is not a bitmap image.\n@@ -2991,2 +3009,2 @@\n-   *   @FT_LOAD_NO_AUTOHINT in case you don't want the auto-hinter to be\n-   *   used at all.\n+   *   @FT_LOAD_NO_AUTOHINT in case you don't want the auto-hinter to be used\n+   *   at all.\n@@ -3003,1 +3021,1 @@\n-   *   character code U+005A, LATIN CAPITAL LETTER Z, to a glyph depicting a\n+   *   character code U+005A, LATIN CAPITAL LETTER~Z, to a glyph depicting a\n@@ -3023,1 +3041,1 @@\n-  \/* Bits 16-19 are used by `FT_LOAD_TARGET_' *\/\n+  \/* Bits 16-19 are used by `FT_LOAD_TARGET_` *\/\n@@ -3042,2 +3060,2 @@\n-   *   hinter.  You should OR one of these values to your `load_flags'\n-   *   when calling @FT_Load_Glyph.\n+   *   hinter.  You should OR one of these values to your `load_flags` when\n+   *   calling @FT_Load_Glyph.\n@@ -3045,4 +3063,3 @@\n-   *   Note that a font's native hinters may ignore the hinting algorithm\n-   *   you have specified (e.g., the TrueType bytecode interpreter).  You\n-   *   can set @FT_LOAD_FORCE_AUTOHINT to ensure that the auto-hinter is\n-   *   used.\n+   *   Note that a font's native hinters may ignore the hinting algorithm you\n+   *   have specified (e.g., the TrueType bytecode interpreter).  You can set\n+   *   @FT_LOAD_FORCE_AUTOHINT to ensure that the auto-hinter is used.\n@@ -3053,2 +3070,1 @@\n-   *     rendering.  For monochrome output, use @FT_LOAD_TARGET_MONO\n-   *     instead.\n+   *     rendering.  For monochrome output, use @FT_LOAD_TARGET_MONO instead.\n@@ -3067,2 +3083,2 @@\n-   *     `lsb_delta' and `rsb_delta' fields of @FT_GlyphSlotRec, it is\n-   *     possible to get fractional advance widths for sub-pixel positioning\n+   *     `lsb_delta` and `rsb_delta` fields of @FT_GlyphSlotRec, it is\n+   *     possible to get fractional advance widths for subpixel positioning\n@@ -3071,3 +3087,3 @@\n-   *     If configuration option AF_CONFIG_OPTION_TT_SIZE_METRICS is active,\n-   *     TrueType-like metrics are used to make this mode behave similarly\n-   *     as in unpatched FreeType versions between 2.4.6 and 2.7.1\n+   *     If configuration option `AF_CONFIG_OPTION_TT_SIZE_METRICS` is\n+   *     active, TrueType-like metrics are used to make this mode behave\n+   *     similarly as in unpatched FreeType versions between 2.4.6 and 2.7.1\n@@ -3081,0 +3097,6 @@\n+   *     Note that for outline fonts only the TrueType font driver has proper\n+   *     monochrome hinting support, provided the TTFs contain hints for B\/W\n+   *     rendering (which most fonts no longer provide).  If these conditions\n+   *     are not met it is very likely that you get ugly results at smaller\n+   *     sizes.\n+   *\n@@ -3090,2 +3112,2 @@\n-   *   You should use only _one_ of the FT_LOAD_TARGET_XXX values in your\n-   *   `load_flags'.  They can't be ORed.\n+   *   You should use only _one_ of the `FT_LOAD_TARGET_XXX` values in your\n+   *   `load_flags`.  They can't be ORed.\n@@ -3095,1 +3117,1 @@\n-   *   best).  An exception is FT_LOAD_TARGET_MONO since it implies\n+   *   best).  An exception is `FT_LOAD_TARGET_MONO` since it implies\n@@ -3099,1 +3121,1 @@\n-   *   rendering mode.  As an example, it is possible to use the `light'\n+   *   rendering mode.  As an example, it is possible to use the 'light'\n@@ -3103,3 +3125,3 @@\n-   *     {\n-   *       FT_Load_Glyph( face, glyph_index,\n-   *                      load_flags | FT_LOAD_TARGET_LIGHT );\n+   *   ```\n+   *     FT_Load_Glyph( face, glyph_index,\n+   *                    load_flags | FT_LOAD_TARGET_LIGHT );\n@@ -3107,2 +3129,2 @@\n-   *       FT_Render_Glyph( face->glyph, FT_RENDER_MODE_LCD );\n-   *     }\n+   *     FT_Render_Glyph( face->glyph, FT_RENDER_MODE_LCD );\n+   *   ```\n@@ -3140,27 +3162,29 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Set_Transform                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Set the transformation that is applied to glyph images when they   *\/\n-  \/*    are loaded into a glyph slot through @FT_Load_Glyph.               *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    face   :: A handle to the source face object.                      *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    matrix :: A pointer to the transformation's 2x2 matrix.  Use NULL  *\/\n-  \/*              for the identity matrix.                                 *\/\n-  \/*    delta  :: A pointer to the translation vector.  Use NULL for the   *\/\n-  \/*              null vector.                                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The transformation is only applied to scalable image formats after *\/\n-  \/*    the glyph has been loaded.  It means that hinting is unaltered by  *\/\n-  \/*    the transformation and is performed on the character size given in *\/\n-  \/*    the last call to @FT_Set_Char_Size or @FT_Set_Pixel_Sizes.         *\/\n-  \/*                                                                       *\/\n-  \/*    Note that this also transforms the `face.glyph.advance' field, but *\/\n-  \/*    *not* the values in `face.glyph.metrics'.                          *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Set_Transform\n+   *\n+   * @description:\n+   *   Set the transformation that is applied to glyph images when they are\n+   *   loaded into a glyph slot through @FT_Load_Glyph.\n+   *\n+   * @inout:\n+   *   face ::\n+   *     A handle to the source face object.\n+   *\n+   * @input:\n+   *   matrix ::\n+   *     A pointer to the transformation's 2x2 matrix.  Use `NULL` for the\n+   *     identity matrix.\n+   *   delta ::\n+   *     A pointer to the translation vector.  Use `NULL` for the null vector.\n+   *\n+   * @note:\n+   *   The transformation is only applied to scalable image formats after the\n+   *   glyph has been loaded.  It means that hinting is unaltered by the\n+   *   transformation and is performed on the character size given in the\n+   *   last call to @FT_Set_Char_Size or @FT_Set_Pixel_Sizes.\n+   *\n+   *   Note that this also transforms the `face.glyph.advance` field, but\n+   *   **not** the values in `face.glyph.metrics`.\n+   *\/\n@@ -3173,59 +3197,57 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Enum>                                                                *\/\n-  \/*    FT_Render_Mode                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Render modes supported by FreeType~2.  Each mode corresponds to a  *\/\n-  \/*    specific type of scanline conversion performed on the outline.     *\/\n-  \/*                                                                       *\/\n-  \/*    For bitmap fonts and embedded bitmaps the `bitmap->pixel_mode'     *\/\n-  \/*    field in the @FT_GlyphSlotRec structure gives the format of the    *\/\n-  \/*    returned bitmap.                                                   *\/\n-  \/*                                                                       *\/\n-  \/*    All modes except @FT_RENDER_MODE_MONO use 256 levels of opacity,   *\/\n-  \/*    indicating pixel coverage.  Use linear alpha blending and gamma    *\/\n-  \/*    correction to correctly render non-monochrome glyph bitmaps onto a *\/\n-  \/*    surface; see @FT_Render_Glyph.                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Values>                                                              *\/\n-  \/*    FT_RENDER_MODE_NORMAL ::                                           *\/\n-  \/*      Default render mode; it corresponds to 8-bit anti-aliased        *\/\n-  \/*      bitmaps.                                                         *\/\n-  \/*                                                                       *\/\n-  \/*    FT_RENDER_MODE_LIGHT ::                                            *\/\n-  \/*      This is equivalent to @FT_RENDER_MODE_NORMAL.  It is only        *\/\n-  \/*      defined as a separate value because render modes are also used   *\/\n-  \/*      indirectly to define hinting algorithm selectors.  See           *\/\n-  \/*      @FT_LOAD_TARGET_XXX for details.                                 *\/\n-  \/*                                                                       *\/\n-  \/*    FT_RENDER_MODE_MONO ::                                             *\/\n-  \/*      This mode corresponds to 1-bit bitmaps (with 2~levels of         *\/\n-  \/*      opacity).                                                        *\/\n-  \/*                                                                       *\/\n-  \/*    FT_RENDER_MODE_LCD ::                                              *\/\n-  \/*      This mode corresponds to horizontal RGB and BGR sub-pixel        *\/\n-  \/*      displays like LCD screens.  It produces 8-bit bitmaps that are   *\/\n-  \/*      3~times the width of the original glyph outline in pixels, and   *\/\n-  \/*      which use the @FT_PIXEL_MODE_LCD mode.                           *\/\n-  \/*                                                                       *\/\n-  \/*    FT_RENDER_MODE_LCD_V ::                                            *\/\n-  \/*      This mode corresponds to vertical RGB and BGR sub-pixel displays *\/\n-  \/*      (like PDA screens, rotated LCD displays, etc.).  It produces     *\/\n-  \/*      8-bit bitmaps that are 3~times the height of the original        *\/\n-  \/*      glyph outline in pixels and use the @FT_PIXEL_MODE_LCD_V mode.   *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    Should you define FT_CONFIG_OPTION_SUBPIXEL_RENDERING in your      *\/\n-  \/*    `ftoption.h', which enables patented ClearType-style rendering,    *\/\n-  \/*    the LCD-optimized glyph bitmaps should be filtered to reduce color *\/\n-  \/*    fringes inherent to this technology.  You can either set up LCD    *\/\n-  \/*    filtering with @FT_Library_SetLcdFilter or @FT_Face_Properties,    *\/\n-  \/*    or do the filtering yourself.  The default FreeType LCD rendering  *\/\n-  \/*    technology does not require filtering.                             *\/\n-  \/*                                                                       *\/\n-  \/*    The selected render mode only affects vector glyphs of a font.     *\/\n-  \/*    Embedded bitmaps often have a different pixel mode like            *\/\n-  \/*    @FT_PIXEL_MODE_MONO.  You can use @FT_Bitmap_Convert to transform  *\/\n-  \/*    them into 8-bit pixmaps.                                           *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @enum:\n+   *   FT_Render_Mode\n+   *\n+   * @description:\n+   *   Render modes supported by FreeType~2.  Each mode corresponds to a\n+   *   specific type of scanline conversion performed on the outline.\n+   *\n+   *   For bitmap fonts and embedded bitmaps the `bitmap->pixel_mode` field\n+   *   in the @FT_GlyphSlotRec structure gives the format of the returned\n+   *   bitmap.\n+   *\n+   *   All modes except @FT_RENDER_MODE_MONO use 256 levels of opacity,\n+   *   indicating pixel coverage.  Use linear alpha blending and gamma\n+   *   correction to correctly render non-monochrome glyph bitmaps onto a\n+   *   surface; see @FT_Render_Glyph.\n+   *\n+   * @values:\n+   *   FT_RENDER_MODE_NORMAL ::\n+   *     Default render mode; it corresponds to 8-bit anti-aliased bitmaps.\n+   *\n+   *   FT_RENDER_MODE_LIGHT ::\n+   *     This is equivalent to @FT_RENDER_MODE_NORMAL.  It is only defined as\n+   *     a separate value because render modes are also used indirectly to\n+   *     define hinting algorithm selectors.  See @FT_LOAD_TARGET_XXX for\n+   *     details.\n+   *\n+   *   FT_RENDER_MODE_MONO ::\n+   *     This mode corresponds to 1-bit bitmaps (with 2~levels of opacity).\n+   *\n+   *   FT_RENDER_MODE_LCD ::\n+   *     This mode corresponds to horizontal RGB and BGR subpixel displays\n+   *     like LCD screens.  It produces 8-bit bitmaps that are 3~times the\n+   *     width of the original glyph outline in pixels, and which use the\n+   *     @FT_PIXEL_MODE_LCD mode.\n+   *\n+   *   FT_RENDER_MODE_LCD_V ::\n+   *     This mode corresponds to vertical RGB and BGR subpixel displays\n+   *     (like PDA screens, rotated LCD displays, etc.).  It produces 8-bit\n+   *     bitmaps that are 3~times the height of the original glyph outline in\n+   *     pixels and use the @FT_PIXEL_MODE_LCD_V mode.\n+   *\n+   * @note:\n+   *   Should you define `FT_CONFIG_OPTION_SUBPIXEL_RENDERING` in your\n+   *   `ftoption.h`, which enables patented ClearType-style rendering, the\n+   *   LCD-optimized glyph bitmaps should be filtered to reduce color fringes\n+   *   inherent to this technology.  You can either set up LCD filtering with\n+   *   @FT_Library_SetLcdFilter or @FT_Face_Properties, or do the filtering\n+   *   yourself.  The default FreeType LCD rendering technology does not\n+   *   require filtering.\n+   *\n+   *   The selected render mode only affects vector glyphs of a font.\n+   *   Embedded bitmaps often have a different pixel mode like\n+   *   @FT_PIXEL_MODE_MONO.  You can use @FT_Bitmap_Convert to transform them\n+   *   into 8-bit pixmaps.\n+   *\/\n@@ -3246,1 +3268,1 @@\n-  \/* `FT_Render_Mode' values instead                       *\/\n+  \/* `FT_Render_Mode` values instead                       *\/\n@@ -3251,103 +3273,105 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Render_Glyph                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Convert a given glyph image to a bitmap.  It does so by inspecting *\/\n-  \/*    the glyph image format, finding the relevant renderer, and         *\/\n-  \/*    invoking it.                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    slot        :: A handle to the glyph slot containing the image to  *\/\n-  \/*                   convert.                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    render_mode :: The render mode used to render the glyph image into *\/\n-  \/*                   a bitmap.  See @FT_Render_Mode for a list of        *\/\n-  \/*                   possible values.                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    To get meaningful results, font scaling values must be set with    *\/\n-  \/*    functions like @FT_Set_Char_Size before calling `FT_Render_Glyph'. *\/\n-  \/*                                                                       *\/\n-  \/*    When FreeType outputs a bitmap of a glyph, it really outputs an    *\/\n-  \/*    alpha coverage map.  If a pixel is completely covered by a         *\/\n-  \/*    filled-in outline, the bitmap contains 0xFF at that pixel, meaning *\/\n-  \/*    that 0xFF\/0xFF fraction of that pixel is covered, meaning the      *\/\n-  \/*    pixel is 100% black (or 0% bright).  If a pixel is only 50%        *\/\n-  \/*    covered (value 0x80), the pixel is made 50% black (50% bright or a *\/\n-  \/*    middle shade of grey).  0% covered means 0% black (100% bright or  *\/\n-  \/*    white).                                                            *\/\n-  \/*                                                                       *\/\n-  \/*    On high-DPI screens like on smartphones and tablets, the pixels    *\/\n-  \/*    are so small that their chance of being completely covered and     *\/\n-  \/*    therefore completely black are fairly good.  On the low-DPI        *\/\n-  \/*    screens, however, the situation is different.  The pixels are too  *\/\n-  \/*    large for most of the details of a glyph and shades of gray are    *\/\n-  \/*    the norm rather than the exception.                                *\/\n-  \/*                                                                       *\/\n-  \/*    This is relevant because all our screens have a second problem:    *\/\n-  \/*    they are not linear.  1~+~1 is not~2.  Twice the value does not    *\/\n-  \/*    result in twice the brightness.  When a pixel is only 50% covered, *\/\n-  \/*    the coverage map says 50% black, and this translates to a pixel    *\/\n-  \/*    value of 128 when you use 8~bits per channel (0-255).  However,    *\/\n-  \/*    this does not translate to 50% brightness for that pixel on our    *\/\n-  \/*    sRGB and gamma~2.2 screens.  Due to their non-linearity, they      *\/\n-  \/*    dwell longer in the darks and only a pixel value of about 186      *\/\n-  \/*    results in 50% brightness -- 128 ends up too dark on both bright   *\/\n-  \/*    and dark backgrounds.  The net result is that dark text looks      *\/\n-  \/*    burnt-out, pixely and blotchy on bright background, bright text    *\/\n-  \/*    too frail on dark backgrounds, and colored text on colored         *\/\n-  \/*    background (for example, red on green) seems to have dark halos or *\/\n-  \/*    `dirt' around it.  The situation is especially ugly for diagonal   *\/\n-  \/*    stems like in `w' glyph shapes where the quality of FreeType's     *\/\n-  \/*    anti-aliasing depends on the correct display of grays.  On         *\/\n-  \/*    high-DPI screens where smaller, fully black pixels reign supreme,  *\/\n-  \/*    this doesn't matter, but on our low-DPI screens with all the gray  *\/\n-  \/*    shades, it does.  0% and 100% brightness are the same things in    *\/\n-  \/*    linear and non-linear space, just all the shades in-between        *\/\n-  \/*    aren't.                                                            *\/\n-  \/*                                                                       *\/\n-  \/*    The blending function for placing text over a background is        *\/\n-  \/*                                                                       *\/\n-  \/*    {                                                                  *\/\n-  \/*      dst = alpha * src + (1 - alpha) * dst    ,                       *\/\n-  \/*    }                                                                  *\/\n-  \/*                                                                       *\/\n-  \/*    which is known as the OVER operator.                               *\/\n-  \/*                                                                       *\/\n-  \/*    To correctly composite an antialiased pixel of a glyph onto a      *\/\n-  \/*    surface,                                                           *\/\n-  \/*                                                                       *\/\n-  \/*    1. take the foreground and background colors (e.g., in sRGB space) *\/\n-  \/*       and apply gamma to get them in a linear space,                  *\/\n-  \/*                                                                       *\/\n-  \/*    2. use OVER to blend the two linear colors using the glyph pixel   *\/\n-  \/*       as the alpha value (remember, the glyph bitmap is an alpha      *\/\n-  \/*       coverage bitmap), and                                           *\/\n-  \/*                                                                       *\/\n-  \/*    3. apply inverse gamma to the blended pixel and write it back to   *\/\n-  \/*       the image.                                                      *\/\n-  \/*                                                                       *\/\n-  \/*    Internal testing at Adobe found that a target inverse gamma of~1.8 *\/\n-  \/*    for step~3 gives good results across a wide range of displays with *\/\n-  \/*    an sRGB gamma curve or a similar one.                              *\/\n-  \/*                                                                       *\/\n-  \/*    This process can cost performance.  There is an approximation that *\/\n-  \/*    does not need to know about the background color; see              *\/\n-  \/*    https:\/\/bel.fi\/alankila\/lcd\/ and                                   *\/\n-  \/*    https:\/\/bel.fi\/alankila\/lcd\/alpcor.html for details.               *\/\n-  \/*                                                                       *\/\n-  \/*    *ATTENTION*: Linear blending is even more important when dealing   *\/\n-  \/*    with subpixel-rendered glyphs to prevent color-fringing!  A        *\/\n-  \/*    subpixel-rendered glyph must first be filtered with a filter that  *\/\n-  \/*    gives equal weight to the three color primaries and does not       *\/\n-  \/*    exceed a sum of 0x100, see section @lcd_filtering.  Then the       *\/\n-  \/*    only difference to gray linear blending is that subpixel-rendered  *\/\n-  \/*    linear blending is done 3~times per pixel: red foreground subpixel *\/\n-  \/*    to red background subpixel and so on for green and blue.           *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Render_Glyph\n+   *\n+   * @description:\n+   *   Convert a given glyph image to a bitmap.  It does so by inspecting the\n+   *   glyph image format, finding the relevant renderer, and invoking it.\n+   *\n+   * @inout:\n+   *   slot ::\n+   *     A handle to the glyph slot containing the image to convert.\n+   *\n+   * @input:\n+   *   render_mode ::\n+   *     The render mode used to render the glyph image into a bitmap.  See\n+   *     @FT_Render_Mode for a list of possible values.\n+   *\n+   *     If @FT_RENDER_MODE_NORMAL is used, a previous call of @FT_Load_Glyph\n+   *     with flag @FT_LOAD_COLOR makes FT_Render_Glyph provide a default\n+   *     blending of colored glyph layers associated with the current glyph\n+   *     slot (provided the font contains such layers) instead of rendering\n+   *     the glyph slot's outline.  This is an experimental feature; see\n+   *     @FT_LOAD_COLOR for more information.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   To get meaningful results, font scaling values must be set with\n+   *   functions like @FT_Set_Char_Size before calling `FT_Render_Glyph`.\n+   *\n+   *   When FreeType outputs a bitmap of a glyph, it really outputs an alpha\n+   *   coverage map.  If a pixel is completely covered by a filled-in\n+   *   outline, the bitmap contains 0xFF at that pixel, meaning that\n+   *   0xFF\/0xFF fraction of that pixel is covered, meaning the pixel is 100%\n+   *   black (or 0% bright).  If a pixel is only 50% covered (value 0x80),\n+   *   the pixel is made 50% black (50% bright or a middle shade of grey).\n+   *   0% covered means 0% black (100% bright or white).\n+   *\n+   *   On high-DPI screens like on smartphones and tablets, the pixels are so\n+   *   small that their chance of being completely covered and therefore\n+   *   completely black are fairly good.  On the low-DPI screens, however,\n+   *   the situation is different.  The pixels are too large for most of the\n+   *   details of a glyph and shades of gray are the norm rather than the\n+   *   exception.\n+   *\n+   *   This is relevant because all our screens have a second problem: they\n+   *   are not linear.  1~+~1 is not~2.  Twice the value does not result in\n+   *   twice the brightness.  When a pixel is only 50% covered, the coverage\n+   *   map says 50% black, and this translates to a pixel value of 128 when\n+   *   you use 8~bits per channel (0-255).  However, this does not translate\n+   *   to 50% brightness for that pixel on our sRGB and gamma~2.2 screens.\n+   *   Due to their non-linearity, they dwell longer in the darks and only a\n+   *   pixel value of about 186 results in 50% brightness -- 128 ends up too\n+   *   dark on both bright and dark backgrounds.  The net result is that dark\n+   *   text looks burnt-out, pixely and blotchy on bright background, bright\n+   *   text too frail on dark backgrounds, and colored text on colored\n+   *   background (for example, red on green) seems to have dark halos or\n+   *   'dirt' around it.  The situation is especially ugly for diagonal stems\n+   *   like in 'w' glyph shapes where the quality of FreeType's anti-aliasing\n+   *   depends on the correct display of grays.  On high-DPI screens where\n+   *   smaller, fully black pixels reign supreme, this doesn't matter, but on\n+   *   our low-DPI screens with all the gray shades, it does.  0% and 100%\n+   *   brightness are the same things in linear and non-linear space, just\n+   *   all the shades in-between aren't.\n+   *\n+   *   The blending function for placing text over a background is\n+   *\n+   *   ```\n+   *     dst = alpha * src + (1 - alpha) * dst    ,\n+   *   ```\n+   *\n+   *   which is known as the OVER operator.\n+   *\n+   *   To correctly composite an antialiased pixel of a glyph onto a surface,\n+   *\n+   *   1. take the foreground and background colors (e.g., in sRGB space)\n+   *      and apply gamma to get them in a linear space,\n+   *\n+   *   2. use OVER to blend the two linear colors using the glyph pixel\n+   *      as the alpha value (remember, the glyph bitmap is an alpha coverage\n+   *      bitmap), and\n+   *\n+   *   3. apply inverse gamma to the blended pixel and write it back to\n+   *      the image.\n+   *\n+   *   Internal testing at Adobe found that a target inverse gamma of~1.8 for\n+   *   step~3 gives good results across a wide range of displays with an sRGB\n+   *   gamma curve or a similar one.\n+   *\n+   *   This process can cost performance.  There is an approximation that\n+   *   does not need to know about the background color; see\n+   *   https:\/\/bel.fi\/alankila\/lcd\/ and\n+   *   https:\/\/bel.fi\/alankila\/lcd\/alpcor.html for details.\n+   *\n+   *   **ATTENTION**: Linear blending is even more important when dealing\n+   *   with subpixel-rendered glyphs to prevent color-fringing!  A\n+   *   subpixel-rendered glyph must first be filtered with a filter that\n+   *   gives equal weight to the three color primaries and does not exceed a\n+   *   sum of 0x100, see section @lcd_rendering.  Then the only difference to\n+   *   gray linear blending is that subpixel-rendered linear blending is done\n+   *   3~times per pixel: red foreground subpixel to red background subpixel\n+   *   and so on for green and blue.\n+   *\/\n@@ -3359,28 +3383,28 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Enum>                                                                *\/\n-  \/*    FT_Kerning_Mode                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    An enumeration to specify the format of kerning values returned by *\/\n-  \/*    @FT_Get_Kerning.                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Values>                                                              *\/\n-  \/*    FT_KERNING_DEFAULT  :: Return grid-fitted kerning distances in     *\/\n-  \/*                           26.6 fractional pixels.                     *\/\n-  \/*                                                                       *\/\n-  \/*    FT_KERNING_UNFITTED :: Return un-grid-fitted kerning distances in  *\/\n-  \/*                           26.6 fractional pixels.                     *\/\n-  \/*                                                                       *\/\n-  \/*    FT_KERNING_UNSCALED :: Return the kerning vector in original font  *\/\n-  \/*                           units.                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    FT_KERNING_DEFAULT returns full pixel values; it also makes        *\/\n-  \/*    FreeType heuristically scale down kerning distances at small ppem  *\/\n-  \/*    values so that they don't become too big.                          *\/\n-  \/*                                                                       *\/\n-  \/*    Both FT_KERNING_DEFAULT and FT_KERNING_UNFITTED use the current    *\/\n-  \/*    horizontal scaling factor (as set e.g. with @FT_Set_Char_Size) to  *\/\n-  \/*    convert font units to pixels.                                      *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @enum:\n+   *   FT_Kerning_Mode\n+   *\n+   * @description:\n+   *   An enumeration to specify the format of kerning values returned by\n+   *   @FT_Get_Kerning.\n+   *\n+   * @values:\n+   *   FT_KERNING_DEFAULT ::\n+   *     Return grid-fitted kerning distances in 26.6 fractional pixels.\n+   *\n+   *   FT_KERNING_UNFITTED ::\n+   *     Return un-grid-fitted kerning distances in 26.6 fractional pixels.\n+   *\n+   *   FT_KERNING_UNSCALED ::\n+   *     Return the kerning vector in original font units.\n+   *\n+   * @note:\n+   *   `FT_KERNING_DEFAULT` returns full pixel values; it also makes FreeType\n+   *   heuristically scale down kerning distances at small ppem values so\n+   *   that they don't become too big.\n+   *\n+   *   Both `FT_KERNING_DEFAULT` and `FT_KERNING_UNFITTED` use the current\n+   *   horizontal scaling factor (as set e.g. with @FT_Set_Char_Size) to\n+   *   convert font units to pixels.\n+   *\/\n@@ -3397,1 +3421,1 @@\n-  \/* `FT_Kerning_Mode' values instead                      *\/\n+  \/* `FT_Kerning_Mode` values instead                      *\/\n@@ -3403,38 +3427,41 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Get_Kerning                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Return the kerning vector between two glyphs of the same face.     *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face        :: A handle to a source face object.                   *\/\n-  \/*                                                                       *\/\n-  \/*    left_glyph  :: The index of the left glyph in the kern pair.       *\/\n-  \/*                                                                       *\/\n-  \/*    right_glyph :: The index of the right glyph in the kern pair.      *\/\n-  \/*                                                                       *\/\n-  \/*    kern_mode   :: See @FT_Kerning_Mode for more information.          *\/\n-  \/*                   Determines the scale and dimension of the returned  *\/\n-  \/*                   kerning vector.                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    akerning    :: The kerning vector.  This is either in font units,  *\/\n-  \/*                   fractional pixels (26.6 format), or pixels for      *\/\n-  \/*                   scalable formats, and in pixels for fixed-sizes     *\/\n-  \/*                   formats.                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    Only horizontal layouts (left-to-right & right-to-left) are        *\/\n-  \/*    supported by this method.  Other layouts, or more sophisticated    *\/\n-  \/*    kernings, are out of the scope of this API function -- they can be *\/\n-  \/*    implemented through format-specific interfaces.                    *\/\n-  \/*                                                                       *\/\n-  \/*    Kerning for OpenType fonts implemented in a `GPOS' table is not    *\/\n-  \/*    supported; use @FT_HAS_KERNING to find out whether a font has data *\/\n-  \/*    that can be extracted with `FT_Get_Kerning'.                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Get_Kerning\n+   *\n+   * @description:\n+   *   Return the kerning vector between two glyphs of the same face.\n+   *\n+   * @input:\n+   *   face ::\n+   *     A handle to a source face object.\n+   *\n+   *   left_glyph ::\n+   *     The index of the left glyph in the kern pair.\n+   *\n+   *   right_glyph ::\n+   *     The index of the right glyph in the kern pair.\n+   *\n+   *   kern_mode ::\n+   *     See @FT_Kerning_Mode for more information.  Determines the scale and\n+   *     dimension of the returned kerning vector.\n+   *\n+   * @output:\n+   *   akerning ::\n+   *     The kerning vector.  This is either in font units, fractional pixels\n+   *     (26.6 format), or pixels for scalable formats, and in pixels for\n+   *     fixed-sizes formats.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   Only horizontal layouts (left-to-right & right-to-left) are supported\n+   *   by this method.  Other layouts, or more sophisticated kernings, are\n+   *   out of the scope of this API function -- they can be implemented\n+   *   through format-specific interfaces.\n+   *\n+   *   Kerning for OpenType fonts implemented in a 'GPOS' table is not\n+   *   supported; use @FT_HAS_KERNING to find out whether a font has data\n+   *   that can be extracted with `FT_Get_Kerning`.\n+   *\/\n@@ -3449,33 +3476,36 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Get_Track_Kerning                                               *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Return the track kerning for a given face object at a given size.  *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face       :: A handle to a source face object.                    *\/\n-  \/*                                                                       *\/\n-  \/*    point_size :: The point size in 16.16 fractional points.           *\/\n-  \/*                                                                       *\/\n-  \/*    degree     :: The degree of tightness.  Increasingly negative      *\/\n-  \/*                  values represent tighter track kerning, while        *\/\n-  \/*                  increasingly positive values represent looser track  *\/\n-  \/*                  kerning.  Value zero means no track kerning.         *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    akerning   :: The kerning in 16.16 fractional points, to be        *\/\n-  \/*                  uniformly applied between all glyphs.                *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    Currently, only the Type~1 font driver supports track kerning,     *\/\n-  \/*    using data from AFM files (if attached with @FT_Attach_File or     *\/\n-  \/*    @FT_Attach_Stream).                                                *\/\n-  \/*                                                                       *\/\n-  \/*    Only very few AFM files come with track kerning data; please refer *\/\n-  \/*    to Adobe's AFM specification for more details.                     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Get_Track_Kerning\n+   *\n+   * @description:\n+   *   Return the track kerning for a given face object at a given size.\n+   *\n+   * @input:\n+   *   face ::\n+   *     A handle to a source face object.\n+   *\n+   *   point_size ::\n+   *     The point size in 16.16 fractional points.\n+   *\n+   *   degree ::\n+   *     The degree of tightness.  Increasingly negative values represent\n+   *     tighter track kerning, while increasingly positive values represent\n+   *     looser track kerning.  Value zero means no track kerning.\n+   *\n+   * @output:\n+   *   akerning ::\n+   *     The kerning in 16.16 fractional points, to be uniformly applied\n+   *     between all glyphs.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   Currently, only the Type~1 font driver supports track kerning, using\n+   *   data from AFM files (if attached with @FT_Attach_File or\n+   *   @FT_Attach_Stream).\n+   *\n+   *   Only very few AFM files come with track kerning data; please refer to\n+   *   Adobe's AFM specification for more details.\n+   *\/\n@@ -3489,39 +3519,40 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Get_Glyph_Name                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Retrieve the ASCII name of a given glyph in a face.  This only     *\/\n-  \/*    works for those faces where @FT_HAS_GLYPH_NAMES(face) returns~1.   *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face        :: A handle to a source face object.                   *\/\n-  \/*                                                                       *\/\n-  \/*    glyph_index :: The glyph index.                                    *\/\n-  \/*                                                                       *\/\n-  \/*    buffer_max  :: The maximum number of bytes available in the        *\/\n-  \/*                   buffer.                                             *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    buffer      :: A pointer to a target buffer where the name is      *\/\n-  \/*                   copied to.                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    An error is returned if the face doesn't provide glyph names or if *\/\n-  \/*    the glyph index is invalid.  In all cases of failure, the first    *\/\n-  \/*    byte of `buffer' is set to~0 to indicate an empty name.            *\/\n-  \/*                                                                       *\/\n-  \/*    The glyph name is truncated to fit within the buffer if it is too  *\/\n-  \/*    long.  The returned string is always zero-terminated.              *\/\n-  \/*                                                                       *\/\n-  \/*    Be aware that FreeType reorders glyph indices internally so that   *\/\n-  \/*    glyph index~0 always corresponds to the `missing glyph' (called    *\/\n-  \/*    `.notdef').                                                        *\/\n-  \/*                                                                       *\/\n-  \/*    This function always returns an error if the config macro          *\/\n-  \/*    `FT_CONFIG_OPTION_NO_GLYPH_NAMES' is not defined in `ftoption.h'.  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Get_Glyph_Name\n+   *\n+   * @description:\n+   *   Retrieve the ASCII name of a given glyph in a face.  This only works\n+   *   for those faces where @FT_HAS_GLYPH_NAMES(face) returns~1.\n+   *\n+   * @input:\n+   *   face ::\n+   *     A handle to a source face object.\n+   *\n+   *   glyph_index ::\n+   *     The glyph index.\n+   *\n+   *   buffer_max ::\n+   *     The maximum number of bytes available in the buffer.\n+   *\n+   * @output:\n+   *   buffer ::\n+   *     A pointer to a target buffer where the name is copied to.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   An error is returned if the face doesn't provide glyph names or if the\n+   *   glyph index is invalid.  In all cases of failure, the first byte of\n+   *   `buffer` is set to~0 to indicate an empty name.\n+   *\n+   *   The glyph name is truncated to fit within the buffer if it is too\n+   *   long.  The returned string is always zero-terminated.\n+   *\n+   *   Be aware that FreeType reorders glyph indices internally so that glyph\n+   *   index~0 always corresponds to the 'missing glyph' (called '.notdef').\n+   *\n+   *   This function always returns an error if the config macro\n+   *   `FT_CONFIG_OPTION_NO_GLYPH_NAMES` is not defined in `ftoption.h`.\n+   *\/\n@@ -3535,33 +3566,32 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Get_Postscript_Name                                             *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Retrieve the ASCII PostScript name of a given face, if available.  *\/\n-  \/*    This only works with PostScript, TrueType, and OpenType fonts.     *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face :: A handle to the source face object.                        *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    A pointer to the face's PostScript name.  NULL if unavailable.     *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The returned pointer is owned by the face and is destroyed with    *\/\n-  \/*    it.                                                                *\/\n-  \/*                                                                       *\/\n-  \/*    For variation fonts, this string changes if you select a different *\/\n-  \/*    instance, and you have to call `FT_Get_PostScript_Name' again to   *\/\n-  \/*    retrieve it.  FreeType follows Adobe TechNote #5902, `Generating   *\/\n-  \/*    PostScript Names for Fonts Using OpenType Font Variations'.        *\/\n-  \/*                                                                       *\/\n-  \/*      https:\/\/download.macromedia.com\/pub\/developer\/opentype\/tech-notes\/5902.AdobePSNameGeneration.html *\/\n-  \/*                                                                       *\/\n-  \/*    [Since 2.9] Special PostScript names for named instances are only  *\/\n-  \/*    returned if the named instance is set with @FT_Set_Named_Instance  *\/\n-  \/*    (and the font has corresponding entries in its `fvar' table).  If  *\/\n-  \/*    @FT_IS_VARIATION returns true, the algorithmically derived         *\/\n-  \/*    PostScript name is provided, not looking up special entries for    *\/\n-  \/*    named instances.                                                   *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Get_Postscript_Name\n+   *\n+   * @description:\n+   *   Retrieve the ASCII PostScript name of a given face, if available.\n+   *   This only works with PostScript, TrueType, and OpenType fonts.\n+   *\n+   * @input:\n+   *   face ::\n+   *     A handle to the source face object.\n+   *\n+   * @return:\n+   *   A pointer to the face's PostScript name.  `NULL` if unavailable.\n+   *\n+   * @note:\n+   *   The returned pointer is owned by the face and is destroyed with it.\n+   *\n+   *   For variation fonts, this string changes if you select a different\n+   *   instance, and you have to call `FT_Get_PostScript_Name` again to\n+   *   retrieve it.  FreeType follows Adobe TechNote #5902, 'Generating\n+   *   PostScript Names for Fonts Using OpenType Font Variations'.\n+   *\n+   *     https:\/\/download.macromedia.com\/pub\/developer\/opentype\/tech-notes\/5902.AdobePSNameGeneration.html\n+   *\n+   *   [Since 2.9] Special PostScript names for named instances are only\n+   *   returned if the named instance is set with @FT_Set_Named_Instance (and\n+   *   the font has corresponding entries in its 'fvar' table).  If\n+   *   @FT_IS_VARIATION returns true, the algorithmically derived PostScript\n+   *   name is provided, not looking up special entries for named instances.\n+   *\/\n@@ -3572,28 +3602,30 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Select_Charmap                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Select a given charmap by its encoding tag (as listed in           *\/\n-  \/*    `freetype.h').                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    face     :: A handle to the source face object.                    *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    encoding :: A handle to the selected encoding.                     *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    This function returns an error if no charmap in the face           *\/\n-  \/*    corresponds to the encoding queried here.                          *\/\n-  \/*                                                                       *\/\n-  \/*    Because many fonts contain more than a single cmap for Unicode     *\/\n-  \/*    encoding, this function has some special code to select the one    *\/\n-  \/*    that covers Unicode best (`best' in the sense that a UCS-4 cmap is *\/\n-  \/*    preferred to a UCS-2 cmap).  It is thus preferable to              *\/\n-  \/*    @FT_Set_Charmap in this case.                                      *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Select_Charmap\n+   *\n+   * @description:\n+   *   Select a given charmap by its encoding tag (as listed in\n+   *   `freetype.h`).\n+   *\n+   * @inout:\n+   *   face ::\n+   *     A handle to the source face object.\n+   *\n+   * @input:\n+   *   encoding ::\n+   *     A handle to the selected encoding.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   This function returns an error if no charmap in the face corresponds\n+   *   to the encoding queried here.\n+   *\n+   *   Because many fonts contain more than a single cmap for Unicode\n+   *   encoding, this function has some special code to select the one that\n+   *   covers Unicode best ('best' in the sense that a UCS-4 cmap is\n+   *   preferred to a UCS-2 cmap).  It is thus preferable to @FT_Set_Charmap\n+   *   in this case.\n+   *\/\n@@ -3605,25 +3637,26 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Set_Charmap                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Select a given charmap for character code to glyph index mapping.  *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    face    :: A handle to the source face object.                     *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    charmap :: A handle to the selected charmap.                       *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    This function returns an error if the charmap is not part of       *\/\n-  \/*    the face (i.e., if it is not listed in the `face->charmaps'        *\/\n-  \/*    table).                                                            *\/\n-  \/*                                                                       *\/\n-  \/*    It also fails if an OpenType type~14 charmap is selected (which    *\/\n-  \/*    doesn't map character codes to glyph indices at all).              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Set_Charmap\n+   *\n+   * @description:\n+   *   Select a given charmap for character code to glyph index mapping.\n+   *\n+   * @inout:\n+   *   face ::\n+   *     A handle to the source face object.\n+   *\n+   * @input:\n+   *   charmap ::\n+   *     A handle to the selected charmap.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   This function returns an error if the charmap is not part of the face\n+   *   (i.e., if it is not listed in the `face->charmaps` table).\n+   *\n+   *   It also fails if an OpenType type~14 charmap is selected (which\n+   *   doesn't map character codes to glyph indices at all).\n+   *\/\n@@ -3635,1 +3668,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -3649,1 +3682,1 @@\n-   *   `charmap' belongs.  If an error occurs, -1 is returned.\n+   *   `charmap` belongs.  If an error occurs, -1 is returned.\n@@ -3656,30 +3689,31 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Get_Char_Index                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Return the glyph index of a given character code.  This function   *\/\n-  \/*    uses the currently selected charmap to do the mapping.             *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face     :: A handle to the source face object.                    *\/\n-  \/*                                                                       *\/\n-  \/*    charcode :: The character code.                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    The glyph index.  0~means `undefined character code'.              *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    If you use FreeType to manipulate the contents of font files       *\/\n-  \/*    directly, be aware that the glyph index returned by this function  *\/\n-  \/*    doesn't always correspond to the internal indices used within the  *\/\n-  \/*    file.  This is done to ensure that value~0 always corresponds to   *\/\n-  \/*    the `missing glyph'.  If the first glyph is not named `.notdef',   *\/\n-  \/*    then for Type~1 and Type~42 fonts, `.notdef' will be moved into    *\/\n-  \/*    the glyph ID~0 position, and whatever was there will be moved to   *\/\n-  \/*    the position `.notdef' had.  For Type~1 fonts, if there is no      *\/\n-  \/*    `.notdef' glyph at all, then one will be created at index~0 and    *\/\n-  \/*    whatever was there will be moved to the last index -- Type~42      *\/\n-  \/*    fonts are considered invalid under this condition.                 *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Get_Char_Index\n+   *\n+   * @description:\n+   *   Return the glyph index of a given character code.  This function uses\n+   *   the currently selected charmap to do the mapping.\n+   *\n+   * @input:\n+   *   face ::\n+   *     A handle to the source face object.\n+   *\n+   *   charcode ::\n+   *     The character code.\n+   *\n+   * @return:\n+   *   The glyph index.  0~means 'undefined character code'.\n+   *\n+   * @note:\n+   *   If you use FreeType to manipulate the contents of font files directly,\n+   *   be aware that the glyph index returned by this function doesn't always\n+   *   correspond to the internal indices used within the file.  This is done\n+   *   to ensure that value~0 always corresponds to the 'missing glyph'.  If\n+   *   the first glyph is not named '.notdef', then for Type~1 and Type~42\n+   *   fonts, '.notdef' will be moved into the glyph ID~0 position, and\n+   *   whatever was there will be moved to the position '.notdef' had.  For\n+   *   Type~1 fonts, if there is no '.notdef' glyph at all, then one will be\n+   *   created at index~0 and whatever was there will be moved to the last\n+   *   index -- Type~42 fonts are considered invalid under this condition.\n+   *\/\n@@ -3691,49 +3725,50 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Get_First_Char                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Return the first character code in the current charmap of a given  *\/\n-  \/*    face, together with its corresponding glyph index.                 *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face    :: A handle to the source face object.                     *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    agindex :: Glyph index of first character code.  0~if charmap is   *\/\n-  \/*               empty.                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    The charmap's first character code.                                *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    You should use this function together with @FT_Get_Next_Char to    *\/\n-  \/*    parse all character codes available in a given charmap.  The code  *\/\n-  \/*    should look like this:                                             *\/\n-  \/*                                                                       *\/\n-  \/*    {                                                                  *\/\n-  \/*      FT_ULong  charcode;                                              *\/\n-  \/*      FT_UInt   gindex;                                                *\/\n-  \/*                                                                       *\/\n-  \/*                                                                       *\/\n-  \/*      charcode = FT_Get_First_Char( face, &gindex );                   *\/\n-  \/*      while ( gindex != 0 )                                            *\/\n-  \/*      {                                                                *\/\n-  \/*        ... do something with (charcode,gindex) pair ...               *\/\n-  \/*                                                                       *\/\n-  \/*        charcode = FT_Get_Next_Char( face, charcode, &gindex );        *\/\n-  \/*      }                                                                *\/\n-  \/*    }                                                                  *\/\n-  \/*                                                                       *\/\n-  \/*    Be aware that character codes can have values up to 0xFFFFFFFF;    *\/\n-  \/*    this might happen for non-Unicode or malformed cmaps.  However,    *\/\n-  \/*    even with regular Unicode encoding, so-called `last resort fonts'  *\/\n-  \/*    (using SFNT cmap format 13, see function @FT_Get_CMap_Format)      *\/\n-  \/*    normally have entries for all Unicode characters up to 0x1FFFFF,   *\/\n-  \/*    which can cause *a lot* of iterations.                             *\/\n-  \/*                                                                       *\/\n-  \/*    Note that `*agindex' is set to~0 if the charmap is empty.  The     *\/\n-  \/*    result itself can be~0 in two cases: if the charmap is empty or    *\/\n-  \/*    if the value~0 is the first valid character code.                  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Get_First_Char\n+   *\n+   * @description:\n+   *   Return the first character code in the current charmap of a given\n+   *   face, together with its corresponding glyph index.\n+   *\n+   * @input:\n+   *   face ::\n+   *     A handle to the source face object.\n+   *\n+   * @output:\n+   *   agindex ::\n+   *     Glyph index of first character code.  0~if charmap is empty.\n+   *\n+   * @return:\n+   *   The charmap's first character code.\n+   *\n+   * @note:\n+   *   You should use this function together with @FT_Get_Next_Char to parse\n+   *   all character codes available in a given charmap.  The code should\n+   *   look like this:\n+   *\n+   *   ```\n+   *     FT_ULong  charcode;\n+   *     FT_UInt   gindex;\n+   *\n+   *\n+   *     charcode = FT_Get_First_Char( face, &gindex );\n+   *     while ( gindex != 0 )\n+   *     {\n+   *       ... do something with (charcode,gindex) pair ...\n+   *\n+   *       charcode = FT_Get_Next_Char( face, charcode, &gindex );\n+   *     }\n+   *   ```\n+   *\n+   *   Be aware that character codes can have values up to 0xFFFFFFFF; this\n+   *   might happen for non-Unicode or malformed cmaps.  However, even with\n+   *   regular Unicode encoding, so-called 'last resort fonts' (using SFNT\n+   *   cmap format 13, see function @FT_Get_CMap_Format) normally have\n+   *   entries for all Unicode characters up to 0x1FFFFF, which can cause *a\n+   *   lot* of iterations.\n+   *\n+   *   Note that `*agindex` is set to~0 if the charmap is empty.  The result\n+   *   itself can be~0 in two cases: if the charmap is empty or if the\n+   *   value~0 is the first valid character code.\n+   *\/\n@@ -3745,30 +3780,32 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Get_Next_Char                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Return the next character code in the current charmap of a given   *\/\n-  \/*    face following the value `char_code', as well as the corresponding *\/\n-  \/*    glyph index.                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face      :: A handle to the source face object.                   *\/\n-  \/*                                                                       *\/\n-  \/*    char_code :: The starting character code.                          *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    agindex   :: Glyph index of next character code.  0~if charmap     *\/\n-  \/*                 is empty.                                             *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    The charmap's next character code.                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    You should use this function with @FT_Get_First_Char to walk       *\/\n-  \/*    over all character codes available in a given charmap.  See the    *\/\n-  \/*    note for that function for a simple code example.                  *\/\n-  \/*                                                                       *\/\n-  \/*    Note that `*agindex' is set to~0 when there are no more codes in   *\/\n-  \/*    the charmap.                                                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Get_Next_Char\n+   *\n+   * @description:\n+   *   Return the next character code in the current charmap of a given face\n+   *   following the value `char_code`, as well as the corresponding glyph\n+   *   index.\n+   *\n+   * @input:\n+   *   face ::\n+   *     A handle to the source face object.\n+   *\n+   *   char_code ::\n+   *     The starting character code.\n+   *\n+   * @output:\n+   *   agindex ::\n+   *     Glyph index of next character code.  0~if charmap is empty.\n+   *\n+   * @return:\n+   *   The charmap's next character code.\n+   *\n+   * @note:\n+   *   You should use this function with @FT_Get_First_Char to walk over all\n+   *   character codes available in a given charmap.  See the note for that\n+   *   function for a simple code example.\n+   *\n+   *   Note that `*agindex` is set to~0 when there are no more codes in the\n+   *   charmap.\n+   *\/\n@@ -3781,1 +3818,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -3789,2 +3826,2 @@\n-   *   locks on shared structures (threads can modify their own faces as\n-   *   they see fit).\n+   *   locks on shared structures (threads can modify their own faces as they\n+   *   see fit).\n@@ -3792,4 +3829,3 @@\n-   *   Contrary to @FT_Property_Set, this function uses @FT_Parameter so\n-   *   that you can pass multiple properties to the target face in one call.\n-   *   Note that only a subset of the available properties can be\n-   *   controlled.\n+   *   Contrary to @FT_Property_Set, this function uses @FT_Parameter so that\n+   *   you can pass multiple properties to the target face in one call.  Note\n+   *   that only a subset of the available properties can be controlled.\n@@ -3798,2 +3834,2 @@\n-   *     property `no-stem-darkening' provided by the `autofit', `cff',\n-   *     `type1', and `t1cid' modules; see @no-stem-darkening).\n+   *     property `no-stem-darkening` provided by the 'autofit', 'cff',\n+   *     'type1', and 't1cid' modules; see @no-stem-darkening).\n@@ -3805,2 +3841,2 @@\n-   *     `random' operator, corresponding to the `random-seed' property\n-   *     provided by the `cff', `type1', and `t1cid' modules; see\n+   *     'random' operator, corresponding to the `random-seed` property\n+   *     provided by the 'cff', 'type1', and 't1cid' modules; see\n@@ -3809,1 +3845,1 @@\n-   *   Pass NULL as `data' in @FT_Parameter for a given tag to reset the\n+   *   Pass `NULL` as `data` in @FT_Parameter for a given tag to reset the\n@@ -3820,1 +3856,1 @@\n-   *     A handle to an @FT_Parameter array with `num_properties' elements.\n+   *     A handle to an @FT_Parameter array with `num_properties` elements.\n@@ -3825,3 +3861,3 @@\n-   * @note:\n-   *   Here an example that sets three properties.  You must define\n-   *   FT_CONFIG_OPTION_SUBPIXEL_RENDERING to make the LCD filter examples\n+   * @example:\n+   *   Here is an example that sets three properties.  You must define\n+   *   `FT_CONFIG_OPTION_SUBPIXEL_RENDERING` to make the LCD filter examples\n@@ -3830,1 +3866,1 @@\n-   *   {\n+   *   ```\n@@ -3856,1 +3892,1 @@\n-   *   }\n+   *   ```\n@@ -3860,1 +3896,1 @@\n-   *   {\n+   *   ```\n@@ -3868,1 +3904,1 @@\n-   *   }\n+   *   ```\n@@ -3880,16 +3916,18 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Get_Name_Index                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Return the glyph index of a given glyph name.                      *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face       :: A handle to the source face object.                  *\/\n-  \/*                                                                       *\/\n-  \/*    glyph_name :: The glyph name.                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    The glyph index.  0~means `undefined character code'.              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Get_Name_Index\n+   *\n+   * @description:\n+   *   Return the glyph index of a given glyph name.\n+   *\n+   * @input:\n+   *   face ::\n+   *     A handle to the source face object.\n+   *\n+   *   glyph_name ::\n+   *     The glyph name.\n+   *\n+   * @return:\n+   *   The glyph index.  0~means 'undefined character code'.\n+   *\/\n@@ -3901,1 +3939,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -3903,1 +3941,1 @@\n-   * @macro:\n+   * @enum:\n@@ -3907,4 +3945,5 @@\n-   *   A list of constants describing subglyphs.  Please refer to the\n-   *   `glyf' table description in the OpenType specification for the\n-   *   meaning of the various flags (which get synthesized for\n-   *   non-OpenType subglyphs).\n+   *   A list of constants describing subglyphs.  Please refer to the 'glyf'\n+   *   table description in the OpenType specification for the meaning of the\n+   *   various flags (which get synthesized for non-OpenType subglyphs).\n+   *\n+   *     https:\/\/docs.microsoft.com\/en-us\/typography\/opentype\/spec\/glyf#composite-glyph-description\n@@ -3931,1 +3970,102 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Get_SubGlyph_Info\n+   *\n+   * @description:\n+   *   Retrieve a description of a given subglyph.  Only use it if\n+   *   `glyph->format` is @FT_GLYPH_FORMAT_COMPOSITE; an error is returned\n+   *   otherwise.\n+   *\n+   * @input:\n+   *   glyph ::\n+   *     The source glyph slot.\n+   *\n+   *   sub_index ::\n+   *     The index of the subglyph.  Must be less than\n+   *     `glyph->num_subglyphs`.\n+   *\n+   * @output:\n+   *   p_index ::\n+   *     The glyph index of the subglyph.\n+   *\n+   *   p_flags ::\n+   *     The subglyph flags, see @FT_SUBGLYPH_FLAG_XXX.\n+   *\n+   *   p_arg1 ::\n+   *     The subglyph's first argument (if any).\n+   *\n+   *   p_arg2 ::\n+   *     The subglyph's second argument (if any).\n+   *\n+   *   p_transform ::\n+   *     The subglyph transformation (if any).\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   The values of `*p_arg1`, `*p_arg2`, and `*p_transform` must be\n+   *   interpreted depending on the flags returned in `*p_flags`.  See the\n+   *   OpenType specification for details.\n+   *\n+   *     https:\/\/docs.microsoft.com\/en-us\/typography\/opentype\/spec\/glyf#composite-glyph-description\n+   *\n+   *\/\n+  FT_EXPORT( FT_Error )\n+  FT_Get_SubGlyph_Info( FT_GlyphSlot  glyph,\n+                        FT_UInt       sub_index,\n+                        FT_Int       *p_index,\n+                        FT_UInt      *p_flags,\n+                        FT_Int       *p_arg1,\n+                        FT_Int       *p_arg2,\n+                        FT_Matrix    *p_transform );\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   layer_management\n+   *\n+   * @title:\n+   *   Glyph Layer Management\n+   *\n+   * @abstract:\n+   *   Retrieving and manipulating OpenType's 'COLR' table data.\n+   *\n+   * @description:\n+   *   The functions described here allow access of colored glyph layer data\n+   *   in OpenType's 'COLR' tables.\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_LayerIterator\n+   *\n+   * @description:\n+   *   This iterator object is needed for @FT_Get_Color_Glyph_Layer.\n+   *\n+   * @fields:\n+   *   num_layers ::\n+   *     The number of glyph layers for the requested glyph index.  Will be\n+   *     set by @FT_Get_Color_Glyph_Layer.\n+   *\n+   *   layer ::\n+   *     The current layer.  Will be set by @FT_Get_Color_Glyph_Layer.\n+   *\n+   *   p ::\n+   *     An opaque pointer into 'COLR' table data.  The caller must set this\n+   *     to `NULL` before the first call of @FT_Get_Color_Glyph_Layer.\n+   *\/\n+  typedef struct  FT_LayerIterator_\n+  {\n+    FT_UInt   num_layers;\n+    FT_UInt   layer;\n+    FT_Byte*  p;\n+\n+  } FT_LayerIterator;\n+\n+\n+  \/**************************************************************************\n@@ -3933,2 +4073,2 @@\n-   * @func:\n-   *   FT_Get_SubGlyph_Info\n+   * @function:\n+   *   FT_Get_Color_Glyph_Layer\n@@ -3937,3 +4077,3 @@\n-   *   Retrieve a description of a given subglyph.  Only use it if\n-   *   `glyph->format' is @FT_GLYPH_FORMAT_COMPOSITE; an error is\n-   *   returned otherwise.\n+   *   This is an interface to the 'COLR' table in OpenType fonts to\n+   *   iteratively retrieve the colored glyph layers associated with the\n+   *   current glyph slot.\n@@ -3941,3 +4081,1 @@\n-   * @input:\n-   *   glyph ::\n-   *     The source glyph slot.\n+   *     https:\/\/docs.microsoft.com\/en-us\/typography\/opentype\/spec\/colr\n@@ -3945,3 +4083,5 @@\n-   *   sub_index ::\n-   *     The index of the subglyph.  Must be less than\n-   *     `glyph->num_subglyphs'.\n+   *   The glyph layer data for a given glyph index, if present, provides an\n+   *   alternative, multi-colour glyph representation: Instead of rendering\n+   *   the outline or bitmap with the given glyph index, glyphs with the\n+   *   indices and colors returned by this function are rendered layer by\n+   *   layer.\n@@ -3949,3 +4089,4 @@\n-   * @output:\n-   *   p_index ::\n-   *     The glyph index of the subglyph.\n+   *   The returned elements are ordered in the z~direction from bottom to\n+   *   top; the 'n'th element should be rendered with the associated palette\n+   *   color and blended on top of the already rendered layers (elements 0,\n+   *   1, ..., n-1).\n@@ -3953,2 +4094,3 @@\n-   *   p_flags ::\n-   *     The subglyph flags, see @FT_SUBGLYPH_FLAG_XXX.\n+   * @input:\n+   *   face ::\n+   *     A handle to the parent face object.\n@@ -3956,2 +4098,2 @@\n-   *   p_arg1 ::\n-   *     The subglyph's first argument (if any).\n+   *   base_glyph ::\n+   *     The glyph index the colored glyph layers are associated with.\n@@ -3959,2 +4101,5 @@\n-   *   p_arg2 ::\n-   *     The subglyph's second argument (if any).\n+   * @inout:\n+   *   iterator ::\n+   *     An @FT_LayerIterator object.  For the first call you should set\n+   *     `iterator->p` to `NULL`.  For all following calls, simply use the\n+   *     same object again.\n@@ -3962,2 +4107,11 @@\n-   *   p_transform ::\n-   *     The subglyph transformation (if any).\n+   * @output:\n+   *   aglyph_index ::\n+   *     The glyph index of the current layer.\n+   *\n+   *   acolor_index ::\n+   *     The color index into the font face's color palette of the current\n+   *     layer.  The value 0xFFFF is special; it doesn't reference a palette\n+   *     entry but indicates that the text foreground color should be used\n+   *     instead (to be set up by the application outside of FreeType).\n+   *\n+   *     The color palette can be retrieved with @FT_Palette_Select.\n@@ -3966,1 +4120,3 @@\n-   *   FreeType error code.  0~means success.\n+   *   Value~1 if everything is OK.  If there are no more layers (or if there\n+   *   are no layers at all), value~0 gets returned.  In case of an error,\n+   *   value~0 is returned also.\n@@ -3969,3 +4125,22 @@\n-   *   The values of `*p_arg1', `*p_arg2', and `*p_transform' must be\n-   *   interpreted depending on the flags returned in `*p_flags'.  See the\n-   *   OpenType specification for details.\n+   *   This function is necessary if you want to handle glyph layers by\n+   *   yourself.  In particular, functions that operate with @FT_GlyphRec\n+   *   objects (like @FT_Get_Glyph or @FT_Glyph_To_Bitmap) don't have access\n+   *   to this information.\n+   *\n+   *   Note that @FT_Render_Glyph is able to handle colored glyph layers\n+   *   automatically if the @FT_LOAD_COLOR flag is passed to a previous call\n+   *   to @FT_Load_Glyph.  [This is an experimental feature.]\n+   *\n+   * @example:\n+   *   ```\n+   *     FT_Color*         palette;\n+   *     FT_LayerIterator  iterator;\n+   *\n+   *     FT_Bool  have_layers;\n+   *     FT_UInt  layer_glyph_index;\n+   *     FT_UInt  layer_color_index;\n+   *\n+   *\n+   *     error = FT_Palette_Select( face, palette_index, &palette );\n+   *     if ( error )\n+   *       palette = NULL;\n@@ -3973,0 +4148,30 @@\n+   *     iterator.p  = NULL;\n+   *     have_layers = FT_Get_Color_Glyph_Layer( face,\n+   *                                             glyph_index,\n+   *                                             &layer_glyph_index,\n+   *                                             &layer_color_index,\n+   *                                             &iterator );\n+   *\n+   *     if ( palette && have_layers )\n+   *     {\n+   *       do\n+   *       {\n+   *         FT_Color  layer_color;\n+   *\n+   *\n+   *         if ( layer_color_index == 0xFFFF )\n+   *           layer_color = text_foreground_color;\n+   *         else\n+   *           layer_color = palette[layer_color_index];\n+   *\n+   *         \/\/ Load and render glyph `layer_glyph_index', then\n+   *         \/\/ blend resulting pixmap (using color `layer_color')\n+   *         \/\/ with previously created pixmaps.\n+   *\n+   *       } while ( FT_Get_Color_Glyph_Layer( face,\n+   *                                           glyph_index,\n+   *                                           &layer_glyph_index,\n+   *                                           &layer_color_index,\n+   *                                           &iterator ) );\n+   *     }\n+   *   ```\n@@ -3974,8 +4179,6 @@\n-  FT_EXPORT( FT_Error )\n-  FT_Get_SubGlyph_Info( FT_GlyphSlot  glyph,\n-                        FT_UInt       sub_index,\n-                        FT_Int       *p_index,\n-                        FT_UInt      *p_flags,\n-                        FT_Int       *p_arg1,\n-                        FT_Int       *p_arg2,\n-                        FT_Matrix    *p_transform );\n+  FT_EXPORT( FT_Bool )\n+  FT_Get_Color_Glyph_Layer( FT_Face            face,\n+                            FT_UInt            base_glyph,\n+                            FT_UInt           *aglyph_index,\n+                            FT_UInt           *acolor_index,\n+                            FT_LayerIterator*  iterator );\n@@ -3984,53 +4187,60 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Enum>                                                                *\/\n-  \/*    FT_FSTYPE_XXX                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A list of bit flags used in the `fsType' field of the OS\/2 table   *\/\n-  \/*    in a TrueType or OpenType font and the `FSType' entry in a         *\/\n-  \/*    PostScript font.  These bit flags are returned by                  *\/\n-  \/*    @FT_Get_FSType_Flags; they inform client applications of embedding *\/\n-  \/*    and subsetting restrictions associated with a font.                *\/\n-  \/*                                                                       *\/\n-  \/*    See                                                                *\/\n-  \/*    https:\/\/www.adobe.com\/content\/dam\/Adobe\/en\/devnet\/acrobat\/pdfs\/FontPolicies.pdf *\/\n-  \/*    for more details.                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Values>                                                              *\/\n-  \/*    FT_FSTYPE_INSTALLABLE_EMBEDDING ::                                 *\/\n-  \/*      Fonts with no fsType bit set may be embedded and permanently     *\/\n-  \/*      installed on the remote system by an application.                *\/\n-  \/*                                                                       *\/\n-  \/*    FT_FSTYPE_RESTRICTED_LICENSE_EMBEDDING ::                          *\/\n-  \/*      Fonts that have only this bit set must not be modified, embedded *\/\n-  \/*      or exchanged in any manner without first obtaining permission of *\/\n-  \/*      the font software copyright owner.                               *\/\n-  \/*                                                                       *\/\n-  \/*    FT_FSTYPE_PREVIEW_AND_PRINT_EMBEDDING ::                           *\/\n-  \/*      The font may be embedded and temporarily loaded on the remote    *\/\n-  \/*      system.  Documents containing Preview & Print fonts must be      *\/\n-  \/*      opened `read-only'; no edits can be applied to the document.     *\/\n-  \/*                                                                       *\/\n-  \/*    FT_FSTYPE_EDITABLE_EMBEDDING ::                                    *\/\n-  \/*      The font may be embedded but must only be installed temporarily  *\/\n-  \/*      on other systems.  In contrast to Preview & Print fonts,         *\/\n-  \/*      documents containing editable fonts may be opened for reading,   *\/\n-  \/*      editing is permitted, and changes may be saved.                  *\/\n-  \/*                                                                       *\/\n-  \/*    FT_FSTYPE_NO_SUBSETTING ::                                         *\/\n-  \/*      The font may not be subsetted prior to embedding.                *\/\n-  \/*                                                                       *\/\n-  \/*    FT_FSTYPE_BITMAP_EMBEDDING_ONLY ::                                 *\/\n-  \/*      Only bitmaps contained in the font may be embedded; no outline   *\/\n-  \/*      data may be embedded.  If there are no bitmaps available in the  *\/\n-  \/*      font, then the font is unembeddable.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The flags are ORed together, thus more than a single value can be  *\/\n-  \/*    returned.                                                          *\/\n-  \/*                                                                       *\/\n-  \/*    While the `fsType' flags can indicate that a font may be embedded, *\/\n-  \/*    a license with the font vendor may be separately required to use   *\/\n-  \/*    the font in this way.                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   base_interface\n+   *\n+   *\/\n+\n+  \/**************************************************************************\n+   *\n+   * @enum:\n+   *   FT_FSTYPE_XXX\n+   *\n+   * @description:\n+   *   A list of bit flags used in the `fsType` field of the OS\/2 table in a\n+   *   TrueType or OpenType font and the `FSType` entry in a PostScript font.\n+   *   These bit flags are returned by @FT_Get_FSType_Flags; they inform\n+   *   client applications of embedding and subsetting restrictions\n+   *   associated with a font.\n+   *\n+   *   See\n+   *   https:\/\/www.adobe.com\/content\/dam\/Adobe\/en\/devnet\/acrobat\/pdfs\/FontPolicies.pdf\n+   *   for more details.\n+   *\n+   * @values:\n+   *   FT_FSTYPE_INSTALLABLE_EMBEDDING ::\n+   *     Fonts with no fsType bit set may be embedded and permanently\n+   *     installed on the remote system by an application.\n+   *\n+   *   FT_FSTYPE_RESTRICTED_LICENSE_EMBEDDING ::\n+   *     Fonts that have only this bit set must not be modified, embedded or\n+   *     exchanged in any manner without first obtaining permission of the\n+   *     font software copyright owner.\n+   *\n+   *   FT_FSTYPE_PREVIEW_AND_PRINT_EMBEDDING ::\n+   *     The font may be embedded and temporarily loaded on the remote\n+   *     system.  Documents containing Preview & Print fonts must be opened\n+   *     'read-only'; no edits can be applied to the document.\n+   *\n+   *   FT_FSTYPE_EDITABLE_EMBEDDING ::\n+   *     The font may be embedded but must only be installed temporarily on\n+   *     other systems.  In contrast to Preview & Print fonts, documents\n+   *     containing editable fonts may be opened for reading, editing is\n+   *     permitted, and changes may be saved.\n+   *\n+   *   FT_FSTYPE_NO_SUBSETTING ::\n+   *     The font may not be subsetted prior to embedding.\n+   *\n+   *   FT_FSTYPE_BITMAP_EMBEDDING_ONLY ::\n+   *     Only bitmaps contained in the font may be embedded; no outline data\n+   *     may be embedded.  If there are no bitmaps available in the font,\n+   *     then the font is unembeddable.\n+   *\n+   * @note:\n+   *   The flags are ORed together, thus more than a single value can be\n+   *   returned.\n+   *\n+   *   While the `fsType` flags can indicate that a font may be embedded, a\n+   *   license with the font vendor may be separately required to use the\n+   *   font in this way.\n+   *\/\n@@ -4045,22 +4255,23 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Get_FSType_Flags                                                *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Return the `fsType' flags for a font.                              *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face :: A handle to the source face object.                        *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    The `fsType' flags, see @FT_FSTYPE_XXX.                            *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    Use this function rather than directly reading the `fs_type' field *\/\n-  \/*    in the @PS_FontInfoRec structure, which is only guaranteed to      *\/\n-  \/*    return the correct results for Type~1 fonts.                       *\/\n-  \/*                                                                       *\/\n-  \/* <Since>                                                               *\/\n-  \/*    2.3.8                                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Get_FSType_Flags\n+   *\n+   * @description:\n+   *   Return the `fsType` flags for a font.\n+   *\n+   * @input:\n+   *   face ::\n+   *     A handle to the source face object.\n+   *\n+   * @return:\n+   *   The `fsType` flags, see @FT_FSTYPE_XXX.\n+   *\n+   * @note:\n+   *   Use this function rather than directly reading the `fs_type` field in\n+   *   the @PS_FontInfoRec structure, which is only guaranteed to return the\n+   *   correct results for Type~1 fonts.\n+   *\n+   * @since:\n+   *   2.3.8\n+   *\/\n@@ -4071,53 +4282,50 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Section>                                                             *\/\n-  \/*    glyph_variants                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Title>                                                               *\/\n-  \/*    Unicode Variation Sequences                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Abstract>                                                            *\/\n-  \/*    The FreeType~2 interface to Unicode Variation Sequences (UVS),     *\/\n-  \/*    using the SFNT cmap format~14.                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Many characters, especially for CJK scripts, have variant forms.   *\/\n-  \/*    They are a sort of grey area somewhere between being totally       *\/\n-  \/*    irrelevant and semantically distinct; for this reason, the Unicode *\/\n-  \/*    consortium decided to introduce Variation Sequences (VS),          *\/\n-  \/*    consisting of a Unicode base character and a variation selector    *\/\n-  \/*    instead of further extending the already huge number of            *\/\n-  \/*    characters.                                                        *\/\n-  \/*                                                                       *\/\n-  \/*    Unicode maintains two different sets, namely `Standardized         *\/\n-  \/*    Variation Sequences' and registered `Ideographic Variation         *\/\n-  \/*    Sequences' (IVS), collected in the `Ideographic Variation          *\/\n-  \/*    Database' (IVD).                                                   *\/\n-  \/*                                                                       *\/\n-  \/*      https:\/\/unicode.org\/Public\/UCD\/latest\/ucd\/StandardizedVariants.txt *\/\n-  \/*      https:\/\/unicode.org\/reports\/tr37\/                                *\/\n-  \/*      https:\/\/unicode.org\/ivd\/                                         *\/\n-  \/*                                                                       *\/\n-  \/*    To date (January 2017), the character with the most ideographic    *\/\n-  \/*    variations is U+9089, having 32 such IVS.                          *\/\n-  \/*                                                                       *\/\n-  \/*    Three Mongolian Variation Selectors have the values U+180B-U+180D; *\/\n-  \/*    256 generic Variation Selectors are encoded in the ranges          *\/\n-  \/*    U+FE00-U+FE0F and U+E0100-U+E01EF.  IVS currently use Variation    *\/\n-  \/*    Selectors from the range U+E0100-U+E01EF only.                     *\/\n-  \/*                                                                       *\/\n-  \/*    A VS consists of the base character value followed by a single     *\/\n-  \/*    Variation Selector.  For example, to get the first variation of    *\/\n-  \/*    U+9089, you have to write the character sequence `U+9089 U+E0100'. *\/\n-  \/*                                                                       *\/\n-  \/*    Adobe and MS decided to support both standardized and ideographic  *\/\n-  \/*    VS with a new cmap subtable (format~14).  It is an odd subtable    *\/\n-  \/*    because it is not a mapping of input code points to glyphs, but    *\/\n-  \/*    contains lists of all variations supported by the font.            *\/\n-  \/*                                                                       *\/\n-  \/*    A variation may be either `default' or `non-default' for a given   *\/\n-  \/*    font.  A default variation is the one you will get for that code   *\/\n-  \/*    point if you look it up in the standard Unicode cmap.  A           *\/\n-  \/*    non-default variation is a different glyph.                        *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   glyph_variants\n+   *\n+   * @title:\n+   *   Unicode Variation Sequences\n+   *\n+   * @abstract:\n+   *   The FreeType~2 interface to Unicode Variation Sequences (UVS), using\n+   *   the SFNT cmap format~14.\n+   *\n+   * @description:\n+   *   Many characters, especially for CJK scripts, have variant forms.  They\n+   *   are a sort of grey area somewhere between being totally irrelevant and\n+   *   semantically distinct; for this reason, the Unicode consortium decided\n+   *   to introduce Variation Sequences (VS), consisting of a Unicode base\n+   *   character and a variation selector instead of further extending the\n+   *   already huge number of characters.\n+   *\n+   *   Unicode maintains two different sets, namely 'Standardized Variation\n+   *   Sequences' and registered 'Ideographic Variation Sequences' (IVS),\n+   *   collected in the 'Ideographic Variation Database' (IVD).\n+   *\n+   *     https:\/\/unicode.org\/Public\/UCD\/latest\/ucd\/StandardizedVariants.txt\n+   *     https:\/\/unicode.org\/reports\/tr37\/ https:\/\/unicode.org\/ivd\/\n+   *\n+   *   To date (January 2017), the character with the most ideographic\n+   *   variations is U+9089, having 32 such IVS.\n+   *\n+   *   Three Mongolian Variation Selectors have the values U+180B-U+180D; 256\n+   *   generic Variation Selectors are encoded in the ranges U+FE00-U+FE0F\n+   *   and U+E0100-U+E01EF.  IVS currently use Variation Selectors from the\n+   *   range U+E0100-U+E01EF only.\n+   *\n+   *   A VS consists of the base character value followed by a single\n+   *   Variation Selector.  For example, to get the first variation of\n+   *   U+9089, you have to write the character sequence `U+9089 U+E0100`.\n+   *\n+   *   Adobe and MS decided to support both standardized and ideographic VS\n+   *   with a new cmap subtable (format~14).  It is an odd subtable because\n+   *   it is not a mapping of input code points to glyphs, but contains lists\n+   *   of all variations supported by the font.\n+   *\n+   *   A variation may be either 'default' or 'non-default' for a given font.\n+   *   A default variation is the one you will get for that code point if you\n+   *   look it up in the standard Unicode cmap.  A non-default variation is a\n+   *   different glyph.\n+   *\n+   *\/\n@@ -4126,39 +4334,37 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Face_GetCharVariantIndex                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Return the glyph index of a given character code as modified by    *\/\n-  \/*    the variation selector.                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face ::                                                            *\/\n-  \/*      A handle to the source face object.                              *\/\n-  \/*                                                                       *\/\n-  \/*    charcode ::                                                        *\/\n-  \/*      The character code point in Unicode.                             *\/\n-  \/*                                                                       *\/\n-  \/*    variantSelector ::                                                 *\/\n-  \/*      The Unicode code point of the variation selector.                *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    The glyph index.  0~means either `undefined character code', or    *\/\n-  \/*    `undefined selector code', or `no variation selector cmap          *\/\n-  \/*    subtable', or `current CharMap is not Unicode'.                    *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    If you use FreeType to manipulate the contents of font files       *\/\n-  \/*    directly, be aware that the glyph index returned by this function  *\/\n-  \/*    doesn't always correspond to the internal indices used within      *\/\n-  \/*    the file.  This is done to ensure that value~0 always corresponds  *\/\n-  \/*    to the `missing glyph'.                                            *\/\n-  \/*                                                                       *\/\n-  \/*    This function is only meaningful if                                *\/\n-  \/*      a) the font has a variation selector cmap sub table,             *\/\n-  \/*    and                                                                *\/\n-  \/*      b) the current charmap has a Unicode encoding.                   *\/\n-  \/*                                                                       *\/\n-  \/* <Since>                                                               *\/\n-  \/*    2.3.6                                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Face_GetCharVariantIndex\n+   *\n+   * @description:\n+   *   Return the glyph index of a given character code as modified by the\n+   *   variation selector.\n+   *\n+   * @input:\n+   *   face ::\n+   *     A handle to the source face object.\n+   *\n+   *   charcode ::\n+   *     The character code point in Unicode.\n+   *\n+   *   variantSelector ::\n+   *     The Unicode code point of the variation selector.\n+   *\n+   * @return:\n+   *   The glyph index.  0~means either 'undefined character code', or\n+   *   'undefined selector code', or 'no variation selector cmap subtable',\n+   *   or 'current CharMap is not Unicode'.\n+   *\n+   * @note:\n+   *   If you use FreeType to manipulate the contents of font files directly,\n+   *   be aware that the glyph index returned by this function doesn't always\n+   *   correspond to the internal indices used within the file.  This is done\n+   *   to ensure that value~0 always corresponds to the 'missing glyph'.\n+   *\n+   *   This function is only meaningful if\n+   *     a) the font has a variation selector cmap sub table, and\n+   *     b) the current charmap has a Unicode encoding.\n+   *\n+   * @since:\n+   *   2.3.6\n+   *\/\n@@ -4171,30 +4377,30 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Face_GetCharVariantIsDefault                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Check whether this variation of this Unicode character is the one  *\/\n-  \/*    to be found in the `cmap'.                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face ::                                                            *\/\n-  \/*      A handle to the source face object.                              *\/\n-  \/*                                                                       *\/\n-  \/*    charcode ::                                                        *\/\n-  \/*      The character codepoint in Unicode.                              *\/\n-  \/*                                                                       *\/\n-  \/*    variantSelector ::                                                 *\/\n-  \/*      The Unicode codepoint of the variation selector.                 *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    1~if found in the standard (Unicode) cmap, 0~if found in the       *\/\n-  \/*    variation selector cmap, or -1 if it is not a variation.           *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    This function is only meaningful if the font has a variation       *\/\n-  \/*    selector cmap subtable.                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Since>                                                               *\/\n-  \/*    2.3.6                                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Face_GetCharVariantIsDefault\n+   *\n+   * @description:\n+   *   Check whether this variation of this Unicode character is the one to\n+   *   be found in the charmap.\n+   *\n+   * @input:\n+   *   face ::\n+   *     A handle to the source face object.\n+   *\n+   *   charcode ::\n+   *     The character codepoint in Unicode.\n+   *\n+   *   variantSelector ::\n+   *     The Unicode codepoint of the variation selector.\n+   *\n+   * @return:\n+   *   1~if found in the standard (Unicode) cmap, 0~if found in the variation\n+   *   selector cmap, or -1 if it is not a variation.\n+   *\n+   * @note:\n+   *   This function is only meaningful if the font has a variation selector\n+   *   cmap subtable.\n+   *\n+   * @since:\n+   *   2.3.6\n+   *\/\n@@ -4207,25 +4413,25 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Face_GetVariantSelectors                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Return a zero-terminated list of Unicode variation selectors found *\/\n-  \/*    in the font.                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face ::                                                            *\/\n-  \/*      A handle to the source face object.                              *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    A pointer to an array of selector code points, or NULL if there is *\/\n-  \/*    no valid variation selector cmap subtable.                         *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The last item in the array is~0; the array is owned by the         *\/\n-  \/*    @FT_Face object but can be overwritten or released on the next     *\/\n-  \/*    call to a FreeType function.                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Since>                                                               *\/\n-  \/*    2.3.6                                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Face_GetVariantSelectors\n+   *\n+   * @description:\n+   *   Return a zero-terminated list of Unicode variation selectors found in\n+   *   the font.\n+   *\n+   * @input:\n+   *   face ::\n+   *     A handle to the source face object.\n+   *\n+   * @return:\n+   *   A pointer to an array of selector code points, or `NULL` if there is\n+   *   no valid variation selector cmap subtable.\n+   *\n+   * @note:\n+   *   The last item in the array is~0; the array is owned by the @FT_Face\n+   *   object but can be overwritten or released on the next call to a\n+   *   FreeType function.\n+   *\n+   * @since:\n+   *   2.3.6\n+   *\/\n@@ -4236,29 +4442,29 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Face_GetVariantsOfChar                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Return a zero-terminated list of Unicode variation selectors found *\/\n-  \/*    for the specified character code.                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face ::                                                            *\/\n-  \/*      A handle to the source face object.                              *\/\n-  \/*                                                                       *\/\n-  \/*    charcode ::                                                        *\/\n-  \/*      The character codepoint in Unicode.                              *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    A pointer to an array of variation selector code points that are   *\/\n-  \/*    active for the given character, or NULL if the corresponding list  *\/\n-  \/*    is empty.                                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The last item in the array is~0; the array is owned by the         *\/\n-  \/*    @FT_Face object but can be overwritten or released on the next     *\/\n-  \/*    call to a FreeType function.                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Since>                                                               *\/\n-  \/*    2.3.6                                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Face_GetVariantsOfChar\n+   *\n+   * @description:\n+   *   Return a zero-terminated list of Unicode variation selectors found for\n+   *   the specified character code.\n+   *\n+   * @input:\n+   *   face ::\n+   *     A handle to the source face object.\n+   *\n+   *   charcode ::\n+   *     The character codepoint in Unicode.\n+   *\n+   * @return:\n+   *   A pointer to an array of variation selector code points that are\n+   *   active for the given character, or `NULL` if the corresponding list is\n+   *   empty.\n+   *\n+   * @note:\n+   *   The last item in the array is~0; the array is owned by the @FT_Face\n+   *   object but can be overwritten or released on the next call to a\n+   *   FreeType function.\n+   *\n+   * @since:\n+   *   2.3.6\n+   *\/\n@@ -4270,29 +4476,29 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Face_GetCharsOfVariant                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Return a zero-terminated list of Unicode character codes found for *\/\n-  \/*    the specified variation selector.                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face ::                                                            *\/\n-  \/*      A handle to the source face object.                              *\/\n-  \/*                                                                       *\/\n-  \/*    variantSelector ::                                                 *\/\n-  \/*      The variation selector code point in Unicode.                    *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    A list of all the code points that are specified by this selector  *\/\n-  \/*    (both default and non-default codes are returned) or NULL if there *\/\n-  \/*    is no valid cmap or the variation selector is invalid.             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The last item in the array is~0; the array is owned by the         *\/\n-  \/*    @FT_Face object but can be overwritten or released on the next     *\/\n-  \/*    call to a FreeType function.                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Since>                                                               *\/\n-  \/*    2.3.6                                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Face_GetCharsOfVariant\n+   *\n+   * @description:\n+   *   Return a zero-terminated list of Unicode character codes found for the\n+   *   specified variation selector.\n+   *\n+   * @input:\n+   *   face ::\n+   *     A handle to the source face object.\n+   *\n+   *   variantSelector ::\n+   *     The variation selector code point in Unicode.\n+   *\n+   * @return:\n+   *   A list of all the code points that are specified by this selector\n+   *   (both default and non-default codes are returned) or `NULL` if there\n+   *   is no valid cmap or the variation selector is invalid.\n+   *\n+   * @note:\n+   *   The last item in the array is~0; the array is owned by the @FT_Face\n+   *   object but can be overwritten or released on the next call to a\n+   *   FreeType function.\n+   *\n+   * @since:\n+   *   2.3.6\n+   *\/\n@@ -4304,27 +4510,32 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Section>                                                             *\/\n-  \/*    computations                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Title>                                                               *\/\n-  \/*    Computations                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Abstract>                                                            *\/\n-  \/*    Crunching fixed numbers and vectors.                               *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This section contains various functions used to perform            *\/\n-  \/*    computations on 16.16 fixed-float numbers or 2d vectors.           *\/\n-  \/*                                                                       *\/\n-  \/* <Order>                                                               *\/\n-  \/*    FT_MulDiv                                                          *\/\n-  \/*    FT_MulFix                                                          *\/\n-  \/*    FT_DivFix                                                          *\/\n-  \/*    FT_RoundFix                                                        *\/\n-  \/*    FT_CeilFix                                                         *\/\n-  \/*    FT_FloorFix                                                        *\/\n-  \/*    FT_Vector_Transform                                                *\/\n-  \/*    FT_Matrix_Multiply                                                 *\/\n-  \/*    FT_Matrix_Invert                                                   *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   computations\n+   *\n+   * @title:\n+   *   Computations\n+   *\n+   * @abstract:\n+   *   Crunching fixed numbers and vectors.\n+   *\n+   * @description:\n+   *   This section contains various functions used to perform computations\n+   *   on 16.16 fixed-float numbers or 2d vectors.\n+   *\n+   *   **Attention**: Most arithmetic functions take `FT_Long` as arguments.\n+   *   For historical reasons, FreeType was designed under the assumption\n+   *   that `FT_Long` is a 32-bit integer; results can thus be undefined if\n+   *   the arguments don't fit into 32 bits.\n+   *\n+   * @order:\n+   *   FT_MulDiv\n+   *   FT_MulFix\n+   *   FT_DivFix\n+   *   FT_RoundFix\n+   *   FT_CeilFix\n+   *   FT_FloorFix\n+   *   FT_Vector_Transform\n+   *   FT_Matrix_Multiply\n+   *   FT_Matrix_Invert\n+   *\n+   *\/\n@@ -4333,24 +4544,27 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_MulDiv                                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Compute `(a*b)\/c' with maximum accuracy, using a 64-bit            *\/\n-  \/*    intermediate integer whenever necessary.                           *\/\n-  \/*                                                                       *\/\n-  \/*    This function isn't necessarily as fast as some processor specific *\/\n-  \/*    operations, but is at least completely portable.                   *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    a :: The first multiplier.                                         *\/\n-  \/*                                                                       *\/\n-  \/*    b :: The second multiplier.                                        *\/\n-  \/*                                                                       *\/\n-  \/*    c :: The divisor.                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    The result of `(a*b)\/c'.  This function never traps when trying to *\/\n-  \/*    divide by zero; it simply returns `MaxInt' or `MinInt' depending   *\/\n-  \/*    on the signs of `a' and `b'.                                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_MulDiv\n+   *\n+   * @description:\n+   *   Compute `(a*b)\/c` with maximum accuracy, using a 64-bit intermediate\n+   *   integer whenever necessary.\n+   *\n+   *   This function isn't necessarily as fast as some processor-specific\n+   *   operations, but is at least completely portable.\n+   *\n+   * @input:\n+   *   a ::\n+   *     The first multiplier.\n+   *\n+   *   b ::\n+   *     The second multiplier.\n+   *\n+   *   c ::\n+   *     The divisor.\n+   *\n+   * @return:\n+   *   The result of `(a*b)\/c`.  This function never traps when trying to\n+   *   divide by zero; it simply returns 'MaxInt' or 'MinInt' depending on\n+   *   the signs of `a` and `b`.\n+   *\/\n@@ -4363,29 +4577,30 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_MulFix                                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Compute `(a*b)\/0x10000' with maximum accuracy.  Its main use is to *\/\n-  \/*    multiply a given value by a 16.16 fixed-point factor.              *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    a :: The first multiplier.                                         *\/\n-  \/*                                                                       *\/\n-  \/*    b :: The second multiplier.  Use a 16.16 factor here whenever      *\/\n-  \/*         possible (see note below).                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    The result of `(a*b)\/0x10000'.                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    This function has been optimized for the case where the absolute   *\/\n-  \/*    value of `a' is less than 2048, and `b' is a 16.16 scaling factor. *\/\n-  \/*    As this happens mainly when scaling from notional units to         *\/\n-  \/*    fractional pixels in FreeType, it resulted in noticeable speed     *\/\n-  \/*    improvements between versions 2.x and 1.x.                         *\/\n-  \/*                                                                       *\/\n-  \/*    As a conclusion, always try to place a 16.16 factor as the         *\/\n-  \/*    _second_ argument of this function; this can make a great          *\/\n-  \/*    difference.                                                        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_MulFix\n+   *\n+   * @description:\n+   *   Compute `(a*b)\/0x10000` with maximum accuracy.  Its main use is to\n+   *   multiply a given value by a 16.16 fixed-point factor.\n+   *\n+   * @input:\n+   *   a ::\n+   *     The first multiplier.\n+   *\n+   *   b ::\n+   *     The second multiplier.  Use a 16.16 factor here whenever possible\n+   *     (see note below).\n+   *\n+   * @return:\n+   *   The result of `(a*b)\/0x10000`.\n+   *\n+   * @note:\n+   *   This function has been optimized for the case where the absolute value\n+   *   of `a` is less than 2048, and `b` is a 16.16 scaling factor.  As this\n+   *   happens mainly when scaling from notional units to fractional pixels\n+   *   in FreeType, it resulted in noticeable speed improvements between\n+   *   versions 2.x and 1.x.\n+   *\n+   *   As a conclusion, always try to place a 16.16 factor as the _second_\n+   *   argument of this function; this can make a great difference.\n+   *\/\n@@ -4397,17 +4612,19 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_DivFix                                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Compute `(a*0x10000)\/b' with maximum accuracy.  Its main use is to *\/\n-  \/*    divide a given value by a 16.16 fixed-point factor.                *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    a :: The numerator.                                                *\/\n-  \/*                                                                       *\/\n-  \/*    b :: The denominator.  Use a 16.16 factor here.                    *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    The result of `(a*0x10000)\/b'.                                     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_DivFix\n+   *\n+   * @description:\n+   *   Compute `(a*0x10000)\/b` with maximum accuracy.  Its main use is to\n+   *   divide a given value by a 16.16 fixed-point factor.\n+   *\n+   * @input:\n+   *   a ::\n+   *     The numerator.\n+   *\n+   *   b ::\n+   *     The denominator.  Use a 16.16 factor here.\n+   *\n+   * @return:\n+   *   The result of `(a*0x10000)\/b`.\n+   *\/\n@@ -4419,18 +4636,19 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_RoundFix                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Round a 16.16 fixed number.                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    a :: The number to be rounded.                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    `a' rounded to the nearest 16.16 fixed integer, halfway cases away *\/\n-  \/*    from zero.                                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The function uses wrap-around arithmetic.                          *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_RoundFix\n+   *\n+   * @description:\n+   *   Round a 16.16 fixed number.\n+   *\n+   * @input:\n+   *   a ::\n+   *     The number to be rounded.\n+   *\n+   * @return:\n+   *   `a` rounded to the nearest 16.16 fixed integer, halfway cases away\n+   *   from zero.\n+   *\n+   * @note:\n+   *   The function uses wrap-around arithmetic.\n+   *\/\n@@ -4441,17 +4659,18 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_CeilFix                                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Compute the smallest following integer of a 16.16 fixed number.    *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    a :: The number for which the ceiling function is to be computed.  *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    `a' rounded towards plus infinity.                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The function uses wrap-around arithmetic.                          *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_CeilFix\n+   *\n+   * @description:\n+   *   Compute the smallest following integer of a 16.16 fixed number.\n+   *\n+   * @input:\n+   *   a ::\n+   *     The number for which the ceiling function is to be computed.\n+   *\n+   * @return:\n+   *   `a` rounded towards plus infinity.\n+   *\n+   * @note:\n+   *   The function uses wrap-around arithmetic.\n+   *\/\n@@ -4462,14 +4681,15 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_FloorFix                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Compute the largest previous integer of a 16.16 fixed number.      *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    a :: The number for which the floor function is to be computed.    *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    `a' rounded towards minus infinity.                                *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_FloorFix\n+   *\n+   * @description:\n+   *   Compute the largest previous integer of a 16.16 fixed number.\n+   *\n+   * @input:\n+   *   a ::\n+   *     The number for which the floor function is to be computed.\n+   *\n+   * @return:\n+   *   `a` rounded towards minus infinity.\n+   *\/\n@@ -4480,17 +4700,19 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Vector_Transform                                                *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Transform a single vector through a 2x2 matrix.                    *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    vector :: The target vector to transform.                          *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    matrix :: A pointer to the source 2x2 matrix.                      *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The result is undefined if either `vector' or `matrix' is invalid. *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Vector_Transform\n+   *\n+   * @description:\n+   *   Transform a single vector through a 2x2 matrix.\n+   *\n+   * @inout:\n+   *   vector ::\n+   *     The target vector to transform.\n+   *\n+   * @input:\n+   *   matrix ::\n+   *     A pointer to the source 2x2 matrix.\n+   *\n+   * @note:\n+   *   The result is undefined if either `vector` or `matrix` is invalid.\n+   *\/\n@@ -4498,1 +4720,1 @@\n-  FT_Vector_Transform( FT_Vector*        vec,\n+  FT_Vector_Transform( FT_Vector*        vector,\n@@ -4502,29 +4724,27 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Section>                                                             *\/\n-  \/*    version                                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Title>                                                               *\/\n-  \/*    FreeType Version                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Abstract>                                                            *\/\n-  \/*    Functions and macros related to FreeType versions.                 *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Note that those functions and macros are of limited use because    *\/\n-  \/*    even a new release of FreeType with only documentation changes     *\/\n-  \/*    increases the version number.                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Order>                                                               *\/\n-  \/*    FT_Library_Version                                                 *\/\n-  \/*                                                                       *\/\n-  \/*    FREETYPE_MAJOR                                                     *\/\n-  \/*    FREETYPE_MINOR                                                     *\/\n-  \/*    FREETYPE_PATCH                                                     *\/\n-  \/*                                                                       *\/\n-  \/*    FT_Face_CheckTrueTypePatents                                       *\/\n-  \/*    FT_Face_SetUnpatentedHinting                                       *\/\n-  \/*                                                                       *\/\n-  \/*    FREETYPE_XXX                                                       *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   version\n+   *\n+   * @title:\n+   *   FreeType Version\n+   *\n+   * @abstract:\n+   *   Functions and macros related to FreeType versions.\n+   *\n+   * @description:\n+   *   Note that those functions and macros are of limited use because even a\n+   *   new release of FreeType with only documentation changes increases the\n+   *   version number.\n+   *\n+   * @order:\n+   *   FT_Library_Version\n+   *\n+   *   FREETYPE_MAJOR\n+   *   FREETYPE_MINOR\n+   *   FREETYPE_PATCH\n+   *\n+   *   FT_Face_CheckTrueTypePatents\n+   *   FT_Face_SetUnpatentedHinting\n+   *\n+   *\/\n@@ -4533,1 +4753,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -4539,2 +4759,2 @@\n-   *   These three macros identify the FreeType source code version.\n-   *   Use @FT_Library_Version to access them at runtime.\n+   *   These three macros identify the FreeType source code version.  Use\n+   *   @FT_Library_Version to access them at runtime.\n@@ -4543,3 +4763,6 @@\n-   *   FREETYPE_MAJOR :: The major version number.\n-   *   FREETYPE_MINOR :: The minor version number.\n-   *   FREETYPE_PATCH :: The patch level.\n+   *   FREETYPE_MAJOR ::\n+   *     The major version number.\n+   *   FREETYPE_MINOR ::\n+   *     The minor version number.\n+   *   FREETYPE_PATCH ::\n+   *     The patch level.\n@@ -4548,3 +4771,2 @@\n-   *   The version number of FreeType if built as a dynamic link library\n-   *   with the `libtool' package is _not_ controlled by these three\n-   *   macros.\n+   *   The version number of FreeType if built as a dynamic link library with\n+   *   the 'libtool' package is _not_ controlled by these three macros.\n@@ -4554,1 +4776,1 @@\n-#define FREETYPE_MINOR  9\n+#define FREETYPE_MINOR  10\n@@ -4558,29 +4780,32 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Library_Version                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Return the version of the FreeType library being used.  This is    *\/\n-  \/*    useful when dynamically linking to the library, since one cannot   *\/\n-  \/*    use the macros @FREETYPE_MAJOR, @FREETYPE_MINOR, and               *\/\n-  \/*    @FREETYPE_PATCH.                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    library :: A source library handle.                                *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    amajor  :: The major version number.                               *\/\n-  \/*                                                                       *\/\n-  \/*    aminor  :: The minor version number.                               *\/\n-  \/*                                                                       *\/\n-  \/*    apatch  :: The patch version number.                               *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The reason why this function takes a `library' argument is because *\/\n-  \/*    certain programs implement library initialization in a custom way  *\/\n-  \/*    that doesn't use @FT_Init_FreeType.                                *\/\n-  \/*                                                                       *\/\n-  \/*    In such cases, the library version might not be available before   *\/\n-  \/*    the library object has been created.                               *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Library_Version\n+   *\n+   * @description:\n+   *   Return the version of the FreeType library being used.  This is useful\n+   *   when dynamically linking to the library, since one cannot use the\n+   *   macros @FREETYPE_MAJOR, @FREETYPE_MINOR, and @FREETYPE_PATCH.\n+   *\n+   * @input:\n+   *   library ::\n+   *     A source library handle.\n+   *\n+   * @output:\n+   *   amajor ::\n+   *     The major version number.\n+   *\n+   *   aminor ::\n+   *     The minor version number.\n+   *\n+   *   apatch ::\n+   *     The patch version number.\n+   *\n+   * @note:\n+   *   The reason why this function takes a `library` argument is because\n+   *   certain programs implement library initialization in a custom way that\n+   *   doesn't use @FT_Init_FreeType.\n+   *\n+   *   In such cases, the library version might not be available before the\n+   *   library object has been created.\n+   *\/\n@@ -4594,20 +4819,21 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Face_CheckTrueTypePatents                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Deprecated, does nothing.                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face :: A face handle.                                             *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    Always returns false.                                              *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    Since May 2010, TrueType hinting is no longer patented.            *\/\n-  \/*                                                                       *\/\n-  \/* <Since>                                                               *\/\n-  \/*    2.3.5                                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Face_CheckTrueTypePatents\n+   *\n+   * @description:\n+   *   Deprecated, does nothing.\n+   *\n+   * @input:\n+   *   face ::\n+   *     A face handle.\n+   *\n+   * @return:\n+   *   Always returns false.\n+   *\n+   * @note:\n+   *   Since May 2010, TrueType hinting is no longer patented.\n+   *\n+   * @since:\n+   *   2.3.5\n+   *\/\n@@ -4618,22 +4844,24 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Face_SetUnpatentedHinting                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Deprecated, does nothing.                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face  :: A face handle.                                            *\/\n-  \/*                                                                       *\/\n-  \/*    value :: New boolean setting.                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    Always returns false.                                              *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    Since May 2010, TrueType hinting is no longer patented.            *\/\n-  \/*                                                                       *\/\n-  \/* <Since>                                                               *\/\n-  \/*    2.3.5                                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Face_SetUnpatentedHinting\n+   *\n+   * @description:\n+   *   Deprecated, does nothing.\n+   *\n+   * @input:\n+   *   face ::\n+   *     A face handle.\n+   *\n+   *   value ::\n+   *     New boolean setting.\n+   *\n+   * @return:\n+   *   Always returns false.\n+   *\n+   * @note:\n+   *   Since May 2010, TrueType hinting is no longer patented.\n+   *\n+   * @since:\n+   *   2.3.5\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/freetype.h","additions":3614,"deletions":3386,"binary":false,"changes":7000,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftadvanc.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    Quick computation of advance widths (specification only).            *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2008-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftadvanc.h\n+ *\n+ *   Quick computation of advance widths (specification only).\n+ *\n+ * Copyright (C) 2008-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -59,21 +59,19 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Const>                                                               *\/\n-  \/*    FT_ADVANCE_FLAG_FAST_ONLY                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A bit-flag to be OR-ed with the `flags' parameter of the           *\/\n-  \/*    @FT_Get_Advance and @FT_Get_Advances functions.                    *\/\n-  \/*                                                                       *\/\n-  \/*    If set, it indicates that you want these functions to fail if the  *\/\n-  \/*    corresponding hinting mode or font driver doesn't allow for very   *\/\n-  \/*    quick advance computation.                                         *\/\n-  \/*                                                                       *\/\n-  \/*    Typically, glyphs that are either unscaled, unhinted, bitmapped,   *\/\n-  \/*    or light-hinted can have their advance width computed very         *\/\n-  \/*    quickly.                                                           *\/\n-  \/*                                                                       *\/\n-  \/*    Normal and bytecode hinted modes that require loading, scaling,    *\/\n-  \/*    and hinting of the glyph outline, are extremely slow by            *\/\n-  \/*    comparison.                                                        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @enum:\n+   *   FT_ADVANCE_FLAG_FAST_ONLY\n+   *\n+   * @description:\n+   *   A bit-flag to be OR-ed with the `flags` parameter of the\n+   *   @FT_Get_Advance and @FT_Get_Advances functions.\n+   *\n+   *   If set, it indicates that you want these functions to fail if the\n+   *   corresponding hinting mode or font driver doesn't allow for very quick\n+   *   advance computation.\n+   *\n+   *   Typically, glyphs that are either unscaled, unhinted, bitmapped, or\n+   *   light-hinted can have their advance width computed very quickly.\n+   *\n+   *   Normal and bytecode hinted modes that require loading, scaling, and\n+   *   hinting of the glyph outline, are extremely slow by comparison.\n+   *\/\n@@ -83,38 +81,39 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Get_Advance                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Retrieve the advance value of a given glyph outline in an          *\/\n-  \/*    @FT_Face.                                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face       :: The source @FT_Face handle.                          *\/\n-  \/*                                                                       *\/\n-  \/*    gindex     :: The glyph index.                                     *\/\n-  \/*                                                                       *\/\n-  \/*    load_flags :: A set of bit flags similar to those used when        *\/\n-  \/*                  calling @FT_Load_Glyph, used to determine what kind  *\/\n-  \/*                  of advances you need.                                *\/\n-  \/* <Output>                                                              *\/\n-  \/*    padvance :: The advance value.  If scaling is performed (based on  *\/\n-  \/*                the value of `load_flags'), the advance value is in    *\/\n-  \/*                16.16 format.  Otherwise, it is in font units.         *\/\n-  \/*                                                                       *\/\n-  \/*                If @FT_LOAD_VERTICAL_LAYOUT is set, this is the        *\/\n-  \/*                vertical advance corresponding to a vertical layout.   *\/\n-  \/*                Otherwise, it is the horizontal advance in a           *\/\n-  \/*                horizontal layout.                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    This function may fail if you use @FT_ADVANCE_FLAG_FAST_ONLY and   *\/\n-  \/*    if the corresponding font backend doesn't have a quick way to      *\/\n-  \/*    retrieve the advances.                                             *\/\n-  \/*                                                                       *\/\n-  \/*    A scaled advance is returned in 16.16 format but isn't transformed *\/\n-  \/*    by the affine transformation specified by @FT_Set_Transform.       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Get_Advance\n+   *\n+   * @description:\n+   *   Retrieve the advance value of a given glyph outline in an @FT_Face.\n+   *\n+   * @input:\n+   *   face ::\n+   *     The source @FT_Face handle.\n+   *\n+   *   gindex ::\n+   *     The glyph index.\n+   *\n+   *   load_flags ::\n+   *     A set of bit flags similar to those used when calling\n+   *     @FT_Load_Glyph, used to determine what kind of advances you need.\n+   * @output:\n+   *   padvance ::\n+   *     The advance value.  If scaling is performed (based on the value of\n+   *     `load_flags`), the advance value is in 16.16 format.  Otherwise, it\n+   *     is in font units.\n+   *\n+   *     If @FT_LOAD_VERTICAL_LAYOUT is set, this is the vertical advance\n+   *     corresponding to a vertical layout.  Otherwise, it is the horizontal\n+   *     advance in a horizontal layout.\n+   *\n+   * @return:\n+   *   FreeType error code.  0 means success.\n+   *\n+   * @note:\n+   *   This function may fail if you use @FT_ADVANCE_FLAG_FAST_ONLY and if\n+   *   the corresponding font backend doesn't have a quick way to retrieve\n+   *   the advances.\n+   *\n+   *   A scaled advance is returned in 16.16 format but isn't transformed by\n+   *   the affine transformation specified by @FT_Set_Transform.\n+   *\/\n@@ -128,44 +127,46 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Get_Advances                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Retrieve the advance values of several glyph outlines in an        *\/\n-  \/*    @FT_Face.                                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face        :: The source @FT_Face handle.                         *\/\n-  \/*                                                                       *\/\n-  \/*    start       :: The first glyph index.                              *\/\n-  \/*                                                                       *\/\n-  \/*    count       :: The number of advance values you want to retrieve.  *\/\n-  \/*                                                                       *\/\n-  \/*    load_flags  :: A set of bit flags similar to those used when       *\/\n-  \/*                   calling @FT_Load_Glyph.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    padvance :: The advance values.  This array, to be provided by the *\/\n-  \/*                caller, must contain at least `count' elements.        *\/\n-  \/*                                                                       *\/\n-  \/*                If scaling is performed (based on the value of         *\/\n-  \/*                `load_flags'), the advance values are in 16.16 format. *\/\n-  \/*                Otherwise, they are in font units.                     *\/\n-  \/*                                                                       *\/\n-  \/*                If @FT_LOAD_VERTICAL_LAYOUT is set, these are the      *\/\n-  \/*                vertical advances corresponding to a vertical layout.  *\/\n-  \/*                Otherwise, they are the horizontal advances in a       *\/\n-  \/*                horizontal layout.                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    This function may fail if you use @FT_ADVANCE_FLAG_FAST_ONLY and   *\/\n-  \/*    if the corresponding font backend doesn't have a quick way to      *\/\n-  \/*    retrieve the advances.                                             *\/\n-  \/*                                                                       *\/\n-  \/*    Scaled advances are returned in 16.16 format but aren't            *\/\n-  \/*    transformed by the affine transformation specified by              *\/\n-  \/*    @FT_Set_Transform.                                                 *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Get_Advances\n+   *\n+   * @description:\n+   *   Retrieve the advance values of several glyph outlines in an @FT_Face.\n+   *\n+   * @input:\n+   *   face ::\n+   *     The source @FT_Face handle.\n+   *\n+   *   start ::\n+   *     The first glyph index.\n+   *\n+   *   count ::\n+   *     The number of advance values you want to retrieve.\n+   *\n+   *   load_flags ::\n+   *     A set of bit flags similar to those used when calling\n+   *     @FT_Load_Glyph.\n+   *\n+   * @output:\n+   *   padvance ::\n+   *     The advance values.  This array, to be provided by the caller, must\n+   *     contain at least `count` elements.\n+   *\n+   *     If scaling is performed (based on the value of `load_flags`), the\n+   *     advance values are in 16.16 format.  Otherwise, they are in font\n+   *     units.\n+   *\n+   *     If @FT_LOAD_VERTICAL_LAYOUT is set, these are the vertical advances\n+   *     corresponding to a vertical layout.  Otherwise, they are the\n+   *     horizontal advances in a horizontal layout.\n+   *\n+   * @return:\n+   *   FreeType error code.  0 means success.\n+   *\n+   * @note:\n+   *   This function may fail if you use @FT_ADVANCE_FLAG_FAST_ONLY and if\n+   *   the corresponding font backend doesn't have a quick way to retrieve\n+   *   the advances.\n+   *\n+   *   Scaled advances are returned in 16.16 format but aren't transformed by\n+   *   the affine transformation specified by @FT_Set_Transform.\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/ftadvanc.h","additions":120,"deletions":119,"binary":false,"changes":239,"status":"modified"},{"patch":"@@ -1,27 +1,27 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftbbox.h                                                               *\/\n-\/*                                                                         *\/\n-\/*    FreeType exact bbox computation (specification).                     *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* This component has a _single_ role: to compute exact outline bounding *\/\n-  \/* boxes.                                                                *\/\n-  \/*                                                                       *\/\n-  \/* It is separated from the rest of the engine for various technical     *\/\n-  \/* reasons.  It may well be integrated in `ftoutln' later.               *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftbbox.h\n+ *\n+ *   FreeType exact bbox computation (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * This component has a _single_ role: to compute exact outline bounding\n+   * boxes.\n+   *\n+   * It is separated from the rest of the engine for various technical\n+   * reasons.  It may well be integrated in 'ftoutln' later.\n+   *\n+   *\/\n@@ -47,37 +47,38 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Section>                                                             *\/\n-  \/*    outline_processing                                                 *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Outline_Get_BBox                                                *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Compute the exact bounding box of an outline.  This is slower      *\/\n-  \/*    than computing the control box.  However, it uses an advanced      *\/\n-  \/*    algorithm that returns _very_ quickly when the two boxes           *\/\n-  \/*    coincide.  Otherwise, the outline Bezier arcs are traversed to     *\/\n-  \/*    extract their extrema.                                             *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    outline :: A pointer to the source outline.                        *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    abbox   :: The outline's exact bounding box.                       *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    If the font is tricky and the glyph has been loaded with           *\/\n-  \/*    @FT_LOAD_NO_SCALE, the resulting BBox is meaningless.  To get      *\/\n-  \/*    reasonable values for the BBox it is necessary to load the glyph   *\/\n-  \/*    at a large ppem value (so that the hinting instructions can        *\/\n-  \/*    properly shift and scale the subglyphs), then extracting the BBox, *\/\n-  \/*    which can be eventually converted back to font units.              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   outline_processing\n+   *\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Outline_Get_BBox\n+   *\n+   * @description:\n+   *   Compute the exact bounding box of an outline.  This is slower than\n+   *   computing the control box.  However, it uses an advanced algorithm\n+   *   that returns _very_ quickly when the two boxes coincide.  Otherwise,\n+   *   the outline Bezier arcs are traversed to extract their extrema.\n+   *\n+   * @input:\n+   *   outline ::\n+   *     A pointer to the source outline.\n+   *\n+   * @output:\n+   *   abbox ::\n+   *     The outline's exact bounding box.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   If the font is tricky and the glyph has been loaded with\n+   *   @FT_LOAD_NO_SCALE, the resulting BBox is meaningless.  To get\n+   *   reasonable values for the BBox it is necessary to load the glyph at a\n+   *   large ppem value (so that the hinting instructions can properly shift\n+   *   and scale the subglyphs), then extracting the BBox, which can be\n+   *   eventually converted back to font units.\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/ftbbox.h","additions":65,"deletions":64,"binary":false,"changes":129,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftbdf.h                                                                *\/\n-\/*                                                                         *\/\n-\/*    FreeType API for accessing BDF-specific strings (specification).     *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2002-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftbdf.h\n+ *\n+ *   FreeType API for accessing BDF-specific strings (specification).\n+ *\n+ * Copyright (C) 2002-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -35,16 +35,16 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Section>                                                             *\/\n-  \/*    bdf_fonts                                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Title>                                                               *\/\n-  \/*    BDF and PCF Files                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Abstract>                                                            *\/\n-  \/*    BDF and PCF specific API.                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This section contains the declaration of functions specific to BDF *\/\n-  \/*    and PCF fonts.                                                     *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   bdf_fonts\n+   *\n+   * @title:\n+   *   BDF and PCF Files\n+   *\n+   * @abstract:\n+   *   BDF and PCF specific API.\n+   *\n+   * @description:\n+   *   This section contains the declaration of functions specific to BDF and\n+   *   PCF fonts.\n+   *\n+   *\/\n@@ -53,1 +53,1 @@\n-  \/**********************************************************************\n+  \/**************************************************************************\n@@ -84,1 +84,1 @@\n-  \/**********************************************************************\n+  \/**************************************************************************\n@@ -90,2 +90,2 @@\n-   *    A handle to a @BDF_PropertyRec structure to model a given\n-   *    BDF\/PCF property.\n+   *    A handle to a @BDF_PropertyRec structure to model a given BDF\/PCF\n+   *    property.\n@@ -96,22 +96,22 @@\n- \/**********************************************************************\n-  *\n-  * @struct:\n-  *    BDF_PropertyRec\n-  *\n-  * @description:\n-  *    This structure models a given BDF\/PCF property.\n-  *\n-  * @fields:\n-  *    type ::\n-  *      The property type.\n-  *\n-  *    u.atom ::\n-  *      The atom string, if type is @BDF_PROPERTY_TYPE_ATOM.  May be\n-  *      NULL, indicating an empty string.\n-  *\n-  *    u.integer ::\n-  *      A signed integer, if type is @BDF_PROPERTY_TYPE_INTEGER.\n-  *\n-  *    u.cardinal ::\n-  *      An unsigned integer, if type is @BDF_PROPERTY_TYPE_CARDINAL.\n-  *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *    BDF_PropertyRec\n+   *\n+   * @description:\n+   *    This structure models a given BDF\/PCF property.\n+   *\n+   * @fields:\n+   *    type ::\n+   *      The property type.\n+   *\n+   *    u.atom ::\n+   *      The atom string, if type is @BDF_PROPERTY_TYPE_ATOM.  May be\n+   *      `NULL`, indicating an empty string.\n+   *\n+   *    u.integer ::\n+   *      A signed integer, if type is @BDF_PROPERTY_TYPE_INTEGER.\n+   *\n+   *    u.cardinal ::\n+   *      An unsigned integer, if type is @BDF_PROPERTY_TYPE_CARDINAL.\n+   *\/\n@@ -131,26 +131,26 @@\n- \/**********************************************************************\n-  *\n-  * @function:\n-  *    FT_Get_BDF_Charset_ID\n-  *\n-  * @description:\n-  *    Retrieve a BDF font character set identity, according to\n-  *    the BDF specification.\n-  *\n-  * @input:\n-  *    face ::\n-  *       A handle to the input face.\n-  *\n-  * @output:\n-  *    acharset_encoding ::\n-  *       Charset encoding, as a C~string, owned by the face.\n-  *\n-  *    acharset_registry ::\n-  *       Charset registry, as a C~string, owned by the face.\n-  *\n-  * @return:\n-  *   FreeType error code.  0~means success.\n-  *\n-  * @note:\n-  *   This function only works with BDF faces, returning an error otherwise.\n-  *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *    FT_Get_BDF_Charset_ID\n+   *\n+   * @description:\n+   *    Retrieve a BDF font character set identity, according to the BDF\n+   *    specification.\n+   *\n+   * @input:\n+   *    face ::\n+   *      A handle to the input face.\n+   *\n+   * @output:\n+   *    acharset_encoding ::\n+   *      Charset encoding, as a C~string, owned by the face.\n+   *\n+   *    acharset_registry ::\n+   *      Charset registry, as a C~string, owned by the face.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   This function only works with BDF faces, returning an error otherwise.\n+   *\/\n@@ -163,35 +163,38 @@\n- \/**********************************************************************\n-  *\n-  * @function:\n-  *    FT_Get_BDF_Property\n-  *\n-  * @description:\n-  *    Retrieve a BDF property from a BDF or PCF font file.\n-  *\n-  * @input:\n-  *    face :: A handle to the input face.\n-  *\n-  *    name :: The property name.\n-  *\n-  * @output:\n-  *    aproperty :: The property.\n-  *\n-  * @return:\n-  *   FreeType error code.  0~means success.\n-  *\n-  * @note:\n-  *   This function works with BDF _and_ PCF fonts.  It returns an error\n-  *   otherwise.  It also returns an error if the property is not in the\n-  *   font.\n-  *\n-  *   A `property' is a either key-value pair within the STARTPROPERTIES\n-  *   ... ENDPROPERTIES block of a BDF font or a key-value pair from the\n-  *   `info->props' array within a `FontRec' structure of a PCF font.\n-  *\n-  *   Integer properties are always stored as `signed' within PCF fonts;\n-  *   consequently, @BDF_PROPERTY_TYPE_CARDINAL is a possible return value\n-  *   for BDF fonts only.\n-  *\n-  *   In case of error, `aproperty->type' is always set to\n-  *   @BDF_PROPERTY_TYPE_NONE.\n-  *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *    FT_Get_BDF_Property\n+   *\n+   * @description:\n+   *    Retrieve a BDF property from a BDF or PCF font file.\n+   *\n+   * @input:\n+   *    face ::\n+   *      A handle to the input face.\n+   *\n+   *    name ::\n+   *      The property name.\n+   *\n+   * @output:\n+   *    aproperty ::\n+   *      The property.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   This function works with BDF _and_ PCF fonts.  It returns an error\n+   *   otherwise.  It also returns an error if the property is not in the\n+   *   font.\n+   *\n+   *   A 'property' is a either key-value pair within the STARTPROPERTIES\n+   *   ... ENDPROPERTIES block of a BDF font or a key-value pair from the\n+   *   `info->props` array within a `FontRec` structure of a PCF font.\n+   *\n+   *   Integer properties are always stored as 'signed' within PCF fonts;\n+   *   consequently, @BDF_PROPERTY_TYPE_CARDINAL is a possible return value\n+   *   for BDF fonts only.\n+   *\n+   *   In case of error, `aproperty->type` is always set to\n+   *   @BDF_PROPERTY_TYPE_NONE.\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/ftbdf.h","additions":122,"deletions":119,"binary":false,"changes":241,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftbitmap.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    FreeType utility functions for bitmaps (specification).              *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2004-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftbitmap.h\n+ *\n+ *   FreeType utility functions for bitmaps (specification).\n+ *\n+ * Copyright (C) 2004-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -25,0 +25,1 @@\n+#include FT_COLOR_H\n@@ -36,33 +37,40 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Section>                                                             *\/\n-  \/*    bitmap_handling                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Title>                                                               *\/\n-  \/*    Bitmap Handling                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Abstract>                                                            *\/\n-  \/*    Handling FT_Bitmap objects.                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This section contains functions for handling @FT_Bitmap objects.   *\/\n-  \/*    Note that none of the functions changes the bitmap's `flow' (as    *\/\n-  \/*    indicated by the sign of the `pitch' field in `FT_Bitmap').        *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Bitmap_Init                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Initialize a pointer to an @FT_Bitmap structure.                   *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    abitmap :: A pointer to the bitmap structure.                      *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    A deprecated name for the same function is `FT_Bitmap_New'.        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   bitmap_handling\n+   *\n+   * @title:\n+   *   Bitmap Handling\n+   *\n+   * @abstract:\n+   *   Handling FT_Bitmap objects.\n+   *\n+   * @description:\n+   *   This section contains functions for handling @FT_Bitmap objects,\n+   *   automatically adjusting the target's bitmap buffer size as needed.\n+   *\n+   *   Note that none of the functions changes the bitmap's 'flow' (as\n+   *   indicated by the sign of the `pitch` field in @FT_Bitmap).\n+   *\n+   *   To set the flow, assign an appropriate positive or negative value to\n+   *   the `pitch` field of the target @FT_Bitmap object after calling\n+   *   @FT_Bitmap_Init but before calling any of the other functions\n+   *   described here.\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Bitmap_Init\n+   *\n+   * @description:\n+   *   Initialize a pointer to an @FT_Bitmap structure.\n+   *\n+   * @inout:\n+   *   abitmap ::\n+   *     A pointer to the bitmap structure.\n+   *\n+   * @note:\n+   *   A deprecated name for the same function is `FT_Bitmap_New`.\n+   *\/\n@@ -78,19 +86,26 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Bitmap_Copy                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Copy a bitmap into another one.                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    library :: A handle to a library object.                           *\/\n-  \/*                                                                       *\/\n-  \/*    source  :: A handle to the source bitmap.                          *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    target  :: A handle to the target bitmap.                          *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Bitmap_Copy\n+   *\n+   * @description:\n+   *   Copy a bitmap into another one.\n+   *\n+   * @input:\n+   *   library ::\n+   *     A handle to a library object.\n+   *\n+   *   source ::\n+   *     A handle to the source bitmap.\n+   *\n+   * @output:\n+   *   target ::\n+   *     A handle to the target bitmap.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   `source->buffer` and `target->buffer` must neither be equal nor\n+   *   overlap.\n+   *\/\n@@ -103,35 +118,39 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Bitmap_Embolden                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Embolden a bitmap.  The new bitmap will be about `xStrength'       *\/\n-  \/*    pixels wider and `yStrength' pixels higher.  The left and bottom   *\/\n-  \/*    borders are kept unchanged.                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    library   :: A handle to a library object.                         *\/\n-  \/*                                                                       *\/\n-  \/*    xStrength :: How strong the glyph is emboldened horizontally.      *\/\n-  \/*                 Expressed in 26.6 pixel format.                       *\/\n-  \/*                                                                       *\/\n-  \/*    yStrength :: How strong the glyph is emboldened vertically.        *\/\n-  \/*                 Expressed in 26.6 pixel format.                       *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    bitmap    :: A handle to the target bitmap.                        *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The current implementation restricts `xStrength' to be less than   *\/\n-  \/*    or equal to~8 if bitmap is of pixel_mode @FT_PIXEL_MODE_MONO.      *\/\n-  \/*                                                                       *\/\n-  \/*    If you want to embolden the bitmap owned by a @FT_GlyphSlotRec,    *\/\n-  \/*    you should call @FT_GlyphSlot_Own_Bitmap on the slot first.        *\/\n-  \/*                                                                       *\/\n-  \/*    Bitmaps in @FT_PIXEL_MODE_GRAY2 and @FT_PIXEL_MODE_GRAY@ format    *\/\n-  \/*    are converted to @FT_PIXEL_MODE_GRAY format (i.e., 8bpp).          *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Bitmap_Embolden\n+   *\n+   * @description:\n+   *   Embolden a bitmap.  The new bitmap will be about `xStrength` pixels\n+   *   wider and `yStrength` pixels higher.  The left and bottom borders are\n+   *   kept unchanged.\n+   *\n+   * @input:\n+   *   library ::\n+   *     A handle to a library object.\n+   *\n+   *   xStrength ::\n+   *     How strong the glyph is emboldened horizontally.  Expressed in 26.6\n+   *     pixel format.\n+   *\n+   *   yStrength ::\n+   *     How strong the glyph is emboldened vertically.  Expressed in 26.6\n+   *     pixel format.\n+   *\n+   * @inout:\n+   *   bitmap ::\n+   *     A handle to the target bitmap.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   The current implementation restricts `xStrength` to be less than or\n+   *   equal to~8 if bitmap is of pixel_mode @FT_PIXEL_MODE_MONO.\n+   *\n+   *   If you want to embolden the bitmap owned by a @FT_GlyphSlotRec, you\n+   *   should call @FT_GlyphSlot_Own_Bitmap on the slot first.\n+   *\n+   *   Bitmaps in @FT_PIXEL_MODE_GRAY2 and @FT_PIXEL_MODE_GRAY@ format are\n+   *   converted to @FT_PIXEL_MODE_GRAY format (i.e., 8bpp).\n+   *\/\n@@ -145,33 +164,40 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Bitmap_Convert                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Convert a bitmap object with depth 1bpp, 2bpp, 4bpp, 8bpp or 32bpp *\/\n-  \/*    to a bitmap object with depth 8bpp, making the number of used      *\/\n-  \/*    bytes line (a.k.a. the `pitch') a multiple of `alignment'.         *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    library   :: A handle to a library object.                         *\/\n-  \/*                                                                       *\/\n-  \/*    source    :: The source bitmap.                                    *\/\n-  \/*                                                                       *\/\n-  \/*    alignment :: The pitch of the bitmap is a multiple of this         *\/\n-  \/*                 parameter.  Common values are 1, 2, or 4.             *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    target    :: The target bitmap.                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    It is possible to call @FT_Bitmap_Convert multiple times without   *\/\n-  \/*    calling @FT_Bitmap_Done (the memory is simply reallocated).        *\/\n-  \/*                                                                       *\/\n-  \/*    Use @FT_Bitmap_Done to finally remove the bitmap object.           *\/\n-  \/*                                                                       *\/\n-  \/*    The `library' argument is taken to have access to FreeType's       *\/\n-  \/*    memory handling functions.                                         *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Bitmap_Convert\n+   *\n+   * @description:\n+   *   Convert a bitmap object with depth 1bpp, 2bpp, 4bpp, 8bpp or 32bpp to\n+   *   a bitmap object with depth 8bpp, making the number of used bytes per\n+   *   line (a.k.a. the 'pitch') a multiple of `alignment`.\n+   *\n+   * @input:\n+   *   library ::\n+   *     A handle to a library object.\n+   *\n+   *   source ::\n+   *     The source bitmap.\n+   *\n+   *   alignment ::\n+   *     The pitch of the bitmap is a multiple of this argument.  Common\n+   *     values are 1, 2, or 4.\n+   *\n+   * @output:\n+   *   target ::\n+   *     The target bitmap.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   It is possible to call @FT_Bitmap_Convert multiple times without\n+   *   calling @FT_Bitmap_Done (the memory is simply reallocated).\n+   *\n+   *   Use @FT_Bitmap_Done to finally remove the bitmap object.\n+   *\n+   *   The `library` argument is taken to have access to FreeType's memory\n+   *   handling functions.\n+   *\n+   *   `source->buffer` and `target->buffer` must neither be equal nor\n+   *   overlap.\n+   *\/\n@@ -185,18 +211,80 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_GlyphSlot_Own_Bitmap                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Make sure that a glyph slot owns `slot->bitmap'.                   *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    slot :: The glyph slot.                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    This function is to be used in combination with                    *\/\n-  \/*    @FT_Bitmap_Embolden.                                               *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Bitmap_Blend\n+   *\n+   * @description:\n+   *   Blend a bitmap onto another bitmap, using a given color.\n+   *\n+   * @input:\n+   *   library ::\n+   *     A handle to a library object.\n+   *\n+   *   source ::\n+   *     The source bitmap, which can have any @FT_Pixel_Mode format.\n+   *\n+   *   source_offset ::\n+   *     The offset vector to the upper left corner of the source bitmap in\n+   *     26.6 pixel format.  It should represent an integer offset; the\n+   *     function will set the lowest six bits to zero to enforce that.\n+   *\n+   *   color ::\n+   *     The color used to draw `source` onto `target`.\n+   *\n+   * @inout:\n+   *   target ::\n+   *     A handle to an `FT_Bitmap` object.  It should be either initialized\n+   *     as empty with a call to @FT_Bitmap_Init, or it should be of type\n+   *     @FT_PIXEL_MODE_BGRA.\n+   *\n+   *   atarget_offset ::\n+   *     The offset vector to the upper left corner of the target bitmap in\n+   *     26.6 pixel format.  It should represent an integer offset; the\n+   *     function will set the lowest six bits to zero to enforce that.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   This function doesn't perform clipping.\n+   *\n+   *   The bitmap in `target` gets allocated or reallocated as needed; the\n+   *   vector `atarget_offset` is updated accordingly.\n+   *\n+   *   In case of allocation or reallocation, the bitmap's pitch is set to\n+   *   `4 * width`.  Both `source` and `target` must have the same bitmap\n+   *   flow (as indicated by the sign of the `pitch` field).\n+   *\n+   *   `source->buffer` and `target->buffer` must neither be equal nor\n+   *   overlap.\n+   *\n+   * @since:\n+   *   2.10\n+   *\/\n+  FT_EXPORT( FT_Error )\n+  FT_Bitmap_Blend( FT_Library         library,\n+                   const FT_Bitmap*   source,\n+                   const FT_Vector    source_offset,\n+                   FT_Bitmap*         target,\n+                   FT_Vector         *atarget_offset,\n+                   FT_Color           color );\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_GlyphSlot_Own_Bitmap\n+   *\n+   * @description:\n+   *   Make sure that a glyph slot owns `slot->bitmap`.\n+   *\n+   * @input:\n+   *   slot ::\n+   *     The glyph slot.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   This function is to be used in combination with @FT_Bitmap_Embolden.\n+   *\/\n@@ -207,20 +295,22 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Bitmap_Done                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Destroy a bitmap object initialized with @FT_Bitmap_Init.          *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    library :: A handle to a library object.                           *\/\n-  \/*                                                                       *\/\n-  \/*    bitmap  :: The bitmap object to be freed.                          *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The `library' argument is taken to have access to FreeType's       *\/\n-  \/*    memory handling functions.                                         *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Bitmap_Done\n+   *\n+   * @description:\n+   *   Destroy a bitmap object initialized with @FT_Bitmap_Init.\n+   *\n+   * @input:\n+   *   library ::\n+   *     A handle to a library object.\n+   *\n+   *   bitmap ::\n+   *     The bitmap object to be freed.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   The `library` argument is taken to have access to FreeType's memory\n+   *   handling functions.\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/ftbitmap.h","additions":264,"deletions":174,"binary":false,"changes":438,"status":"modified"},{"patch":"@@ -1,139 +1,145 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/* This file defines the structure of the FreeType reference.              *\/\n-\/* It is used by the python script that generates the HTML files.          *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/* <Chapter>                                                               *\/\n-\/*    general_remarks                                                      *\/\n-\/*                                                                         *\/\n-\/* <Title>                                                                 *\/\n-\/*    General Remarks                                                      *\/\n-\/*                                                                         *\/\n-\/* <Sections>                                                              *\/\n-\/*    header_inclusion                                                     *\/\n-\/*    user_allocation                                                      *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/* <Chapter>                                                               *\/\n-\/*    core_api                                                             *\/\n-\/*                                                                         *\/\n-\/* <Title>                                                                 *\/\n-\/*    Core API                                                             *\/\n-\/*                                                                         *\/\n-\/* <Sections>                                                              *\/\n-\/*    version                                                              *\/\n-\/*    basic_types                                                          *\/\n-\/*    base_interface                                                       *\/\n-\/*    glyph_variants                                                       *\/\n-\/*    glyph_management                                                     *\/\n-\/*    mac_specific                                                         *\/\n-\/*    sizes_management                                                     *\/\n-\/*    header_file_macros                                                   *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/* <Chapter>                                                               *\/\n-\/*    format_specific                                                      *\/\n-\/*                                                                         *\/\n-\/* <Title>                                                                 *\/\n-\/*    Format-Specific API                                                  *\/\n-\/*                                                                         *\/\n-\/* <Sections>                                                              *\/\n-\/*    multiple_masters                                                     *\/\n-\/*    truetype_tables                                                      *\/\n-\/*    type1_tables                                                         *\/\n-\/*    sfnt_names                                                           *\/\n-\/*    bdf_fonts                                                            *\/\n-\/*    cid_fonts                                                            *\/\n-\/*    pfr_fonts                                                            *\/\n-\/*    winfnt_fonts                                                         *\/\n-\/*    font_formats                                                         *\/\n-\/*    gasp_table                                                           *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/* <Chapter>                                                               *\/\n-\/*    module_specific                                                      *\/\n-\/*                                                                         *\/\n-\/* <Title>                                                                 *\/\n-\/*    Controlling FreeType Modules                                         *\/\n-\/*                                                                         *\/\n-\/* <Sections>                                                              *\/\n-\/*    auto_hinter                                                          *\/\n-\/*    cff_driver                                                           *\/\n-\/*    t1_cid_driver                                                        *\/\n-\/*    tt_driver                                                            *\/\n-\/*    pcf_driver                                                           *\/\n-\/*    properties                                                           *\/\n-\/*    parameter_tags                                                       *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/* <Chapter>                                                               *\/\n-\/*    cache_subsystem                                                      *\/\n-\/*                                                                         *\/\n-\/* <Title>                                                                 *\/\n-\/*    Cache Sub-System                                                     *\/\n-\/*                                                                         *\/\n-\/* <Sections>                                                              *\/\n-\/*    cache_subsystem                                                      *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/* <Chapter>                                                               *\/\n-\/*    support_api                                                          *\/\n-\/*                                                                         *\/\n-\/* <Title>                                                                 *\/\n-\/*    Support API                                                          *\/\n-\/*                                                                         *\/\n-\/* <Sections>                                                              *\/\n-\/*    computations                                                         *\/\n-\/*    list_processing                                                      *\/\n-\/*    outline_processing                                                   *\/\n-\/*    quick_advance                                                        *\/\n-\/*    bitmap_handling                                                      *\/\n-\/*    raster                                                               *\/\n-\/*    glyph_stroker                                                        *\/\n-\/*    system_interface                                                     *\/\n-\/*    module_management                                                    *\/\n-\/*    gzip                                                                 *\/\n-\/*    lzw                                                                  *\/\n-\/*    bzip2                                                                *\/\n-\/*    lcd_filtering                                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/* <Chapter>                                                               *\/\n-\/*    error_codes                                                          *\/\n-\/*                                                                         *\/\n-\/* <Title>                                                                 *\/\n-\/*    Error Codes                                                          *\/\n-\/*                                                                         *\/\n-\/* <Sections>                                                              *\/\n-\/*    error_enumerations                                                   *\/\n-\/*    error_code_values                                                    *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * This file defines the structure of the FreeType reference.\n+ * It is used by the python script that generates the HTML files.\n+ *\n+ *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @chapter:\n+   *   general_remarks\n+   *\n+   * @title:\n+   *   General Remarks\n+   *\n+   * @sections:\n+   *   header_inclusion\n+   *   user_allocation\n+   *\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @chapter:\n+   *   core_api\n+   *\n+   * @title:\n+   *   Core API\n+   *\n+   * @sections:\n+   *   version\n+   *   basic_types\n+   *   base_interface\n+   *   glyph_variants\n+   *   color_management\n+   *   layer_management\n+   *   glyph_management\n+   *   mac_specific\n+   *   sizes_management\n+   *   header_file_macros\n+   *\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @chapter:\n+   *   format_specific\n+   *\n+   * @title:\n+   *   Format-Specific API\n+   *\n+   * @sections:\n+   *   multiple_masters\n+   *   truetype_tables\n+   *   type1_tables\n+   *   sfnt_names\n+   *   bdf_fonts\n+   *   cid_fonts\n+   *   pfr_fonts\n+   *   winfnt_fonts\n+   *   font_formats\n+   *   gasp_table\n+   *\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @chapter:\n+   *   module_specific\n+   *\n+   * @title:\n+   *   Controlling FreeType Modules\n+   *\n+   * @sections:\n+   *   auto_hinter\n+   *   cff_driver\n+   *   t1_cid_driver\n+   *   tt_driver\n+   *   pcf_driver\n+   *   properties\n+   *   parameter_tags\n+   *   lcd_rendering\n+   *\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @chapter:\n+   *   cache_subsystem\n+   *\n+   * @title:\n+   *   Cache Sub-System\n+   *\n+   * @sections:\n+   *   cache_subsystem\n+   *\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @chapter:\n+   *   support_api\n+   *\n+   * @title:\n+   *   Support API\n+   *\n+   * @sections:\n+   *   computations\n+   *   list_processing\n+   *   outline_processing\n+   *   quick_advance\n+   *   bitmap_handling\n+   *   raster\n+   *   glyph_stroker\n+   *   system_interface\n+   *   module_management\n+   *   gzip\n+   *   lzw\n+   *   bzip2\n+   *\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @chapter:\n+   *   error_codes\n+   *\n+   * @title:\n+   *   Error Codes\n+   *\n+   * @sections:\n+   *   error_enumerations\n+   *   error_code_values\n+   *\n+   *\/\n+\n+\n+\/* END *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/ftchapters.h","additions":145,"deletions":139,"binary":false,"changes":284,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftcid.h                                                                *\/\n-\/*                                                                         *\/\n-\/*    FreeType API for accessing CID font information (specification).     *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2007-2018 by                                                 *\/\n-\/*  Dereg Clegg and Michael Toftdal.                                       *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftcid.h\n+ *\n+ *   FreeType API for accessing CID font information (specification).\n+ *\n+ * Copyright (C) 2007-2019 by\n+ * Dereg Clegg and Michael Toftdal.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -35,16 +35,16 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Section>                                                             *\/\n-  \/*    cid_fonts                                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Title>                                                               *\/\n-  \/*    CID Fonts                                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Abstract>                                                            *\/\n-  \/*    CID-keyed font specific API.                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This section contains the declaration of CID-keyed font specific   *\/\n-  \/*    functions.                                                         *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   cid_fonts\n+   *\n+   * @title:\n+   *   CID Fonts\n+   *\n+   * @abstract:\n+   *   CID-keyed font-specific API.\n+   *\n+   * @description:\n+   *   This section contains the declaration of CID-keyed font-specific\n+   *   functions.\n+   *\n+   *\/\n@@ -53,1 +53,1 @@\n-  \/**********************************************************************\n+  \/**************************************************************************\n@@ -64,1 +64,1 @@\n-   *       A handle to the input face.\n+   *      A handle to the input face.\n@@ -68,1 +68,1 @@\n-   *       The registry, as a C~string, owned by the face.\n+   *      The registry, as a C~string, owned by the face.\n@@ -71,1 +71,1 @@\n-   *       The ordering, as a C~string, owned by the face.\n+   *      The ordering, as a C~string, owned by the face.\n@@ -74,1 +74,1 @@\n-   *       The supplement.\n+   *      The supplement.\n@@ -93,1 +93,1 @@\n-  \/**********************************************************************\n+  \/**************************************************************************\n@@ -99,3 +99,3 @@\n-   *    Retrieve the type of the input face, CID keyed or not.  In\n-   *    contrast to the @FT_IS_CID_KEYED macro this function returns\n-   *    successfully also for CID-keyed fonts in an SFNT wrapper.\n+   *    Retrieve the type of the input face, CID keyed or not.  In contrast\n+   *    to the @FT_IS_CID_KEYED macro this function returns successfully also\n+   *    for CID-keyed fonts in an SFNT wrapper.\n@@ -105,1 +105,1 @@\n-   *       A handle to the input face.\n+   *      A handle to the input face.\n@@ -109,1 +109,1 @@\n-   *       The type of the face as an @FT_Bool.\n+   *      The type of the face as an @FT_Bool.\n@@ -115,2 +115,2 @@\n-   *    This function only works with CID faces and OpenType fonts,\n-   *    returning an error otherwise.\n+   *    This function only works with CID faces and OpenType fonts, returning\n+   *    an error otherwise.\n@@ -126,1 +126,1 @@\n-  \/**********************************************************************\n+  \/**************************************************************************\n@@ -136,1 +136,1 @@\n-   *       A handle to the input face.\n+   *      A handle to the input face.\n@@ -139,1 +139,1 @@\n-   *       The input glyph index.\n+   *      The input glyph index.\n@@ -143,1 +143,1 @@\n-   *       The CID as an @FT_UInt.\n+   *      The CID as an @FT_UInt.\n@@ -149,2 +149,2 @@\n-   *    This function only works with CID faces and OpenType fonts,\n-   *    returning an error otherwise.\n+   *    This function only works with CID faces and OpenType fonts, returning\n+   *    an error otherwise.\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/ftcid.h","additions":51,"deletions":51,"binary":false,"changes":102,"status":"modified"},{"patch":"@@ -0,0 +1,311 @@\n+\/****************************************************************************\n+ *\n+ * ftcolor.h\n+ *\n+ *   FreeType's glyph color management (specification).\n+ *\n+ * Copyright (C) 2018-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+\n+#ifndef FTCOLOR_H_\n+#define FTCOLOR_H_\n+\n+#include <ft2build.h>\n+#include FT_FREETYPE_H\n+\n+#ifdef FREETYPE_H\n+#error \"freetype.h of FreeType 1 has been loaded!\"\n+#error \"Please fix the directory search order for header files\"\n+#error \"so that freetype.h of FreeType 2 is found first.\"\n+#endif\n+\n+\n+FT_BEGIN_HEADER\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   color_management\n+   *\n+   * @title:\n+   *   Glyph Color Management\n+   *\n+   * @abstract:\n+   *   Retrieving and manipulating OpenType's 'CPAL' table data.\n+   *\n+   * @description:\n+   *   The functions described here allow access and manipulation of color\n+   *   palette entries in OpenType's 'CPAL' tables.\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_Color\n+   *\n+   * @description:\n+   *   This structure models a BGRA color value of a 'CPAL' palette entry.\n+   *\n+   *   The used color space is sRGB; the colors are not pre-multiplied, and\n+   *   alpha values must be explicitly set.\n+   *\n+   * @fields:\n+   *   blue ::\n+   *     Blue value.\n+   *\n+   *   green ::\n+   *     Green value.\n+   *\n+   *   red ::\n+   *     Red value.\n+   *\n+   *   alpha ::\n+   *     Alpha value, giving the red, green, and blue color's opacity.\n+   *\n+   * @since:\n+   *   2.10\n+   *\/\n+  typedef struct  FT_Color_\n+  {\n+    FT_Byte  blue;\n+    FT_Byte  green;\n+    FT_Byte  red;\n+    FT_Byte  alpha;\n+\n+  } FT_Color;\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @enum:\n+   *   FT_PALETTE_XXX\n+   *\n+   * @description:\n+   *   A list of bit field constants used in the `palette_flags` array of the\n+   *   @FT_Palette_Data structure to indicate for which background a palette\n+   *   with a given index is usable.\n+   *\n+   * @values:\n+   *   FT_PALETTE_FOR_LIGHT_BACKGROUND ::\n+   *     The palette is appropriate to use when displaying the font on a\n+   *     light background such as white.\n+   *\n+   *   FT_PALETTE_FOR_DARK_BACKGROUND ::\n+   *     The palette is appropriate to use when displaying the font on a dark\n+   *     background such as black.\n+   *\n+   * @since:\n+   *   2.10\n+   *\/\n+#define FT_PALETTE_FOR_LIGHT_BACKGROUND  0x01\n+#define FT_PALETTE_FOR_DARK_BACKGROUND   0x02\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_Palette_Data\n+   *\n+   * @description:\n+   *   This structure holds the data of the 'CPAL' table.\n+   *\n+   * @fields:\n+   *   num_palettes ::\n+   *     The number of palettes.\n+   *\n+   *   palette_name_ids ::\n+   *     A read-only array of palette name IDs with `num_palettes` elements,\n+   *     corresponding to entries like 'dark' or 'light' in the font's 'name'\n+   *     table.\n+   *\n+   *     An empty name ID in the 'CPAL' table gets represented as value\n+   *     0xFFFF.\n+   *\n+   *     `NULL` if the font's 'CPAL' table doesn't contain appropriate data.\n+   *\n+   *   palette_flags ::\n+   *     A read-only array of palette flags with `num_palettes` elements.\n+   *     Possible values are an ORed combination of\n+   *     @FT_PALETTE_FOR_LIGHT_BACKGROUND and\n+   *     @FT_PALETTE_FOR_DARK_BACKGROUND.\n+   *\n+   *     `NULL` if the font's 'CPAL' table doesn't contain appropriate data.\n+   *\n+   *   num_palette_entries ::\n+   *     The number of entries in a single palette.  All palettes have the\n+   *     same size.\n+   *\n+   *   palette_entry_name_ids ::\n+   *     A read-only array of palette entry name IDs with\n+   *     `num_palette_entries`.  In each palette, entries with the same index\n+   *     have the same function.  For example, index~0 might correspond to\n+   *     string 'outline' in the font's 'name' table to indicate that this\n+   *     palette entry is used for outlines, index~1 might correspond to\n+   *     'fill' to indicate the filling color palette entry, etc.\n+   *\n+   *     An empty entry name ID in the 'CPAL' table gets represented as value\n+   *     0xFFFF.\n+   *\n+   *     `NULL` if the font's 'CPAL' table doesn't contain appropriate data.\n+   *\n+   * @note:\n+   *   Use function @FT_Get_Sfnt_Name to map name IDs and entry name IDs to\n+   *   name strings.\n+   *\n+   * @since:\n+   *   2.10\n+   *\/\n+  typedef struct  FT_Palette_Data_ {\n+    FT_UShort         num_palettes;\n+    const FT_UShort*  palette_name_ids;\n+    const FT_UShort*  palette_flags;\n+\n+    FT_UShort         num_palette_entries;\n+    const FT_UShort*  palette_entry_name_ids;\n+\n+  } FT_Palette_Data;\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Palette_Data_Get\n+   *\n+   * @description:\n+   *   Retrieve the face's color palette data.\n+   *\n+   * @input:\n+   *   face ::\n+   *     The source face handle.\n+   *\n+   * @output:\n+   *   apalette ::\n+   *     A pointer to an @FT_Palette_Data structure.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   All arrays in the returned @FT_Palette_Data structure are read-only.\n+   *\n+   *   This function always returns an error if the config macro\n+   *   `TT_CONFIG_OPTION_COLOR_LAYERS` is not defined in `ftoption.h`.\n+   *\n+   * @since:\n+   *   2.10\n+   *\/\n+  FT_EXPORT( FT_Error )\n+  FT_Palette_Data_Get( FT_Face           face,\n+                       FT_Palette_Data  *apalette );\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Palette_Select\n+   *\n+   * @description:\n+   *   This function has two purposes.\n+   *\n+   *   (1) It activates a palette for rendering color glyphs, and\n+   *\n+   *   (2) it retrieves all (unmodified) color entries of this palette.  This\n+   *       function returns a read-write array, which means that a calling\n+   *       application can modify the palette entries on demand.\n+   *\n+   * A corollary of (2) is that calling the function, then modifying some\n+   * values, then calling the function again with the same arguments resets\n+   * all color entries to the original 'CPAL' values; all user modifications\n+   * are lost.\n+   *\n+   * @input:\n+   *   face ::\n+   *     The source face handle.\n+   *\n+   *   palette_index ::\n+   *     The palette index.\n+   *\n+   * @output:\n+   *   apalette ::\n+   *     An array of color entries for a palette with index `palette_index`,\n+   *     having `num_palette_entries` elements (as found in the\n+   *     `FT_Palette_Data` structure).  If `apalette` is set to `NULL`, no\n+   *     array gets returned (and no color entries can be modified).\n+   *\n+   *     In case the font doesn't support color palettes, `NULL` is returned.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   The array pointed to by `apalette_entries` is owned and managed by\n+   *   FreeType.\n+   *\n+   *   This function always returns an error if the config macro\n+   *   `TT_CONFIG_OPTION_COLOR_LAYERS` is not defined in `ftoption.h`.\n+   *\n+   * @since:\n+   *   2.10\n+   *\/\n+  FT_EXPORT( FT_Error )\n+  FT_Palette_Select( FT_Face     face,\n+                     FT_UShort   palette_index,\n+                     FT_Color*  *apalette );\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Palette_Set_Foreground_Color\n+   *\n+   * @description:\n+   *   'COLR' uses palette index 0xFFFF to indicate a 'text foreground\n+   *   color'.  This function sets this value.\n+   *\n+   * @input:\n+   *   face ::\n+   *     The source face handle.\n+   *\n+   *   foreground_color ::\n+   *     An `FT_Color` structure to define the text foreground color.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   If this function isn't called, the text foreground color is set to\n+   *   white opaque (BGRA value 0xFFFFFFFF) if\n+   *   @FT_PALETTE_FOR_DARK_BACKGROUND is present for the current palette,\n+   *   and black opaque (BGRA value 0x000000FF) otherwise, including the case\n+   *   that no palette types are available in the 'CPAL' table.\n+   *\n+   *   This function always returns an error if the config macro\n+   *   `TT_CONFIG_OPTION_COLOR_LAYERS` is not defined in `ftoption.h`.\n+   *\n+   * @since:\n+   *   2.10\n+   *\/\n+  FT_EXPORT( FT_Error )\n+  FT_Palette_Set_Foreground_Color( FT_Face   face,\n+                                   FT_Color  foreground_color );\n+\n+  \/* *\/\n+\n+\n+FT_END_HEADER\n+\n+#endif \/* FTCOLOR_H_ *\/\n+\n+\n+\/* END *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/ftcolor.h","additions":311,"deletions":0,"binary":false,"changes":311,"status":"added"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftdriver.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    FreeType API for controlling driver modules (specification only).    *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2017-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftdriver.h\n+ *\n+ *   FreeType API for controlling driver modules (specification only).\n+ *\n+ * Copyright (C) 2017-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -53,2 +53,2 @@\n-   *   Note that the auto-hinter's module name is `autofitter' for\n-   *   historical reasons.\n+   *   Note that the auto-hinter's module name is 'autofitter' for historical\n+   *   reasons.\n@@ -77,2 +77,2 @@\n-   *   While FreeType's CFF driver doesn't expose API functions by itself,\n-   *   it is possible to control its behaviour with @FT_Property_Set and\n+   *   While FreeType's CFF driver doesn't expose API functions by itself, it\n+   *   is possible to control its behaviour with @FT_Property_Set and\n@@ -81,1 +81,1 @@\n-   *   The CFF driver's module name is `cff'.\n+   *   The CFF driver's module name is 'cff'.\n@@ -88,1 +88,1 @@\n-   *   *Hinting* *and* *antialiasing* *principles* *of* *the* *new* *engine*\n+   *   **Hinting and antialiasing principles of the new engine**\n@@ -96,1 +96,1 @@\n-   *   `antialiasing' means that stems are not positioned exactly on pixel\n+   *   'antialiasing' means that stems are not positioned exactly on pixel\n@@ -101,1 +101,1 @@\n-   *   1) No hinting in the horizontal direction: Unlike `superhinted'\n+   *   1) No hinting in the horizontal direction: Unlike 'superhinted'\n@@ -103,8 +103,8 @@\n-   *   inter-glyph spacing, Adobe's approach is `faithful to the design' in\n-   *   representing both the glyph width and the inter-glyph spacing\n-   *   designed for the font.  This makes the screen display as close as it\n-   *   can be to the result one would get with infinite resolution, while\n-   *   preserving what is considered the key characteristics of each glyph.\n-   *   Note that the distances between unhinted and grid-fitted positions at\n-   *   small sizes are comparable to kerning values and thus would be\n-   *   noticeable (and distracting) while reading if hinting were applied.\n+   *   inter-glyph spacing, Adobe's approach is 'faithful to the design' in\n+   *   representing both the glyph width and the inter-glyph spacing designed\n+   *   for the font.  This makes the screen display as close as it can be to\n+   *   the result one would get with infinite resolution, while preserving\n+   *   what is considered the key characteristics of each glyph.  Note that\n+   *   the distances between unhinted and grid-fitted positions at small\n+   *   sizes are comparable to kerning values and thus would be noticeable\n+   *   (and distracting) while reading if hinting were applied.\n@@ -113,12 +113,11 @@\n-   *   screens: The pixel geometry of modern displays supplies three\n-   *   vertical sub-pixels as the eye moves horizontally across each visible\n-   *   pixel.  On devices where we can be certain this characteristic is\n-   *   present a rasterizer can take advantage of the sub-pixels to add\n-   *   increments of weight.  In Western writing systems this turns out to\n-   *   be the more critical direction anyway; the weights and spacing of\n-   *   vertical stems (see above) are central to Armenian, Cyrillic, Greek,\n-   *   and Latin type designs.  Even when the rasterizer uses greyscale\n-   *   antialiasing instead of color (a necessary compromise when one\n-   *   doesn't know the screen characteristics), the unhinted vertical\n-   *   features preserve the design's weight and spacing much better than\n-   *   aliased type would.\n+   *   screens: The pixel geometry of modern displays supplies three vertical\n+   *   subpixels as the eye moves horizontally across each visible pixel.  On\n+   *   devices where we can be certain this characteristic is present a\n+   *   rasterizer can take advantage of the subpixels to add increments of\n+   *   weight.  In Western writing systems this turns out to be the more\n+   *   critical direction anyway; the weights and spacing of vertical stems\n+   *   (see above) are central to Armenian, Cyrillic, Greek, and Latin type\n+   *   designs.  Even when the rasterizer uses greyscale antialiasing instead\n+   *   of color (a necessary compromise when one doesn't know the screen\n+   *   characteristics), the unhinted vertical features preserve the design's\n+   *   weight and spacing much better than aliased type would.\n@@ -135,3 +134,3 @@\n-   *   `blue zones') as defined in the font are positioned independently,\n-   *   each being rounded to the nearest pixel edge, taking care of\n-   *   overshoot suppression at small sizes, stem darkening, and scaling.\n+   *   'blue zones') as defined in the font are positioned independently,\n+   *   each being rounded to the nearest pixel edge, taking care of overshoot\n+   *   suppression at small sizes, stem darkening, and scaling.\n@@ -141,1 +140,1 @@\n-   *   `captured' and are aligned to that zone.  Uncaptured stems are moved\n+   *   'captured' and are aligned to that zone.  Uncaptured stems are moved\n@@ -143,2 +142,2 @@\n-   *   Unless there are conflicting hstems, the smallest movement is taken\n-   *   to minimize distortion.\n+   *   Unless there are conflicting hstems, the smallest movement is taken to\n+   *   minimize distortion.\n@@ -161,2 +160,2 @@\n-   *   While FreeType's PCF driver doesn't expose API functions by itself,\n-   *   it is possible to control its behaviour with @FT_Property_Set and\n+   *   While FreeType's PCF driver doesn't expose API functions by itself, it\n+   *   is possible to control its behaviour with @FT_Property_Set and\n@@ -167,1 +166,1 @@\n-   *   The PCF driver's module name is `pcf'.\n+   *   The PCF driver's module name is 'pcf'.\n@@ -190,2 +189,2 @@\n-   *   The Type~1 driver's module name is `type1'; the CID driver's module\n-   *   name is `t1cid'.\n+   *   The Type~1 driver's module name is 'type1'; the CID driver's module\n+   *   name is 't1cid'.\n@@ -197,2 +196,2 @@\n-   *   Please see the @cff_driver section for more details on the new\n-   *   hinting engine.\n+   *   Please see the @cff_driver section for more details on the new hinting\n+   *   engine.\n@@ -220,1 +219,1 @@\n-   *   The TrueType driver's module name is `truetype'.\n+   *   The TrueType driver's module name is 'truetype'.\n@@ -228,1 +227,1 @@\n-   *   _Bi-Level_ _Rendering_\n+   *   _Bi-Level Rendering_\n@@ -235,4 +234,4 @@\n-   *   performance (e.g., not having to run hinting on all glyphs just to\n-   *   get the widths) there was a bit in the head table indicating if the\n-   *   side bearing was hinted, and additional tables, `hdmx' and `LTSH', to\n-   *   cache hinting widths across multiple sizes and device aspect ratios.\n+   *   performance (e.g., not having to run hinting on all glyphs just to get\n+   *   the widths) there was a bit in the head table indicating if the side\n+   *   bearing was hinted, and additional tables, 'hdmx' and 'LTSH', to cache\n+   *   hinting widths across multiple sizes and device aspect ratios.\n@@ -240,1 +239,1 @@\n-   *   _Font_ _Smoothing_\n+   *   _Font Smoothing_\n@@ -246,1 +245,1 @@\n-   *   _ClearType_ _Rendering_\n+   *   _ClearType Rendering_\n@@ -250,4 +249,4 @@\n-   *   of improving symmetry in glyphs through hinting the right-side\n-   *   bearing were no longer necessary.  This lead to what GDI calls\n-   *   `natural widths' ClearType, see\n-   *   http:\/\/www.beatstamm.com\/typography\/RTRCh4.htm#Sec21.  Since hinting\n+   *   of improving symmetry in glyphs through hinting the right-side bearing\n+   *   were no longer necessary.  This lead to what GDI calls 'natural\n+   *   widths' ClearType, see\n+   *   http:\/\/rastertragedy.com\/RTRCh4.htm#Sec21.  Since hinting\n@@ -257,1 +256,1 @@\n-   *   _ClearType_ _Compatible_ _Widths_\n+   *   _ClearType Compatible Widths_\n@@ -266,1 +265,1 @@\n-   *   http:\/\/www.beatstamm.com\/typography\/RTRCh4.htm#Sec20.  Somewhat by\n+   *   http:\/\/rastertragedy.com\/RTRCh4.htm#Sec20.  Somewhat by\n@@ -270,1 +269,1 @@\n-   *   _ClearType_ _Subpixel_ _Positioning_\n+   *   _ClearType Subpixel Positioning_\n@@ -275,2 +274,2 @@\n-   *   frameworks do support fractional widths.  DWrite calls this `natural\n-   *   mode', not to be confused with GDI's `natural widths'.  Subpixel\n+   *   frameworks do support fractional widths.  DWrite calls this 'natural\n+   *   mode', not to be confused with GDI's 'natural widths'.  Subpixel\n@@ -279,1 +278,1 @@\n-   *   http:\/\/www.beatstamm.com\/typography\/RTRCh4.htm#Sec22.  Note that the\n+   *   http:\/\/rastertragedy.com\/RTRCh4.htm#Sec22.  Note that the\n@@ -283,1 +282,1 @@\n-   *   _ClearType_ _Backward_ _Compatibility_\n+   *   _ClearType Backward Compatibility_\n@@ -288,1 +287,1 @@\n-   *   http:\/\/www.beatstamm.com\/typography\/RTRCh4.htm#Sec1 and\n+   *   http:\/\/rastertragedy.com\/RTRCh4.htm#Sec1 and\n@@ -290,5 +289,5 @@\n-   *   This technique is not to be confused with ClearType compatible\n-   *   widths.  ClearType backward compatibility has no direct impact on\n-   *   changing advance widths, but there might be an indirect impact on\n-   *   disabling some deltas.  This could be worked around in backward\n-   *   compatibility mode.\n+   *   This technique is not to be confused with ClearType compatible widths.\n+   *   ClearType backward compatibility has no direct impact on changing\n+   *   advance widths, but there might be an indirect impact on disabling\n+   *   some deltas.  This could be worked around in backward compatibility\n+   *   mode.\n@@ -296,1 +295,1 @@\n-   *   _Native_ _ClearType_ _Mode_\n+   *   _Native ClearType Mode_\n@@ -298,3 +297,3 @@\n-   *   (Not to be confused with `natural widths'.)  This mode removes all\n-   *   the exceptions in the TrueType interpreter when running with\n-   *   ClearType.  Any issues on widths would still apply, though.\n+   *   (Not to be confused with 'natural widths'.)  This mode removes all the\n+   *   exceptions in the TrueType interpreter when running with ClearType.\n+   *   Any issues on widths would still apply, though.\n@@ -331,2 +330,2 @@\n-   *   A list of constants used for the @hinting-engine property to\n-   *   select the hinting engine for CFF, Type~1, and CID fonts.\n+   *   A list of constants used for the @hinting-engine property to select\n+   *   the hinting engine for CFF, Type~1, and CID fonts.\n@@ -359,4 +358,4 @@\n-   *   Thanks to Adobe, which contributed a new hinting (and parsing)\n-   *   engine, an application can select between `freetype' and `adobe' if\n-   *   compiled with CFF_CONFIG_OPTION_OLD_ENGINE.  If this configuration\n-   *   macro isn't defined, `hinting-engine' does nothing.\n+   *   Thanks to Adobe, which contributed a new hinting (and parsing) engine,\n+   *   an application can select between 'freetype' and 'adobe' if compiled\n+   *   with `CFF_CONFIG_OPTION_OLD_ENGINE`.  If this configuration macro\n+   *   isn't defined, 'hinting-engine' does nothing.\n@@ -365,1 +364,1 @@\n-   *   T1_CONFIG_OPTION_OLD_ENGINE.\n+   *   `T1_CONFIG_OPTION_OLD_ENGINE`.\n@@ -367,2 +366,2 @@\n-   *   For the `cff' module, the default engine is `freetype' if\n-   *   CFF_CONFIG_OPTION_OLD_ENGINE is defined, and `adobe' otherwise.\n+   *   For the 'cff' module, the default engine is 'freetype' if\n+   *   `CFF_CONFIG_OPTION_OLD_ENGINE` is defined, and 'adobe' otherwise.\n@@ -370,2 +369,2 @@\n-   *   For both the `type1' and `t1cid' modules, the default engine is\n-   *   `freetype' if T1_CONFIG_OPTION_OLD_ENGINE is defined, and `adobe'\n+   *   For both the 'type1' and 't1cid' modules, the default engine is\n+   *   'freetype' if `T1_CONFIG_OPTION_OLD_ENGINE` is defined, and 'adobe'\n@@ -374,0 +373,7 @@\n+   * @note:\n+   *   This property can be used with @FT_Property_Get also.\n+   *\n+   *   This property can be set via the `FREETYPE_PROPERTIES` environment\n+   *   variable (using values 'adobe' or 'freetype').\n+   *\n+   * @example:\n@@ -375,1 +381,1 @@\n-   *   engine for the `cff' module (omitting the error handling).\n+   *   engine for the 'cff' module (omitting the error handling).\n@@ -377,1 +383,1 @@\n-   *   {\n+   *   ```\n@@ -379,1 +385,1 @@\n-   *     FT_UInt     hinting_engine = FT_CFF_HINTING_ADOBE;\n+   *     FT_UInt     hinting_engine = FT_HINTING_ADOBE;\n@@ -386,7 +392,1 @@\n-   *   }\n-   *\n-   * @note:\n-   *   This property can be used with @FT_Property_Get also.\n-   *\n-   *   This property can be set via the `FREETYPE_PROPERTIES' environment\n-   *   variable (using values `adobe' or `freetype').\n+   *   ```\n@@ -395,1 +395,1 @@\n-   *   2.4.12 (for `cff' module)\n+   *   2.4.12 (for 'cff' module)\n@@ -397,1 +397,1 @@\n-   *   2.9 (for `type1' and `t1cid' modules)\n+   *   2.9 (for 'type1' and 't1cid' modules)\n@@ -408,4 +408,4 @@\n-   *   All glyphs that pass through the auto-hinter will be emboldened\n-   *   unless this property is set to TRUE.  The same is true for the CFF,\n-   *   Type~1, and CID font modules if the `Adobe' engine is selected (which\n-   *   is the default).\n+   *   All glyphs that pass through the auto-hinter will be emboldened unless\n+   *   this property is set to TRUE.  The same is true for the CFF, Type~1,\n+   *   and CID font modules if the 'Adobe' engine is selected (which is the\n+   *   default).\n@@ -422,1 +422,1 @@\n-   *   that glyphs `thin out'.  Mac OS~X and Adobe's proprietary font\n+   *   that glyphs 'thin out'.  Mac OS~X and Adobe's proprietary font\n@@ -426,2 +426,2 @@\n-   *   coverage of filled-in outlines and are therefore `blacker'.  This\n-   *   counteracts the `thinning out' of glyphs, making text remain readable\n+   *   coverage of filled-in outlines and are therefore 'blacker'.  This\n+   *   counteracts the 'thinning out' of glyphs, making text remain readable\n@@ -434,5 +434,5 @@\n-   *   For the auto-hinter, stem-darkening is experimental currently and\n-   *   thus switched off by default (this is, `no-stem-darkening' is set to\n-   *   TRUE by default).  Total consistency with the CFF driver is not\n-   *   achieved right now because the emboldening method differs and glyphs\n-   *   must be scaled down on the Y-axis to keep outline points inside their\n+   *   For the auto-hinter, stem-darkening is experimental currently and thus\n+   *   switched off by default (this is, `no-stem-darkening` is set to TRUE\n+   *   by default).  Total consistency with the CFF driver is not achieved\n+   *   right now because the emboldening method differs and glyphs must be\n+   *   scaled down on the Y-axis to keep outline points inside their\n@@ -442,2 +442,9 @@\n-   *   Note that stem darkening is never applied if @FT_LOAD_NO_SCALE is\n-   *   set.\n+   *   Note that stem darkening is never applied if @FT_LOAD_NO_SCALE is set.\n+   *\n+   * @note:\n+   *   This property can be used with @FT_Property_Get also.\n+   *\n+   *   This property can be set via the `FREETYPE_PROPERTIES` environment\n+   *   variable (using values 1 and 0 for 'on' and 'off', respectively).  It\n+   *   can also be set per face using @FT_Face_Properties with\n+   *   @FT_PARAM_TAG_STEM_DARKENING.\n@@ -445,1 +452,2 @@\n-   *   {\n+   * @example:\n+   *   ```\n@@ -454,9 +462,1 @@\n-   *   }\n-   *\n-   * @note:\n-   *   This property can be used with @FT_Property_Get also.\n-   *\n-   *   This property can be set via the `FREETYPE_PROPERTIES' environment\n-   *   variable (using values 1 and 0 for `on' and `off', respectively).\n-   *   It can also be set per face using @FT_Face_Properties with\n-   *   @FT_PARAM_TAG_STEM_DARKENING.\n+   *   ```\n@@ -465,1 +465,1 @@\n-   *   2.4.12 (for `cff' module)\n+   *   2.4.12 (for 'cff' module)\n@@ -467,1 +467,1 @@\n-   *   2.6.2 (for `autofitter' module)\n+   *   2.6.2 (for 'autofitter' module)\n@@ -469,1 +469,1 @@\n-   *   2.9 (for `type1' and `t1cid' modules)\n+   *   2.9 (for 'type1' and 't1cid' modules)\n@@ -481,2 +481,2 @@\n-   *   CID font drivers, darkens stems as follows (if the\n-   *   `no-stem-darkening' property isn't set):\n+   *   CID font drivers, darkens stems as follows (if the `no-stem-darkening`\n+   *   property isn't set):\n@@ -484,1 +484,1 @@\n-   *   {\n+   *   ```\n@@ -489,1 +489,1 @@\n-   *   }\n+   *   ```\n@@ -493,1 +493,1 @@\n-   *   `CFF_CONFIG_OPTION_DARKENING_PARAMETERS'; the CFF, Type~1, and CID\n+   *   `CFF_CONFIG_OPTION_DARKENING_PARAMETERS`; the CFF, Type~1, and CID\n@@ -495,16 +495,2 @@\n-   *   changed using the `darkening-parameters' property, as the following\n-   *   example demonstrates for the Type~1 driver.\n-   *\n-   *   {\n-   *     FT_Library  library;\n-   *     FT_Int      darken_params[8] = {  500, 300,   \/\/ x1, y1\n-   *                                      1000, 200,   \/\/ x2, y2\n-   *                                      1500, 100,   \/\/ x3, y3\n-   *                                      2000,   0 }; \/\/ x4, y4\n-   *\n-   *\n-   *     FT_Init_FreeType( &library );\n-   *\n-   *     FT_Property_Set( library, \"type1\",\n-   *                               \"darkening-parameters\", darken_params );\n-   *   }\n+   *   changed using the `darkening-parameters` property (see the example\n+   *   below that demonstrates this for the Type~1 driver).\n@@ -514,4 +500,4 @@\n-   *   positive; the x~values must be monotonically increasing; the\n-   *   y~values must be monotonically decreasing and smaller than or\n-   *   equal to 500 (corresponding to half a pixel); the slope of each\n-   *   linear piece must be shallower than -1 (e.g., -.4).\n+   *   positive; the x~values must be monotonically increasing; the y~values\n+   *   must be monotonically decreasing and smaller than or equal to 500\n+   *   (corresponding to half a pixel); the slope of each linear piece must\n+   *   be shallower than -1 (e.g., -.4).\n@@ -525,1 +511,1 @@\n-   *   This property can be set via the `FREETYPE_PROPERTIES' environment\n+   *   This property can be set via the `FREETYPE_PROPERTIES` environment\n@@ -527,1 +513,1 @@\n-   *   the above example, using `\\' to break the line for readability.\n+   *   the above example, using `\\` to break the line for readability.\n@@ -529,1 +515,1 @@\n-   *   {\n+   *   ```\n@@ -532,1 +518,16 @@\n-   *   }\n+   *   ```\n+   *\n+   * @example:\n+   *   ```\n+   *     FT_Library  library;\n+   *     FT_Int      darken_params[8] = {  500, 300,   \/\/ x1, y1\n+   *                                      1000, 200,   \/\/ x2, y2\n+   *                                      1500, 100,   \/\/ x3, y3\n+   *                                      2000,   0 }; \/\/ x4, y4\n+   *\n+   *\n+   *     FT_Init_FreeType( &library );\n+   *\n+   *     FT_Property_Set( library, \"type1\",\n+   *                               \"darkening-parameters\", darken_params );\n+   *   ```\n@@ -535,1 +536,1 @@\n-   *   2.5.1 (for `cff' module)\n+   *   2.5.1 (for 'cff' module)\n@@ -537,1 +538,1 @@\n-   *   2.6.2 (for `autofitter' module)\n+   *   2.6.2 (for 'autofitter' module)\n@@ -539,1 +540,1 @@\n-   *   2.9 (for `type1' and `t1cid' modules)\n+   *   2.9 (for 'type1' and 't1cid' modules)\n@@ -550,2 +551,2 @@\n-   *   By default, the seed value for the CFF `random' operator and the\n-   *   similar `0 28 callothersubr pop' command for the Type~1 and CID\n+   *   By default, the seed value for the CFF 'random' operator and the\n+   *   similar '0 28 callothersubr pop' command for the Type~1 and CID\n@@ -553,2 +554,2 @@\n-   *   purposes, it is often necessary to use a known value as a seed so\n-   *   that the pseudo-random number sequences generated by `random' are\n+   *   purposes, it is often necessary to use a known value as a seed so that\n+   *   the pseudo-random number sequences generated by 'random' are\n@@ -557,1 +558,1 @@\n-   *   The `random-seed' property does that.  Its argument is a signed 32bit\n+   *   The `random-seed` property does that.  Its argument is a signed 32bit\n@@ -559,4 +560,4 @@\n-   *   `intitialRandomSeed' private DICT operator in a CFF file gets used\n-   *   (or a default value if there is no such operator).  If the value is\n-   *   positive, use it instead of `initialRandomSeed', which is\n-   *   consequently ignored.\n+   *   `intitialRandomSeed` private DICT operator in a CFF file gets used (or\n+   *   a default value if there is no such operator).  If the value is\n+   *   positive, use it instead of `initialRandomSeed`, which is consequently\n+   *   ignored.\n@@ -565,1 +566,1 @@\n-   *   This property can be set via the `FREETYPE_PROPERTIES' environment\n+   *   This property can be set via the `FREETYPE_PROPERTIES` environment\n@@ -570,1 +571,1 @@\n-   *   2.8 (for `cff' module)\n+   *   2.8 (for 'cff' module)\n@@ -572,1 +573,1 @@\n-   *   2.9 (for `type1' and `t1cid' modules)\n+   *   2.9 (for 'type1' and 't1cid' modules)\n@@ -583,1 +584,1 @@\n-   *   If PCF_CONFIG_OPTION_LONG_FAMILY_NAMES is active while compiling\n+   *   If `PCF_CONFIG_OPTION_LONG_FAMILY_NAMES` is active while compiling\n@@ -586,1 +587,1 @@\n-   *   There are many PCF fonts just called `Fixed' which look completely\n+   *   There are many PCF fonts just called 'Fixed' which look completely\n@@ -588,6 +589,8 @@\n-   *   selecting `Fixed' in KDE or Gnome one gets results that appear rather\n-   *   random, the style changes often if one changes the size and one\n-   *   cannot select some fonts at all.  The improve this situation, the PCF\n-   *   module prepends the foundry name (plus a space) to the family name.\n-   *   It also checks whether there are `wide' characters; all put together,\n-   *   family names like `Sony Fixed' or `Misc Fixed Wide' are constructed.\n+   *   selecting 'Fixed' in KDE or Gnome one gets results that appear rather\n+   *   random, the style changes often if one changes the size and one cannot\n+   *   select some fonts at all.  The improve this situation, the PCF module\n+   *   prepends the foundry name (plus a space) to the family name.  It also\n+   *   checks whether there are 'wide' characters; all put together, family\n+   *   names like 'Sony Fixed' or 'Misc Fixed Wide' are constructed.\n+   *\n+   *   If `no-long-family-names` is set, this feature gets switched off.\n@@ -595,1 +598,2 @@\n-   *   If `no-long-family-names' is set, this feature gets switched off.\n+   * @note:\n+   *   This property can be used with @FT_Property_Get also.\n@@ -597,1 +601,5 @@\n-   *   {\n+   *   This property can be set via the `FREETYPE_PROPERTIES` environment\n+   *   variable (using values 1 and 0 for 'on' and 'off', respectively).\n+   *\n+   * @example:\n+   *   ```\n@@ -607,7 +615,1 @@\n-   *   }\n-   *\n-   * @note:\n-   *   This property can be used with @FT_Property_Get also.\n-   *\n-   *   This property can be set via the `FREETYPE_PROPERTIES' environment\n-   *   variable (using values 1 and 0 for `on' and `off', respectively).\n+   *   ```\n@@ -629,2 +631,2 @@\n-   *   The numeric value in the constant names represents the version\n-   *   number as returned by the `GETINFO' bytecode instruction.\n+   *   The numeric value in the constant names represents the version number\n+   *   as returned by the 'GETINFO' bytecode instruction.\n@@ -641,3 +643,2 @@\n-   *     Windows~7).  It is used in FreeType to select the `Infinality'\n-   *     subpixel hinting code.  The code may be removed in a future\n-   *     version.\n+   *     Windows~7).  It is used in FreeType to select the 'Infinality'\n+   *     subpixel hinting code.  The code may be removed in a future version.\n@@ -649,1 +650,1 @@\n-   *     It is used in FreeType to select the `minimal' subpixel hinting\n+   *     It is used in FreeType to select the 'minimal' subpixel hinting\n@@ -651,1 +652,1 @@\n-   *     `Infinality' code.\n+   *     'Infinality' code.\n@@ -654,3 +655,3 @@\n-   *   This property controls the behaviour of the bytecode interpreter\n-   *   and thus how outlines get hinted.  It does *not* control how glyph\n-   *   get rasterized!  In particular, it does not control subpixel color\n+   *   This property controls the behaviour of the bytecode interpreter and\n+   *   thus how outlines get hinted.  It does **not** control how glyph get\n+   *   rasterized!  In particular, it does not control subpixel color\n@@ -660,2 +661,2 @@\n-   *   TT_CONFIG_OPTION_SUBPIXEL_HINTING, selecting version~38 or~40 causes\n-   *   an `FT_Err_Unimplemented_Feature' error.\n+   *   `TT_CONFIG_OPTION_SUBPIXEL_HINTING`, selecting version~38 or~40 causes\n+   *   an `FT_Err_Unimplemented_Feature` error.\n@@ -663,4 +664,4 @@\n-   *   Depending on the graphics framework, Microsoft uses different\n-   *   bytecode and rendering engines.  As a consequence, the version\n-   *   numbers returned by a call to the `GETINFO' bytecode instruction are\n-   *   more convoluted than desired.\n+   *   Depending on the graphics framework, Microsoft uses different bytecode\n+   *   and rendering engines.  As a consequence, the version numbers returned\n+   *   by a call to the 'GETINFO' bytecode instruction are more convoluted\n+   *   than desired.\n@@ -668,3 +669,3 @@\n-   *   Here are two tables that try to shed some light on the possible\n-   *   values for the MS rasterizer engine, together with the additional\n-   *   features introduced by it.\n+   *   Here are two tables that try to shed some light on the possible values\n+   *   for the MS rasterizer engine, together with the additional features\n+   *   introduced by it.\n@@ -672,1 +673,1 @@\n-   *   {\n+   *   ```\n@@ -695,1 +696,1 @@\n-   *   }\n+   *   ```\n@@ -697,1 +698,1 @@\n-   *   The `version' field gives a rough orientation only, since some\n+   *   The 'version' field gives a rough orientation only, since some\n@@ -703,1 +704,1 @@\n-   *   {\n+   *   ```\n@@ -713,1 +714,1 @@\n-   *   }\n+   *   ```\n@@ -716,1 +717,1 @@\n-   *   `Y-direction ClearType', meaning grayscale rasterization along the\n+   *   'Y-direction ClearType', meaning grayscale rasterization along the\n@@ -718,10 +719,10 @@\n-   *   feature is `symmetric smoothing'.  `Classic ClearType' is the\n-   *   original algorithm used before introducing a modified version in\n-   *   Win~XP.  Another name for v1.6's grayscale rendering is `font\n-   *   smoothing', and `Color ClearType' is sometimes also called `DWrite\n-   *   ClearType'.  To differentiate between today's Color ClearType and the\n-   *   earlier ClearType variant with B\/W rendering along the vertical axis,\n-   *   the latter is sometimes called `GDI ClearType'.\n-   *\n-   *   `Normal' and `high' sampling describe the (virtual) resolution to\n-   *   access the rasterized outline after the hinting process.  `Normal'\n+   *   feature is 'symmetric smoothing'.  'Classic ClearType' is the original\n+   *   algorithm used before introducing a modified version in Win~XP.\n+   *   Another name for v1.6's grayscale rendering is 'font smoothing', and\n+   *   'Color ClearType' is sometimes also called 'DWrite ClearType'.  To\n+   *   differentiate between today's Color ClearType and the earlier\n+   *   ClearType variant with B\/W rendering along the vertical axis, the\n+   *   latter is sometimes called 'GDI ClearType'.\n+   *\n+   *   'Normal' and 'high' sampling describe the (virtual) resolution to\n+   *   access the rasterized outline after the hinting process.  'Normal'\n@@ -729,2 +730,2 @@\n-   *   implementation, `high' means an extra virtual resolution of 16x16 (or\n-   *   16x1) grid lines per pixel for bytecode instructions like `MIRP'.\n+   *   implementation, 'high' means an extra virtual resolution of 16x16 (or\n+   *   16x1) grid lines per pixel for bytecode instructions like 'MIRP'.\n@@ -734,7 +735,7 @@\n-   *   Note that `Gray ClearType' is essentially the same as v1.6's\n-   *   grayscale rendering.  However, the GETINFO instruction handles it\n-   *   differently: v1.6 returns bit~12 (hinting for grayscale), while v2.1\n-   *   returns bits~13 (hinting for ClearType), 18 (symmetrical smoothing),\n-   *   and~19 (Gray ClearType).  Also, this mode respects bits 2 and~3 for\n-   *   the version~1 gasp table exclusively (like Color ClearType), while\n-   *   v1.6 only respects the values of version~0 (bits 0 and~1).\n+   *   Note that 'Gray ClearType' is essentially the same as v1.6's grayscale\n+   *   rendering.  However, the GETINFO instruction handles it differently:\n+   *   v1.6 returns bit~12 (hinting for grayscale), while v2.1 returns\n+   *   bits~13 (hinting for ClearType), 18 (symmetrical smoothing), and~19\n+   *   (Gray ClearType).  Also, this mode respects bits 2 and~3 for the\n+   *   version~1 gasp table exclusively (like Color ClearType), while v1.6\n+   *   only respects the values of version~0 (bits 0 and~1).\n@@ -742,3 +743,3 @@\n-   *   Keep in mind that the features of the above interpreter versions\n-   *   might not map exactly to FreeType features or behavior because it is\n-   *   a fundamentally different library with different internals.\n+   *   Keep in mind that the features of the above interpreter versions might\n+   *   not map exactly to FreeType features or behavior because it is a\n+   *   fundamentally different library with different internals.\n@@ -758,6 +759,6 @@\n-   *   Currently, three versions are available, two representing the\n-   *   bytecode interpreter with subpixel hinting support (old `Infinality'\n-   *   code and new stripped-down and higher performance `minimal' code) and\n-   *   one without, respectively.  The default is subpixel support if\n-   *   TT_CONFIG_OPTION_SUBPIXEL_HINTING is defined, and no subpixel support\n-   *   otherwise (since it isn't available then).\n+   *   Currently, three versions are available, two representing the bytecode\n+   *   interpreter with subpixel hinting support (old 'Infinality' code and\n+   *   new stripped-down and higher performance 'minimal' code) and one\n+   *   without, respectively.  The default is subpixel support if\n+   *   `TT_CONFIG_OPTION_SUBPIXEL_HINTING` is defined, and no subpixel\n+   *   support otherwise (since it isn't available then).\n@@ -766,1 +767,1 @@\n-   *   differently compared to B\/W or grayscale rendering (except if `native\n+   *   differently compared to B\/W or grayscale rendering (except if 'native\n@@ -770,2 +771,2 @@\n-   *   are not suited to this and must be specially taken care of by\n-   *   applying (hardcoded) tweaks in Microsoft's interpreter.\n+   *   are not suited to this and must be specially taken care of by applying\n+   *   (hardcoded) tweaks in Microsoft's interpreter.\n@@ -775,2 +776,2 @@\n-   *   `https:\/\/www.microsoft.com\/typography\/cleartype\/truetypecleartype.aspx'.\n-   *   Note that FreeType currently doesn't really `subpixel hint' (6x1, 6x2,\n+   *   'https:\/\/www.microsoft.com\/typography\/cleartype\/truetypecleartype.aspx'.\n+   *   Note that FreeType currently doesn't really 'subpixel hint' (6x1, 6x2,\n@@ -781,0 +782,7 @@\n+   * @note:\n+   *   This property can be used with @FT_Property_Get also.\n+   *\n+   *   This property can be set via the `FREETYPE_PROPERTIES` environment\n+   *   variable (using values '35', '38', or '40').\n+   *\n+   * @example:\n@@ -784,1 +792,1 @@\n-   *   {\n+   *   ```\n@@ -795,7 +803,1 @@\n-   *   }\n-   *\n-   * @note:\n-   *   This property can be used with @FT_Property_Get also.\n-   *\n-   *   This property can be set via the `FREETYPE_PROPERTIES' environment\n-   *   variable (using values `35', `38', or `40').\n+   *   ```\n@@ -814,1 +816,1 @@\n-   *   *Experimental* *only*\n+   *   **Experimental only**\n@@ -822,4 +824,4 @@\n-   *   OpenType fonts, however, often provide much more glyphs than\n-   *   character codes (small caps, superscripts, ligatures, swashes, etc.),\n-   *   to be controlled by so-called `features'.  Handling OpenType features\n-   *   can be quite complicated and thus needs a separate library on top of\n+   *   OpenType fonts, however, often provide much more glyphs than character\n+   *   codes (small caps, superscripts, ligatures, swashes, etc.), to be\n+   *   controlled by so-called 'features'.  Handling OpenType features can be\n+   *   quite complicated and thus needs a separate library on top of\n@@ -829,12 +831,13 @@\n-   *   sense, see the @FT_AUTOHINTER_SCRIPT_XXX values) is stored as an\n-   *   array with `num_glyphs' elements, as found in the font's @FT_Face\n-   *   structure.  The `glyph-to-script-map' property returns a pointer to\n-   *   this array, which can be modified as needed.  Note that the\n-   *   modification should happen before the first glyph gets processed by\n-   *   the auto-hinter so that the global analysis of the font shapes\n-   *   actually uses the modified mapping.\n-   *\n-   *   The following example code demonstrates how to access it (omitting\n-   *   the error handling).\n-   *\n-   *   {\n+   *   sense, see the @FT_AUTOHINTER_SCRIPT_XXX values) is stored as an array\n+   *   with `num_glyphs` elements, as found in the font's @FT_Face structure.\n+   *   The `glyph-to-script-map` property returns a pointer to this array,\n+   *   which can be modified as needed.  Note that the modification should\n+   *   happen before the first glyph gets processed by the auto-hinter so\n+   *   that the global analysis of the font shapes actually uses the modified\n+   *   mapping.\n+   *\n+   * @example:\n+   *   The following example code demonstrates how to access it (omitting the\n+   *   error handling).\n+   *\n+   *   ```\n@@ -857,1 +860,1 @@\n-   *   }\n+   *   ```\n@@ -871,1 +874,1 @@\n-   *   *Experimental* *only*\n+   *   **Experimental only**\n@@ -882,3 +885,3 @@\n-   *     Apply the latin auto-hinter.  For the auto-hinter, `latin' is a\n-   *     very broad term, including Cyrillic and Greek also since characters\n-   *     from those scripts share the same design constraints.\n+   *     Apply the latin auto-hinter.  For the auto-hinter, 'latin' is a very\n+   *     broad term, including Cyrillic and Greek also since characters from\n+   *     those scripts share the same design constraints.\n@@ -889,1 +892,1 @@\n-   *     {\n+   *     ```\n@@ -918,1 +921,1 @@\n-   *     }\n+   *     ```\n@@ -927,1 +930,1 @@\n-   *     {\n+   *     ```\n@@ -960,1 +963,1 @@\n-   *     }\n+   *     ```\n@@ -970,1 +973,1 @@\n-   *     {\n+   *     ```\n@@ -978,1 +981,1 @@\n-   *     }\n+   *     ```\n@@ -999,1 +1002,1 @@\n-   *   *Experimental* *only*\n+   *   **Experimental only**\n@@ -1021,14 +1024,1 @@\n-   *   *Experimental* *only*\n-   *\n-   *   If no auto-hinter script module can be assigned to a glyph, a\n-   *   fallback script gets assigned to it (see also the\n-   *   @glyph-to-script-map property).  By default, this is\n-   *   @FT_AUTOHINTER_SCRIPT_CJK.  Using the `fallback-script' property,\n-   *   this fallback value can be changed.\n-   *\n-   *   {\n-   *     FT_Library  library;\n-   *     FT_UInt     fallback_script = FT_AUTOHINTER_SCRIPT_NONE;\n-   *\n-   *\n-   *     FT_Init_FreeType( &library );\n+   *   **Experimental only**\n@@ -1036,3 +1026,4 @@\n-   *     FT_Property_Set( library, \"autofitter\",\n-   *                               \"fallback-script\", &fallback_script );\n-   *   }\n+   *   If no auto-hinter script module can be assigned to a glyph, a fallback\n+   *   script gets assigned to it (see also the @glyph-to-script-map\n+   *   property).  By default, this is @FT_AUTOHINTER_SCRIPT_CJK.  Using the\n+   *   `fallback-script` property, this fallback value can be changed.\n@@ -1044,2 +1035,2 @@\n-   *   creation of the glyph-to-script map that eventually uses the\n-   *   fallback script value gets triggered either by setting or reading a\n+   *   creation of the glyph-to-script map that eventually uses the fallback\n+   *   script value gets triggered either by setting or reading a\n@@ -1051,0 +1042,12 @@\n+   * @example:\n+   *   ```\n+   *     FT_Library  library;\n+   *     FT_UInt     fallback_script = FT_AUTOHINTER_SCRIPT_NONE;\n+   *\n+   *\n+   *     FT_Init_FreeType( &library );\n+   *\n+   *     FT_Property_Set( library, \"autofitter\",\n+   *                               \"fallback-script\", &fallback_script );\n+   *   ```\n+   *\n@@ -1063,1 +1066,1 @@\n-   *   *Experimental* *only*\n+   *   **Experimental only**\n@@ -1065,8 +1068,8 @@\n-   *   If FreeType gets compiled with FT_CONFIG_OPTION_USE_HARFBUZZ to make\n-   *   the HarfBuzz library access OpenType features for getting better\n-   *   glyph coverages, this property sets the (auto-fitter) script to be\n-   *   used for the default (OpenType) script data of a font's GSUB table.\n-   *   Features for the default script are intended for all scripts not\n-   *   explicitly handled in GSUB; an example is a `dlig' feature,\n-   *   containing the combination of the characters `T', `E', and `L' to\n-   *   form a `TEL' ligature.\n+   *   If FreeType gets compiled with `FT_CONFIG_OPTION_USE_HARFBUZZ` to make\n+   *   the HarfBuzz library access OpenType features for getting better glyph\n+   *   coverages, this property sets the (auto-fitter) script to be used for\n+   *   the default (OpenType) script data of a font's GSUB table.  Features\n+   *   for the default script are intended for all scripts not explicitly\n+   *   handled in GSUB; an example is a 'dlig' feature, containing the\n+   *   combination of the characters 'T', 'E', and 'L' to form a 'TEL'\n+   *   ligature.\n@@ -1075,12 +1078,1 @@\n-   *   `default-script' property, this default value can be changed.\n-   *\n-   *   {\n-   *     FT_Library  library;\n-   *     FT_UInt     default_script = FT_AUTOHINTER_SCRIPT_NONE;\n-   *\n-   *\n-   *     FT_Init_FreeType( &library );\n-   *\n-   *     FT_Property_Set( library, \"autofitter\",\n-   *                               \"default-script\", &default_script );\n-   *   }\n+   *   `default-script` property, this default value can be changed.\n@@ -1092,2 +1084,2 @@\n-   *   creation of the glyph-to-script map that eventually uses the\n-   *   default script value gets triggered either by setting or reading a\n+   *   creation of the glyph-to-script map that eventually uses the default\n+   *   script value gets triggered either by setting or reading a\n@@ -1099,0 +1091,12 @@\n+   * @example:\n+   *   ```\n+   *     FT_Library  library;\n+   *     FT_UInt     default_script = FT_AUTOHINTER_SCRIPT_NONE;\n+   *\n+   *\n+   *     FT_Init_FreeType( &library );\n+   *\n+   *     FT_Property_Set( library, \"autofitter\",\n+   *                               \"default-script\", &default_script );\n+   *   ```\n+   *\n@@ -1111,3 +1115,3 @@\n-   *   For ppem values in the range 6~<= ppem <= `increase-x-height', round\n-   *   up the font's x~height much more often than normally.  If the value\n-   *   is set to~0, which is the default, this feature is switched off.  Use\n+   *   For ppem values in the range 6~<= ppem <= `increase-x-height`, round\n+   *   up the font's x~height much more often than normally.  If the value is\n+   *   set to~0, which is the default, this feature is switched off.  Use\n@@ -1117,1 +1121,8 @@\n-   *   {\n+   * @note:\n+   *   This property can be used with @FT_Property_Get also.\n+   *\n+   *   Set this value right after calling @FT_Set_Char_Size, but before\n+   *   loading any glyph (using the auto-hinter).\n+   *\n+   * @example:\n+   *   ```\n@@ -1132,7 +1143,1 @@\n-   *   }\n-   *\n-   * @note:\n-   *   This property can be used with @FT_Property_Get also.\n-   *\n-   *   Set this value right after calling @FT_Set_Char_Size, but before\n-   *   loading any glyph (using the auto-hinter).\n+   *   ```\n@@ -1169,1 +1174,1 @@\n-   *   *Experimental* *only*\n+   *   **Experimental only**\n@@ -1171,1 +1176,1 @@\n-   *   If FreeType gets compiled with option AF_CONFIG_OPTION_USE_WARPER to\n+   *   If FreeType gets compiled with option `AF_CONFIG_OPTION_USE_WARPER` to\n@@ -1175,6 +1180,6 @@\n-   *   Warping only works in `normal' auto-hinting mode replacing it.\n-   *   The idea of the code is to slightly scale and shift a glyph along\n-   *   the non-hinted dimension (which is usually the horizontal axis) so\n-   *   that as much of its segments are aligned (more or less) to the grid.\n-   *   To find out a glyph's optimal scaling and shifting value, various\n-   *   parameter combinations are tried and scored.\n+   *   Warping only works in 'normal' auto-hinting mode replacing it.  The\n+   *   idea of the code is to slightly scale and shift a glyph along the\n+   *   non-hinted dimension (which is usually the horizontal axis) so that as\n+   *   much of its segments are aligned (more or less) to the grid.  To find\n+   *   out a glyph's optimal scaling and shifting value, various parameter\n+   *   combinations are tried and scored.\n@@ -1182,13 +1187,1 @@\n-   *   By default, warping is off.  The example below shows how to switch on\n-   *   warping (omitting the error handling).\n-   *\n-   *   {\n-   *     FT_Library  library;\n-   *     FT_Bool     warping = 1;\n-   *\n-   *\n-   *     FT_Init_FreeType( &library );\n-   *\n-   *     FT_Property_Set( library, \"autofitter\",\n-   *                               \"warping\", &warping );\n-   *   }\n+   *   By default, warping is off.\n@@ -1199,2 +1192,2 @@\n-   *   This property can be set via the `FREETYPE_PROPERTIES' environment\n-   *   variable (using values 1 and 0 for `on' and `off', respectively).\n+   *   This property can be set via the `FREETYPE_PROPERTIES` environment\n+   *   variable (using values 1 and 0 for 'on' and 'off', respectively).\n@@ -1203,1 +1196,1 @@\n-   *   `lsb_delta' and `rsb_delta' fields in the @FT_GlyphSlotRec structure\n+   *   `lsb_delta` and `rsb_delta` fields in the @FT_GlyphSlotRec structure\n@@ -1208,1 +1201,15 @@\n-   *   reload all faces that get auto-hinted in `normal' hinting mode.\n+   *   reload all faces that get auto-hinted in 'normal' hinting mode.\n+   *\n+   * @example:\n+   *   This example shows how to switch on warping (omitting the error\n+   *   handling).\n+   *\n+   *   ```\n+   *     FT_Library  library;\n+   *     FT_Bool     warping = 1;\n+   *\n+   *\n+   *     FT_Init_FreeType( &library );\n+   *\n+   *     FT_Property_Set( library, \"autofitter\", \"warping\", &warping );\n+   *   ```\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/ftdriver.h","additions":377,"deletions":370,"binary":false,"changes":747,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  fterrdef.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    FreeType error codes (specification).                                *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2002-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * fterrdef.h\n+ *\n+ *   FreeType error codes (specification).\n+ *\n+ * Copyright (C) 2002-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -19,29 +19,28 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Section>                                                             *\/\n-  \/*   error_code_values                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Title>                                                               *\/\n-  \/*   Error Code Values                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Abstract>                                                            *\/\n-  \/*   All possible error codes returned by FreeType functions.            *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*   The list below is taken verbatim from the file `fterrdef.h'         *\/\n-  \/*   (loaded automatically by including `FT_FREETYPE_H').  The first     *\/\n-  \/*   argument of the `FT_ERROR_DEF_' macro is the error label; by        *\/\n-  \/*   default, the prefix `FT_Err_' gets added so that you get error      *\/\n-  \/*   names like `FT_Err_Cannot_Open_Resource'.  The second argument is   *\/\n-  \/*   the error code, and the last argument an error string, which is not *\/\n-  \/*   used by FreeType.                                                   *\/\n-  \/*                                                                       *\/\n-  \/*   Within your application you should *only* use error names and       *\/\n-  \/*   *never* its numeric values!  The latter might (and actually do)     *\/\n-  \/*   change in forthcoming FreeType versions.                            *\/\n-  \/*                                                                       *\/\n-  \/*   Macro `FT_NOERRORDEF_' defines `FT_Err_Ok', which is always zero.   *\/\n-  \/*   See the `Error Enumerations' subsection how to automatically        *\/\n-  \/*   generate a list of error strings.                                   *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *  error_code_values\n+   *\n+   * @title:\n+   *  Error Code Values\n+   *\n+   * @abstract:\n+   *  All possible error codes returned by FreeType functions.\n+   *\n+   * @description:\n+   *  The list below is taken verbatim from the file `fterrdef.h` (loaded\n+   *  automatically by including `FT_FREETYPE_H`).  The first argument of the\n+   *  `FT_ERROR_DEF_` macro is the error label; by default, the prefix\n+   *  `FT_Err_` gets added so that you get error names like\n+   *  `FT_Err_Cannot_Open_Resource`.  The second argument is the error code,\n+   *  and the last argument an error string, which is not used by FreeType.\n+   *\n+   *  Within your application you should **only** use error names and\n+   *  **never** its numeric values!  The latter might (and actually do)\n+   *  change in forthcoming FreeType versions.\n+   *\n+   *  Macro `FT_NOERRORDEF_` defines `FT_Err_Ok`, which is always zero.  See\n+   *  the 'Error Enumerations' subsection how to automatically generate a\n+   *  list of error strings.\n+   *\n+   *\/\n@@ -50,6 +49,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Enum>                                                                *\/\n-  \/*    FT_Err_XXX                                                         *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * @enum:\n+   *   FT_Err_XXX\n+   *\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/fterrdef.h","additions":50,"deletions":51,"binary":false,"changes":101,"status":"modified"},{"patch":"@@ -1,98 +1,106 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  fterrors.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    FreeType error code handling (specification).                        *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Section>                                                             *\/\n-  \/*   error_enumerations                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Title>                                                               *\/\n-  \/*   Error Enumerations                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Abstract>                                                            *\/\n-  \/*   How to handle errors and error strings.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*   The header file `fterrors.h' (which is automatically included by    *\/\n-  \/*   `freetype.h' defines the handling of FreeType's enumeration         *\/\n-  \/*   constants.  It can also be used to generate error message strings   *\/\n-  \/*   with a small macro trick explained below.                           *\/\n-  \/*                                                                       *\/\n-  \/*   *Error* *Formats*                                                   *\/\n-  \/*                                                                       *\/\n-  \/*   The configuration macro FT_CONFIG_OPTION_USE_MODULE_ERRORS can be   *\/\n-  \/*   defined in `ftoption.h' in order to make the higher byte indicate   *\/\n-  \/*   the module where the error has happened (this is not compatible     *\/\n-  \/*   with standard builds of FreeType~2, however).  See the file         *\/\n-  \/*   `ftmoderr.h' for more details.                                      *\/\n-  \/*                                                                       *\/\n-  \/*   *Error* *Message* *Strings*                                         *\/\n-  \/*                                                                       *\/\n-  \/*   Error definitions are set up with special macros that allow client  *\/\n-  \/*   applications to build a table of error message strings.  The        *\/\n-  \/*   strings are not included in a normal build of FreeType~2 to save    *\/\n-  \/*   space (most client applications do not use them).                   *\/\n-  \/*                                                                       *\/\n-  \/*   To do so, you have to define the following macros before including  *\/\n-  \/*   this file.                                                          *\/\n-  \/*                                                                       *\/\n-  \/*   {                                                                   *\/\n-  \/*     FT_ERROR_START_LIST                                               *\/\n-  \/*   }                                                                   *\/\n-  \/*                                                                       *\/\n-  \/*   This macro is called before anything else to define the start of    *\/\n-  \/*   the error list.  It is followed by several FT_ERROR_DEF calls.      *\/\n-  \/*                                                                       *\/\n-  \/*   {                                                                   *\/\n-  \/*     FT_ERROR_DEF( e, v, s )                                           *\/\n-  \/*   }                                                                   *\/\n-  \/*                                                                       *\/\n-  \/*   This macro is called to define one single error.  `e' is the error  *\/\n-  \/*   code identifier (e.g., `Invalid_Argument'), `v' is the error's      *\/\n-  \/*   numerical value, and `s' is the corresponding error string.         *\/\n-  \/*                                                                       *\/\n-  \/*   {                                                                   *\/\n-  \/*     FT_ERROR_END_LIST                                                 *\/\n-  \/*   }                                                                   *\/\n-  \/*                                                                       *\/\n-  \/*   This macro ends the list.                                           *\/\n-  \/*                                                                       *\/\n-  \/*   Additionally, you have to undefine `FTERRORS_H_' before #including  *\/\n-  \/*   this file.                                                          *\/\n-  \/*                                                                       *\/\n-  \/*   Here is a simple example.                                           *\/\n-  \/*                                                                       *\/\n-  \/*   {                                                                   *\/\n-  \/*     #undef FTERRORS_H_                                                *\/\n-  \/*     #define FT_ERRORDEF( e, v, s )  { e, s },                         *\/\n-  \/*     #define FT_ERROR_START_LIST     {                                 *\/\n-  \/*     #define FT_ERROR_END_LIST       { 0, NULL } };                    *\/\n-  \/*                                                                       *\/\n-  \/*     const struct                                                      *\/\n-  \/*     {                                                                 *\/\n-  \/*       int          err_code;                                          *\/\n-  \/*       const char*  err_msg;                                           *\/\n-  \/*     } ft_errors[] =                                                   *\/\n-  \/*                                                                       *\/\n-  \/*     #include FT_ERRORS_H                                              *\/\n-  \/*   }                                                                   *\/\n-  \/*                                                                       *\/\n-  \/*   Note that `FT_Err_Ok' is _not_ defined with `FT_ERRORDEF' but with  *\/\n-  \/*   `FT_NOERRORDEF'; it is always zero.                                 *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * fterrors.h\n+ *\n+ *   FreeType error code handling (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   error_enumerations\n+   *\n+   * @title:\n+   *   Error Enumerations\n+   *\n+   * @abstract:\n+   *   How to handle errors and error strings.\n+   *\n+   * @description:\n+   *   The header file `fterrors.h` (which is automatically included by\n+   *   `freetype.h` defines the handling of FreeType's enumeration\n+   *   constants.  It can also be used to generate error message strings\n+   *   with a small macro trick explained below.\n+   *\n+   *   **Error Formats**\n+   *\n+   *   The configuration macro `FT_CONFIG_OPTION_USE_MODULE_ERRORS` can be\n+   *   defined in `ftoption.h` in order to make the higher byte indicate the\n+   *   module where the error has happened (this is not compatible with\n+   *   standard builds of FreeType~2, however).  See the file `ftmoderr.h`\n+   *   for more details.\n+   *\n+   *   **Error Message Strings**\n+   *\n+   *   Error definitions are set up with special macros that allow client\n+   *   applications to build a table of error message strings.  The strings\n+   *   are not included in a normal build of FreeType~2 to save space (most\n+   *   client applications do not use them).\n+   *\n+   *   To do so, you have to define the following macros before including\n+   *   this file.\n+   *\n+   *   ```\n+   *     FT_ERROR_START_LIST\n+   *   ```\n+   *\n+   *   This macro is called before anything else to define the start of the\n+   *   error list.  It is followed by several `FT_ERROR_DEF` calls.\n+   *\n+   *   ```\n+   *     FT_ERROR_DEF( e, v, s )\n+   *   ```\n+   *\n+   *   This macro is called to define one single error.  'e' is the error\n+   *   code identifier (e.g., `Invalid_Argument`), 'v' is the error's\n+   *   numerical value, and 's' is the corresponding error string.\n+   *\n+   *   ```\n+   *     FT_ERROR_END_LIST\n+   *   ```\n+   *\n+   *   This macro ends the list.\n+   *\n+   *   Additionally, you have to undefine `FTERRORS_H_` before #including\n+   *   this file.\n+   *\n+   *   Here is a simple example.\n+   *\n+   *   ```\n+   *     #undef FTERRORS_H_\n+   *     #define FT_ERRORDEF( e, v, s )  { e, s },\n+   *     #define FT_ERROR_START_LIST     {\n+   *     #define FT_ERROR_END_LIST       { 0, NULL } };\n+   *\n+   *     const struct\n+   *     {\n+   *       int          err_code;\n+   *       const char*  err_msg;\n+   *     } ft_errors[] =\n+   *\n+   *     #include FT_ERRORS_H\n+   *   ```\n+   *\n+   *   An alternative to using an array is a switch statement.\n+   *\n+   *   ```\n+   *     #undef FTERRORS_H_\n+   *     #define FT_ERROR_START_LIST     switch ( error_code ) {\n+   *     #define FT_ERRORDEF( e, v, s )    case v: return s;\n+   *     #define FT_ERROR_END_LIST       }\n+   *   ```\n+   *\n+   *   If you use `FT_CONFIG_OPTION_USE_MODULE_ERRORS`, `error_code` should\n+   *   be replaced with `FT_ERROR_BASE(error_code)` in the last example.\n+   *\/\n@@ -102,1 +110,1 @@\n-  \/* In previous FreeType versions we used `__FTERRORS_H__'.  However, *\/\n+  \/* In previous FreeType versions we used `__FTERRORS_H__`.  However, *\/\n@@ -107,0 +115,1 @@\n+  \/* ```                                                               *\/\n@@ -108,0 +117,1 @@\n+  \/* ```                                                               *\/\n@@ -133,1 +143,1 @@\n-  \/* By default, we use `FT_Err_'.                            *\/\n+  \/* By default, we use `FT_Err_`.                            *\/\n@@ -161,0 +171,2 @@\n+#define FT_INCLUDE_ERR_PROTOS\n+\n@@ -223,0 +235,47 @@\n+  \/* FT_INCLUDE_ERR_PROTOS:  Control if function prototypes should be       *\/\n+  \/*                         included with `#include FT_ERRORS_H'.  This is *\/\n+  \/*                         only true where `FT_ERRORDEF` is undefined.    *\/\n+  \/* FT_ERR_PROTOS_DEFINED:  Actual multiple-inclusion protection of        *\/\n+  \/*                         `fterrors.h`.                                  *\/\n+#ifdef FT_INCLUDE_ERR_PROTOS\n+#undef FT_INCLUDE_ERR_PROTOS\n+\n+#ifndef FT_ERR_PROTOS_DEFINED\n+#define FT_ERR_PROTOS_DEFINED\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Error_String\n+   *\n+   * @description:\n+   *   Retrieve the description of a valid FreeType error code.\n+   *\n+   * @input:\n+   *   error_code ::\n+   *     A valid FreeType error code.\n+   *\n+   * @return:\n+   *   A C~string or `NULL`, if any error occurred.\n+   *\n+   * @note:\n+   *   FreeType has to be compiled with `FT_CONFIG_OPTION_ERROR_STRINGS` or\n+   *   `FT_DEBUG_LEVEL_ERROR` to get meaningful descriptions.\n+   *   'error_string' will be `NULL` otherwise.\n+   *\n+   *   Module identification will be ignored:\n+   *\n+   *   ```c\n+   *     strcmp( FT_Error_String(  FT_Err_Unknown_File_Format ),\n+   *             FT_Error_String( BDF_Err_Unknown_File_Format ) ) == 0;\n+   *   ```\n+   *\/\n+  FT_EXPORT( const char* )\n+  FT_Error_String( FT_Error  error_code );\n+\n+\n+#endif \/* FT_ERR_PROTOS_DEFINED *\/\n+\n+#endif \/* FT_INCLUDE_ERR_PROTOS *\/\n+\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/fterrors.h","additions":159,"deletions":100,"binary":false,"changes":259,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftfntfmt.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    Support functions for font formats.                                  *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2002-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftfntfmt.h\n+ *\n+ *   Support functions for font formats.\n+ *\n+ * Copyright (C) 2002-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -35,43 +35,42 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Section>                                                             *\/\n-  \/*   font_formats                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Title>                                                               *\/\n-  \/*   Font Formats                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Abstract>                                                            *\/\n-  \/*   Getting the font format.                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*   The single function in this section can be used to get the font     *\/\n-  \/*   format.  Note that this information is not needed normally;         *\/\n-  \/*   however, there are special cases (like in PDF devices) where it is  *\/\n-  \/*   important to differentiate, in spite of FreeType's uniform API.     *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*   FT_Get_Font_Format                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*   Return a string describing the format of a given face.  Possible    *\/\n-  \/*   values are `TrueType', `Type~1', `BDF', `PCF', `Type~42',           *\/\n-  \/*   `CID~Type~1', `CFF', `PFR', and `Windows~FNT'.                      *\/\n-  \/*                                                                       *\/\n-  \/*   The return value is suitable to be used as an X11 FONT_PROPERTY.    *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*   face ::                                                             *\/\n-  \/*     Input face handle.                                                *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*   Font format string.  NULL in case of error.                         *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*   A deprecated name for the same function is                          *\/\n-  \/*   `FT_Get_X11_Font_Format'.                                           *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *  font_formats\n+   *\n+   * @title:\n+   *  Font Formats\n+   *\n+   * @abstract:\n+   *  Getting the font format.\n+   *\n+   * @description:\n+   *  The single function in this section can be used to get the font format.\n+   *  Note that this information is not needed normally; however, there are\n+   *  special cases (like in PDF devices) where it is important to\n+   *  differentiate, in spite of FreeType's uniform API.\n+   *\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *  FT_Get_Font_Format\n+   *\n+   * @description:\n+   *  Return a string describing the format of a given face.  Possible values\n+   *  are 'TrueType', 'Type~1', 'BDF', 'PCF', 'Type~42', 'CID~Type~1', 'CFF',\n+   *  'PFR', and 'Windows~FNT'.\n+   *\n+   *  The return value is suitable to be used as an X11 FONT_PROPERTY.\n+   *\n+   * @input:\n+   *  face ::\n+   *    Input face handle.\n+   *\n+   * @return:\n+   *  Font format string.  `NULL` in case of error.\n+   *\n+   * @note:\n+   *  A deprecated name for the same function is `FT_Get_X11_Font_Format`.\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/ftfntfmt.h","additions":58,"deletions":59,"binary":false,"changes":117,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftgasp.h                                                               *\/\n-\/*                                                                         *\/\n-\/*    Access of TrueType's `gasp' table (specification).                   *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2007-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftgasp.h\n+ *\n+ *   Access of TrueType's 'gasp' table (specification).\n+ *\n+ * Copyright (C) 2007-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -32,1 +32,4 @@\n-  \/***************************************************************************\n+FT_BEGIN_HEADER\n+\n+\n+  \/**************************************************************************\n@@ -41,1 +44,1 @@\n-   *   Retrieving TrueType `gasp' table entries.\n+   *   Retrieving TrueType 'gasp' table entries.\n@@ -45,3 +48,3 @@\n-   *   font for specific entries in its `gasp' table, if any.  This is\n-   *   mainly useful when implementing native TrueType hinting with the\n-   *   bytecode interpreter to duplicate the Windows text rendering results.\n+   *   font for specific entries in its 'gasp' table, if any.  This is mainly\n+   *   useful when implementing native TrueType hinting with the bytecode\n+   *   interpreter to duplicate the Windows text rendering results.\n@@ -50,1 +53,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -66,1 +69,1 @@\n-   *     This *really* means TrueType bytecode interpretation.  If this bit\n+   *     This **really** means TrueType bytecode interpretation.  If this bit\n@@ -80,1 +83,1 @@\n-   *   The bit-flags `FT_GASP_DO_GRIDFIT' and `FT_GASP_DO_GRAY' are to be\n+   *   The bit-flags `FT_GASP_DO_GRIDFIT` and `FT_GASP_DO_GRAY` are to be\n@@ -82,3 +85,3 @@\n-   *   `FT_GASP_SYMMETRIC_SMOOTHING' and `FT_GASP_SYMMETRIC_GRIDFIT' are to\n-   *   be used if ClearType is enabled (and `FT_GASP_DO_GRIDFIT' and\n-   *   `FT_GASP_DO_GRAY' are consequently ignored).\n+   *   `FT_GASP_SYMMETRIC_SMOOTHING` and `FT_GASP_SYMMETRIC_GRIDFIT` are to\n+   *   be used if ClearType is enabled (and `FT_GASP_DO_GRIDFIT` and\n+   *   `FT_GASP_DO_GRAY` are consequently ignored).\n@@ -86,1 +89,1 @@\n-   *   `ClearType' is Microsoft's implementation of LCD rendering, partly\n+   *   'ClearType' is Microsoft's implementation of LCD rendering, partly\n@@ -99,1 +102,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -101,1 +104,1 @@\n-   * @func:\n+   * @function:\n@@ -106,2 +109,2 @@\n-   *   flags from the font's `gasp' table corresponding to a given\n-   *   character pixel size.\n+   *   flags from the font's 'gasp' table corresponding to a given character\n+   *   pixel size.\n@@ -110,1 +113,2 @@\n-   *   face :: The source face handle.\n+   *   face ::\n+   *     The source face handle.\n@@ -112,1 +116,2 @@\n-   *   ppem :: The vertical character pixel size.\n+   *   ppem ::\n+   *     The vertical character pixel size.\n@@ -116,1 +121,1 @@\n-   *   `gasp' table in the face.\n+   *   'gasp' table in the face.\n@@ -121,1 +126,1 @@\n-   *   function *after* setting an instance since the return values can\n+   *   function **after** setting an instance since the return values can\n@@ -134,0 +139,2 @@\n+FT_END_HEADER\n+\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/ftgasp.h","additions":43,"deletions":36,"binary":false,"changes":79,"status":"modified"},{"patch":"@@ -1,29 +1,29 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftglyph.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    FreeType convenience functions to handle glyphs (specification).     *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* This file contains the definition of several convenience functions    *\/\n-  \/* that can be used by client applications to easily retrieve glyph      *\/\n-  \/* bitmaps and outlines from a given face.                               *\/\n-  \/*                                                                       *\/\n-  \/* These functions should be optional if you are writing a font server   *\/\n-  \/* or text layout engine on top of FreeType.  However, they are pretty   *\/\n-  \/* handy for many other simple uses of the library.                      *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftglyph.h\n+ *\n+ *   FreeType convenience functions to handle glyphs (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * This file contains the definition of several convenience functions that\n+   * can be used by client applications to easily retrieve glyph bitmaps and\n+   * outlines from a given face.\n+   *\n+   * These functions should be optional if you are writing a font server or\n+   * text layout engine on top of FreeType.  However, they are pretty handy\n+   * for many other simple uses of the library.\n+   *\n+   *\/\n@@ -49,17 +49,18 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Section>                                                             *\/\n-  \/*    glyph_management                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Title>                                                               *\/\n-  \/*    Glyph Management                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Abstract>                                                            *\/\n-  \/*    Generic interface to manage individual glyph data.                 *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This section contains definitions used to manage glyph data        *\/\n-  \/*    through generic FT_Glyph objects.  Each of them can contain a      *\/\n-  \/*    bitmap, a vector outline, or even images in other formats.         *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   glyph_management\n+   *\n+   * @title:\n+   *   Glyph Management\n+   *\n+   * @abstract:\n+   *   Generic interface to manage individual glyph data.\n+   *\n+   * @description:\n+   *   This section contains definitions used to manage glyph data through\n+   *   generic @FT_Glyph objects.  Each of them can contain a bitmap,\n+   *   a vector outline, or even images in other formats.  These objects are\n+   *   detached from @FT_Face, contrary to @FT_GlyphSlot.\n+   *\n+   *\/\n@@ -72,15 +73,15 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_Glyph                                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Handle to an object used to model generic glyph images.  It is a   *\/\n-  \/*    pointer to the @FT_GlyphRec structure and can contain a glyph      *\/\n-  \/*    bitmap or pointer.                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    Glyph objects are not owned by the library.  You must thus release *\/\n-  \/*    them manually (through @FT_Done_Glyph) _before_ calling            *\/\n-  \/*    @FT_Done_FreeType.                                                 *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_Glyph\n+   *\n+   * @description:\n+   *   Handle to an object used to model generic glyph images.  It is a\n+   *   pointer to the @FT_GlyphRec structure and can contain a glyph bitmap\n+   *   or pointer.\n+   *\n+   * @note:\n+   *   Glyph objects are not owned by the library.  You must thus release\n+   *   them manually (through @FT_Done_Glyph) _before_ calling\n+   *   @FT_Done_FreeType.\n+   *\/\n@@ -90,18 +91,22 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_GlyphRec                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    The root glyph structure contains a given glyph image plus its     *\/\n-  \/*    advance width in 16.16 fixed-point format.                         *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    library :: A handle to the FreeType library object.                *\/\n-  \/*                                                                       *\/\n-  \/*    clazz   :: A pointer to the glyph's class.  Private.               *\/\n-  \/*                                                                       *\/\n-  \/*    format  :: The format of the glyph's image.                        *\/\n-  \/*                                                                       *\/\n-  \/*    advance :: A 16.16 vector that gives the glyph's advance width.    *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_GlyphRec\n+   *\n+   * @description:\n+   *   The root glyph structure contains a given glyph image plus its advance\n+   *   width in 16.16 fixed-point format.\n+   *\n+   * @fields:\n+   *   library ::\n+   *     A handle to the FreeType library object.\n+   *\n+   *   clazz ::\n+   *     A pointer to the glyph's class.  Private.\n+   *\n+   *   format ::\n+   *     The format of the glyph's image.\n+   *\n+   *   advance ::\n+   *     A 16.16 vector that gives the glyph's advance width.\n+   *\/\n@@ -118,9 +123,9 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_BitmapGlyph                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A handle to an object used to model a bitmap glyph image.  This is *\/\n-  \/*    a sub-class of @FT_Glyph, and a pointer to @FT_BitmapGlyphRec.     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_BitmapGlyph\n+   *\n+   * @description:\n+   *   A handle to an object used to model a bitmap glyph image.  This is a\n+   *   sub-class of @FT_Glyph, and a pointer to @FT_BitmapGlyphRec.\n+   *\/\n@@ -130,30 +135,33 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_BitmapGlyphRec                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure used for bitmap glyph images.  This really is a        *\/\n-  \/*    `sub-class' of @FT_GlyphRec.                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    root   :: The root @FT_Glyph fields.                               *\/\n-  \/*                                                                       *\/\n-  \/*    left   :: The left-side bearing, i.e., the horizontal distance     *\/\n-  \/*              from the current pen position to the left border of the  *\/\n-  \/*              glyph bitmap.                                            *\/\n-  \/*                                                                       *\/\n-  \/*    top    :: The top-side bearing, i.e., the vertical distance from   *\/\n-  \/*              the current pen position to the top border of the glyph  *\/\n-  \/*              bitmap.  This distance is positive for upwards~y!        *\/\n-  \/*                                                                       *\/\n-  \/*    bitmap :: A descriptor for the bitmap.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    You can typecast an @FT_Glyph to @FT_BitmapGlyph if you have       *\/\n-  \/*    `glyph->format == FT_GLYPH_FORMAT_BITMAP'.  This lets you access   *\/\n-  \/*    the bitmap's contents easily.                                      *\/\n-  \/*                                                                       *\/\n-  \/*    The corresponding pixel buffer is always owned by @FT_BitmapGlyph  *\/\n-  \/*    and is thus created and destroyed with it.                         *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_BitmapGlyphRec\n+   *\n+   * @description:\n+   *   A structure used for bitmap glyph images.  This really is a\n+   *   'sub-class' of @FT_GlyphRec.\n+   *\n+   * @fields:\n+   *   root ::\n+   *     The root @FT_Glyph fields.\n+   *\n+   *   left ::\n+   *     The left-side bearing, i.e., the horizontal distance from the\n+   *     current pen position to the left border of the glyph bitmap.\n+   *\n+   *   top ::\n+   *     The top-side bearing, i.e., the vertical distance from the current\n+   *     pen position to the top border of the glyph bitmap.  This distance\n+   *     is positive for upwards~y!\n+   *\n+   *   bitmap ::\n+   *     A descriptor for the bitmap.\n+   *\n+   * @note:\n+   *   You can typecast an @FT_Glyph to @FT_BitmapGlyph if you have\n+   *   `glyph->format == FT_GLYPH_FORMAT_BITMAP`.  This lets you access the\n+   *   bitmap's contents easily.\n+   *\n+   *   The corresponding pixel buffer is always owned by @FT_BitmapGlyph and\n+   *   is thus created and destroyed with it.\n+   *\/\n@@ -170,9 +178,9 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_OutlineGlyph                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A handle to an object used to model an outline glyph image.  This  *\/\n-  \/*    is a sub-class of @FT_Glyph, and a pointer to @FT_OutlineGlyphRec. *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_OutlineGlyph\n+   *\n+   * @description:\n+   *   A handle to an object used to model an outline glyph image.  This is a\n+   *   sub-class of @FT_Glyph, and a pointer to @FT_OutlineGlyphRec.\n+   *\/\n@@ -182,26 +190,28 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_OutlineGlyphRec                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure used for outline (vectorial) glyph images.  This       *\/\n-  \/*    really is a `sub-class' of @FT_GlyphRec.                           *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    root    :: The root @FT_Glyph fields.                              *\/\n-  \/*                                                                       *\/\n-  \/*    outline :: A descriptor for the outline.                           *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    You can typecast an @FT_Glyph to @FT_OutlineGlyph if you have      *\/\n-  \/*    `glyph->format == FT_GLYPH_FORMAT_OUTLINE'.  This lets you access  *\/\n-  \/*    the outline's content easily.                                      *\/\n-  \/*                                                                       *\/\n-  \/*    As the outline is extracted from a glyph slot, its coordinates are *\/\n-  \/*    expressed normally in 26.6 pixels, unless the flag                 *\/\n-  \/*    @FT_LOAD_NO_SCALE was used in @FT_Load_Glyph() or @FT_Load_Char(). *\/\n-  \/*                                                                       *\/\n-  \/*    The outline's tables are always owned by the object and are        *\/\n-  \/*    destroyed with it.                                                 *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_OutlineGlyphRec\n+   *\n+   * @description:\n+   *   A structure used for outline (vectorial) glyph images.  This really is\n+   *   a 'sub-class' of @FT_GlyphRec.\n+   *\n+   * @fields:\n+   *   root ::\n+   *     The root @FT_Glyph fields.\n+   *\n+   *   outline ::\n+   *     A descriptor for the outline.\n+   *\n+   * @note:\n+   *   You can typecast an @FT_Glyph to @FT_OutlineGlyph if you have\n+   *   `glyph->format == FT_GLYPH_FORMAT_OUTLINE`.  This lets you access the\n+   *   outline's content easily.\n+   *\n+   *   As the outline is extracted from a glyph slot, its coordinates are\n+   *   expressed normally in 26.6 pixels, unless the flag @FT_LOAD_NO_SCALE\n+   *   was used in @FT_Load_Glyph() or @FT_Load_Char().\n+   *\n+   *   The outline's tables are always owned by the object and are destroyed\n+   *   with it.\n+   *\/\n@@ -216,24 +226,57 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Get_Glyph                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A function used to extract a glyph image from a slot.  Note that   *\/\n-  \/*    the created @FT_Glyph object must be released with @FT_Done_Glyph. *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    slot   :: A handle to the source glyph slot.                       *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    aglyph :: A handle to the glyph object.                            *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    Because `*aglyph->advance.x' and '*aglyph->advance.y' are 16.16    *\/\n-  \/*    fixed-point numbers, `slot->advance.x' and `slot->advance.y'       *\/\n-  \/*    (which are in 26.6 fixed-point format) must be in the range        *\/\n-  \/*    ]-32768;32768[.                                                    *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_New_Glyph\n+   *\n+   * @description:\n+   *   A function used to create a new empty glyph image.  Note that the\n+   *   created @FT_Glyph object must be released with @FT_Done_Glyph.\n+   *\n+   * @input:\n+   *   library ::\n+   *     A handle to the FreeType library object.\n+   *\n+   *   format ::\n+   *     The format of the glyph's image.\n+   *\n+   * @output:\n+   *   aglyph ::\n+   *     A handle to the glyph object.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @since:\n+   *   2.10\n+   *\/\n+  FT_EXPORT( FT_Error )\n+  FT_New_Glyph( FT_Library       library,\n+                FT_Glyph_Format  format,\n+                FT_Glyph         *aglyph );\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Get_Glyph\n+   *\n+   * @description:\n+   *   A function used to extract a glyph image from a slot.  Note that the\n+   *   created @FT_Glyph object must be released with @FT_Done_Glyph.\n+   *\n+   * @input:\n+   *   slot ::\n+   *     A handle to the source glyph slot.\n+   *\n+   * @output:\n+   *   aglyph ::\n+   *     A handle to the glyph object.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   Because `*aglyph->advance.x` and `*aglyph->advance.y` are 16.16\n+   *   fixed-point numbers, `slot->advance.x` and `slot->advance.y` (which\n+   *   are in 26.6 fixed-point format) must be in the range ]-32768;32768[.\n+   *\/\n@@ -245,19 +288,20 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Glyph_Copy                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A function used to copy a glyph image.  Note that the created      *\/\n-  \/*    @FT_Glyph object must be released with @FT_Done_Glyph.             *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    source :: A handle to the source glyph object.                     *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    target :: A handle to the target glyph object.  0~in case of       *\/\n-  \/*              error.                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Glyph_Copy\n+   *\n+   * @description:\n+   *   A function used to copy a glyph image.  Note that the created\n+   *   @FT_Glyph object must be released with @FT_Done_Glyph.\n+   *\n+   * @input:\n+   *   source ::\n+   *     A handle to the source glyph object.\n+   *\n+   * @output:\n+   *   target ::\n+   *     A handle to the target glyph object.  0~in case of error.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\/\n@@ -269,24 +313,27 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Glyph_Transform                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Transform a glyph image if its format is scalable.                 *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    glyph  :: A handle to the target glyph object.                     *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    matrix :: A pointer to a 2x2 matrix to apply.                      *\/\n-  \/*                                                                       *\/\n-  \/*    delta  :: A pointer to a 2d vector to apply.  Coordinates are      *\/\n-  \/*              expressed in 1\/64th of a pixel.                          *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code (if not 0, the glyph format is not scalable).  *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The 2x2 transformation matrix is also applied to the glyph's       *\/\n-  \/*    advance vector.                                                    *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Glyph_Transform\n+   *\n+   * @description:\n+   *   Transform a glyph image if its format is scalable.\n+   *\n+   * @inout:\n+   *   glyph ::\n+   *     A handle to the target glyph object.\n+   *\n+   * @input:\n+   *   matrix ::\n+   *     A pointer to a 2x2 matrix to apply.\n+   *\n+   *   delta ::\n+   *     A pointer to a 2d vector to apply.  Coordinates are expressed in\n+   *     1\/64th of a pixel.\n+   *\n+   * @return:\n+   *   FreeType error code (if not 0, the glyph format is not scalable).\n+   *\n+   * @note:\n+   *   The 2x2 transformation matrix is also applied to the glyph's advance\n+   *   vector.\n+   *\/\n@@ -299,24 +346,24 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Enum>                                                                *\/\n-  \/*    FT_Glyph_BBox_Mode                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    The mode how the values of @FT_Glyph_Get_CBox are returned.        *\/\n-  \/*                                                                       *\/\n-  \/* <Values>                                                              *\/\n-  \/*    FT_GLYPH_BBOX_UNSCALED ::                                          *\/\n-  \/*      Return unscaled font units.                                      *\/\n-  \/*                                                                       *\/\n-  \/*    FT_GLYPH_BBOX_SUBPIXELS ::                                         *\/\n-  \/*      Return unfitted 26.6 coordinates.                                *\/\n-  \/*                                                                       *\/\n-  \/*    FT_GLYPH_BBOX_GRIDFIT ::                                           *\/\n-  \/*      Return grid-fitted 26.6 coordinates.                             *\/\n-  \/*                                                                       *\/\n-  \/*    FT_GLYPH_BBOX_TRUNCATE ::                                          *\/\n-  \/*      Return coordinates in integer pixels.                            *\/\n-  \/*                                                                       *\/\n-  \/*    FT_GLYPH_BBOX_PIXELS ::                                            *\/\n-  \/*      Return grid-fitted pixel coordinates.                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @enum:\n+   *   FT_Glyph_BBox_Mode\n+   *\n+   * @description:\n+   *   The mode how the values of @FT_Glyph_Get_CBox are returned.\n+   *\n+   * @values:\n+   *   FT_GLYPH_BBOX_UNSCALED ::\n+   *     Return unscaled font units.\n+   *\n+   *   FT_GLYPH_BBOX_SUBPIXELS ::\n+   *     Return unfitted 26.6 coordinates.\n+   *\n+   *   FT_GLYPH_BBOX_GRIDFIT ::\n+   *     Return grid-fitted 26.6 coordinates.\n+   *\n+   *   FT_GLYPH_BBOX_TRUNCATE ::\n+   *     Return coordinates in integer pixels.\n+   *\n+   *   FT_GLYPH_BBOX_PIXELS ::\n+   *     Return grid-fitted pixel coordinates.\n+   *\/\n@@ -335,1 +382,1 @@\n-  \/* `FT_Glyph_BBox_Mode' values instead                   *\/\n+  \/* `FT_Glyph_BBox_Mode` values instead                   *\/\n@@ -343,69 +390,72 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Glyph_Get_CBox                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Return a glyph's `control box'.  The control box encloses all the  *\/\n-  \/*    outline's points, including Bezier control points.  Though it      *\/\n-  \/*    coincides with the exact bounding box for most glyphs, it can be   *\/\n-  \/*    slightly larger in some situations (like when rotating an outline  *\/\n-  \/*    that contains Bezier outside arcs).                                *\/\n-  \/*                                                                       *\/\n-  \/*    Computing the control box is very fast, while getting the bounding *\/\n-  \/*    box can take much more time as it needs to walk over all segments  *\/\n-  \/*    and arcs in the outline.  To get the latter, you can use the       *\/\n-  \/*    `ftbbox' component, which is dedicated to this single task.        *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    glyph :: A handle to the source glyph object.                      *\/\n-  \/*                                                                       *\/\n-  \/*    mode  :: The mode that indicates how to interpret the returned     *\/\n-  \/*             bounding box values.                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    acbox :: The glyph coordinate bounding box.  Coordinates are       *\/\n-  \/*             expressed in 1\/64th of pixels if it is grid-fitted.       *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    Coordinates are relative to the glyph origin, using the y~upwards  *\/\n-  \/*    convention.                                                        *\/\n-  \/*                                                                       *\/\n-  \/*    If the glyph has been loaded with @FT_LOAD_NO_SCALE, `bbox_mode'   *\/\n-  \/*    must be set to @FT_GLYPH_BBOX_UNSCALED to get unscaled font        *\/\n-  \/*    units in 26.6 pixel format.  The value @FT_GLYPH_BBOX_SUBPIXELS    *\/\n-  \/*    is another name for this constant.                                 *\/\n-  \/*                                                                       *\/\n-  \/*    If the font is tricky and the glyph has been loaded with           *\/\n-  \/*    @FT_LOAD_NO_SCALE, the resulting CBox is meaningless.  To get      *\/\n-  \/*    reasonable values for the CBox it is necessary to load the glyph   *\/\n-  \/*    at a large ppem value (so that the hinting instructions can        *\/\n-  \/*    properly shift and scale the subglyphs), then extracting the CBox, *\/\n-  \/*    which can be eventually converted back to font units.              *\/\n-  \/*                                                                       *\/\n-  \/*    Note that the maximum coordinates are exclusive, which means that  *\/\n-  \/*    one can compute the width and height of the glyph image (be it in  *\/\n-  \/*    integer or 26.6 pixels) as:                                        *\/\n-  \/*                                                                       *\/\n-  \/*    {                                                                  *\/\n-  \/*      width  = bbox.xMax - bbox.xMin;                                  *\/\n-  \/*      height = bbox.yMax - bbox.yMin;                                  *\/\n-  \/*    }                                                                  *\/\n-  \/*                                                                       *\/\n-  \/*    Note also that for 26.6 coordinates, if `bbox_mode' is set to      *\/\n-  \/*    @FT_GLYPH_BBOX_GRIDFIT, the coordinates will also be grid-fitted,  *\/\n-  \/*    which corresponds to:                                              *\/\n-  \/*                                                                       *\/\n-  \/*    {                                                                  *\/\n-  \/*      bbox.xMin = FLOOR(bbox.xMin);                                    *\/\n-  \/*      bbox.yMin = FLOOR(bbox.yMin);                                    *\/\n-  \/*      bbox.xMax = CEILING(bbox.xMax);                                  *\/\n-  \/*      bbox.yMax = CEILING(bbox.yMax);                                  *\/\n-  \/*    }                                                                  *\/\n-  \/*                                                                       *\/\n-  \/*    To get the bbox in pixel coordinates, set `bbox_mode' to           *\/\n-  \/*    @FT_GLYPH_BBOX_TRUNCATE.                                           *\/\n-  \/*                                                                       *\/\n-  \/*    To get the bbox in grid-fitted pixel coordinates, set `bbox_mode'  *\/\n-  \/*    to @FT_GLYPH_BBOX_PIXELS.                                          *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Glyph_Get_CBox\n+   *\n+   * @description:\n+   *   Return a glyph's 'control box'.  The control box encloses all the\n+   *   outline's points, including Bezier control points.  Though it\n+   *   coincides with the exact bounding box for most glyphs, it can be\n+   *   slightly larger in some situations (like when rotating an outline that\n+   *   contains Bezier outside arcs).\n+   *\n+   *   Computing the control box is very fast, while getting the bounding box\n+   *   can take much more time as it needs to walk over all segments and arcs\n+   *   in the outline.  To get the latter, you can use the 'ftbbox'\n+   *   component, which is dedicated to this single task.\n+   *\n+   * @input:\n+   *   glyph ::\n+   *     A handle to the source glyph object.\n+   *\n+   *   mode ::\n+   *     The mode that indicates how to interpret the returned bounding box\n+   *     values.\n+   *\n+   * @output:\n+   *   acbox ::\n+   *     The glyph coordinate bounding box.  Coordinates are expressed in\n+   *     1\/64th of pixels if it is grid-fitted.\n+   *\n+   * @note:\n+   *   Coordinates are relative to the glyph origin, using the y~upwards\n+   *   convention.\n+   *\n+   *   If the glyph has been loaded with @FT_LOAD_NO_SCALE, `bbox_mode` must\n+   *   be set to @FT_GLYPH_BBOX_UNSCALED to get unscaled font units in 26.6\n+   *   pixel format.  The value @FT_GLYPH_BBOX_SUBPIXELS is another name for\n+   *   this constant.\n+   *\n+   *   If the font is tricky and the glyph has been loaded with\n+   *   @FT_LOAD_NO_SCALE, the resulting CBox is meaningless.  To get\n+   *   reasonable values for the CBox it is necessary to load the glyph at a\n+   *   large ppem value (so that the hinting instructions can properly shift\n+   *   and scale the subglyphs), then extracting the CBox, which can be\n+   *   eventually converted back to font units.\n+   *\n+   *   Note that the maximum coordinates are exclusive, which means that one\n+   *   can compute the width and height of the glyph image (be it in integer\n+   *   or 26.6 pixels) as:\n+   *\n+   *   ```\n+   *     width  = bbox.xMax - bbox.xMin;\n+   *     height = bbox.yMax - bbox.yMin;\n+   *   ```\n+   *\n+   *   Note also that for 26.6 coordinates, if `bbox_mode` is set to\n+   *   @FT_GLYPH_BBOX_GRIDFIT, the coordinates will also be grid-fitted,\n+   *   which corresponds to:\n+   *\n+   *   ```\n+   *     bbox.xMin = FLOOR(bbox.xMin);\n+   *     bbox.yMin = FLOOR(bbox.yMin);\n+   *     bbox.xMax = CEILING(bbox.xMax);\n+   *     bbox.yMax = CEILING(bbox.yMax);\n+   *   ```\n+   *\n+   *   To get the bbox in pixel coordinates, set `bbox_mode` to\n+   *   @FT_GLYPH_BBOX_TRUNCATE.\n+   *\n+   *   To get the bbox in grid-fitted pixel coordinates, set `bbox_mode` to\n+   *   @FT_GLYPH_BBOX_PIXELS.\n+   *\/\n@@ -418,106 +468,104 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Glyph_To_Bitmap                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Convert a given glyph object to a bitmap glyph object.             *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    the_glyph   :: A pointer to a handle to the target glyph.          *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    render_mode :: An enumeration that describes how the data is       *\/\n-  \/*                   rendered.                                           *\/\n-  \/*                                                                       *\/\n-  \/*    origin      :: A pointer to a vector used to translate the glyph   *\/\n-  \/*                   image before rendering.  Can be~0 (if no            *\/\n-  \/*                   translation).  The origin is expressed in           *\/\n-  \/*                   26.6 pixels.                                        *\/\n-  \/*                                                                       *\/\n-  \/*    destroy     :: A boolean that indicates that the original glyph    *\/\n-  \/*                   image should be destroyed by this function.  It is  *\/\n-  \/*                   never destroyed in case of error.                   *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    This function does nothing if the glyph format isn't scalable.     *\/\n-  \/*                                                                       *\/\n-  \/*    The glyph image is translated with the `origin' vector before      *\/\n-  \/*    rendering.                                                         *\/\n-  \/*                                                                       *\/\n-  \/*    The first parameter is a pointer to an @FT_Glyph handle, that will *\/\n-  \/*    be _replaced_ by this function (with newly allocated data).        *\/\n-  \/*    Typically, you would use (omitting error handling):                *\/\n-  \/*                                                                       *\/\n-  \/*                                                                       *\/\n-  \/*      {                                                                *\/\n-  \/*        FT_Glyph        glyph;                                         *\/\n-  \/*        FT_BitmapGlyph  glyph_bitmap;                                  *\/\n-  \/*                                                                       *\/\n-  \/*                                                                       *\/\n-  \/*        \/\/ load glyph                                                  *\/\n-  \/*        error = FT_Load_Char( face, glyph_index, FT_LOAD_DEFAULT );    *\/\n-  \/*                                                                       *\/\n-  \/*        \/\/ extract glyph image                                         *\/\n-  \/*        error = FT_Get_Glyph( face->glyph, &glyph );                   *\/\n-  \/*                                                                       *\/\n-  \/*        \/\/ convert to a bitmap (default render mode + destroying old)  *\/\n-  \/*        if ( glyph->format != FT_GLYPH_FORMAT_BITMAP )                 *\/\n-  \/*        {                                                              *\/\n-  \/*          error = FT_Glyph_To_Bitmap( &glyph, FT_RENDER_MODE_NORMAL,   *\/\n-  \/*                                      0, 1 );                          *\/\n-  \/*          if ( error ) \/\/ `glyph' unchanged                            *\/\n-  \/*            ...                                                        *\/\n-  \/*        }                                                              *\/\n-  \/*                                                                       *\/\n-  \/*        \/\/ access bitmap content by typecasting                        *\/\n-  \/*        glyph_bitmap = (FT_BitmapGlyph)glyph;                          *\/\n-  \/*                                                                       *\/\n-  \/*        \/\/ do funny stuff with it, like blitting\/drawing               *\/\n-  \/*        ...                                                            *\/\n-  \/*                                                                       *\/\n-  \/*        \/\/ discard glyph image (bitmap or not)                         *\/\n-  \/*        FT_Done_Glyph( glyph );                                        *\/\n-  \/*      }                                                                *\/\n-  \/*                                                                       *\/\n-  \/*                                                                       *\/\n-  \/*    Here another example, again without error handling:                *\/\n-  \/*                                                                       *\/\n-  \/*                                                                       *\/\n-  \/*      {                                                                *\/\n-  \/*        FT_Glyph  glyphs[MAX_GLYPHS]                                   *\/\n-  \/*                                                                       *\/\n-  \/*                                                                       *\/\n-  \/*        ...                                                            *\/\n-  \/*                                                                       *\/\n-  \/*        for ( idx = 0; i < MAX_GLYPHS; i++ )                           *\/\n-  \/*          error = FT_Load_Glyph( face, idx, FT_LOAD_DEFAULT ) ||       *\/\n-  \/*                  FT_Get_Glyph ( face->glyph, &glyph[idx] );           *\/\n-  \/*                                                                       *\/\n-  \/*        ...                                                            *\/\n-  \/*                                                                       *\/\n-  \/*        for ( idx = 0; i < MAX_GLYPHS; i++ )                           *\/\n-  \/*        {                                                              *\/\n-  \/*          FT_Glyph  bitmap = glyphs[idx];                              *\/\n-  \/*                                                                       *\/\n-  \/*                                                                       *\/\n-  \/*          ...                                                          *\/\n-  \/*                                                                       *\/\n-  \/*          \/\/ after this call, `bitmap' no longer points into           *\/\n-  \/*          \/\/ the `glyphs' array (and the old value isn't destroyed)    *\/\n-  \/*          FT_Glyph_To_Bitmap( &bitmap, FT_RENDER_MODE_MONO, 0, 0 );    *\/\n-  \/*                                                                       *\/\n-  \/*          ...                                                          *\/\n-  \/*                                                                       *\/\n-  \/*          FT_Done_Glyph( bitmap );                                     *\/\n-  \/*        }                                                              *\/\n-  \/*                                                                       *\/\n-  \/*        ...                                                            *\/\n-  \/*                                                                       *\/\n-  \/*        for ( idx = 0; i < MAX_GLYPHS; i++ )                           *\/\n-  \/*          FT_Done_Glyph( glyphs[idx] );                                *\/\n-  \/*      }                                                                *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Glyph_To_Bitmap\n+   *\n+   * @description:\n+   *   Convert a given glyph object to a bitmap glyph object.\n+   *\n+   * @inout:\n+   *   the_glyph ::\n+   *     A pointer to a handle to the target glyph.\n+   *\n+   * @input:\n+   *   render_mode ::\n+   *     An enumeration that describes how the data is rendered.\n+   *\n+   *   origin ::\n+   *     A pointer to a vector used to translate the glyph image before\n+   *     rendering.  Can be~0 (if no translation).  The origin is expressed\n+   *     in 26.6 pixels.\n+   *\n+   *   destroy ::\n+   *     A boolean that indicates that the original glyph image should be\n+   *     destroyed by this function.  It is never destroyed in case of error.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   This function does nothing if the glyph format isn't scalable.\n+   *\n+   *   The glyph image is translated with the `origin` vector before\n+   *   rendering.\n+   *\n+   *   The first parameter is a pointer to an @FT_Glyph handle, that will be\n+   *   _replaced_ by this function (with newly allocated data).  Typically,\n+   *   you would use (omitting error handling):\n+   *\n+   *   ```\n+   *     FT_Glyph        glyph;\n+   *     FT_BitmapGlyph  glyph_bitmap;\n+   *\n+   *\n+   *     \/\/ load glyph\n+   *     error = FT_Load_Char( face, glyph_index, FT_LOAD_DEFAULT );\n+   *\n+   *     \/\/ extract glyph image\n+   *     error = FT_Get_Glyph( face->glyph, &glyph );\n+   *\n+   *     \/\/ convert to a bitmap (default render mode + destroying old)\n+   *     if ( glyph->format != FT_GLYPH_FORMAT_BITMAP )\n+   *     {\n+   *       error = FT_Glyph_To_Bitmap( &glyph, FT_RENDER_MODE_NORMAL,\n+   *                                     0, 1 );\n+   *       if ( error ) \/\/ `glyph' unchanged\n+   *         ...\n+   *     }\n+   *\n+   *     \/\/ access bitmap content by typecasting\n+   *     glyph_bitmap = (FT_BitmapGlyph)glyph;\n+   *\n+   *     \/\/ do funny stuff with it, like blitting\/drawing\n+   *     ...\n+   *\n+   *     \/\/ discard glyph image (bitmap or not)\n+   *     FT_Done_Glyph( glyph );\n+   *   ```\n+   *\n+   *   Here is another example, again without error handling:\n+   *\n+   *   ```\n+   *     FT_Glyph  glyphs[MAX_GLYPHS]\n+   *\n+   *\n+   *     ...\n+   *\n+   *     for ( idx = 0; i < MAX_GLYPHS; i++ )\n+   *       error = FT_Load_Glyph( face, idx, FT_LOAD_DEFAULT ) ||\n+   *               FT_Get_Glyph ( face->glyph, &glyphs[idx] );\n+   *\n+   *     ...\n+   *\n+   *     for ( idx = 0; i < MAX_GLYPHS; i++ )\n+   *     {\n+   *       FT_Glyph  bitmap = glyphs[idx];\n+   *\n+   *\n+   *       ...\n+   *\n+   *       \/\/ after this call, `bitmap' no longer points into\n+   *       \/\/ the `glyphs' array (and the old value isn't destroyed)\n+   *       FT_Glyph_To_Bitmap( &bitmap, FT_RENDER_MODE_MONO, 0, 0 );\n+   *\n+   *       ...\n+   *\n+   *       FT_Done_Glyph( bitmap );\n+   *     }\n+   *\n+   *     ...\n+   *\n+   *     for ( idx = 0; i < MAX_GLYPHS; i++ )\n+   *       FT_Done_Glyph( glyphs[idx] );\n+   *   ```\n+   *\/\n@@ -531,11 +579,12 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Done_Glyph                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Destroy a given glyph.                                             *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    glyph :: A handle to the target glyph object.                      *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Done_Glyph\n+   *\n+   * @description:\n+   *   Destroy a given glyph.\n+   *\n+   * @input:\n+   *   glyph ::\n+   *     A handle to the target glyph object.\n+   *\/\n@@ -550,28 +599,30 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Section>                                                             *\/\n-  \/*    computations                                                       *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Matrix_Multiply                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Perform the matrix operation `b = a*b'.                            *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    a :: A pointer to matrix `a'.                                      *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    b :: A pointer to matrix `b'.                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The result is undefined if either `a' or `b' is zero.              *\/\n-  \/*                                                                       *\/\n-  \/*    Since the function uses wrap-around arithmetic, results become     *\/\n-  \/*    meaningless if the arguments are very large.                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   computations\n+   *\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Matrix_Multiply\n+   *\n+   * @description:\n+   *   Perform the matrix operation `b = a*b`.\n+   *\n+   * @input:\n+   *   a ::\n+   *     A pointer to matrix `a`.\n+   *\n+   * @inout:\n+   *   b ::\n+   *     A pointer to matrix `b`.\n+   *\n+   * @note:\n+   *   The result is undefined if either `a` or `b` is zero.\n+   *\n+   *   Since the function uses wrap-around arithmetic, results become\n+   *   meaningless if the arguments are very large.\n+   *\/\n@@ -583,15 +634,15 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Matrix_Invert                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Invert a 2x2 matrix.  Return an error if it can't be inverted.     *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    matrix :: A pointer to the target matrix.  Remains untouched in    *\/\n-  \/*              case of error.                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Matrix_Invert\n+   *\n+   * @description:\n+   *   Invert a 2x2 matrix.  Return an error if it can't be inverted.\n+   *\n+   * @inout:\n+   *   matrix ::\n+   *     A pointer to the target matrix.  Remains untouched in case of error.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/ftglyph.h","additions":525,"deletions":474,"binary":false,"changes":999,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftgzip.h                                                               *\/\n-\/*                                                                         *\/\n-\/*    Gzip-compressed stream support.                                      *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2002-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftgzip.h\n+ *\n+ *   Gzip-compressed stream support.\n+ *\n+ * Copyright (C) 2002-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -34,56 +34,56 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Section>                                                             *\/\n-  \/*    gzip                                                               *\/\n-  \/*                                                                       *\/\n-  \/* <Title>                                                               *\/\n-  \/*    GZIP Streams                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Abstract>                                                            *\/\n-  \/*    Using gzip-compressed font files.                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This section contains the declaration of Gzip-specific functions.  *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n-\n-\n- \/************************************************************************\n-  *\n-  * @function:\n-  *   FT_Stream_OpenGzip\n-  *\n-  * @description:\n-  *   Open a new stream to parse gzip-compressed font files.  This is\n-  *   mainly used to support the compressed `*.pcf.gz' fonts that come\n-  *   with XFree86.\n-  *\n-  * @input:\n-  *   stream ::\n-  *     The target embedding stream.\n-  *\n-  *   source ::\n-  *     The source stream.\n-  *\n-  * @return:\n-  *   FreeType error code.  0~means success.\n-  *\n-  * @note:\n-  *   The source stream must be opened _before_ calling this function.\n-  *\n-  *   Calling the internal function `FT_Stream_Close' on the new stream will\n-  *   *not* call `FT_Stream_Close' on the source stream.  None of the stream\n-  *   objects will be released to the heap.\n-  *\n-  *   The stream implementation is very basic and resets the decompression\n-  *   process each time seeking backwards is needed within the stream.\n-  *\n-  *   In certain builds of the library, gzip compression recognition is\n-  *   automatically handled when calling @FT_New_Face or @FT_Open_Face.\n-  *   This means that if no font driver is capable of handling the raw\n-  *   compressed file, the library will try to open a gzipped stream from\n-  *   it and re-open the face with it.\n-  *\n-  *   This function may return `FT_Err_Unimplemented_Feature' if your build\n-  *   of FreeType was not compiled with zlib support.\n-  *\/\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   gzip\n+   *\n+   * @title:\n+   *   GZIP Streams\n+   *\n+   * @abstract:\n+   *   Using gzip-compressed font files.\n+   *\n+   * @description:\n+   *   This section contains the declaration of Gzip-specific functions.\n+   *\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Stream_OpenGzip\n+   *\n+   * @description:\n+   *   Open a new stream to parse gzip-compressed font files.  This is mainly\n+   *   used to support the compressed `*.pcf.gz` fonts that come with\n+   *   XFree86.\n+   *\n+   * @input:\n+   *   stream ::\n+   *     The target embedding stream.\n+   *\n+   *   source ::\n+   *     The source stream.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   The source stream must be opened _before_ calling this function.\n+   *\n+   *   Calling the internal function `FT_Stream_Close` on the new stream will\n+   *   **not** call `FT_Stream_Close` on the source stream.  None of the\n+   *   stream objects will be released to the heap.\n+   *\n+   *   The stream implementation is very basic and resets the decompression\n+   *   process each time seeking backwards is needed within the stream.\n+   *\n+   *   In certain builds of the library, gzip compression recognition is\n+   *   automatically handled when calling @FT_New_Face or @FT_Open_Face.\n+   *   This means that if no font driver is capable of handling the raw\n+   *   compressed file, the library will try to open a gzipped stream from it\n+   *   and re-open the face with it.\n+   *\n+   *   This function may return `FT_Err_Unimplemented_Feature` if your build\n+   *   of FreeType was not compiled with zlib support.\n+   *\/\n@@ -95,41 +95,41 @@\n- \/************************************************************************\n-  *\n-  * @function:\n-  *   FT_Gzip_Uncompress\n-  *\n-  * @description:\n-  *   Decompress a zipped input buffer into an output buffer.  This function\n-  *   is modeled after zlib's `uncompress' function.\n-  *\n-  * @input:\n-  *   memory ::\n-  *     A FreeType memory handle.\n-  *\n-  *   input ::\n-  *     The input buffer.\n-  *\n-  *   input_len ::\n-  *     The length of the input buffer.\n-  *\n-  * @output:\n-  *   output::\n-  *     The output buffer.\n-  *\n-  * @inout:\n-  *   output_len ::\n-  *     Before calling the function, this is the total size of the output\n-  *     buffer, which must be large enough to hold the entire uncompressed\n-  *     data (so the size of the uncompressed data must be known in\n-  *     advance).  After calling the function, `output_len' is the size of\n-  *     the used data in `output'.\n-  *\n-  * @return:\n-  *   FreeType error code.  0~means success.\n-  *\n-  * @note:\n-  *   This function may return `FT_Err_Unimplemented_Feature' if your build\n-  *   of FreeType was not compiled with zlib support.\n-  *\n-  * @since:\n-  *   2.5.1\n-  *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Gzip_Uncompress\n+   *\n+   * @description:\n+   *   Decompress a zipped input buffer into an output buffer.  This function\n+   *   is modeled after zlib's `uncompress` function.\n+   *\n+   * @input:\n+   *   memory ::\n+   *     A FreeType memory handle.\n+   *\n+   *   input ::\n+   *     The input buffer.\n+   *\n+   *   input_len ::\n+   *     The length of the input buffer.\n+   *\n+   * @output:\n+   *   output ::\n+   *     The output buffer.\n+   *\n+   * @inout:\n+   *   output_len ::\n+   *     Before calling the function, this is the total size of the output\n+   *     buffer, which must be large enough to hold the entire uncompressed\n+   *     data (so the size of the uncompressed data must be known in\n+   *     advance).  After calling the function, `output_len` is the size of\n+   *     the used data in `output`.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   This function may return `FT_Err_Unimplemented_Feature` if your build\n+   *   of FreeType was not compiled with zlib support.\n+   *\n+   * @since:\n+   *   2.5.1\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/ftgzip.h","additions":113,"deletions":113,"binary":false,"changes":226,"status":"modified"},{"patch":"@@ -1,24 +1,24 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftimage.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    FreeType glyph image formats and default raster interface            *\/\n-\/*    (specification).                                                     *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Note: A `raster' is simply a scan-line converter, used to render      *\/\n-  \/*       FT_Outlines into FT_Bitmaps.                                    *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftimage.h\n+ *\n+ *   FreeType glyph image formats and default raster interface\n+ *   (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+  \/**************************************************************************\n+   *\n+   * Note: A 'raster' is simply a scan-line converter, used to render\n+   *       FT_Outlines into FT_Bitmaps.\n+   *\n+   *\/\n@@ -40,18 +40,18 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Section>                                                             *\/\n-  \/*    basic_types                                                        *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_Pos                                                             *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    The type FT_Pos is used to store vectorial coordinates.  Depending *\/\n-  \/*    on the context, these can represent distances in integer font      *\/\n-  \/*    units, or 16.16, or 26.6 fixed-point pixel coordinates.            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   basic_types\n+   *\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_Pos\n+   *\n+   * @description:\n+   *   The type FT_Pos is used to store vectorial coordinates.  Depending on\n+   *   the context, these can represent distances in integer font units, or\n+   *   16.16, or 26.6 fixed-point pixel coordinates.\n+   *\/\n@@ -61,13 +61,15 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_Vector                                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A simple structure used to store a 2D vector; coordinates are of   *\/\n-  \/*    the FT_Pos type.                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    x :: The horizontal coordinate.                                    *\/\n-  \/*    y :: The vertical coordinate.                                      *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_Vector\n+   *\n+   * @description:\n+   *   A simple structure used to store a 2D vector; coordinates are of the\n+   *   FT_Pos type.\n+   *\n+   * @fields:\n+   *   x ::\n+   *     The horizontal coordinate.\n+   *   y ::\n+   *     The vertical coordinate.\n+   *\/\n@@ -82,33 +84,35 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_BBox                                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure used to hold an outline's bounding box, i.e., the      *\/\n-  \/*    coordinates of its extrema in the horizontal and vertical          *\/\n-  \/*    directions.                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    xMin :: The horizontal minimum (left-most).                        *\/\n-  \/*                                                                       *\/\n-  \/*    yMin :: The vertical minimum (bottom-most).                        *\/\n-  \/*                                                                       *\/\n-  \/*    xMax :: The horizontal maximum (right-most).                       *\/\n-  \/*                                                                       *\/\n-  \/*    yMax :: The vertical maximum (top-most).                           *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The bounding box is specified with the coordinates of the lower    *\/\n-  \/*    left and the upper right corner.  In PostScript, those values are  *\/\n-  \/*    often called (llx,lly) and (urx,ury), respectively.                *\/\n-  \/*                                                                       *\/\n-  \/*    If `yMin' is negative, this value gives the glyph's descender.     *\/\n-  \/*    Otherwise, the glyph doesn't descend below the baseline.           *\/\n-  \/*    Similarly, if `ymax' is positive, this value gives the glyph's     *\/\n-  \/*    ascender.                                                          *\/\n-  \/*                                                                       *\/\n-  \/*    `xMin' gives the horizontal distance from the glyph's origin to    *\/\n-  \/*    the left edge of the glyph's bounding box.  If `xMin' is negative, *\/\n-  \/*    the glyph extends to the left of the origin.                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_BBox\n+   *\n+   * @description:\n+   *   A structure used to hold an outline's bounding box, i.e., the\n+   *   coordinates of its extrema in the horizontal and vertical directions.\n+   *\n+   * @fields:\n+   *   xMin ::\n+   *     The horizontal minimum (left-most).\n+   *\n+   *   yMin ::\n+   *     The vertical minimum (bottom-most).\n+   *\n+   *   xMax ::\n+   *     The horizontal maximum (right-most).\n+   *\n+   *   yMax ::\n+   *     The vertical maximum (top-most).\n+   *\n+   * @note:\n+   *   The bounding box is specified with the coordinates of the lower left\n+   *   and the upper right corner.  In PostScript, those values are often\n+   *   called (llx,lly) and (urx,ury), respectively.\n+   *\n+   *   If `yMin` is negative, this value gives the glyph's descender.\n+   *   Otherwise, the glyph doesn't descend below the baseline.  Similarly,\n+   *   if `ymax` is positive, this value gives the glyph's ascender.\n+   *\n+   *   `xMin` gives the horizontal distance from the glyph's origin to the\n+   *   left edge of the glyph's bounding box.  If `xMin` is negative, the\n+   *   glyph extends to the left of the origin.\n+   *\/\n@@ -123,57 +127,54 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Enum>                                                                *\/\n-  \/*    FT_Pixel_Mode                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    An enumeration type used to describe the format of pixels in a     *\/\n-  \/*    given bitmap.  Note that additional formats may be added in the    *\/\n-  \/*    future.                                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Values>                                                              *\/\n-  \/*    FT_PIXEL_MODE_NONE ::                                              *\/\n-  \/*      Value~0 is reserved.                                             *\/\n-  \/*                                                                       *\/\n-  \/*    FT_PIXEL_MODE_MONO ::                                              *\/\n-  \/*      A monochrome bitmap, using 1~bit per pixel.  Note that pixels    *\/\n-  \/*      are stored in most-significant order (MSB), which means that     *\/\n-  \/*      the left-most pixel in a byte has value 128.                     *\/\n-  \/*                                                                       *\/\n-  \/*    FT_PIXEL_MODE_GRAY ::                                              *\/\n-  \/*      An 8-bit bitmap, generally used to represent anti-aliased glyph  *\/\n-  \/*      images.  Each pixel is stored in one byte.  Note that the number *\/\n-  \/*      of `gray' levels is stored in the `num_grays' field of the       *\/\n-  \/*      @FT_Bitmap structure (it generally is 256).                      *\/\n-  \/*                                                                       *\/\n-  \/*    FT_PIXEL_MODE_GRAY2 ::                                             *\/\n-  \/*      A 2-bit per pixel bitmap, used to represent embedded             *\/\n-  \/*      anti-aliased bitmaps in font files according to the OpenType     *\/\n-  \/*      specification.  We haven't found a single font using this        *\/\n-  \/*      format, however.                                                 *\/\n-  \/*                                                                       *\/\n-  \/*    FT_PIXEL_MODE_GRAY4 ::                                             *\/\n-  \/*      A 4-bit per pixel bitmap, representing embedded anti-aliased     *\/\n-  \/*      bitmaps in font files according to the OpenType specification.   *\/\n-  \/*      We haven't found a single font using this format, however.       *\/\n-  \/*                                                                       *\/\n-  \/*    FT_PIXEL_MODE_LCD ::                                               *\/\n-  \/*      An 8-bit bitmap, representing RGB or BGR decimated glyph images  *\/\n-  \/*      used for display on LCD displays; the bitmap is three times      *\/\n-  \/*      wider than the original glyph image.  See also                   *\/\n-  \/*      @FT_RENDER_MODE_LCD.                                             *\/\n-  \/*                                                                       *\/\n-  \/*    FT_PIXEL_MODE_LCD_V ::                                             *\/\n-  \/*      An 8-bit bitmap, representing RGB or BGR decimated glyph images  *\/\n-  \/*      used for display on rotated LCD displays; the bitmap is three    *\/\n-  \/*      times taller than the original glyph image.  See also            *\/\n-  \/*      @FT_RENDER_MODE_LCD_V.                                           *\/\n-  \/*                                                                       *\/\n-  \/*    FT_PIXEL_MODE_BGRA ::                                              *\/\n-  \/*      [Since 2.5] An image with four 8-bit channels per pixel,         *\/\n-  \/*      representing a color image (such as emoticons) with alpha        *\/\n-  \/*      channel.  For each pixel, the format is BGRA, which means, the   *\/\n-  \/*      blue channel comes first in memory.  The color channels are      *\/\n-  \/*      pre-multiplied and in the sRGB colorspace.  For example, full    *\/\n-  \/*      red at half-translucent opacity will be represented as           *\/\n-  \/*      `00,00,80,80', not `00,00,FF,80'.  See also @FT_LOAD_COLOR.      *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @enum:\n+   *   FT_Pixel_Mode\n+   *\n+   * @description:\n+   *   An enumeration type used to describe the format of pixels in a given\n+   *   bitmap.  Note that additional formats may be added in the future.\n+   *\n+   * @values:\n+   *   FT_PIXEL_MODE_NONE ::\n+   *     Value~0 is reserved.\n+   *\n+   *   FT_PIXEL_MODE_MONO ::\n+   *     A monochrome bitmap, using 1~bit per pixel.  Note that pixels are\n+   *     stored in most-significant order (MSB), which means that the\n+   *     left-most pixel in a byte has value 128.\n+   *\n+   *   FT_PIXEL_MODE_GRAY ::\n+   *     An 8-bit bitmap, generally used to represent anti-aliased glyph\n+   *     images.  Each pixel is stored in one byte.  Note that the number of\n+   *     'gray' levels is stored in the `num_grays` field of the @FT_Bitmap\n+   *     structure (it generally is 256).\n+   *\n+   *   FT_PIXEL_MODE_GRAY2 ::\n+   *     A 2-bit per pixel bitmap, used to represent embedded anti-aliased\n+   *     bitmaps in font files according to the OpenType specification.  We\n+   *     haven't found a single font using this format, however.\n+   *\n+   *   FT_PIXEL_MODE_GRAY4 ::\n+   *     A 4-bit per pixel bitmap, representing embedded anti-aliased bitmaps\n+   *     in font files according to the OpenType specification.  We haven't\n+   *     found a single font using this format, however.\n+   *\n+   *   FT_PIXEL_MODE_LCD ::\n+   *     An 8-bit bitmap, representing RGB or BGR decimated glyph images used\n+   *     for display on LCD displays; the bitmap is three times wider than\n+   *     the original glyph image.  See also @FT_RENDER_MODE_LCD.\n+   *\n+   *   FT_PIXEL_MODE_LCD_V ::\n+   *     An 8-bit bitmap, representing RGB or BGR decimated glyph images used\n+   *     for display on rotated LCD displays; the bitmap is three times\n+   *     taller than the original glyph image.  See also\n+   *     @FT_RENDER_MODE_LCD_V.\n+   *\n+   *   FT_PIXEL_MODE_BGRA ::\n+   *     [Since 2.5] An image with four 8-bit channels per pixel,\n+   *     representing a color image (such as emoticons) with alpha channel.\n+   *     For each pixel, the format is BGRA, which means, the blue channel\n+   *     comes first in memory.  The color channels are pre-multiplied and in\n+   *     the sRGB colorspace.  For example, full red at half-translucent\n+   *     opacity will be represented as '00,00,80,80', not '00,00,FF,80'.\n+   *     See also @FT_LOAD_COLOR.\n+   *\/\n@@ -196,1 +197,1 @@\n-  \/* these constants are deprecated; use the corresponding `FT_Pixel_Mode' *\/\n+  \/* these constants are deprecated; use the corresponding `FT_Pixel_Mode` *\/\n@@ -205,56 +206,55 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_Bitmap                                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure used to describe a bitmap or pixmap to the raster.     *\/\n-  \/*    Note that we now manage pixmaps of various depths through the      *\/\n-  \/*    `pixel_mode' field.                                                *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    rows         :: The number of bitmap rows.                         *\/\n-  \/*                                                                       *\/\n-  \/*    width        :: The number of pixels in bitmap row.                *\/\n-  \/*                                                                       *\/\n-  \/*    pitch        :: The pitch's absolute value is the number of bytes  *\/\n-  \/*                    taken by one bitmap row, including padding.        *\/\n-  \/*                    However, the pitch is positive when the bitmap has *\/\n-  \/*                    a `down' flow, and negative when it has an `up'    *\/\n-  \/*                    flow.  In all cases, the pitch is an offset to add *\/\n-  \/*                    to a bitmap pointer in order to go down one row.   *\/\n-  \/*                                                                       *\/\n-  \/*                    Note that `padding' means the alignment of a       *\/\n-  \/*                    bitmap to a byte border, and FreeType functions    *\/\n-  \/*                    normally align to the smallest possible integer    *\/\n-  \/*                    value.                                             *\/\n-  \/*                                                                       *\/\n-  \/*                    For the B\/W rasterizer, `pitch' is always an even  *\/\n-  \/*                    number.                                            *\/\n-  \/*                                                                       *\/\n-  \/*                    To change the pitch of a bitmap (say, to make it a *\/\n-  \/*                    multiple of 4), use @FT_Bitmap_Convert.            *\/\n-  \/*                    Alternatively, you might use callback functions to *\/\n-  \/*                    directly render to the application's surface; see  *\/\n-  \/*                    the file `example2.cpp' in the tutorial for a      *\/\n-  \/*                    demonstration.                                     *\/\n-  \/*                                                                       *\/\n-  \/*    buffer       :: A typeless pointer to the bitmap buffer.  This     *\/\n-  \/*                    value should be aligned on 32-bit boundaries in    *\/\n-  \/*                    most cases.                                        *\/\n-  \/*                                                                       *\/\n-  \/*    num_grays    :: This field is only used with                       *\/\n-  \/*                    @FT_PIXEL_MODE_GRAY; it gives the number of gray   *\/\n-  \/*                    levels used in the bitmap.                         *\/\n-  \/*                                                                       *\/\n-  \/*    pixel_mode   :: The pixel mode, i.e., how pixel bits are stored.   *\/\n-  \/*                    See @FT_Pixel_Mode for possible values.            *\/\n-  \/*                                                                       *\/\n-  \/*    palette_mode :: This field is intended for paletted pixel modes;   *\/\n-  \/*                    it indicates how the palette is stored.  Not       *\/\n-  \/*                    used currently.                                    *\/\n-  \/*                                                                       *\/\n-  \/*    palette      :: A typeless pointer to the bitmap palette; this     *\/\n-  \/*                    field is intended for paletted pixel modes.  Not   *\/\n-  \/*                    used currently.                                    *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_Bitmap\n+   *\n+   * @description:\n+   *   A structure used to describe a bitmap or pixmap to the raster.  Note\n+   *   that we now manage pixmaps of various depths through the `pixel_mode`\n+   *   field.\n+   *\n+   * @fields:\n+   *   rows ::\n+   *     The number of bitmap rows.\n+   *\n+   *   width ::\n+   *     The number of pixels in bitmap row.\n+   *\n+   *   pitch ::\n+   *     The pitch's absolute value is the number of bytes taken by one\n+   *     bitmap row, including padding.  However, the pitch is positive when\n+   *     the bitmap has a 'down' flow, and negative when it has an 'up' flow.\n+   *     In all cases, the pitch is an offset to add to a bitmap pointer in\n+   *     order to go down one row.\n+   *\n+   *     Note that 'padding' means the alignment of a bitmap to a byte\n+   *     border, and FreeType functions normally align to the smallest\n+   *     possible integer value.\n+   *\n+   *     For the B\/W rasterizer, `pitch` is always an even number.\n+   *\n+   *     To change the pitch of a bitmap (say, to make it a multiple of 4),\n+   *     use @FT_Bitmap_Convert.  Alternatively, you might use callback\n+   *     functions to directly render to the application's surface; see the\n+   *     file `example2.cpp` in the tutorial for a demonstration.\n+   *\n+   *   buffer ::\n+   *     A typeless pointer to the bitmap buffer.  This value should be\n+   *     aligned on 32-bit boundaries in most cases.\n+   *\n+   *   num_grays ::\n+   *     This field is only used with @FT_PIXEL_MODE_GRAY; it gives the\n+   *     number of gray levels used in the bitmap.\n+   *\n+   *   pixel_mode ::\n+   *     The pixel mode, i.e., how pixel bits are stored.  See @FT_Pixel_Mode\n+   *     for possible values.\n+   *\n+   *   palette_mode ::\n+   *     This field is intended for paletted pixel modes; it indicates how\n+   *     the palette is stored.  Not used currently.\n+   *\n+   *   palette ::\n+   *     A typeless pointer to the bitmap palette; this field is intended for\n+   *     paletted pixel modes.  Not used currently.\n+   *\/\n@@ -275,59 +275,62 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Section>                                                             *\/\n-  \/*    outline_processing                                                 *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_Outline                                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This structure is used to describe an outline to the scan-line     *\/\n-  \/*    converter.                                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    n_contours :: The number of contours in the outline.               *\/\n-  \/*                                                                       *\/\n-  \/*    n_points   :: The number of points in the outline.                 *\/\n-  \/*                                                                       *\/\n-  \/*    points     :: A pointer to an array of `n_points' @FT_Vector       *\/\n-  \/*                  elements, giving the outline's point coordinates.    *\/\n-  \/*                                                                       *\/\n-  \/*    tags       :: A pointer to an array of `n_points' chars, giving    *\/\n-  \/*                  each outline point's type.                           *\/\n-  \/*                                                                       *\/\n-  \/*                  If bit~0 is unset, the point is `off' the curve,     *\/\n-  \/*                  i.e., a Bezier control point, while it is `on' if    *\/\n-  \/*                  set.                                                 *\/\n-  \/*                                                                       *\/\n-  \/*                  Bit~1 is meaningful for `off' points only.  If set,  *\/\n-  \/*                  it indicates a third-order Bezier arc control point; *\/\n-  \/*                  and a second-order control point if unset.           *\/\n-  \/*                                                                       *\/\n-  \/*                  If bit~2 is set, bits 5-7 contain the drop-out mode  *\/\n-  \/*                  (as defined in the OpenType specification; the value *\/\n-  \/*                  is the same as the argument to the SCANMODE          *\/\n-  \/*                  instruction).                                        *\/\n-  \/*                                                                       *\/\n-  \/*                  Bits 3 and~4 are reserved for internal purposes.     *\/\n-  \/*                                                                       *\/\n-  \/*    contours   :: An array of `n_contours' shorts, giving the end      *\/\n-  \/*                  point of each contour within the outline.  For       *\/\n-  \/*                  example, the first contour is defined by the points  *\/\n-  \/*                  `0' to `contours[0]', the second one is defined by   *\/\n-  \/*                  the points `contours[0]+1' to `contours[1]', etc.    *\/\n-  \/*                                                                       *\/\n-  \/*    flags      :: A set of bit flags used to characterize the outline  *\/\n-  \/*                  and give hints to the scan-converter and hinter on   *\/\n-  \/*                  how to convert\/grid-fit it.  See @FT_OUTLINE_XXX.    *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The B\/W rasterizer only checks bit~2 in the `tags' array for the   *\/\n-  \/*    first point of each contour.  The drop-out mode as given with      *\/\n-  \/*    @FT_OUTLINE_IGNORE_DROPOUTS, @FT_OUTLINE_SMART_DROPOUTS, and       *\/\n-  \/*    @FT_OUTLINE_INCLUDE_STUBS in `flags' is then overridden.           *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   outline_processing\n+   *\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_Outline\n+   *\n+   * @description:\n+   *   This structure is used to describe an outline to the scan-line\n+   *   converter.\n+   *\n+   * @fields:\n+   *   n_contours ::\n+   *     The number of contours in the outline.\n+   *\n+   *   n_points ::\n+   *     The number of points in the outline.\n+   *\n+   *   points ::\n+   *     A pointer to an array of `n_points` @FT_Vector elements, giving the\n+   *     outline's point coordinates.\n+   *\n+   *   tags ::\n+   *     A pointer to an array of `n_points` chars, giving each outline\n+   *     point's type.\n+   *\n+   *     If bit~0 is unset, the point is 'off' the curve, i.e., a Bezier\n+   *     control point, while it is 'on' if set.\n+   *\n+   *     Bit~1 is meaningful for 'off' points only.  If set, it indicates a\n+   *     third-order Bezier arc control point; and a second-order control\n+   *     point if unset.\n+   *\n+   *     If bit~2 is set, bits 5-7 contain the drop-out mode (as defined in\n+   *     the OpenType specification; the value is the same as the argument to\n+   *     the 'SCANMODE' instruction).\n+   *\n+   *     Bits 3 and~4 are reserved for internal purposes.\n+   *\n+   *   contours ::\n+   *     An array of `n_contours` shorts, giving the end point of each\n+   *     contour within the outline.  For example, the first contour is\n+   *     defined by the points '0' to `contours[0]`, the second one is\n+   *     defined by the points `contours[0]+1` to `contours[1]`, etc.\n+   *\n+   *   flags ::\n+   *     A set of bit flags used to characterize the outline and give hints\n+   *     to the scan-converter and hinter on how to convert\/grid-fit it.  See\n+   *     @FT_OUTLINE_XXX.\n+   *\n+   * @note:\n+   *   The B\/W rasterizer only checks bit~2 in the `tags` array for the first\n+   *   point of each contour.  The drop-out mode as given with\n+   *   @FT_OUTLINE_IGNORE_DROPOUTS, @FT_OUTLINE_SMART_DROPOUTS, and\n+   *   @FT_OUTLINE_INCLUDE_STUBS in `flags` is then overridden.\n+   *\/\n@@ -355,72 +358,70 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Enum>                                                                *\/\n-  \/*    FT_OUTLINE_XXX                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A list of bit-field constants use for the flags in an outline's    *\/\n-  \/*    `flags' field.                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Values>                                                              *\/\n-  \/*    FT_OUTLINE_NONE ::                                                 *\/\n-  \/*      Value~0 is reserved.                                             *\/\n-  \/*                                                                       *\/\n-  \/*    FT_OUTLINE_OWNER ::                                                *\/\n-  \/*      If set, this flag indicates that the outline's field arrays      *\/\n-  \/*      (i.e., `points', `flags', and `contours') are `owned' by the     *\/\n-  \/*      outline object, and should thus be freed when it is destroyed.   *\/\n-  \/*                                                                       *\/\n-  \/*    FT_OUTLINE_EVEN_ODD_FILL ::                                        *\/\n-  \/*      By default, outlines are filled using the non-zero winding rule. *\/\n-  \/*      If set to 1, the outline will be filled using the even-odd fill  *\/\n-  \/*      rule (only works with the smooth rasterizer).                    *\/\n-  \/*                                                                       *\/\n-  \/*    FT_OUTLINE_REVERSE_FILL ::                                         *\/\n-  \/*      By default, outside contours of an outline are oriented in       *\/\n-  \/*      clock-wise direction, as defined in the TrueType specification.  *\/\n-  \/*      This flag is set if the outline uses the opposite direction      *\/\n-  \/*      (typically for Type~1 fonts).  This flag is ignored by the scan  *\/\n-  \/*      converter.                                                       *\/\n-  \/*                                                                       *\/\n-  \/*    FT_OUTLINE_IGNORE_DROPOUTS ::                                      *\/\n-  \/*      By default, the scan converter will try to detect drop-outs in   *\/\n-  \/*      an outline and correct the glyph bitmap to ensure consistent     *\/\n-  \/*      shape continuity.  If set, this flag hints the scan-line         *\/\n-  \/*      converter to ignore such cases.  See below for more information. *\/\n-  \/*                                                                       *\/\n-  \/*    FT_OUTLINE_SMART_DROPOUTS ::                                       *\/\n-  \/*      Select smart dropout control.  If unset, use simple dropout      *\/\n-  \/*      control.  Ignored if @FT_OUTLINE_IGNORE_DROPOUTS is set.  See    *\/\n-  \/*      below for more information.                                      *\/\n-  \/*                                                                       *\/\n-  \/*    FT_OUTLINE_INCLUDE_STUBS ::                                        *\/\n-  \/*      If set, turn pixels on for `stubs', otherwise exclude them.      *\/\n-  \/*      Ignored if @FT_OUTLINE_IGNORE_DROPOUTS is set.  See below for    *\/\n-  \/*      more information.                                                *\/\n-  \/*                                                                       *\/\n-  \/*    FT_OUTLINE_HIGH_PRECISION ::                                       *\/\n-  \/*      This flag indicates that the scan-line converter should try to   *\/\n-  \/*      convert this outline to bitmaps with the highest possible        *\/\n-  \/*      quality.  It is typically set for small character sizes.  Note   *\/\n-  \/*      that this is only a hint that might be completely ignored by a   *\/\n-  \/*      given scan-converter.                                            *\/\n-  \/*                                                                       *\/\n-  \/*    FT_OUTLINE_SINGLE_PASS ::                                          *\/\n-  \/*      This flag is set to force a given scan-converter to only use a   *\/\n-  \/*      single pass over the outline to render a bitmap glyph image.     *\/\n-  \/*      Normally, it is set for very large character sizes.  It is only  *\/\n-  \/*      a hint that might be completely ignored by a given               *\/\n-  \/*      scan-converter.                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The flags @FT_OUTLINE_IGNORE_DROPOUTS, @FT_OUTLINE_SMART_DROPOUTS, *\/\n-  \/*    and @FT_OUTLINE_INCLUDE_STUBS are ignored by the smooth            *\/\n-  \/*    rasterizer.                                                        *\/\n-  \/*                                                                       *\/\n-  \/*    There exists a second mechanism to pass the drop-out mode to the   *\/\n-  \/*    B\/W rasterizer; see the `tags' field in @FT_Outline.               *\/\n-  \/*                                                                       *\/\n-  \/*    Please refer to the description of the `SCANTYPE' instruction in   *\/\n-  \/*    the OpenType specification (in file `ttinst1.doc') how simple      *\/\n-  \/*    drop-outs, smart drop-outs, and stubs are defined.                 *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @enum:\n+   *   FT_OUTLINE_XXX\n+   *\n+   * @description:\n+   *   A list of bit-field constants used for the flags in an outline's\n+   *   `flags` field.\n+   *\n+   * @values:\n+   *   FT_OUTLINE_NONE ::\n+   *     Value~0 is reserved.\n+   *\n+   *   FT_OUTLINE_OWNER ::\n+   *     If set, this flag indicates that the outline's field arrays (i.e.,\n+   *     `points`, `flags`, and `contours`) are 'owned' by the outline\n+   *     object, and should thus be freed when it is destroyed.\n+   *\n+   *   FT_OUTLINE_EVEN_ODD_FILL ::\n+   *     By default, outlines are filled using the non-zero winding rule.  If\n+   *     set to 1, the outline will be filled using the even-odd fill rule\n+   *     (only works with the smooth rasterizer).\n+   *\n+   *   FT_OUTLINE_REVERSE_FILL ::\n+   *     By default, outside contours of an outline are oriented in\n+   *     clock-wise direction, as defined in the TrueType specification.\n+   *     This flag is set if the outline uses the opposite direction\n+   *     (typically for Type~1 fonts).  This flag is ignored by the scan\n+   *     converter.\n+   *\n+   *   FT_OUTLINE_IGNORE_DROPOUTS ::\n+   *     By default, the scan converter will try to detect drop-outs in an\n+   *     outline and correct the glyph bitmap to ensure consistent shape\n+   *     continuity.  If set, this flag hints the scan-line converter to\n+   *     ignore such cases.  See below for more information.\n+   *\n+   *   FT_OUTLINE_SMART_DROPOUTS ::\n+   *     Select smart dropout control.  If unset, use simple dropout control.\n+   *     Ignored if @FT_OUTLINE_IGNORE_DROPOUTS is set.  See below for more\n+   *     information.\n+   *\n+   *   FT_OUTLINE_INCLUDE_STUBS ::\n+   *     If set, turn pixels on for 'stubs', otherwise exclude them.  Ignored\n+   *     if @FT_OUTLINE_IGNORE_DROPOUTS is set.  See below for more\n+   *     information.\n+   *\n+   *   FT_OUTLINE_HIGH_PRECISION ::\n+   *     This flag indicates that the scan-line converter should try to\n+   *     convert this outline to bitmaps with the highest possible quality.\n+   *     It is typically set for small character sizes.  Note that this is\n+   *     only a hint that might be completely ignored by a given\n+   *     scan-converter.\n+   *\n+   *   FT_OUTLINE_SINGLE_PASS ::\n+   *     This flag is set to force a given scan-converter to only use a\n+   *     single pass over the outline to render a bitmap glyph image.\n+   *     Normally, it is set for very large character sizes.  It is only a\n+   *     hint that might be completely ignored by a given scan-converter.\n+   *\n+   * @note:\n+   *   The flags @FT_OUTLINE_IGNORE_DROPOUTS, @FT_OUTLINE_SMART_DROPOUTS, and\n+   *   @FT_OUTLINE_INCLUDE_STUBS are ignored by the smooth rasterizer.\n+   *\n+   *   There exists a second mechanism to pass the drop-out mode to the B\/W\n+   *   rasterizer; see the `tags` field in @FT_Outline.\n+   *\n+   *   Please refer to the description of the 'SCANTYPE' instruction in the\n+   *   OpenType specification (in file `ttinst1.doc`) how simple drop-outs,\n+   *   smart drop-outs, and stubs are defined.\n+   *\/\n@@ -440,1 +441,1 @@\n-  \/* `FT_OUTLINE_XXX' values instead                       *\/\n+  \/* `FT_OUTLINE_XXX` values instead                       *\/\n@@ -451,1 +452,1 @@\n-#define FT_CURVE_TAG( flag )  ( flag & 3 )\n+#define FT_CURVE_TAG( flag )  ( flag & 0x03 )\n@@ -453,3 +454,4 @@\n-#define FT_CURVE_TAG_ON            1\n-#define FT_CURVE_TAG_CONIC         0\n-#define FT_CURVE_TAG_CUBIC         2\n+  \/* see the `tags` field in `FT_Outline` for a description of the values *\/\n+#define FT_CURVE_TAG_ON            0x01\n+#define FT_CURVE_TAG_CONIC         0x00\n+#define FT_CURVE_TAG_CUBIC         0x02\n@@ -457,1 +459,1 @@\n-#define FT_CURVE_TAG_HAS_SCANMODE  4\n+#define FT_CURVE_TAG_HAS_SCANMODE  0x04\n@@ -459,2 +461,2 @@\n-#define FT_CURVE_TAG_TOUCH_X       8  \/* reserved for the TrueType hinter *\/\n-#define FT_CURVE_TAG_TOUCH_Y      16  \/* reserved for the TrueType hinter *\/\n+#define FT_CURVE_TAG_TOUCH_X       0x08  \/* reserved for TrueType hinter *\/\n+#define FT_CURVE_TAG_TOUCH_Y       0x10  \/* reserved for TrueType hinter *\/\n@@ -464,0 +466,2 @@\n+  \/* values 0x20, 0x40, and 0x80 are reserved *\/\n+\n@@ -465,0 +469,2 @@\n+  \/* these constants are deprecated; use the corresponding *\/\n+  \/* `FT_CURVE_TAG_XXX` values instead                     *\/\n@@ -472,20 +478,22 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    FT_Outline_MoveToFunc                                              *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A function pointer type used to describe the signature of a `move  *\/\n-  \/*    to' function during outline walking\/decomposition.                 *\/\n-  \/*                                                                       *\/\n-  \/*    A `move to' is emitted to start a new contour in an outline.       *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    to   :: A pointer to the target point of the `move to'.            *\/\n-  \/*                                                                       *\/\n-  \/*    user :: A typeless pointer, which is passed from the caller of the *\/\n-  \/*            decomposition function.                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    Error code.  0~means success.                                      *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   FT_Outline_MoveToFunc\n+   *\n+   * @description:\n+   *   A function pointer type used to describe the signature of a 'move to'\n+   *   function during outline walking\/decomposition.\n+   *\n+   *   A 'move to' is emitted to start a new contour in an outline.\n+   *\n+   * @input:\n+   *   to ::\n+   *     A pointer to the target point of the 'move to'.\n+   *\n+   *   user ::\n+   *     A typeless pointer, which is passed from the caller of the\n+   *     decomposition function.\n+   *\n+   * @return:\n+   *   Error code.  0~means success.\n+   *\/\n@@ -499,20 +507,22 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    FT_Outline_LineToFunc                                              *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A function pointer type used to describe the signature of a `line  *\/\n-  \/*    to' function during outline walking\/decomposition.                 *\/\n-  \/*                                                                       *\/\n-  \/*    A `line to' is emitted to indicate a segment in the outline.       *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    to   :: A pointer to the target point of the `line to'.            *\/\n-  \/*                                                                       *\/\n-  \/*    user :: A typeless pointer, which is passed from the caller of the *\/\n-  \/*            decomposition function.                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    Error code.  0~means success.                                      *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   FT_Outline_LineToFunc\n+   *\n+   * @description:\n+   *   A function pointer type used to describe the signature of a 'line to'\n+   *   function during outline walking\/decomposition.\n+   *\n+   *   A 'line to' is emitted to indicate a segment in the outline.\n+   *\n+   * @input:\n+   *   to ::\n+   *     A pointer to the target point of the 'line to'.\n+   *\n+   *   user ::\n+   *     A typeless pointer, which is passed from the caller of the\n+   *     decomposition function.\n+   *\n+   * @return:\n+   *   Error code.  0~means success.\n+   *\/\n@@ -526,24 +536,27 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    FT_Outline_ConicToFunc                                             *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A function pointer type used to describe the signature of a `conic *\/\n-  \/*    to' function during outline walking or decomposition.              *\/\n-  \/*                                                                       *\/\n-  \/*    A `conic to' is emitted to indicate a second-order Bezier arc in   *\/\n-  \/*    the outline.                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    control :: An intermediate control point between the last position *\/\n-  \/*               and the new target in `to'.                             *\/\n-  \/*                                                                       *\/\n-  \/*    to      :: A pointer to the target end point of the conic arc.     *\/\n-  \/*                                                                       *\/\n-  \/*    user    :: A typeless pointer, which is passed from the caller of  *\/\n-  \/*               the decomposition function.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    Error code.  0~means success.                                      *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   FT_Outline_ConicToFunc\n+   *\n+   * @description:\n+   *   A function pointer type used to describe the signature of a 'conic to'\n+   *   function during outline walking or decomposition.\n+   *\n+   *   A 'conic to' is emitted to indicate a second-order Bezier arc in the\n+   *   outline.\n+   *\n+   * @input:\n+   *   control ::\n+   *     An intermediate control point between the last position and the new\n+   *     target in `to`.\n+   *\n+   *   to ::\n+   *     A pointer to the target end point of the conic arc.\n+   *\n+   *   user ::\n+   *     A typeless pointer, which is passed from the caller of the\n+   *     decomposition function.\n+   *\n+   * @return:\n+   *   Error code.  0~means success.\n+   *\/\n@@ -558,24 +571,28 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    FT_Outline_CubicToFunc                                             *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A function pointer type used to describe the signature of a `cubic *\/\n-  \/*    to' function during outline walking or decomposition.              *\/\n-  \/*                                                                       *\/\n-  \/*    A `cubic to' is emitted to indicate a third-order Bezier arc.      *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    control1 :: A pointer to the first Bezier control point.           *\/\n-  \/*                                                                       *\/\n-  \/*    control2 :: A pointer to the second Bezier control point.          *\/\n-  \/*                                                                       *\/\n-  \/*    to       :: A pointer to the target end point.                     *\/\n-  \/*                                                                       *\/\n-  \/*    user     :: A typeless pointer, which is passed from the caller of *\/\n-  \/*                the decomposition function.                            *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    Error code.  0~means success.                                      *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   FT_Outline_CubicToFunc\n+   *\n+   * @description:\n+   *   A function pointer type used to describe the signature of a 'cubic to'\n+   *   function during outline walking or decomposition.\n+   *\n+   *   A 'cubic to' is emitted to indicate a third-order Bezier arc.\n+   *\n+   * @input:\n+   *   control1 ::\n+   *     A pointer to the first Bezier control point.\n+   *\n+   *   control2 ::\n+   *     A pointer to the second Bezier control point.\n+   *\n+   *   to ::\n+   *     A pointer to the target end point.\n+   *\n+   *   user ::\n+   *     A typeless pointer, which is passed from the caller of the\n+   *     decomposition function.\n+   *\n+   * @return:\n+   *   Error code.  0~means success.\n+   *\/\n@@ -591,37 +608,43 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_Outline_Funcs                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure to hold various function pointers used during outline  *\/\n-  \/*    decomposition in order to emit segments, conic, and cubic Beziers. *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    move_to  :: The `move to' emitter.                                 *\/\n-  \/*                                                                       *\/\n-  \/*    line_to  :: The segment emitter.                                   *\/\n-  \/*                                                                       *\/\n-  \/*    conic_to :: The second-order Bezier arc emitter.                   *\/\n-  \/*                                                                       *\/\n-  \/*    cubic_to :: The third-order Bezier arc emitter.                    *\/\n-  \/*                                                                       *\/\n-  \/*    shift    :: The shift that is applied to coordinates before they   *\/\n-  \/*                are sent to the emitter.                               *\/\n-  \/*                                                                       *\/\n-  \/*    delta    :: The delta that is applied to coordinates before they   *\/\n-  \/*                are sent to the emitter, but after the shift.          *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The point coordinates sent to the emitters are the transformed     *\/\n-  \/*    version of the original coordinates (this is important for high    *\/\n-  \/*    accuracy during scan-conversion).  The transformation is simple:   *\/\n-  \/*                                                                       *\/\n-  \/*    {                                                                  *\/\n-  \/*      x' = (x << shift) - delta                                        *\/\n-  \/*      y' = (y << shift) - delta                                        *\/\n-  \/*    }                                                                  *\/\n-  \/*                                                                       *\/\n-  \/*    Set the values of `shift' and `delta' to~0 to get the original     *\/\n-  \/*    point coordinates.                                                 *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_Outline_Funcs\n+   *\n+   * @description:\n+   *   A structure to hold various function pointers used during outline\n+   *   decomposition in order to emit segments, conic, and cubic Beziers.\n+   *\n+   * @fields:\n+   *   move_to ::\n+   *     The 'move to' emitter.\n+   *\n+   *   line_to ::\n+   *     The segment emitter.\n+   *\n+   *   conic_to ::\n+   *     The second-order Bezier arc emitter.\n+   *\n+   *   cubic_to ::\n+   *     The third-order Bezier arc emitter.\n+   *\n+   *   shift ::\n+   *     The shift that is applied to coordinates before they are sent to the\n+   *     emitter.\n+   *\n+   *   delta ::\n+   *     The delta that is applied to coordinates before they are sent to the\n+   *     emitter, but after the shift.\n+   *\n+   * @note:\n+   *   The point coordinates sent to the emitters are the transformed version\n+   *   of the original coordinates (this is important for high accuracy\n+   *   during scan-conversion).  The transformation is simple:\n+   *\n+   *   ```\n+   *     x' = (x << shift) - delta\n+   *     y' = (y << shift) - delta\n+   *   ```\n+   *\n+   *   Set the values of `shift` and `delta` to~0 to get the original point\n+   *   coordinates.\n+   *\/\n@@ -641,27 +664,26 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Section>                                                             *\/\n-  \/*    basic_types                                                        *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Macro>                                                               *\/\n-  \/*    FT_IMAGE_TAG                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This macro converts four-letter tags to an unsigned long type.     *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    Since many 16-bit compilers don't like 32-bit enumerations, you    *\/\n-  \/*    should redefine this macro in case of problems to something like   *\/\n-  \/*    this:                                                              *\/\n-  \/*                                                                       *\/\n-  \/*    {                                                                  *\/\n-  \/*      #define FT_IMAGE_TAG( value, _x1, _x2, _x3, _x4 )  value         *\/\n-  \/*    }                                                                  *\/\n-  \/*                                                                       *\/\n-  \/*    to get a simple enumeration without assigning special numbers.     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   basic_types\n+   *\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @macro:\n+   *   FT_IMAGE_TAG\n+   *\n+   * @description:\n+   *   This macro converts four-letter tags to an unsigned long type.\n+   *\n+   * @note:\n+   *   Since many 16-bit compilers don't like 32-bit enumerations, you should\n+   *   redefine this macro in case of problems to something like this:\n+   *\n+   *   ```\n+   *     #define FT_IMAGE_TAG( value, _x1, _x2, _x3, _x4 )  value\n+   *   ```\n+   *\n+   *   to get a simple enumeration without assigning special numbers.\n+   *\/\n@@ -677,38 +699,37 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Enum>                                                                *\/\n-  \/*    FT_Glyph_Format                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    An enumeration type used to describe the format of a given glyph   *\/\n-  \/*    image.  Note that this version of FreeType only supports two image *\/\n-  \/*    formats, even though future font drivers will be able to register  *\/\n-  \/*    their own format.                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Values>                                                              *\/\n-  \/*    FT_GLYPH_FORMAT_NONE ::                                            *\/\n-  \/*      The value~0 is reserved.                                         *\/\n-  \/*                                                                       *\/\n-  \/*    FT_GLYPH_FORMAT_COMPOSITE ::                                       *\/\n-  \/*      The glyph image is a composite of several other images.  This    *\/\n-  \/*      format is _only_ used with @FT_LOAD_NO_RECURSE, and is used to   *\/\n-  \/*      report compound glyphs (like accented characters).               *\/\n-  \/*                                                                       *\/\n-  \/*    FT_GLYPH_FORMAT_BITMAP ::                                          *\/\n-  \/*      The glyph image is a bitmap, and can be described as an          *\/\n-  \/*      @FT_Bitmap.  You generally need to access the `bitmap' field of  *\/\n-  \/*      the @FT_GlyphSlotRec structure to read it.                       *\/\n-  \/*                                                                       *\/\n-  \/*    FT_GLYPH_FORMAT_OUTLINE ::                                         *\/\n-  \/*      The glyph image is a vectorial outline made of line segments     *\/\n-  \/*      and Bezier arcs; it can be described as an @FT_Outline; you      *\/\n-  \/*      generally want to access the `outline' field of the              *\/\n-  \/*      @FT_GlyphSlotRec structure to read it.                           *\/\n-  \/*                                                                       *\/\n-  \/*    FT_GLYPH_FORMAT_PLOTTER ::                                         *\/\n-  \/*      The glyph image is a vectorial path with no inside and outside   *\/\n-  \/*      contours.  Some Type~1 fonts, like those in the Hershey family,  *\/\n-  \/*      contain glyphs in this format.  These are described as           *\/\n-  \/*      @FT_Outline, but FreeType isn't currently capable of rendering   *\/\n-  \/*      them correctly.                                                  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @enum:\n+   *   FT_Glyph_Format\n+   *\n+   * @description:\n+   *   An enumeration type used to describe the format of a given glyph\n+   *   image.  Note that this version of FreeType only supports two image\n+   *   formats, even though future font drivers will be able to register\n+   *   their own format.\n+   *\n+   * @values:\n+   *   FT_GLYPH_FORMAT_NONE ::\n+   *     The value~0 is reserved.\n+   *\n+   *   FT_GLYPH_FORMAT_COMPOSITE ::\n+   *     The glyph image is a composite of several other images.  This format\n+   *     is _only_ used with @FT_LOAD_NO_RECURSE, and is used to report\n+   *     compound glyphs (like accented characters).\n+   *\n+   *   FT_GLYPH_FORMAT_BITMAP ::\n+   *     The glyph image is a bitmap, and can be described as an @FT_Bitmap.\n+   *     You generally need to access the `bitmap` field of the\n+   *     @FT_GlyphSlotRec structure to read it.\n+   *\n+   *   FT_GLYPH_FORMAT_OUTLINE ::\n+   *     The glyph image is a vectorial outline made of line segments and\n+   *     Bezier arcs; it can be described as an @FT_Outline; you generally\n+   *     want to access the `outline` field of the @FT_GlyphSlotRec structure\n+   *     to read it.\n+   *\n+   *   FT_GLYPH_FORMAT_PLOTTER ::\n+   *     The glyph image is a vectorial path with no inside and outside\n+   *     contours.  Some Type~1 fonts, like those in the Hershey family,\n+   *     contain glyphs in this format.  These are described as @FT_Outline,\n+   *     but FreeType isn't currently capable of rendering them correctly.\n+   *\/\n@@ -728,1 +749,1 @@\n-  \/* `FT_Glyph_Format' values instead.                     *\/\n+  \/* `FT_Glyph_Format` values instead.                     *\/\n@@ -747,53 +768,53 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* A raster is a scan converter, in charge of rendering an outline into  *\/\n-  \/* a bitmap.  This section contains the public API for rasters.          *\/\n-  \/*                                                                       *\/\n-  \/* Note that in FreeType 2, all rasters are now encapsulated within      *\/\n-  \/* specific modules called `renderers'.  See `ftrender.h' for more       *\/\n-  \/* details on renderers.                                                 *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Section>                                                             *\/\n-  \/*    raster                                                             *\/\n-  \/*                                                                       *\/\n-  \/* <Title>                                                               *\/\n-  \/*    Scanline Converter                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Abstract>                                                            *\/\n-  \/*    How vectorial outlines are converted into bitmaps and pixmaps.     *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This section contains technical definitions.                       *\/\n-  \/*                                                                       *\/\n-  \/* <Order>                                                               *\/\n-  \/*    FT_Raster                                                          *\/\n-  \/*    FT_Span                                                            *\/\n-  \/*    FT_SpanFunc                                                        *\/\n-  \/*                                                                       *\/\n-  \/*    FT_Raster_Params                                                   *\/\n-  \/*    FT_RASTER_FLAG_XXX                                                 *\/\n-  \/*                                                                       *\/\n-  \/*    FT_Raster_NewFunc                                                  *\/\n-  \/*    FT_Raster_DoneFunc                                                 *\/\n-  \/*    FT_Raster_ResetFunc                                                *\/\n-  \/*    FT_Raster_SetModeFunc                                              *\/\n-  \/*    FT_Raster_RenderFunc                                               *\/\n-  \/*    FT_Raster_Funcs                                                    *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_Raster                                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    An opaque handle (pointer) to a raster object.  Each object can be *\/\n-  \/*    used independently to convert an outline into a bitmap or pixmap.  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * A raster is a scan converter, in charge of rendering an outline into a\n+   * bitmap.  This section contains the public API for rasters.\n+   *\n+   * Note that in FreeType 2, all rasters are now encapsulated within\n+   * specific modules called 'renderers'.  See `ftrender.h` for more details\n+   * on renderers.\n+   *\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   raster\n+   *\n+   * @title:\n+   *   Scanline Converter\n+   *\n+   * @abstract:\n+   *   How vectorial outlines are converted into bitmaps and pixmaps.\n+   *\n+   * @description:\n+   *   This section contains technical definitions.\n+   *\n+   * @order:\n+   *   FT_Raster\n+   *   FT_Span\n+   *   FT_SpanFunc\n+   *\n+   *   FT_Raster_Params\n+   *   FT_RASTER_FLAG_XXX\n+   *\n+   *   FT_Raster_NewFunc\n+   *   FT_Raster_DoneFunc\n+   *   FT_Raster_ResetFunc\n+   *   FT_Raster_SetModeFunc\n+   *   FT_Raster_RenderFunc\n+   *   FT_Raster_Funcs\n+   *\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_Raster\n+   *\n+   * @description:\n+   *   An opaque handle (pointer) to a raster object.  Each object can be\n+   *   used independently to convert an outline into a bitmap or pixmap.\n+   *\/\n@@ -803,25 +824,27 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_Span                                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure used to model a single span of gray pixels when        *\/\n-  \/*    rendering an anti-aliased bitmap.                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    x        :: The span's horizontal start position.                  *\/\n-  \/*                                                                       *\/\n-  \/*    len      :: The span's length in pixels.                           *\/\n-  \/*                                                                       *\/\n-  \/*    coverage :: The span color\/coverage, ranging from 0 (background)   *\/\n-  \/*                to 255 (foreground).                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    This structure is used by the span drawing callback type named     *\/\n-  \/*    @FT_SpanFunc that takes the y~coordinate of the span as a          *\/\n-  \/*    parameter.                                                         *\/\n-  \/*                                                                       *\/\n-  \/*    The coverage value is always between 0 and 255.  If you want less  *\/\n-  \/*    gray values, the callback function has to reduce them.             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_Span\n+   *\n+   * @description:\n+   *   A structure used to model a single span of gray pixels when rendering\n+   *   an anti-aliased bitmap.\n+   *\n+   * @fields:\n+   *   x ::\n+   *     The span's horizontal start position.\n+   *\n+   *   len ::\n+   *     The span's length in pixels.\n+   *\n+   *   coverage ::\n+   *     The span color\/coverage, ranging from 0 (background) to 255\n+   *     (foreground).\n+   *\n+   * @note:\n+   *   This structure is used by the span drawing callback type named\n+   *   @FT_SpanFunc that takes the y~coordinate of the span as a parameter.\n+   *\n+   *   The coverage value is always between 0 and 255.  If you want less gray\n+   *   values, the callback function has to reduce them.\n+   *\/\n@@ -837,26 +860,30 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    FT_SpanFunc                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A function used as a call-back by the anti-aliased renderer in     *\/\n-  \/*    order to let client applications draw themselves the gray pixel    *\/\n-  \/*    spans on each scan line.                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    y     :: The scanline's y~coordinate.                              *\/\n-  \/*                                                                       *\/\n-  \/*    count :: The number of spans to draw on this scanline.             *\/\n-  \/*                                                                       *\/\n-  \/*    spans :: A table of `count' spans to draw on the scanline.         *\/\n-  \/*                                                                       *\/\n-  \/*    user  :: User-supplied data that is passed to the callback.        *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    This callback allows client applications to directly render the    *\/\n-  \/*    gray spans of the anti-aliased bitmap to any kind of surfaces.     *\/\n-  \/*                                                                       *\/\n-  \/*    This can be used to write anti-aliased outlines directly to a      *\/\n-  \/*    given background bitmap, and even perform translucency.            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   FT_SpanFunc\n+   *\n+   * @description:\n+   *   A function used as a call-back by the anti-aliased renderer in order\n+   *   to let client applications draw themselves the gray pixel spans on\n+   *   each scan line.\n+   *\n+   * @input:\n+   *   y ::\n+   *     The scanline's y~coordinate.\n+   *\n+   *   count ::\n+   *     The number of spans to draw on this scanline.\n+   *\n+   *   spans ::\n+   *     A table of `count` spans to draw on the scanline.\n+   *\n+   *   user ::\n+   *     User-supplied data that is passed to the callback.\n+   *\n+   * @note:\n+   *   This callback allows client applications to directly render the gray\n+   *   spans of the anti-aliased bitmap to any kind of surfaces.\n+   *\n+   *   This can be used to write anti-aliased outlines directly to a given\n+   *   background bitmap, and even perform translucency.\n+   *\/\n@@ -872,8 +899,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    FT_Raster_BitTest_Func                                             *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Deprecated, unimplemented.                                         *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   FT_Raster_BitTest_Func\n+   *\n+   * @description:\n+   *   Deprecated, unimplemented.\n+   *\/\n@@ -886,8 +913,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    FT_Raster_BitSet_Func                                              *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Deprecated, unimplemented.                                         *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   FT_Raster_BitSet_Func\n+   *\n+   * @description:\n+   *   Deprecated, unimplemented.\n+   *\/\n@@ -900,40 +927,35 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Enum>                                                                *\/\n-  \/*    FT_RASTER_FLAG_XXX                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A list of bit flag constants as used in the `flags' field of a     *\/\n-  \/*    @FT_Raster_Params structure.                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Values>                                                              *\/\n-  \/*    FT_RASTER_FLAG_DEFAULT :: This value is 0.                         *\/\n-  \/*                                                                       *\/\n-  \/*    FT_RASTER_FLAG_AA      :: This flag is set to indicate that an     *\/\n-  \/*                              anti-aliased glyph image should be       *\/\n-  \/*                              generated.  Otherwise, it will be        *\/\n-  \/*                              monochrome (1-bit).                      *\/\n-  \/*                                                                       *\/\n-  \/*    FT_RASTER_FLAG_DIRECT  :: This flag is set to indicate direct      *\/\n-  \/*                              rendering.  In this mode, client         *\/\n-  \/*                              applications must provide their own span *\/\n-  \/*                              callback.  This lets them directly       *\/\n-  \/*                              draw or compose over an existing bitmap. *\/\n-  \/*                              If this bit is not set, the target       *\/\n-  \/*                              pixmap's buffer _must_ be zeroed before  *\/\n-  \/*                              rendering.                               *\/\n-  \/*                                                                       *\/\n-  \/*                              Direct rendering is only possible with   *\/\n-  \/*                              anti-aliased glyphs.                     *\/\n-  \/*                                                                       *\/\n-  \/*    FT_RASTER_FLAG_CLIP    :: This flag is only used in direct         *\/\n-  \/*                              rendering mode.  If set, the output will *\/\n-  \/*                              be clipped to a box specified in the     *\/\n-  \/*                              `clip_box' field of the                  *\/\n-  \/*                              @FT_Raster_Params structure.             *\/\n-  \/*                                                                       *\/\n-  \/*                              Note that by default, the glyph bitmap   *\/\n-  \/*                              is clipped to the target pixmap, except  *\/\n-  \/*                              in direct rendering mode where all spans *\/\n-  \/*                              are generated if no clipping box is set. *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @enum:\n+   *   FT_RASTER_FLAG_XXX\n+   *\n+   * @description:\n+   *   A list of bit flag constants as used in the `flags` field of a\n+   *   @FT_Raster_Params structure.\n+   *\n+   * @values:\n+   *   FT_RASTER_FLAG_DEFAULT ::\n+   *     This value is 0.\n+   *\n+   *   FT_RASTER_FLAG_AA ::\n+   *     This flag is set to indicate that an anti-aliased glyph image should\n+   *     be generated.  Otherwise, it will be monochrome (1-bit).\n+   *\n+   *   FT_RASTER_FLAG_DIRECT ::\n+   *     This flag is set to indicate direct rendering.  In this mode, client\n+   *     applications must provide their own span callback.  This lets them\n+   *     directly draw or compose over an existing bitmap.  If this bit is\n+   *     not set, the target pixmap's buffer _must_ be zeroed before\n+   *     rendering.\n+   *\n+   *     Direct rendering is only possible with anti-aliased glyphs.\n+   *\n+   *   FT_RASTER_FLAG_CLIP ::\n+   *     This flag is only used in direct rendering mode.  If set, the output\n+   *     will be clipped to a box specified in the `clip_box` field of the\n+   *     @FT_Raster_Params structure.\n+   *\n+   *     Note that by default, the glyph bitmap is clipped to the target\n+   *     pixmap, except in direct rendering mode where all spans are\n+   *     generated if no clipping box is set.\n+   *\/\n@@ -946,1 +968,1 @@\n-  \/* `FT_RASTER_FLAG_XXX' values instead                   *\/\n+  \/* `FT_RASTER_FLAG_XXX` values instead                   *\/\n@@ -953,44 +975,49 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_Raster_Params                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure to hold the arguments used by a raster's render        *\/\n-  \/*    function.                                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    target      :: The target bitmap.                                  *\/\n-  \/*                                                                       *\/\n-  \/*    source      :: A pointer to the source glyph image (e.g., an       *\/\n-  \/*                   @FT_Outline).                                       *\/\n-  \/*                                                                       *\/\n-  \/*    flags       :: The rendering flags.                                *\/\n-  \/*                                                                       *\/\n-  \/*    gray_spans  :: The gray span drawing callback.                     *\/\n-  \/*                                                                       *\/\n-  \/*    black_spans :: Unused.                                             *\/\n-  \/*                                                                       *\/\n-  \/*    bit_test    :: Unused.                                             *\/\n-  \/*                                                                       *\/\n-  \/*    bit_set     :: Unused.                                             *\/\n-  \/*                                                                       *\/\n-  \/*    user        :: User-supplied data that is passed to each drawing   *\/\n-  \/*                   callback.                                           *\/\n-  \/*                                                                       *\/\n-  \/*    clip_box    :: An optional clipping box.  It is only used in       *\/\n-  \/*                   direct rendering mode.  Note that coordinates here  *\/\n-  \/*                   should be expressed in _integer_ pixels (and not in *\/\n-  \/*                   26.6 fixed-point units).                            *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    An anti-aliased glyph bitmap is drawn if the @FT_RASTER_FLAG_AA    *\/\n-  \/*    bit flag is set in the `flags' field, otherwise a monochrome       *\/\n-  \/*    bitmap is generated.                                               *\/\n-  \/*                                                                       *\/\n-  \/*    If the @FT_RASTER_FLAG_DIRECT bit flag is set in `flags', the      *\/\n-  \/*    raster will call the `gray_spans' callback to draw gray pixel      *\/\n-  \/*    spans.  This allows direct composition over a pre-existing bitmap  *\/\n-  \/*    through user-provided callbacks to perform the span drawing and    *\/\n-  \/*    composition.    Not supported by the monochrome rasterizer.        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_Raster_Params\n+   *\n+   * @description:\n+   *   A structure to hold the arguments used by a raster's render function.\n+   *\n+   * @fields:\n+   *   target ::\n+   *     The target bitmap.\n+   *\n+   *   source ::\n+   *     A pointer to the source glyph image (e.g., an @FT_Outline).\n+   *\n+   *   flags ::\n+   *     The rendering flags.\n+   *\n+   *   gray_spans ::\n+   *     The gray span drawing callback.\n+   *\n+   *   black_spans ::\n+   *     Unused.\n+   *\n+   *   bit_test ::\n+   *     Unused.\n+   *\n+   *   bit_set ::\n+   *     Unused.\n+   *\n+   *   user ::\n+   *     User-supplied data that is passed to each drawing callback.\n+   *\n+   *   clip_box ::\n+   *     An optional clipping box.  It is only used in direct rendering mode.\n+   *     Note that coordinates here should be expressed in _integer_ pixels\n+   *     (and not in 26.6 fixed-point units).\n+   *\n+   * @note:\n+   *   An anti-aliased glyph bitmap is drawn if the @FT_RASTER_FLAG_AA bit\n+   *   flag is set in the `flags` field, otherwise a monochrome bitmap is\n+   *   generated.\n+   *\n+   *   If the @FT_RASTER_FLAG_DIRECT bit flag is set in `flags`, the raster\n+   *   will call the `gray_spans` callback to draw gray pixel spans.  This\n+   *   allows direct composition over a pre-existing bitmap through\n+   *   user-provided callbacks to perform the span drawing and composition.\n+   *   Not supported by the monochrome rasterizer.\n+   *\/\n@@ -1012,24 +1039,26 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    FT_Raster_NewFunc                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A function used to create a new raster object.                     *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    memory :: A handle to the memory allocator.                        *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    raster :: A handle to the new raster object.                       *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    Error code.  0~means success.                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The `memory' parameter is a typeless pointer in order to avoid     *\/\n-  \/*    un-wanted dependencies on the rest of the FreeType code.  In       *\/\n-  \/*    practice, it is an @FT_Memory object, i.e., a handle to the        *\/\n-  \/*    standard FreeType memory allocator.  However, this field can be    *\/\n-  \/*    completely ignored by a given raster implementation.               *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   FT_Raster_NewFunc\n+   *\n+   * @description:\n+   *   A function used to create a new raster object.\n+   *\n+   * @input:\n+   *   memory ::\n+   *     A handle to the memory allocator.\n+   *\n+   * @output:\n+   *   raster ::\n+   *     A handle to the new raster object.\n+   *\n+   * @return:\n+   *   Error code.  0~means success.\n+   *\n+   * @note:\n+   *   The `memory` parameter is a typeless pointer in order to avoid\n+   *   un-wanted dependencies on the rest of the FreeType code.  In practice,\n+   *   it is an @FT_Memory object, i.e., a handle to the standard FreeType\n+   *   memory allocator.  However, this field can be completely ignored by a\n+   *   given raster implementation.\n+   *\/\n@@ -1043,11 +1072,12 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    FT_Raster_DoneFunc                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A function used to destroy a given raster object.                  *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    raster :: A handle to the raster object.                           *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   FT_Raster_DoneFunc\n+   *\n+   * @description:\n+   *   A function used to destroy a given raster object.\n+   *\n+   * @input:\n+   *   raster ::\n+   *     A handle to the raster object.\n+   *\/\n@@ -1060,26 +1090,28 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    FT_Raster_ResetFunc                                                *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    FreeType used to provide an area of memory called the `render      *\/\n-  \/*    pool' available to all registered rasterizers.  This was not       *\/\n-  \/*    thread safe, however, and now FreeType never allocates this pool.  *\/\n-  \/*                                                                       *\/\n-  \/*    This function is called after a new raster object is created.      *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    raster    :: A handle to the new raster object.                    *\/\n-  \/*                                                                       *\/\n-  \/*    pool_base :: Previously, the address in memory of the render pool. *\/\n-  \/*                 Set this to NULL.                                     *\/\n-  \/*                                                                       *\/\n-  \/*    pool_size :: Previously, the size in bytes of the render pool.     *\/\n-  \/*                 Set this to 0.                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    Rasterizers should rely on dynamic or stack allocation if they     *\/\n-  \/*    want to (a handle to the memory allocator is passed to the         *\/\n-  \/*    rasterizer constructor).                                           *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   FT_Raster_ResetFunc\n+   *\n+   * @description:\n+   *   FreeType used to provide an area of memory called the 'render pool'\n+   *   available to all registered rasterizers.  This was not thread safe,\n+   *   however, and now FreeType never allocates this pool.\n+   *\n+   *   This function is called after a new raster object is created.\n+   *\n+   * @input:\n+   *   raster ::\n+   *     A handle to the new raster object.\n+   *\n+   *   pool_base ::\n+   *     Previously, the address in memory of the render pool.  Set this to\n+   *     `NULL`.\n+   *\n+   *   pool_size ::\n+   *     Previously, the size in bytes of the render pool.  Set this to 0.\n+   *\n+   * @note:\n+   *   Rasterizers should rely on dynamic or stack allocation if they want to\n+   *   (a handle to the memory allocator is passed to the rasterizer\n+   *   constructor).\n+   *\/\n@@ -1094,18 +1126,20 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    FT_Raster_SetModeFunc                                              *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This function is a generic facility to change modes or attributes  *\/\n-  \/*    in a given raster.  This can be used for debugging purposes, or    *\/\n-  \/*    simply to allow implementation-specific `features' in a given      *\/\n-  \/*    raster module.                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    raster :: A handle to the new raster object.                       *\/\n-  \/*                                                                       *\/\n-  \/*    mode   :: A 4-byte tag used to name the mode or property.          *\/\n-  \/*                                                                       *\/\n-  \/*    args   :: A pointer to the new mode\/property to use.               *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   FT_Raster_SetModeFunc\n+   *\n+   * @description:\n+   *   This function is a generic facility to change modes or attributes in a\n+   *   given raster.  This can be used for debugging purposes, or simply to\n+   *   allow implementation-specific 'features' in a given raster module.\n+   *\n+   * @input:\n+   *   raster ::\n+   *     A handle to the new raster object.\n+   *\n+   *   mode ::\n+   *     A 4-byte tag used to name the mode or property.\n+   *\n+   *   args ::\n+   *     A pointer to the new mode\/property to use.\n+   *\/\n@@ -1120,34 +1154,30 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    FT_Raster_RenderFunc                                               *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Invoke a given raster to scan-convert a given glyph image into a   *\/\n-  \/*    target bitmap.                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    raster :: A handle to the raster object.                           *\/\n-  \/*                                                                       *\/\n-  \/*    params :: A pointer to an @FT_Raster_Params structure used to      *\/\n-  \/*              store the rendering parameters.                          *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    Error code.  0~means success.                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The exact format of the source image depends on the raster's glyph *\/\n-  \/*    format defined in its @FT_Raster_Funcs structure.  It can be an    *\/\n-  \/*    @FT_Outline or anything else in order to support a large array of  *\/\n-  \/*    glyph formats.                                                     *\/\n-  \/*                                                                       *\/\n-  \/*    Note also that the render function can fail and return a           *\/\n-  \/*    `FT_Err_Unimplemented_Feature' error code if the raster used does  *\/\n-  \/*    not support direct composition.                                    *\/\n-  \/*                                                                       *\/\n-  \/*    XXX: For now, the standard raster doesn't support direct           *\/\n-  \/*         composition but this should change for the final release (see *\/\n-  \/*         the files `demos\/src\/ftgrays.c' and `demos\/src\/ftgrays2.c'    *\/\n-  \/*         for examples of distinct implementations that support direct  *\/\n-  \/*         composition).                                                 *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   FT_Raster_RenderFunc\n+   *\n+   * @description:\n+   *   Invoke a given raster to scan-convert a given glyph image into a\n+   *   target bitmap.\n+   *\n+   * @input:\n+   *   raster ::\n+   *     A handle to the raster object.\n+   *\n+   *   params ::\n+   *     A pointer to an @FT_Raster_Params structure used to store the\n+   *     rendering parameters.\n+   *\n+   * @return:\n+   *   Error code.  0~means success.\n+   *\n+   * @note:\n+   *   The exact format of the source image depends on the raster's glyph\n+   *   format defined in its @FT_Raster_Funcs structure.  It can be an\n+   *   @FT_Outline or anything else in order to support a large array of\n+   *   glyph formats.\n+   *\n+   *   Note also that the render function can fail and return a\n+   *   `FT_Err_Unimplemented_Feature` error code if the raster used does not\n+   *   support direct composition.\n+   *\/\n@@ -1161,19 +1191,24 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_Raster_Funcs                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*   A structure used to describe a given raster class to the library.   *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    glyph_format  :: The supported glyph format for this raster.       *\/\n-  \/*                                                                       *\/\n-  \/*    raster_new    :: The raster constructor.                           *\/\n-  \/*                                                                       *\/\n-  \/*    raster_reset  :: Used to reset the render pool within the raster.  *\/\n-  \/*                                                                       *\/\n-  \/*    raster_render :: A function to render a glyph into a given bitmap. *\/\n-  \/*                                                                       *\/\n-  \/*    raster_done   :: The raster destructor.                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_Raster_Funcs\n+   *\n+   * @description:\n+   *  A structure used to describe a given raster class to the library.\n+   *\n+   * @fields:\n+   *   glyph_format ::\n+   *     The supported glyph format for this raster.\n+   *\n+   *   raster_new ::\n+   *     The raster constructor.\n+   *\n+   *   raster_reset ::\n+   *     Used to reset the render pool within the raster.\n+   *\n+   *   raster_render ::\n+   *     A function to render a glyph into a given bitmap.\n+   *\n+   *   raster_done ::\n+   *     The raster destructor.\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/ftimage.h","additions":904,"deletions":869,"binary":false,"changes":1773,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftincrem.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    FreeType incremental loading (specification).                        *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2002-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftincrem.h\n+ *\n+ *   FreeType incremental loading (specification).\n+ *\n+ * Copyright (C) 2002-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -35,1 +35,1 @@\n-  \/***************************************************************************\n+  \/**************************************************************************\n@@ -48,1 +48,1 @@\n-   *   `incremental' glyph loading.  This is a mode where all glyphs loaded\n+   *   'incremental' glyph loading.  This is a mode where all glyphs loaded\n@@ -63,1 +63,1 @@\n-  \/***************************************************************************\n+  \/**************************************************************************\n@@ -70,4 +70,4 @@\n-   *   `incremental' glyph loading within FreeType.  This is used to support\n-   *   embedded fonts in certain environments (e.g., PostScript interpreters),\n-   *   where the glyph data isn't in the font file, or must be overridden by\n-   *   different values.\n+   *   'incremental' glyph loading within FreeType.  This is used to support\n+   *   embedded fonts in certain environments (e.g., PostScript\n+   *   interpreters), where the glyph data isn't in the font file, or must be\n+   *   overridden by different values.\n@@ -76,4 +76,5 @@\n-   *   It is up to client applications to create and implement @FT_Incremental\n-   *   objects, as long as they provide implementations for the methods\n-   *   @FT_Incremental_GetGlyphDataFunc, @FT_Incremental_FreeGlyphDataFunc\n-   *   and @FT_Incremental_GetGlyphMetricsFunc.\n+   *   It is up to client applications to create and implement\n+   *   @FT_Incremental objects, as long as they provide implementations for\n+   *   the methods @FT_Incremental_GetGlyphDataFunc,\n+   *   @FT_Incremental_FreeGlyphDataFunc and\n+   *   @FT_Incremental_GetGlyphMetricsFunc.\n@@ -88,1 +89,1 @@\n-  \/***************************************************************************\n+  \/**************************************************************************\n@@ -94,2 +95,2 @@\n-   *   A small structure used to contain the basic glyph metrics returned\n-   *   by the @FT_Incremental_GetGlyphMetricsFunc method.\n+   *   A small structure used to contain the basic glyph metrics returned by\n+   *   the @FT_Incremental_GetGlyphMetricsFunc method.\n@@ -112,1 +113,1 @@\n-   *   value of the `vertical' argument to the function\n+   *   value of the `vertical` argument to the function\n@@ -126,1 +127,1 @@\n-  \/***************************************************************************\n+  \/**************************************************************************\n@@ -138,1 +139,1 @@\n-  \/***************************************************************************\n+  \/**************************************************************************\n@@ -150,2 +151,2 @@\n-   *   the `glyf' table.  For PostScript formats, it must correspond to the\n-   *   *unencrypted* charstring bytes, without any `lenIV' header.  It is\n+   *   the 'glyf' table.  For PostScript formats, it must correspond to the\n+   *   **unencrypted** charstring bytes, without any `lenIV` header.  It is\n@@ -172,2 +173,2 @@\n-   *   @FT_Incremental_FreeGlyphDataFunc will be called later to release\n-   *   the data bytes.\n+   *   @FT_Incremental_FreeGlyphDataFunc will be called later to release the\n+   *   data bytes.\n@@ -185,1 +186,1 @@\n-  \/***************************************************************************\n+  \/**************************************************************************\n@@ -209,1 +210,1 @@\n-  \/***************************************************************************\n+  \/**************************************************************************\n@@ -217,2 +218,2 @@\n-   *   formats like TrueType, the metrics are stored in a different place from\n-   *   the glyph images proper.\n+   *   formats like TrueType, the metrics are stored in a different place\n+   *   from the glyph images proper.\n@@ -232,3 +233,3 @@\n-   *     This parameter is used for both input and output.\n-   *     The original glyph metrics, if any, in font units.  If metrics are\n-   *     not available all the values must be set to zero.\n+   *     This parameter is used for both input and output.  The original\n+   *     glyph metrics, if any, in font units.  If metrics are not available\n+   *     all the values must be set to zero.\n@@ -255,2 +256,2 @@\n-   *   A table of functions for accessing fonts that load data\n-   *   incrementally.  Used in @FT_Incremental_InterfaceRec.\n+   *   A table of functions for accessing fonts that load data incrementally.\n+   *   Used in @FT_Incremental_InterfaceRec.\n@@ -266,2 +267,2 @@\n-   *     The function to get glyph metrics.  May be null if the font does\n-   *     not provide overriding glyph metrics.\n+   *     The function to get glyph metrics.  May be null if the font does not\n+   *     provide overriding glyph metrics.\n@@ -279,1 +280,1 @@\n-  \/***************************************************************************\n+  \/**************************************************************************\n@@ -289,4 +290,4 @@\n-   *     {\n-   *       FT_Incremental_InterfaceRec  inc_int;\n-   *       FT_Parameter                 parameter;\n-   *       FT_Open_Args                 open_args;\n+   *   ```\n+   *     FT_Incremental_InterfaceRec  inc_int;\n+   *     FT_Parameter                 parameter;\n+   *     FT_Open_Args                 open_args;\n@@ -295,3 +296,3 @@\n-   *       \/\/ set up incremental descriptor\n-   *       inc_int.funcs  = my_funcs;\n-   *       inc_int.object = my_object;\n+   *     \/\/ set up incremental descriptor\n+   *     inc_int.funcs  = my_funcs;\n+   *     inc_int.object = my_object;\n@@ -299,3 +300,3 @@\n-   *       \/\/ set up optional parameter\n-   *       parameter.tag  = FT_PARAM_TAG_INCREMENTAL;\n-   *       parameter.data = &inc_int;\n+   *     \/\/ set up optional parameter\n+   *     parameter.tag  = FT_PARAM_TAG_INCREMENTAL;\n+   *     parameter.data = &inc_int;\n@@ -303,5 +304,5 @@\n-   *       \/\/ set up FT_Open_Args structure\n-   *       open_args.flags      = FT_OPEN_PATHNAME | FT_OPEN_PARAMS;\n-   *       open_args.pathname   = my_font_pathname;\n-   *       open_args.num_params = 1;\n-   *       open_args.params     = &parameter; \/\/ we use one optional argument\n+   *     \/\/ set up FT_Open_Args structure\n+   *     open_args.flags      = FT_OPEN_PATHNAME | FT_OPEN_PARAMS;\n+   *     open_args.pathname   = my_font_pathname;\n+   *     open_args.num_params = 1;\n+   *     open_args.params     = &parameter; \/\/ we use one optional argument\n@@ -309,4 +310,4 @@\n-   *       \/\/ open the font\n-   *       error = FT_Open_Face( library, &open_args, index, &face );\n-   *       ...\n-   *     }\n+   *     \/\/ open the font\n+   *     error = FT_Open_Face( library, &open_args, index, &face );\n+   *     ...\n+   *   ```\n@@ -323,1 +324,1 @@\n-  \/***************************************************************************\n+  \/**************************************************************************\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/ftincrem.h","additions":70,"deletions":69,"binary":false,"changes":139,"status":"modified"},{"patch":"@@ -1,17 +1,17 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftlcdfil.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    FreeType API for color filtering of subpixel bitmap glyphs           *\/\n-\/*    (specification).                                                     *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2006-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftlcdfil.h\n+ *\n+ *   FreeType API for color filtering of subpixel bitmap glyphs\n+ *   (specification).\n+ *\n+ * Copyright (C) 2006-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -36,1 +36,1 @@\n-  \/***************************************************************************\n+  \/**************************************************************************\n@@ -39,1 +39,1 @@\n-   *   lcd_filtering\n+   *   lcd_rendering\n@@ -42,1 +42,1 @@\n-   *   LCD Filtering\n+   *   Subpixel Rendering\n@@ -45,1 +45,1 @@\n-   *   Reduce color fringes of subpixel-rendered bitmaps.\n+   *   API to control subpixel rendering.\n@@ -48,6 +48,7 @@\n-   *   Should you #define FT_CONFIG_OPTION_SUBPIXEL_RENDERING in your\n-   *   `ftoption.h', which enables patented ClearType-style rendering,\n-   *   the LCD-optimized glyph bitmaps should be filtered to reduce color\n-   *   fringes inherent to this technology.  The default FreeType LCD\n-   *   rendering uses different technology, and API described below,\n-   *   although available, does nothing.\n+   *   FreeType provides two alternative subpixel rendering technologies.\n+   *   Should you define `FT_CONFIG_OPTION_SUBPIXEL_RENDERING` in your\n+   *   `ftoption.h` file, this enables patented ClearType-style rendering.\n+   *   Otherwise, Harmony LCD rendering is enabled.  These technologies are\n+   *   controlled differently and API described below, although always\n+   *   available, performs its function when appropriate method is enabled\n+   *   and does nothing otherwise.\n@@ -57,74 +58,66 @@\n-   *   the stripe (usually horizontal RGB) by a factor of~3.  Since these\n-   *   subpixels are color pixels, using them unfiltered creates severe\n-   *   color fringes.  Use the @FT_Library_SetLcdFilter API to specify a\n-   *   low-pass filter, which is then applied to subpixel-rendered bitmaps\n-   *   generated through @FT_Render_Glyph.  The filter sacrifices some of\n-   *   the higher resolution to reduce color fringes, making the glyph image\n-   *   slightly blurrier.  Positional improvements will remain.\n-   *\n-   *   A filter should have two properties:\n-   *\n-   *   1) It should be normalized, meaning the sum of the 5~components\n-   *      should be 256 (0x100).  It is possible to go above or under this\n-   *      target sum, however: going under means tossing out contrast, going\n-   *      over means invoking clamping and thereby non-linearities that\n-   *      increase contrast somewhat at the expense of greater distortion\n-   *      and color-fringing.  Contrast is better enhanced through stem\n-   *      darkening.\n-   *\n-   *   2) It should be color-balanced, meaning a filter `{~a, b, c, b, a~}'\n-   *      where a~+ b~=~c.  It distributes the computed coverage for one\n-   *      subpixel to all subpixels equally, sacrificing some won resolution\n-   *      but drastically reducing color-fringing.  Positioning improvements\n-   *      remain!  Note that color-fringing can only really be minimized\n-   *      when using a color-balanced filter and alpha-blending the glyph\n-   *      onto a surface in linear space; see @FT_Render_Glyph.\n-   *\n-   *   Regarding the form, a filter can be a `boxy' filter or a `beveled'\n-   *   filter.  Boxy filters are sharper but are less forgiving of non-ideal\n-   *   gamma curves of a screen (viewing angles!), beveled filters are\n-   *   fuzzier but more tolerant.\n-   *\n-   *   Examples:\n-   *\n-   *   - [0x10 0x40 0x70 0x40 0x10] is beveled and neither balanced nor\n-   *     normalized.\n-   *\n-   *   - [0x1A 0x33 0x4D 0x33 0x1A] is beveled and balanced but not\n-   *     normalized.\n-   *\n-   *   - [0x19 0x33 0x66 0x4c 0x19] is beveled and normalized but not\n-   *     balanced.\n-   *\n-   *   - [0x00 0x4c 0x66 0x4c 0x00] is boxily beveled and normalized but not\n-   *     balanced.\n-   *\n-   *   - [0x00 0x55 0x56 0x55 0x00] is boxy, normalized, and almost\n-   *     balanced.\n-   *\n-   *   - [0x08 0x4D 0x56 0x4D 0x08] is beveled, normalized and, almost\n-   *     balanced.\n-   *\n-   *   The filter affects glyph bitmaps rendered through @FT_Render_Glyph,\n-   *   @FT_Load_Glyph, and @FT_Load_Char.  It does _not_ affect the output\n-   *   of @FT_Outline_Render and @FT_Outline_Get_Bitmap.\n-   *\n-   *   If this feature is activated, the dimensions of LCD glyph bitmaps are\n-   *   either wider or taller than the dimensions of the corresponding\n-   *   outline with regard to the pixel grid.  For example, for\n-   *   @FT_RENDER_MODE_LCD, the filter adds 3~subpixels to the left, and\n-   *   3~subpixels to the right.  The bitmap offset values are adjusted\n-   *   accordingly, so clients shouldn't need to modify their layout and\n-   *   glyph positioning code when enabling the filter.\n-   *\n-   *   It is important to understand that linear alpha blending and gamma\n-   *   correction is critical for correctly rendering glyphs onto surfaces\n-   *   without artifacts and even more critical when subpixel rendering is\n-   *   involved.\n-   *\n-   *   Each of the 3~alpha values (subpixels) is independently used to blend\n-   *   one color channel.  That is, red alpha blends the red channel of the\n-   *   text color with the red channel of the background pixel.  The\n-   *   distribution of density values by the color-balanced filter assumes\n-   *   alpha blending is done in linear space; only then color artifacts\n-   *   cancel out.\n+   *   the stripe (usually horizontal RGB) by a factor of~3.  Using the\n+   *   subpixels coverages unfiltered can create severe color fringes\n+   *   especially when rendering thin features.  Indeed, to produce\n+   *   black-on-white text, the nearby color subpixels must be dimmed\n+   *   equally.\n+   *\n+   *   A good 5-tap FIR filter should be applied to subpixel coverages\n+   *   regardless of pixel boundaries and should have these properties:\n+   *\n+   *   1. It should be symmetrical, like {~a, b, c, b, a~}, to avoid\n+   *      any shifts in appearance.\n+   *\n+   *   2. It should be color-balanced, meaning a~+ b~=~c, to reduce color\n+   *      fringes by distributing the computed coverage for one subpixel to\n+   *      all subpixels equally.\n+   *\n+   *   3. It should be normalized, meaning 2a~+ 2b~+ c~=~1.0 to maintain\n+   *      overall brightness.\n+   *\n+   *   Boxy 3-tap filter {0, 1\/3, 1\/3, 1\/3, 0} is sharper but is less\n+   *   forgiving of non-ideal gamma curves of a screen (and viewing angles),\n+   *   beveled filters are fuzzier but more tolerant.\n+   *\n+   *   Use the @FT_Library_SetLcdFilter or @FT_Library_SetLcdFilterWeights\n+   *   API to specify a low-pass filter, which is then applied to\n+   *   subpixel-rendered bitmaps generated through @FT_Render_Glyph.\n+   *\n+   *   Harmony LCD rendering is suitable to panels with any regular subpixel\n+   *   structure, not just monitors with 3 color striped subpixels, as long\n+   *   as the color subpixels have fixed positions relative to the pixel\n+   *   center.  In this case, each color channel is then rendered separately\n+   *   after shifting the outline opposite to the subpixel shift so that the\n+   *   coverage maps are aligned.  This method is immune to color fringes\n+   *   because the shifts do not change integral coverage.\n+   *\n+   *   The subpixel geometry must be specified by xy-coordinates for each\n+   *   subpixel. By convention they may come in the RGB order: {{-1\/3, 0},\n+   *   {0, 0}, {1\/3, 0}} for standard RGB striped panel or {{-1\/6, 1\/4},\n+   *   {-1\/6, -1\/4}, {1\/3, 0}} for a certain PenTile panel.\n+   *\n+   *   Use the @FT_Library_SetLcdGeometry API to specify subpixel positions.\n+   *   If one follows the RGB order convention, the same order applies to the\n+   *   resulting @FT_PIXEL_MODE_LCD and @FT_PIXEL_MODE_LCD_V bitmaps.  Note,\n+   *   however, that the coordinate frame for the latter must be rotated\n+   *   clockwise.  Harmony with default LCD geometry is equivalent to\n+   *   ClearType with light filter.\n+   *\n+   *   As a result of ClearType filtering or Harmony rendering, the\n+   *   dimensions of LCD bitmaps can be either wider or taller than the\n+   *   dimensions of the corresponding outline with regard to the pixel grid.\n+   *   For example, for @FT_RENDER_MODE_LCD, the filter adds 2~subpixels to\n+   *   the left, and 2~subpixels to the right.  The bitmap offset values are\n+   *   adjusted accordingly, so clients shouldn't need to modify their layout\n+   *   and glyph positioning code when enabling the filter.\n+   *\n+   *   The ClearType and Harmony rendering is applicable to glyph bitmaps\n+   *   rendered through @FT_Render_Glyph, @FT_Load_Glyph, @FT_Load_Char, and\n+   *   @FT_Glyph_To_Bitmap, when @FT_RENDER_MODE_LCD or @FT_RENDER_MODE_LCD_V\n+   *   is specified.  This API does not control @FT_Outline_Render and\n+   *   @FT_Outline_Get_Bitmap.\n+   *\n+   *   The described algorithms can completely remove color artefacts when\n+   *   combined with gamma-corrected alpha blending in linear space.  Each of\n+   *   the 3~alpha values (subpixels) must by independently used to blend one\n+   *   color channel.  That is, red alpha blends the red channel of the text\n+   *   color with the red channel of the background pixel.\n@@ -134,1 +127,1 @@\n-  \/****************************************************************************\n+  \/**************************************************************************\n@@ -148,9 +141,2 @@\n-   *     The default filter reduces color fringes considerably, at the cost\n-   *     of a slight blurriness in the output.\n-   *\n-   *     It is a beveled, normalized, and color-balanced five-tap filter\n-   *     that is more forgiving to screens with non-ideal gamma curves and\n-   *     viewing angles.  Note that while color-fringing is reduced, it can\n-   *     only be minimized by using linear alpha blending and gamma\n-   *     correction to render glyphs onto surfaces.  The default filter\n-   *     weights are [0x08 0x4D 0x56 0x4D 0x08].\n+   *     This is a beveled, normalized, and color-balanced five-tap filter\n+   *     with weights of [0x08 0x4D 0x56 0x4D 0x08] in 1\/256th units.\n@@ -159,9 +145,2 @@\n-   *     The light filter is a variant that is sharper at the cost of\n-   *     slightly more color fringes than the default one.\n-   *\n-   *     It is a boxy, normalized, and color-balanced three-tap filter that\n-   *     is less forgiving to screens with non-ideal gamma curves and\n-   *     viewing angles.  This filter works best when the rendering system\n-   *     uses linear alpha blending and gamma correction to render glyphs\n-   *     onto surfaces.  The light filter weights are\n-   *     [0x00 0x55 0x56 0x55 0x00].\n+   *     this is a boxy, normalized, and color-balanced three-tap filter with\n+   *     weights of [0x00 0x55 0x56 0x55 0x00] in 1\/256th units.\n@@ -170,0 +149,1 @@\n+   *   FT_LCD_FILTER_LEGACY1 ::\n@@ -173,3 +153,0 @@\n-   *     In other words, it only works well if the TrueType bytecode\n-   *     interpreter is enabled *and* high-quality hinted fonts are used.\n-   *\n@@ -177,9 +154,3 @@\n-   *     disabled or stay unsupported in the future.\n-   *\n-   *   FT_LCD_FILTER_LEGACY1 ::\n-   *     For historical reasons, the FontConfig library returns a different\n-   *     enumeration value for legacy LCD filtering.  To make code work that\n-   *     (incorrectly) forwards FontConfig's enumeration value to\n-   *     @FT_Library_SetLcdFilter without proper mapping, it is thus easiest\n-   *     to have another enumeration value, which is completely equal to\n-   *     `FT_LCD_FILTER_LEGACY'.\n+   *     disabled or stay unsupported in the future. The second value is\n+   *     provided for compatibility with FontConfig, which historically used\n+   *     different enumeration, sometimes incorrectly forwarded to FreeType.\n@@ -188,1 +159,1 @@\n-   *   2.3.0 (`FT_LCD_FILTER_LEGACY1' since 2.6.2)\n+   *   2.3.0 (`FT_LCD_FILTER_LEGACY1` since 2.6.2)\n@@ -205,1 +176,1 @@\n-   * @func:\n+   * @function:\n@@ -221,2 +192,2 @@\n-   *     @FT_LCD_FILTER_DEFAULT to use a default filter that should work\n-   *     well on most LCD screens.\n+   *     @FT_LCD_FILTER_DEFAULT to use a default filter that should work well\n+   *     on most LCD screens.\n@@ -229,1 +200,1 @@\n-   *   explicit call to this function with a `filter' value other than\n+   *   explicit call to this function with a `filter` value other than\n@@ -232,3 +203,3 @@\n-   *   Due to *PATENTS* covering subpixel rendering, this function doesn't\n-   *   do anything except returning `FT_Err_Unimplemented_Feature' if the\n-   *   configuration macro FT_CONFIG_OPTION_SUBPIXEL_RENDERING is not\n+   *   Due to **PATENTS** covering subpixel rendering, this function doesn't\n+   *   do anything except returning `FT_Err_Unimplemented_Feature` if the\n+   *   configuration macro `FT_CONFIG_OPTION_SUBPIXEL_RENDERING` is not\n@@ -248,1 +219,1 @@\n-   * @func:\n+   * @function:\n@@ -261,1 +232,1 @@\n-   *     uses them to specify the filter weights.\n+   *     uses them to specify the filter weights in 1\/256th units.\n@@ -267,3 +238,3 @@\n-   *   Due to *PATENTS* covering subpixel rendering, this function doesn't\n-   *   do anything except returning `FT_Err_Unimplemented_Feature' if the\n-   *   configuration macro FT_CONFIG_OPTION_SUBPIXEL_RENDERING is not\n+   *   Due to **PATENTS** covering subpixel rendering, this function doesn't\n+   *   do anything except returning `FT_Err_Unimplemented_Feature` if the\n+   *   configuration macro `FT_CONFIG_OPTION_SUBPIXEL_RENDERING` is not\n@@ -284,1 +255,2 @@\n-  \/*\n+  \/**************************************************************************\n+   *\n@@ -301,0 +273,47 @@\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Library_SetLcdGeometry\n+   *\n+   * @description:\n+   *   This function can be used to modify default positions of color\n+   *   subpixels, which controls Harmony LCD rendering.\n+   *\n+   * @input:\n+   *   library ::\n+   *     A handle to the target library instance.\n+   *\n+   *   sub ::\n+   *     A pointer to an array of 3 vectors in 26.6 fractional pixel format;\n+   *     the function modifies the default values, see the note below.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   Subpixel geometry examples:\n+   *\n+   *   - {{-21, 0}, {0, 0}, {21, 0}} is the default, corresponding to 3 color\n+   *   stripes shifted by a third of a pixel. This could be an RGB panel.\n+   *\n+   *   - {{21, 0}, {0, 0}, {-21, 0}} looks the same as the default but can\n+   *   specify a BGR panel instead, while keeping the bitmap in the same\n+   *   RGB888 format.\n+   *\n+   *   - {{0, 21}, {0, 0}, {0, -21}} is the vertical RGB, but the bitmap\n+   *   stays RGB888 as a result.\n+   *\n+   *   - {{-11, 16}, {-11, -16}, {22, 0}} is a certain PenTile arrangement.\n+   *\n+   *   This function does nothing and returns `FT_Err_Unimplemented_Feature`\n+   *   in the context of ClearType-style subpixel rendering when\n+   *   `FT_CONFIG_OPTION_SUBPIXEL_RENDERING` is defined in your build of the\n+   *   library.\n+   *\n+   * @since:\n+   *   2.10.0\n+   *\/\n+  FT_EXPORT( FT_Error )\n+  FT_Library_SetLcdGeometry( FT_Library  library,\n+                             FT_Vector   sub[3] );\n+\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/ftlcdfil.h","additions":165,"deletions":146,"binary":false,"changes":311,"status":"modified"},{"patch":"@@ -1,24 +1,24 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftlist.h                                                               *\/\n-\/*                                                                         *\/\n-\/*    Generic list support for FreeType (specification).                   *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*  This file implements functions relative to list processing.  Its     *\/\n-  \/*  data structures are defined in `freetype.h'.                         *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftlist.h\n+ *\n+ *   Generic list support for FreeType (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * This file implements functions relative to list processing.  Its data\n+   * structures are defined in `freetype.h`.\n+   *\n+   *\/\n@@ -44,49 +44,51 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Section>                                                             *\/\n-  \/*    list_processing                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Title>                                                               *\/\n-  \/*    List Processing                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Abstract>                                                            *\/\n-  \/*    Simple management of lists.                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This section contains various definitions related to list          *\/\n-  \/*    processing using doubly-linked nodes.                              *\/\n-  \/*                                                                       *\/\n-  \/* <Order>                                                               *\/\n-  \/*    FT_List                                                            *\/\n-  \/*    FT_ListNode                                                        *\/\n-  \/*    FT_ListRec                                                         *\/\n-  \/*    FT_ListNodeRec                                                     *\/\n-  \/*                                                                       *\/\n-  \/*    FT_List_Add                                                        *\/\n-  \/*    FT_List_Insert                                                     *\/\n-  \/*    FT_List_Find                                                       *\/\n-  \/*    FT_List_Remove                                                     *\/\n-  \/*    FT_List_Up                                                         *\/\n-  \/*    FT_List_Iterate                                                    *\/\n-  \/*    FT_List_Iterator                                                   *\/\n-  \/*    FT_List_Finalize                                                   *\/\n-  \/*    FT_List_Destructor                                                 *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_List_Find                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Find the list node for a given listed object.                      *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    list :: A pointer to the parent list.                              *\/\n-  \/*    data :: The address of the listed object.                          *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    List node.  NULL if it wasn't found.                               *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   list_processing\n+   *\n+   * @title:\n+   *   List Processing\n+   *\n+   * @abstract:\n+   *   Simple management of lists.\n+   *\n+   * @description:\n+   *   This section contains various definitions related to list processing\n+   *   using doubly-linked nodes.\n+   *\n+   * @order:\n+   *   FT_List\n+   *   FT_ListNode\n+   *   FT_ListRec\n+   *   FT_ListNodeRec\n+   *\n+   *   FT_List_Add\n+   *   FT_List_Insert\n+   *   FT_List_Find\n+   *   FT_List_Remove\n+   *   FT_List_Up\n+   *   FT_List_Iterate\n+   *   FT_List_Iterator\n+   *   FT_List_Finalize\n+   *   FT_List_Destructor\n+   *\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_List_Find\n+   *\n+   * @description:\n+   *   Find the list node for a given listed object.\n+   *\n+   * @input:\n+   *   list ::\n+   *     A pointer to the parent list.\n+   *   data ::\n+   *     The address of the listed object.\n+   *\n+   * @return:\n+   *   List node.  `NULL` if it wasn't found.\n+   *\/\n@@ -98,12 +100,14 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_List_Add                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Append an element to the end of a list.                            *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    list :: A pointer to the parent list.                              *\/\n-  \/*    node :: The node to append.                                        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_List_Add\n+   *\n+   * @description:\n+   *   Append an element to the end of a list.\n+   *\n+   * @inout:\n+   *   list ::\n+   *     A pointer to the parent list.\n+   *   node ::\n+   *     The node to append.\n+   *\/\n@@ -115,12 +119,14 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_List_Insert                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Insert an element at the head of a list.                           *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    list :: A pointer to parent list.                                  *\/\n-  \/*    node :: The node to insert.                                        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_List_Insert\n+   *\n+   * @description:\n+   *   Insert an element at the head of a list.\n+   *\n+   * @inout:\n+   *   list ::\n+   *     A pointer to parent list.\n+   *   node ::\n+   *     The node to insert.\n+   *\/\n@@ -132,15 +138,17 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_List_Remove                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Remove a node from a list.  This function doesn't check whether    *\/\n-  \/*    the node is in the list!                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    node :: The node to remove.                                        *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    list :: A pointer to the parent list.                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_List_Remove\n+   *\n+   * @description:\n+   *   Remove a node from a list.  This function doesn't check whether the\n+   *   node is in the list!\n+   *\n+   * @input:\n+   *   node ::\n+   *     The node to remove.\n+   *\n+   * @inout:\n+   *   list ::\n+   *     A pointer to the parent list.\n+   *\/\n@@ -152,13 +160,14 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_List_Up                                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Move a node to the head\/top of a list.  Used to maintain LRU       *\/\n-  \/*    lists.                                                             *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    list :: A pointer to the parent list.                              *\/\n-  \/*    node :: The node to move.                                          *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_List_Up\n+   *\n+   * @description:\n+   *   Move a node to the head\/top of a list.  Used to maintain LRU lists.\n+   *\n+   * @inout:\n+   *   list ::\n+   *     A pointer to the parent list.\n+   *   node ::\n+   *     The node to move.\n+   *\/\n@@ -170,15 +179,17 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    FT_List_Iterator                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    An FT_List iterator function that is called during a list parse    *\/\n-  \/*    by @FT_List_Iterate.                                               *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    node :: The current iteration list node.                           *\/\n-  \/*                                                                       *\/\n-  \/*    user :: A typeless pointer passed to @FT_List_Iterate.             *\/\n-  \/*            Can be used to point to the iteration's state.             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   FT_List_Iterator\n+   *\n+   * @description:\n+   *   An FT_List iterator function that is called during a list parse by\n+   *   @FT_List_Iterate.\n+   *\n+   * @input:\n+   *   node ::\n+   *     The current iteration list node.\n+   *\n+   *   user ::\n+   *     A typeless pointer passed to @FT_List_Iterate.  Can be used to point\n+   *     to the iteration's state.\n+   *\/\n@@ -190,19 +201,22 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_List_Iterate                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Parse a list and calls a given iterator function on each element.  *\/\n-  \/*    Note that parsing is stopped as soon as one of the iterator calls  *\/\n-  \/*    returns a non-zero value.                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    list     :: A handle to the list.                                  *\/\n-  \/*    iterator :: An iterator function, called on each node of the list. *\/\n-  \/*    user     :: A user-supplied field that is passed as the second     *\/\n-  \/*                argument to the iterator.                              *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    The result (a FreeType error code) of the last iterator call.      *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_List_Iterate\n+   *\n+   * @description:\n+   *   Parse a list and calls a given iterator function on each element.\n+   *   Note that parsing is stopped as soon as one of the iterator calls\n+   *   returns a non-zero value.\n+   *\n+   * @input:\n+   *   list ::\n+   *     A handle to the list.\n+   *   iterator ::\n+   *     An iterator function, called on each node of the list.\n+   *   user ::\n+   *     A user-supplied field that is passed as the second argument to the\n+   *     iterator.\n+   *\n+   * @return:\n+   *   The result (a FreeType error code) of the last iterator call.\n+   *\/\n@@ -215,18 +229,21 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    FT_List_Destructor                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    An @FT_List iterator function that is called during a list         *\/\n-  \/*    finalization by @FT_List_Finalize to destroy all elements in a     *\/\n-  \/*    given list.                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    system :: The current system object.                               *\/\n-  \/*                                                                       *\/\n-  \/*    data   :: The current object to destroy.                           *\/\n-  \/*                                                                       *\/\n-  \/*    user   :: A typeless pointer passed to @FT_List_Iterate.  It can   *\/\n-  \/*              be used to point to the iteration's state.               *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   FT_List_Destructor\n+   *\n+   * @description:\n+   *   An @FT_List iterator function that is called during a list\n+   *   finalization by @FT_List_Finalize to destroy all elements in a given\n+   *   list.\n+   *\n+   * @input:\n+   *   system ::\n+   *     The current system object.\n+   *\n+   *   data ::\n+   *     The current object to destroy.\n+   *\n+   *   user ::\n+   *     A typeless pointer passed to @FT_List_Iterate.  It can be used to\n+   *     point to the iteration's state.\n+   *\/\n@@ -239,23 +256,27 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_List_Finalize                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Destroy all elements in the list as well as the list itself.       *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    list    :: A handle to the list.                                   *\/\n-  \/*                                                                       *\/\n-  \/*    destroy :: A list destructor that will be applied to each element  *\/\n-  \/*               of the list.  Set this to NULL if not needed.           *\/\n-  \/*                                                                       *\/\n-  \/*    memory  :: The current memory object that handles deallocation.    *\/\n-  \/*                                                                       *\/\n-  \/*    user    :: A user-supplied field that is passed as the last        *\/\n-  \/*               argument to the destructor.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    This function expects that all nodes added by @FT_List_Add or      *\/\n-  \/*    @FT_List_Insert have been dynamically allocated.                   *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_List_Finalize\n+   *\n+   * @description:\n+   *   Destroy all elements in the list as well as the list itself.\n+   *\n+   * @input:\n+   *   list ::\n+   *     A handle to the list.\n+   *\n+   *   destroy ::\n+   *     A list destructor that will be applied to each element of the list.\n+   *     Set this to `NULL` if not needed.\n+   *\n+   *   memory ::\n+   *     The current memory object that handles deallocation.\n+   *\n+   *   user ::\n+   *     A user-supplied field that is passed as the last argument to the\n+   *     destructor.\n+   *\n+   * @note:\n+   *   This function expects that all nodes added by @FT_List_Add or\n+   *   @FT_List_Insert have been dynamically allocated.\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/ftlist.h","additions":221,"deletions":200,"binary":false,"changes":421,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftmac.h                                                                *\/\n-\/*                                                                         *\/\n-\/*    Additional Mac-specific API.                                         *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  Just van Rossum, David Turner, Robert Wilhelm, and Werner Lemberg.     *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftmac.h\n+ *\n+ *   Additional Mac-specific API.\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * Just van Rossum, David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -19,7 +19,7 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/* NOTE: Include this file after FT_FREETYPE_H and after any               *\/\n-\/*       Mac-specific headers (because this header uses Mac types such as  *\/\n-\/*       Handle, FSSpec, FSRef, etc.)                                      *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * NOTE: Include this file after `FT_FREETYPE_H` and after any\n+ *       Mac-specific headers (because this header uses Mac types such as\n+ *       'Handle', 'FSSpec', 'FSRef', etc.)\n+ *\n+ *\/\n@@ -50,16 +50,16 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Section>                                                             *\/\n-  \/*    mac_specific                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Title>                                                               *\/\n-  \/*    Mac Specific Interface                                             *\/\n-  \/*                                                                       *\/\n-  \/* <Abstract>                                                            *\/\n-  \/*    Only available on the Macintosh.                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    The following definitions are only available if FreeType is        *\/\n-  \/*    compiled on a Macintosh.                                           *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   mac_specific\n+   *\n+   * @title:\n+   *   Mac Specific Interface\n+   *\n+   * @abstract:\n+   *   Only available on the Macintosh.\n+   *\n+   * @description:\n+   *   The following definitions are only available if FreeType is compiled\n+   *   on a Macintosh.\n+   *\n+   *\/\n@@ -68,32 +68,35 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_New_Face_From_FOND                                              *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Create a new face object from a FOND resource.                     *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    library    :: A handle to the library resource.                    *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    fond       :: A FOND resource.                                     *\/\n-  \/*                                                                       *\/\n-  \/*    face_index :: Only supported for the -1 `sanity check' special     *\/\n-  \/*                  case.                                                *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    aface      :: A handle to a new face object.                       *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Notes>                                                               *\/\n-  \/*    This function can be used to create @FT_Face objects from fonts    *\/\n-  \/*    that are installed in the system as follows.                       *\/\n-  \/*                                                                       *\/\n-  \/*    {                                                                  *\/\n-  \/*      fond = GetResource( 'FOND', fontName );                          *\/\n-  \/*      error = FT_New_Face_From_FOND( library, fond, 0, &face );        *\/\n-  \/*    }                                                                  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_New_Face_From_FOND\n+   *\n+   * @description:\n+   *   Create a new face object from a FOND resource.\n+   *\n+   * @inout:\n+   *   library ::\n+   *     A handle to the library resource.\n+   *\n+   * @input:\n+   *   fond ::\n+   *     A FOND resource.\n+   *\n+   *   face_index ::\n+   *     Only supported for the -1 'sanity check' special case.\n+   *\n+   * @output:\n+   *   aface ::\n+   *     A handle to a new face object.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @example:\n+   *   This function can be used to create @FT_Face objects from fonts that\n+   *   are installed in the system as follows.\n+   *\n+   *   ```\n+   *     fond  = GetResource( 'FOND', fontName );\n+   *     error = FT_New_Face_From_FOND( library, fond, 0, &face );\n+   *   ```\n+   *\/\n@@ -108,22 +111,22 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_GetFile_From_Mac_Name                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Return an FSSpec for the disk file containing the named font.      *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    fontName   :: Mac OS name of the font (e.g., Times New Roman       *\/\n-  \/*                  Bold).                                               *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    pathSpec   :: FSSpec to the file.  For passing to                  *\/\n-  \/*                  @FT_New_Face_From_FSSpec.                            *\/\n-  \/*                                                                       *\/\n-  \/*    face_index :: Index of the face.  For passing to                   *\/\n-  \/*                  @FT_New_Face_From_FSSpec.                            *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_GetFile_From_Mac_Name\n+   *\n+   * @description:\n+   *   Return an FSSpec for the disk file containing the named font.\n+   *\n+   * @input:\n+   *   fontName ::\n+   *     Mac OS name of the font (e.g., Times New Roman Bold).\n+   *\n+   * @output:\n+   *   pathSpec ::\n+   *     FSSpec to the file.  For passing to @FT_New_Face_From_FSSpec.\n+   *\n+   *   face_index ::\n+   *     Index of the face.  For passing to @FT_New_Face_From_FSSpec.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\/\n@@ -137,21 +140,22 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_GetFile_From_Mac_ATS_Name                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Return an FSSpec for the disk file containing the named font.      *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    fontName   :: Mac OS name of the font in ATS framework.            *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    pathSpec   :: FSSpec to the file. For passing to                   *\/\n-  \/*                  @FT_New_Face_From_FSSpec.                            *\/\n-  \/*                                                                       *\/\n-  \/*    face_index :: Index of the face. For passing to                    *\/\n-  \/*                  @FT_New_Face_From_FSSpec.                            *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_GetFile_From_Mac_ATS_Name\n+   *\n+   * @description:\n+   *   Return an FSSpec for the disk file containing the named font.\n+   *\n+   * @input:\n+   *   fontName ::\n+   *     Mac OS name of the font in ATS framework.\n+   *\n+   * @output:\n+   *   pathSpec ::\n+   *     FSSpec to the file. For passing to @FT_New_Face_From_FSSpec.\n+   *\n+   *   face_index ::\n+   *     Index of the face. For passing to @FT_New_Face_From_FSSpec.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\/\n@@ -165,24 +169,27 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_GetFilePath_From_Mac_ATS_Name                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Return a pathname of the disk file and face index for given font   *\/\n-  \/*    name that is handled by ATS framework.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    fontName    :: Mac OS name of the font in ATS framework.           *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    path        :: Buffer to store pathname of the file.  For passing  *\/\n-  \/*                   to @FT_New_Face.  The client must allocate this     *\/\n-  \/*                   buffer before calling this function.                *\/\n-  \/*                                                                       *\/\n-  \/*    maxPathSize :: Lengths of the buffer `path' that client allocated. *\/\n-  \/*                                                                       *\/\n-  \/*    face_index  :: Index of the face.  For passing to @FT_New_Face.    *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_GetFilePath_From_Mac_ATS_Name\n+   *\n+   * @description:\n+   *   Return a pathname of the disk file and face index for given font name\n+   *   that is handled by ATS framework.\n+   *\n+   * @input:\n+   *   fontName ::\n+   *     Mac OS name of the font in ATS framework.\n+   *\n+   * @output:\n+   *   path ::\n+   *     Buffer to store pathname of the file.  For passing to @FT_New_Face.\n+   *     The client must allocate this buffer before calling this function.\n+   *\n+   *   maxPathSize ::\n+   *     Lengths of the buffer `path` that client allocated.\n+   *\n+   *   face_index ::\n+   *     Index of the face.  For passing to @FT_New_Face.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\/\n@@ -197,27 +204,31 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_New_Face_From_FSSpec                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Create a new face object from a given resource and typeface index  *\/\n-  \/*    using an FSSpec to the font file.                                  *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    library    :: A handle to the library resource.                    *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    spec       :: FSSpec to the font file.                             *\/\n-  \/*                                                                       *\/\n-  \/*    face_index :: The index of the face within the resource.  The      *\/\n-  \/*                  first face has index~0.                              *\/\n-  \/* <Output>                                                              *\/\n-  \/*    aface      :: A handle to a new face object.                       *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    @FT_New_Face_From_FSSpec is identical to @FT_New_Face except       *\/\n-  \/*    it accepts an FSSpec instead of a path.                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_New_Face_From_FSSpec\n+   *\n+   * @description:\n+   *   Create a new face object from a given resource and typeface index\n+   *   using an FSSpec to the font file.\n+   *\n+   * @inout:\n+   *   library ::\n+   *     A handle to the library resource.\n+   *\n+   * @input:\n+   *   spec ::\n+   *     FSSpec to the font file.\n+   *\n+   *   face_index ::\n+   *     The index of the face within the resource.  The first face has\n+   *     index~0.\n+   * @output:\n+   *   aface ::\n+   *     A handle to a new face object.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   @FT_New_Face_From_FSSpec is identical to @FT_New_Face except it\n+   *   accepts an FSSpec instead of a path.\n+   *\/\n@@ -232,27 +243,31 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_New_Face_From_FSRef                                             *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Create a new face object from a given resource and typeface index  *\/\n-  \/*    using an FSRef to the font file.                                   *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    library    :: A handle to the library resource.                    *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    spec       :: FSRef to the font file.                              *\/\n-  \/*                                                                       *\/\n-  \/*    face_index :: The index of the face within the resource.  The      *\/\n-  \/*                  first face has index~0.                              *\/\n-  \/* <Output>                                                              *\/\n-  \/*    aface      :: A handle to a new face object.                       *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    @FT_New_Face_From_FSRef is identical to @FT_New_Face except        *\/\n-  \/*    it accepts an FSRef instead of a path.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_New_Face_From_FSRef\n+   *\n+   * @description:\n+   *   Create a new face object from a given resource and typeface index\n+   *   using an FSRef to the font file.\n+   *\n+   * @inout:\n+   *   library ::\n+   *     A handle to the library resource.\n+   *\n+   * @input:\n+   *   spec ::\n+   *     FSRef to the font file.\n+   *\n+   *   face_index ::\n+   *     The index of the face within the resource.  The first face has\n+   *     index~0.\n+   * @output:\n+   *   aface ::\n+   *     A handle to a new face object.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   @FT_New_Face_From_FSRef is identical to @FT_New_Face except it accepts\n+   *   an FSRef instead of a path.\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/ftmac.h","additions":207,"deletions":192,"binary":false,"changes":399,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftmm.h                                                                 *\/\n-\/*                                                                         *\/\n-\/*    FreeType Multiple Master font interface (specification).             *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftmm.h\n+ *\n+ *   FreeType Multiple Master font interface (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -30,43 +30,46 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Section>                                                             *\/\n-  \/*    multiple_masters                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Title>                                                               *\/\n-  \/*    Multiple Masters                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Abstract>                                                            *\/\n-  \/*    How to manage Multiple Masters fonts.                              *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    The following types and functions are used to manage Multiple      *\/\n-  \/*    Master fonts, i.e., the selection of specific design instances by  *\/\n-  \/*    setting design axis coordinates.                                   *\/\n-  \/*                                                                       *\/\n-  \/*    Besides Adobe MM fonts, the interface supports Apple's TrueType GX *\/\n-  \/*    and OpenType variation fonts.  Some of the routines only work with *\/\n-  \/*    Adobe MM fonts, others will work with all three types.  They are   *\/\n-  \/*    similar enough that a consistent interface makes sense.            *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_MM_Axis                                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure to model a given axis in design space for Multiple     *\/\n-  \/*    Masters fonts.                                                     *\/\n-  \/*                                                                       *\/\n-  \/*    This structure can't be used for TrueType GX or OpenType variation *\/\n-  \/*    fonts.                                                             *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    name    :: The axis's name.                                        *\/\n-  \/*                                                                       *\/\n-  \/*    minimum :: The axis's minimum design coordinate.                   *\/\n-  \/*                                                                       *\/\n-  \/*    maximum :: The axis's maximum design coordinate.                   *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   multiple_masters\n+   *\n+   * @title:\n+   *   Multiple Masters\n+   *\n+   * @abstract:\n+   *   How to manage Multiple Masters fonts.\n+   *\n+   * @description:\n+   *   The following types and functions are used to manage Multiple Master\n+   *   fonts, i.e., the selection of specific design instances by setting\n+   *   design axis coordinates.\n+   *\n+   *   Besides Adobe MM fonts, the interface supports Apple's TrueType GX and\n+   *   OpenType variation fonts.  Some of the routines only work with Adobe\n+   *   MM fonts, others will work with all three types.  They are similar\n+   *   enough that a consistent interface makes sense.\n+   *\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_MM_Axis\n+   *\n+   * @description:\n+   *   A structure to model a given axis in design space for Multiple Masters\n+   *   fonts.\n+   *\n+   *   This structure can't be used for TrueType GX or OpenType variation\n+   *   fonts.\n+   *\n+   * @fields:\n+   *   name ::\n+   *     The axis's name.\n+   *\n+   *   minimum ::\n+   *     The axis's minimum design coordinate.\n+   *\n+   *   maximum ::\n+   *     The axis's maximum design coordinate.\n+   *\/\n@@ -82,22 +85,23 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_Multi_Master                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure to model the axes and space of a Multiple Masters      *\/\n-  \/*    font.                                                              *\/\n-  \/*                                                                       *\/\n-  \/*    This structure can't be used for TrueType GX or OpenType variation *\/\n-  \/*    fonts.                                                             *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    num_axis    :: Number of axes.  Cannot exceed~4.                   *\/\n-  \/*                                                                       *\/\n-  \/*    num_designs :: Number of designs; should be normally 2^num_axis    *\/\n-  \/*                   even though the Type~1 specification strangely      *\/\n-  \/*                   allows for intermediate designs to be present.      *\/\n-  \/*                   This number cannot exceed~16.                       *\/\n-  \/*                                                                       *\/\n-  \/*    axis        :: A table of axis descriptors.                        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_Multi_Master\n+   *\n+   * @description:\n+   *   A structure to model the axes and space of a Multiple Masters font.\n+   *\n+   *   This structure can't be used for TrueType GX or OpenType variation\n+   *   fonts.\n+   *\n+   * @fields:\n+   *   num_axis ::\n+   *     Number of axes.  Cannot exceed~4.\n+   *\n+   *   num_designs ::\n+   *     Number of designs; should be normally 2^num_axis even though the\n+   *     Type~1 specification strangely allows for intermediate designs to be\n+   *     present.  This number cannot exceed~16.\n+   *\n+   *   axis ::\n+   *     A table of axis descriptors.\n+   *\/\n@@ -113,36 +117,39 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_Var_Axis                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure to model a given axis in design space for Multiple     *\/\n-  \/*    Masters, TrueType GX, and OpenType variation fonts.                *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    name    :: The axis's name.                                        *\/\n-  \/*               Not always meaningful for TrueType GX or OpenType       *\/\n-  \/*               variation fonts.                                        *\/\n-  \/*                                                                       *\/\n-  \/*    minimum :: The axis's minimum design coordinate.                   *\/\n-  \/*                                                                       *\/\n-  \/*    def     :: The axis's default design coordinate.                   *\/\n-  \/*               FreeType computes meaningful default values for Adobe   *\/\n-  \/*               MM fonts.                                               *\/\n-  \/*                                                                       *\/\n-  \/*    maximum :: The axis's maximum design coordinate.                   *\/\n-  \/*                                                                       *\/\n-  \/*    tag     :: The axis's tag (the equivalent to `name' for TrueType   *\/\n-  \/*               GX and OpenType variation fonts).  FreeType provides    *\/\n-  \/*               default values for Adobe MM fonts if possible.          *\/\n-  \/*                                                                       *\/\n-  \/*    strid   :: The axis name entry in the font's `name' table.  This   *\/\n-  \/*               is another (and often better) version of the `name'     *\/\n-  \/*               field for TrueType GX or OpenType variation fonts.  Not *\/\n-  \/*               meaningful for Adobe MM fonts.                          *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The fields `minimum', `def', and `maximum' are 16.16 fractional    *\/\n-  \/*    values for TrueType GX and OpenType variation fonts.  For Adobe MM *\/\n-  \/*    fonts, the values are integers.                                    *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_Var_Axis\n+   *\n+   * @description:\n+   *   A structure to model a given axis in design space for Multiple\n+   *   Masters, TrueType GX, and OpenType variation fonts.\n+   *\n+   * @fields:\n+   *   name ::\n+   *     The axis's name.  Not always meaningful for TrueType GX or OpenType\n+   *     variation fonts.\n+   *\n+   *   minimum ::\n+   *     The axis's minimum design coordinate.\n+   *\n+   *   def ::\n+   *     The axis's default design coordinate.  FreeType computes meaningful\n+   *     default values for Adobe MM fonts.\n+   *\n+   *   maximum ::\n+   *     The axis's maximum design coordinate.\n+   *\n+   *   tag ::\n+   *     The axis's tag (the equivalent to 'name' for TrueType GX and\n+   *     OpenType variation fonts).  FreeType provides default values for\n+   *     Adobe MM fonts if possible.\n+   *\n+   *   strid ::\n+   *     The axis name entry in the font's 'name' table.  This is another\n+   *     (and often better) version of the 'name' field for TrueType GX or\n+   *     OpenType variation fonts.  Not meaningful for Adobe MM fonts.\n+   *\n+   * @note:\n+   *   The fields `minimum`, `def`, and `maximum` are 16.16 fractional values\n+   *   for TrueType GX and OpenType variation fonts.  For Adobe MM fonts, the\n+   *   values are integers.\n+   *\/\n@@ -163,21 +170,23 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_Var_Named_Style                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure to model a named instance in a TrueType GX or OpenType *\/\n-  \/*    variation font.                                                    *\/\n-  \/*                                                                       *\/\n-  \/*    This structure can't be used for Adobe MM fonts.                   *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    coords :: The design coordinates for this instance.                *\/\n-  \/*              This is an array with one entry for each axis.           *\/\n-  \/*                                                                       *\/\n-  \/*    strid  :: The entry in `name' table identifying this instance.     *\/\n-  \/*                                                                       *\/\n-  \/*    psid   :: The entry in `name' table identifying a PostScript name  *\/\n-  \/*              for this instance.  Value 0xFFFF indicates a missing     *\/\n-  \/*              entry.                                                   *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_Var_Named_Style\n+   *\n+   * @description:\n+   *   A structure to model a named instance in a TrueType GX or OpenType\n+   *   variation font.\n+   *\n+   *   This structure can't be used for Adobe MM fonts.\n+   *\n+   * @fields:\n+   *   coords ::\n+   *     The design coordinates for this instance.  This is an array with one\n+   *     entry for each axis.\n+   *\n+   *   strid ::\n+   *     The entry in 'name' table identifying this instance.\n+   *\n+   *   psid ::\n+   *     The entry in 'name' table identifying a PostScript name for this\n+   *     instance.  Value 0xFFFF indicates a missing entry.\n+   *\/\n@@ -193,44 +202,41 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_MM_Var                                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure to model the axes and space of an Adobe MM, TrueType   *\/\n-  \/*    GX, or OpenType variation font.                                    *\/\n-  \/*                                                                       *\/\n-  \/*    Some fields are specific to one format and not to the others.      *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    num_axis        :: The number of axes.  The maximum value is~4 for *\/\n-  \/*                       Adobe MM fonts; no limit in TrueType GX or      *\/\n-  \/*                       OpenType variation fonts.                       *\/\n-  \/*                                                                       *\/\n-  \/*    num_designs     :: The number of designs; should be normally       *\/\n-  \/*                       2^num_axis for Adobe MM fonts.  Not meaningful  *\/\n-  \/*                       for TrueType GX or OpenType variation fonts     *\/\n-  \/*                       (where every glyph could have a different       *\/\n-  \/*                       number of designs).                             *\/\n-  \/*                                                                       *\/\n-  \/*    num_namedstyles :: The number of named styles; a `named style' is  *\/\n-  \/*                       a tuple of design coordinates that has a string *\/\n-  \/*                       ID (in the `name' table) associated with it.    *\/\n-  \/*                       The font can tell the user that, for example,   *\/\n-  \/*                       [Weight=1.5,Width=1.1] is `Bold'.  Another name *\/\n-  \/*                       for `named style' is `named instance'.          *\/\n-  \/*                                                                       *\/\n-  \/*                       For Adobe Multiple Masters fonts, this value is *\/\n-  \/*                       always zero because the format does not support *\/\n-  \/*                       named styles.                                   *\/\n-  \/*                                                                       *\/\n-  \/*    axis            :: An axis descriptor table.                       *\/\n-  \/*                       TrueType GX and OpenType variation fonts        *\/\n-  \/*                       contain slightly more data than Adobe MM fonts. *\/\n-  \/*                       Memory management of this pointer is done       *\/\n-  \/*                       internally by FreeType.                         *\/\n-  \/*                                                                       *\/\n-  \/*    namedstyle      :: A named style (instance) table.                 *\/\n-  \/*                       Only meaningful for TrueType GX and OpenType    *\/\n-  \/*                       variation fonts.  Memory management of this     *\/\n-  \/*                       pointer is done internally by FreeType.         *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_MM_Var\n+   *\n+   * @description:\n+   *   A structure to model the axes and space of an Adobe MM, TrueType GX,\n+   *   or OpenType variation font.\n+   *\n+   *   Some fields are specific to one format and not to the others.\n+   *\n+   * @fields:\n+   *   num_axis ::\n+   *     The number of axes.  The maximum value is~4 for Adobe MM fonts; no\n+   *     limit in TrueType GX or OpenType variation fonts.\n+   *\n+   *   num_designs ::\n+   *     The number of designs; should be normally 2^num_axis for Adobe MM\n+   *     fonts.  Not meaningful for TrueType GX or OpenType variation fonts\n+   *     (where every glyph could have a different number of designs).\n+   *\n+   *   num_namedstyles ::\n+   *     The number of named styles; a 'named style' is a tuple of design\n+   *     coordinates that has a string ID (in the 'name' table) associated\n+   *     with it.  The font can tell the user that, for example,\n+   *     [Weight=1.5,Width=1.1] is 'Bold'.  Another name for 'named style' is\n+   *     'named instance'.\n+   *\n+   *     For Adobe Multiple Masters fonts, this value is always zero because\n+   *     the format does not support named styles.\n+   *\n+   *   axis ::\n+   *     An axis descriptor table.  TrueType GX and OpenType variation fonts\n+   *     contain slightly more data than Adobe MM fonts.  Memory management\n+   *     of this pointer is done internally by FreeType.\n+   *\n+   *   namedstyle ::\n+   *     A named style (instance) table.  Only meaningful for TrueType GX and\n+   *     OpenType variation fonts.  Memory management of this pointer is done\n+   *     internally by FreeType.\n+   *\/\n@@ -248,20 +254,22 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Get_Multi_Master                                                *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Retrieve a variation descriptor of a given Adobe MM font.          *\/\n-  \/*                                                                       *\/\n-  \/*    This function can't be used with TrueType GX or OpenType variation *\/\n-  \/*    fonts.                                                             *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face    :: A handle to the source face.                            *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    amaster :: The Multiple Masters descriptor.                        *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Get_Multi_Master\n+   *\n+   * @description:\n+   *   Retrieve a variation descriptor of a given Adobe MM font.\n+   *\n+   *   This function can't be used with TrueType GX or OpenType variation\n+   *   fonts.\n+   *\n+   * @input:\n+   *   face ::\n+   *     A handle to the source face.\n+   *\n+   * @output:\n+   *   amaster ::\n+   *     The Multiple Masters descriptor.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\/\n@@ -273,21 +281,22 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Get_MM_Var                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Retrieve a variation descriptor for a given font.                  *\/\n-  \/*                                                                       *\/\n-  \/*    This function works with all supported variation formats.          *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face    :: A handle to the source face.                            *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    amaster :: The variation descriptor.                               *\/\n-  \/*               Allocates a data structure, which the user must         *\/\n-  \/*               deallocate with a call to @FT_Done_MM_Var after use.    *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Get_MM_Var\n+   *\n+   * @description:\n+   *   Retrieve a variation descriptor for a given font.\n+   *\n+   *   This function works with all supported variation formats.\n+   *\n+   * @input:\n+   *   face ::\n+   *     A handle to the source face.\n+   *\n+   * @output:\n+   *   amaster ::\n+   *     The variation descriptor.  Allocates a data structure, which the\n+   *     user must deallocate with a call to @FT_Done_MM_Var after use.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\/\n@@ -299,15 +308,16 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Done_MM_Var                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Free the memory allocated by @FT_Get_MM_Var.                       *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    library :: A handle of the face's parent library object that was   *\/\n-  \/*               used in the call to @FT_Get_MM_Var to create `amaster'. *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Done_MM_Var\n+   *\n+   * @description:\n+   *   Free the memory allocated by @FT_Get_MM_Var.\n+   *\n+   * @input:\n+   *   library ::\n+   *     A handle of the face's parent library object that was used in the\n+   *     call to @FT_Get_MM_Var to create `amaster`.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\/\n@@ -319,35 +329,37 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Set_MM_Design_Coordinates                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    For Adobe MM fonts, choose an interpolated font design through     *\/\n-  \/*    design coordinates.                                                *\/\n-  \/*                                                                       *\/\n-  \/*    This function can't be used with TrueType GX or OpenType variation *\/\n-  \/*    fonts.                                                             *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    face       :: A handle to the source face.                         *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    num_coords :: The number of available design coordinates.  If it   *\/\n-  \/*                  is larger than the number of axes, ignore the excess *\/\n-  \/*                  values.  If it is smaller than the number of axes,   *\/\n-  \/*                  use default values for the remaining axes.           *\/\n-  \/*                                                                       *\/\n-  \/*    coords     :: An array of design coordinates.                      *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    [Since 2.8.1] To reset all axes to the default values, call the    *\/\n-  \/*    function with `num_coords' set to zero and `coords' set to NULL.   *\/\n-  \/*                                                                       *\/\n-  \/*    [Since 2.9] If `num_coords' is larger than zero, this function     *\/\n-  \/*    sets the @FT_FACE_FLAG_VARIATION bit in @FT_Face's `face_flags'    *\/\n-  \/*    field (i.e., @FT_IS_VARIATION will return true).  If `num_coords'  *\/\n-  \/*    is zero, this bit flag gets unset.                                 *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Set_MM_Design_Coordinates\n+   *\n+   * @description:\n+   *   For Adobe MM fonts, choose an interpolated font design through design\n+   *   coordinates.\n+   *\n+   *   This function can't be used with TrueType GX or OpenType variation\n+   *   fonts.\n+   *\n+   * @inout:\n+   *   face ::\n+   *     A handle to the source face.\n+   *\n+   * @input:\n+   *   num_coords ::\n+   *     The number of available design coordinates.  If it is larger than\n+   *     the number of axes, ignore the excess values.  If it is smaller than\n+   *     the number of axes, use default values for the remaining axes.\n+   *\n+   *   coords ::\n+   *     An array of design coordinates.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   [Since 2.8.1] To reset all axes to the default values, call the\n+   *   function with `num_coords` set to zero and `coords` set to `NULL`.\n+   *\n+   *   [Since 2.9] If `num_coords` is larger than zero, this function sets\n+   *   the @FT_FACE_FLAG_VARIATION bit in @FT_Face's `face_flags` field\n+   *   (i.e., @FT_IS_VARIATION will return true).  If `num_coords` is zero,\n+   *   this bit flag gets unset.\n+   *\/\n@@ -360,35 +372,37 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Set_Var_Design_Coordinates                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Choose an interpolated font design through design coordinates.     *\/\n-  \/*                                                                       *\/\n-  \/*    This function works with all supported variation formats.          *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    face       :: A handle to the source face.                         *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    num_coords :: The number of available design coordinates.  If it   *\/\n-  \/*                  is larger than the number of axes, ignore the excess *\/\n-  \/*                  values.  If it is smaller than the number of axes,   *\/\n-  \/*                  use default values for the remaining axes.           *\/\n-  \/*                                                                       *\/\n-  \/*    coords     :: An array of design coordinates.                      *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    [Since 2.8.1] To reset all axes to the default values, call the    *\/\n-  \/*    function with `num_coords' set to zero and `coords' set to NULL.   *\/\n-  \/*    [Since 2.9] `Default values' means the currently selected named    *\/\n-  \/*    instance (or the base font if no named instance is selected).      *\/\n-  \/*                                                                       *\/\n-  \/*    [Since 2.9] If `num_coords' is larger than zero, this function     *\/\n-  \/*    sets the @FT_FACE_FLAG_VARIATION bit in @FT_Face's `face_flags'    *\/\n-  \/*    field (i.e., @FT_IS_VARIATION will return true).  If `num_coords'  *\/\n-  \/*    is zero, this bit flag gets unset.                                 *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Set_Var_Design_Coordinates\n+   *\n+   * @description:\n+   *   Choose an interpolated font design through design coordinates.\n+   *\n+   *   This function works with all supported variation formats.\n+   *\n+   * @inout:\n+   *   face ::\n+   *     A handle to the source face.\n+   *\n+   * @input:\n+   *   num_coords ::\n+   *     The number of available design coordinates.  If it is larger than\n+   *     the number of axes, ignore the excess values.  If it is smaller than\n+   *     the number of axes, use default values for the remaining axes.\n+   *\n+   *   coords ::\n+   *     An array of design coordinates.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   [Since 2.8.1] To reset all axes to the default values, call the\n+   *   function with `num_coords` set to zero and `coords` set to `NULL`.\n+   *   [Since 2.9] 'Default values' means the currently selected named\n+   *   instance (or the base font if no named instance is selected).\n+   *\n+   *   [Since 2.9] If `num_coords` is larger than zero, this function sets\n+   *   the @FT_FACE_FLAG_VARIATION bit in @FT_Face's `face_flags` field\n+   *   (i.e., @FT_IS_VARIATION will return true).  If `num_coords` is zero,\n+   *   this bit flag gets unset.\n+   *\/\n@@ -401,27 +415,29 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Get_Var_Design_Coordinates                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Get the design coordinates of the currently selected interpolated  *\/\n-  \/*    font.                                                              *\/\n-  \/*                                                                       *\/\n-  \/*    This function works with all supported variation formats.          *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face       :: A handle to the source face.                         *\/\n-  \/*                                                                       *\/\n-  \/*    num_coords :: The number of design coordinates to retrieve.  If it *\/\n-  \/*                  is larger than the number of axes, set the excess    *\/\n-  \/*                  values to~0.                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    coords     :: The design coordinates array.                        *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Since>                                                               *\/\n-  \/*    2.7.1                                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Get_Var_Design_Coordinates\n+   *\n+   * @description:\n+   *   Get the design coordinates of the currently selected interpolated\n+   *   font.\n+   *\n+   *   This function works with all supported variation formats.\n+   *\n+   * @input:\n+   *   face ::\n+   *     A handle to the source face.\n+   *\n+   *   num_coords ::\n+   *     The number of design coordinates to retrieve.  If it is larger than\n+   *     the number of axes, set the excess values to~0.\n+   *\n+   * @output:\n+   *   coords ::\n+   *     The design coordinates array.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @since:\n+   *   2.7.1\n+   *\/\n@@ -434,39 +450,40 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Set_MM_Blend_Coordinates                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Choose an interpolated font design through normalized blend        *\/\n-  \/*    coordinates.                                                       *\/\n-  \/*                                                                       *\/\n-  \/*    This function works with all supported variation formats.          *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    face       :: A handle to the source face.                         *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    num_coords :: The number of available design coordinates.  If it   *\/\n-  \/*                  is larger than the number of axes, ignore the excess *\/\n-  \/*                  values.  If it is smaller than the number of axes,   *\/\n-  \/*                  use default values for the remaining axes.           *\/\n-  \/*                                                                       *\/\n-  \/*    coords     :: The design coordinates array (each element must be   *\/\n-  \/*                  between 0 and 1.0 for Adobe MM fonts, and between    *\/\n-  \/*                  -1.0 and 1.0 for TrueType GX and OpenType variation  *\/\n-  \/*                  fonts).                                              *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    [Since 2.8.1] To reset all axes to the default values, call the    *\/\n-  \/*    function with `num_coords' set to zero and `coords' set to NULL.   *\/\n-  \/*    [Since 2.9] `Default values' means the currently selected named    *\/\n-  \/*    instance (or the base font if no named instance is selected).      *\/\n-  \/*                                                                       *\/\n-  \/*    [Since 2.9] If `num_coords' is larger than zero, this function     *\/\n-  \/*    sets the @FT_FACE_FLAG_VARIATION bit in @FT_Face's `face_flags'    *\/\n-  \/*    field (i.e., @FT_IS_VARIATION will return true).  If `num_coords'  *\/\n-  \/*    is zero, this bit flag gets unset.                                 *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Set_MM_Blend_Coordinates\n+   *\n+   * @description:\n+   *   Choose an interpolated font design through normalized blend\n+   *   coordinates.\n+   *\n+   *   This function works with all supported variation formats.\n+   *\n+   * @inout:\n+   *   face ::\n+   *     A handle to the source face.\n+   *\n+   * @input:\n+   *   num_coords ::\n+   *     The number of available design coordinates.  If it is larger than\n+   *     the number of axes, ignore the excess values.  If it is smaller than\n+   *     the number of axes, use default values for the remaining axes.\n+   *\n+   *   coords ::\n+   *     The design coordinates array (each element must be between 0 and 1.0\n+   *     for Adobe MM fonts, and between -1.0 and 1.0 for TrueType GX and\n+   *     OpenType variation fonts).\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   [Since 2.8.1] To reset all axes to the default values, call the\n+   *   function with `num_coords` set to zero and `coords` set to `NULL`.\n+   *   [Since 2.9] 'Default values' means the currently selected named\n+   *   instance (or the base font if no named instance is selected).\n+   *\n+   *   [Since 2.9] If `num_coords` is larger than zero, this function sets\n+   *   the @FT_FACE_FLAG_VARIATION bit in @FT_Face's `face_flags` field\n+   *   (i.e., @FT_IS_VARIATION will return true).  If `num_coords` is zero,\n+   *   this bit flag gets unset.\n+   *\/\n@@ -479,28 +496,31 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Get_MM_Blend_Coordinates                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Get the normalized blend coordinates of the currently selected     *\/\n-  \/*    interpolated font.                                                 *\/\n-  \/*                                                                       *\/\n-  \/*    This function works with all supported variation formats.          *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face       :: A handle to the source face.                         *\/\n-  \/*                                                                       *\/\n-  \/*    num_coords :: The number of normalized blend coordinates to        *\/\n-  \/*                  retrieve.  If it is larger than the number of axes,  *\/\n-  \/*                  set the excess values to~0.5 for Adobe MM fonts, and *\/\n-  \/*                  to~0 for TrueType GX and OpenType variation fonts.   *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    coords     :: The normalized blend coordinates array.              *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Since>                                                               *\/\n-  \/*    2.7.1                                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Get_MM_Blend_Coordinates\n+   *\n+   * @description:\n+   *   Get the normalized blend coordinates of the currently selected\n+   *   interpolated font.\n+   *\n+   *   This function works with all supported variation formats.\n+   *\n+   * @input:\n+   *   face ::\n+   *     A handle to the source face.\n+   *\n+   *   num_coords ::\n+   *     The number of normalized blend coordinates to retrieve.  If it is\n+   *     larger than the number of axes, set the excess values to~0.5 for\n+   *     Adobe MM fonts, and to~0 for TrueType GX and OpenType variation\n+   *     fonts.\n+   *\n+   * @output:\n+   *   coords ::\n+   *     The normalized blend coordinates array.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @since:\n+   *   2.7.1\n+   *\/\n@@ -513,8 +533,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Set_Var_Blend_Coordinates                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This is another name of @FT_Set_MM_Blend_Coordinates.              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Set_Var_Blend_Coordinates\n+   *\n+   * @description:\n+   *   This is another name of @FT_Set_MM_Blend_Coordinates.\n+   *\/\n@@ -527,11 +547,11 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Get_Var_Blend_Coordinates                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This is another name of @FT_Get_MM_Blend_Coordinates.              *\/\n-  \/*                                                                       *\/\n-  \/* <Since>                                                               *\/\n-  \/*    2.7.1                                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Get_Var_Blend_Coordinates\n+   *\n+   * @description:\n+   *   This is another name of @FT_Get_MM_Blend_Coordinates.\n+   *\n+   * @since:\n+   *   2.7.1\n+   *\/\n@@ -544,16 +564,108 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Enum>                                                                *\/\n-  \/*    FT_VAR_AXIS_FLAG_XXX                                               *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A list of bit flags used in the return value of                    *\/\n-  \/*    @FT_Get_Var_Axis_Flags.                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Values>                                                              *\/\n-  \/*    FT_VAR_AXIS_FLAG_HIDDEN ::                                         *\/\n-  \/*      The variation axis should not be exposed to user interfaces.     *\/\n-  \/*                                                                       *\/\n-  \/* <Since>                                                               *\/\n-  \/*    2.8.1                                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Set_MM_WeightVector\n+   *\n+   * @description:\n+   *   For Adobe MM fonts, choose an interpolated font design by directly\n+   *   setting the weight vector.\n+   *\n+   *   This function can't be used with TrueType GX or OpenType variation\n+   *   fonts.\n+   *\n+   * @inout:\n+   *   face ::\n+   *     A handle to the source face.\n+   *\n+   * @input:\n+   *   len ::\n+   *     The length of the weight vector array.  If it is larger than the\n+   *     number of designs, the extra values are ignored.  If it is less than\n+   *     the number of designs, the remaining values are set to zero.\n+   *\n+   *   weightvector ::\n+   *     An array representing the weight vector.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   Adobe Multiple Master fonts limit the number of designs, and thus the\n+   *   length of the weight vector to~16.\n+   *\n+   *   If `len` is zero and `weightvector` is `NULL`, the weight vector array\n+   *   is reset to the default values.\n+   *\n+   *   The Adobe documentation also states that the values in the\n+   *   WeightVector array must total 1.0 +\/-~0.001.  In practice this does\n+   *   not seem to be enforced, so is not enforced here, either.\n+   *\n+   * @since:\n+   *   2.10\n+   *\/\n+  FT_EXPORT( FT_Error )\n+  FT_Set_MM_WeightVector( FT_Face    face,\n+                          FT_UInt    len,\n+                          FT_Fixed*  weightvector );\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Get_MM_WeightVector\n+   *\n+   * @description:\n+   *   For Adobe MM fonts, retrieve the current weight vector of the font.\n+   *\n+   *   This function can't be used with TrueType GX or OpenType variation\n+   *   fonts.\n+   *\n+   * @inout:\n+   *   face ::\n+   *     A handle to the source face.\n+   *\n+   *   len ::\n+   *     A pointer to the size of the array to be filled.  If the size of the\n+   *     array is less than the number of designs, `FT_Err_Invalid_Argument`\n+   *     is returned, and `len` is set to the required size (the number of\n+   *     designs).  If the size of the array is greater than the number of\n+   *     designs, the remaining entries are set to~0.  On successful\n+   *     completion, `len` is set to the number of designs (i.e., the number\n+   *     of values written to the array).\n+   *\n+   * @output:\n+   *   weightvector ::\n+   *     An array to be filled.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   Adobe Multiple Master fonts limit the number of designs, and thus the\n+   *   length of the WeightVector to~16.\n+   *\n+   * @since:\n+   *   2.10\n+   *\/\n+  FT_EXPORT( FT_Error )\n+  FT_Get_MM_WeightVector( FT_Face    face,\n+                          FT_UInt*   len,\n+                          FT_Fixed*  weightvector );\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @enum:\n+   *   FT_VAR_AXIS_FLAG_XXX\n+   *\n+   * @description:\n+   *   A list of bit flags used in the return value of\n+   *   @FT_Get_Var_Axis_Flags.\n+   *\n+   * @values:\n+   *   FT_VAR_AXIS_FLAG_HIDDEN ::\n+   *     The variation axis should not be exposed to user interfaces.\n+   *\n+   * @since:\n+   *   2.8.1\n+   *\/\n@@ -563,25 +675,27 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Get_Var_Axis_Flags                                              *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Get the `flags' field of an OpenType Variation Axis Record.        *\/\n-  \/*                                                                       *\/\n-  \/*    Not meaningful for Adobe MM fonts (`*flags' is always zero).       *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    master     :: The variation descriptor.                            *\/\n-  \/*                                                                       *\/\n-  \/*    axis_index :: The index of the requested variation axis.           *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    flags      :: The `flags' field.  See @FT_VAR_AXIS_FLAG_XXX for    *\/\n-  \/*                  possible values.                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Since>                                                               *\/\n-  \/*    2.8.1                                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Get_Var_Axis_Flags\n+   *\n+   * @description:\n+   *   Get the 'flags' field of an OpenType Variation Axis Record.\n+   *\n+   *   Not meaningful for Adobe MM fonts (`*flags` is always zero).\n+   *\n+   * @input:\n+   *   master ::\n+   *     The variation descriptor.\n+   *\n+   *   axis_index ::\n+   *     The index of the requested variation axis.\n+   *\n+   * @output:\n+   *   flags ::\n+   *     The 'flags' field.  See @FT_VAR_AXIS_FLAG_XXX for possible values.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @since:\n+   *   2.8.1\n+   *\/\n@@ -594,32 +708,33 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Set_Named_Instance                                              *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Set or change the current named instance.                          *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face           :: A handle to the source face.                     *\/\n-  \/*                                                                       *\/\n-  \/*    instance_index :: The index of the requested instance, starting    *\/\n-  \/*                      with value 1.  If set to value 0, FreeType       *\/\n-  \/*                      switches to font access without a named          *\/\n-  \/*                      instance.                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The function uses the value of `instance_index' to set bits 16-30  *\/\n-  \/*    of the face's `face_index' field.  It also resets any variation    *\/\n-  \/*    applied to the font, and the @FT_FACE_FLAG_VARIATION bit of the    *\/\n-  \/*    face's `face_flags' field gets reset to zero (i.e.,                *\/\n-  \/*    @FT_IS_VARIATION will return false).                               *\/\n-  \/*                                                                       *\/\n-  \/*    For Adobe MM fonts (which don't have named instances) this         *\/\n-  \/*    function simply resets the current face to the default instance.   *\/\n-  \/*                                                                       *\/\n-  \/* <Since>                                                               *\/\n-  \/*    2.9                                                                *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Set_Named_Instance\n+   *\n+   * @description:\n+   *   Set or change the current named instance.\n+   *\n+   * @input:\n+   *   face ::\n+   *     A handle to the source face.\n+   *\n+   *   instance_index ::\n+   *     The index of the requested instance, starting with value 1.  If set\n+   *     to value 0, FreeType switches to font access without a named\n+   *     instance.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   The function uses the value of `instance_index` to set bits 16-30 of\n+   *   the face's `face_index` field.  It also resets any variation applied\n+   *   to the font, and the @FT_FACE_FLAG_VARIATION bit of the face's\n+   *   `face_flags` field gets reset to zero (i.e., @FT_IS_VARIATION will\n+   *   return false).\n+   *\n+   *   For Adobe MM fonts (which don't have named instances) this function\n+   *   simply resets the current face to the default instance.\n+   *\n+   * @since:\n+   *   2.9\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/ftmm.h","additions":609,"deletions":494,"binary":false,"changes":1103,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftmodapi.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    FreeType modules public interface (specification).                   *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftmodapi.h\n+ *\n+ *   FreeType modules public interface (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -36,71 +36,71 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Section>                                                             *\/\n-  \/*    module_management                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Title>                                                               *\/\n-  \/*    Module Management                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Abstract>                                                            *\/\n-  \/*    How to add, upgrade, remove, and control modules from FreeType.    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    The definitions below are used to manage modules within FreeType.  *\/\n-  \/*    Modules can be added, upgraded, and removed at runtime.            *\/\n-  \/*    Additionally, some module properties can be controlled also.       *\/\n-  \/*                                                                       *\/\n-  \/*    Here is a list of possible values of the `module_name' field in    *\/\n-  \/*    the @FT_Module_Class structure.                                    *\/\n-  \/*                                                                       *\/\n-  \/*    {                                                                  *\/\n-  \/*      autofitter                                                       *\/\n-  \/*      bdf                                                              *\/\n-  \/*      cff                                                              *\/\n-  \/*      gxvalid                                                          *\/\n-  \/*      otvalid                                                          *\/\n-  \/*      pcf                                                              *\/\n-  \/*      pfr                                                              *\/\n-  \/*      psaux                                                            *\/\n-  \/*      pshinter                                                         *\/\n-  \/*      psnames                                                          *\/\n-  \/*      raster1                                                          *\/\n-  \/*      sfnt                                                             *\/\n-  \/*      smooth, smooth-lcd, smooth-lcdv                                  *\/\n-  \/*      truetype                                                         *\/\n-  \/*      type1                                                            *\/\n-  \/*      type42                                                           *\/\n-  \/*      t1cid                                                            *\/\n-  \/*      winfonts                                                         *\/\n-  \/*    }                                                                  *\/\n-  \/*                                                                       *\/\n-  \/*    Note that the FreeType Cache sub-system is not a FreeType module.  *\/\n-  \/*                                                                       *\/\n-  \/* <Order>                                                               *\/\n-  \/*    FT_Module                                                          *\/\n-  \/*    FT_Module_Constructor                                              *\/\n-  \/*    FT_Module_Destructor                                               *\/\n-  \/*    FT_Module_Requester                                                *\/\n-  \/*    FT_Module_Class                                                    *\/\n-  \/*                                                                       *\/\n-  \/*    FT_Add_Module                                                      *\/\n-  \/*    FT_Get_Module                                                      *\/\n-  \/*    FT_Remove_Module                                                   *\/\n-  \/*    FT_Add_Default_Modules                                             *\/\n-  \/*                                                                       *\/\n-  \/*    FT_Property_Set                                                    *\/\n-  \/*    FT_Property_Get                                                    *\/\n-  \/*    FT_Set_Default_Properties                                          *\/\n-  \/*                                                                       *\/\n-  \/*    FT_New_Library                                                     *\/\n-  \/*    FT_Done_Library                                                    *\/\n-  \/*    FT_Reference_Library                                               *\/\n-  \/*                                                                       *\/\n-  \/*    FT_Renderer                                                        *\/\n-  \/*    FT_Renderer_Class                                                  *\/\n-  \/*                                                                       *\/\n-  \/*    FT_Get_Renderer                                                    *\/\n-  \/*    FT_Set_Renderer                                                    *\/\n-  \/*                                                                       *\/\n-  \/*    FT_Set_Debug_Hook                                                  *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   module_management\n+   *\n+   * @title:\n+   *   Module Management\n+   *\n+   * @abstract:\n+   *   How to add, upgrade, remove, and control modules from FreeType.\n+   *\n+   * @description:\n+   *   The definitions below are used to manage modules within FreeType.\n+   *   Modules can be added, upgraded, and removed at runtime.  Additionally,\n+   *   some module properties can be controlled also.\n+   *\n+   *   Here is a list of possible values of the `module_name` field in the\n+   *   @FT_Module_Class structure.\n+   *\n+   *   ```\n+   *     autofitter\n+   *     bdf\n+   *     cff\n+   *     gxvalid\n+   *     otvalid\n+   *     pcf\n+   *     pfr\n+   *     psaux\n+   *     pshinter\n+   *     psnames\n+   *     raster1\n+   *     sfnt\n+   *     smooth, smooth-lcd, smooth-lcdv\n+   *     truetype\n+   *     type1\n+   *     type42\n+   *     t1cid\n+   *     winfonts\n+   *   ```\n+   *\n+   *   Note that the FreeType Cache sub-system is not a FreeType module.\n+   *\n+   * @order:\n+   *   FT_Module\n+   *   FT_Module_Constructor\n+   *   FT_Module_Destructor\n+   *   FT_Module_Requester\n+   *   FT_Module_Class\n+   *\n+   *   FT_Add_Module\n+   *   FT_Get_Module\n+   *   FT_Remove_Module\n+   *   FT_Add_Default_Modules\n+   *\n+   *   FT_Property_Set\n+   *   FT_Property_Get\n+   *   FT_Set_Default_Properties\n+   *\n+   *   FT_New_Library\n+   *   FT_Done_Library\n+   *   FT_Reference_Library\n+   *\n+   *   FT_Renderer\n+   *   FT_Renderer_Class\n+   *\n+   *   FT_Get_Renderer\n+   *   FT_Set_Renderer\n+   *\n+   *   FT_Set_Debug_Hook\n+   *\n+   *\/\n@@ -140,11 +140,12 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    FT_Module_Constructor                                              *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A function used to initialize (not create) a new module object.    *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    module :: The module to initialize.                                *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   FT_Module_Constructor\n+   *\n+   * @description:\n+   *   A function used to initialize (not create) a new module object.\n+   *\n+   * @input:\n+   *   module ::\n+   *     The module to initialize.\n+   *\/\n@@ -155,11 +156,12 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    FT_Module_Destructor                                               *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A function used to finalize (not destroy) a given module object.   *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    module :: The module to finalize.                                  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   FT_Module_Destructor\n+   *\n+   * @description:\n+   *   A function used to finalize (not destroy) a given module object.\n+   *\n+   * @input:\n+   *   module ::\n+   *     The module to finalize.\n+   *\/\n@@ -170,13 +172,15 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    FT_Module_Requester                                                *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A function used to query a given module for a specific interface.  *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    module :: The module to be searched.                               *\/\n-  \/*                                                                       *\/\n-  \/*    name ::   The name of the interface in the module.                 *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   FT_Module_Requester\n+   *\n+   * @description:\n+   *   A function used to query a given module for a specific interface.\n+   *\n+   * @input:\n+   *   module ::\n+   *     The module to be searched.\n+   *\n+   *   name ::\n+   *     The name of the interface in the module.\n+   *\/\n@@ -188,29 +192,41 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_Module_Class                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    The module class descriptor.                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    module_flags    :: Bit flags describing the module.                *\/\n-  \/*                                                                       *\/\n-  \/*    module_size     :: The size of one module object\/instance in       *\/\n-  \/*                       bytes.                                          *\/\n-  \/*                                                                       *\/\n-  \/*    module_name     :: The name of the module.                         *\/\n-  \/*                                                                       *\/\n-  \/*    module_version  :: The version, as a 16.16 fixed number            *\/\n-  \/*                       (major.minor).                                  *\/\n-  \/*                                                                       *\/\n-  \/*    module_requires :: The version of FreeType this module requires,   *\/\n-  \/*                       as a 16.16 fixed number (major.minor).  Starts  *\/\n-  \/*                       at version 2.0, i.e., 0x20000.                  *\/\n-  \/*                                                                       *\/\n-  \/*    module_init     :: The initializing function.                      *\/\n-  \/*                                                                       *\/\n-  \/*    module_done     :: The finalizing function.                        *\/\n-  \/*                                                                       *\/\n-  \/*    get_interface   :: The interface requesting function.              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_Module_Class\n+   *\n+   * @description:\n+   *   The module class descriptor.  While being a public structure necessary\n+   *   for FreeType's module bookkeeping, most of the fields are essentially\n+   *   internal, not to be used directly by an application.\n+   *\n+   * @fields:\n+   *   module_flags ::\n+   *     Bit flags describing the module.\n+   *\n+   *   module_size ::\n+   *     The size of one module object\/instance in bytes.\n+   *\n+   *   module_name ::\n+   *     The name of the module.\n+   *\n+   *   module_version ::\n+   *     The version, as a 16.16 fixed number (major.minor).\n+   *\n+   *   module_requires ::\n+   *     The version of FreeType this module requires, as a 16.16 fixed\n+   *     number (major.minor).  Starts at version 2.0, i.e., 0x20000.\n+   *\n+   *   module_interface ::\n+   *     A typeless pointer to a structure (which varies between different\n+   *     modules) that holds the module's interface functions.  This is\n+   *     essentially what `get_interface` returns.\n+   *\n+   *   module_init ::\n+   *     The initializing function.\n+   *\n+   *   module_done ::\n+   *     The finalizing function.\n+   *\n+   *   get_interface ::\n+   *     The interface requesting function.\n+   *\/\n@@ -234,21 +250,23 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Add_Module                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Add a new module to a given library instance.                      *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    library :: A handle to the library object.                         *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    clazz   :: A pointer to class descriptor for the module.           *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    An error will be returned if a module already exists by that name, *\/\n-  \/*    or if the module requires a version of FreeType that is too great. *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Add_Module\n+   *\n+   * @description:\n+   *   Add a new module to a given library instance.\n+   *\n+   * @inout:\n+   *   library ::\n+   *     A handle to the library object.\n+   *\n+   * @input:\n+   *   clazz ::\n+   *     A pointer to class descriptor for the module.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   An error will be returned if a module already exists by that name, or\n+   *   if the module requires a version of FreeType that is too great.\n+   *\/\n@@ -260,20 +278,22 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Get_Module                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Find a module by its name.                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    library     :: A handle to the library object.                     *\/\n-  \/*                                                                       *\/\n-  \/*    module_name :: The module's name (as an ASCII string).             *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    A module handle.  0~if none was found.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    FreeType's internal modules aren't documented very well, and you   *\/\n-  \/*    should look up the source code for details.                        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Get_Module\n+   *\n+   * @description:\n+   *   Find a module by its name.\n+   *\n+   * @input:\n+   *   library ::\n+   *     A handle to the library object.\n+   *\n+   *   module_name ::\n+   *     The module's name (as an ASCII string).\n+   *\n+   * @return:\n+   *   A module handle.  0~if none was found.\n+   *\n+   * @note:\n+   *   FreeType's internal modules aren't documented very well, and you\n+   *   should look up the source code for details.\n+   *\/\n@@ -285,20 +305,22 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Remove_Module                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Remove a given module from a library instance.                     *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    library :: A handle to a library object.                           *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    module  :: A handle to a module object.                            *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The module object is destroyed by the function in case of success. *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Remove_Module\n+   *\n+   * @description:\n+   *   Remove a given module from a library instance.\n+   *\n+   * @inout:\n+   *   library ::\n+   *     A handle to a library object.\n+   *\n+   * @input:\n+   *   module ::\n+   *     A handle to a module object.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   The module object is destroyed by the function in case of success.\n+   *\/\n@@ -310,1 +332,1 @@\n-  \/**********************************************************************\n+  \/**************************************************************************\n@@ -320,1 +342,1 @@\n-   *       A handle to the library the module is part of.\n+   *      A handle to the library the module is part of.\n@@ -323,1 +345,1 @@\n-   *       The module name.\n+   *      The module name.\n@@ -326,2 +348,2 @@\n-   *       The property name.  Properties are described in section\n-   *       @properties.\n+   *      The property name.  Properties are described in section\n+   *      @properties.\n@@ -329,1 +351,1 @@\n-   *       Note that only a few modules have properties.\n+   *      Note that only a few modules have properties.\n@@ -332,3 +354,3 @@\n-   *       A generic pointer to a variable or structure that gives the new\n-   *       value of the property.  The exact definition of `value' is\n-   *       dependent on the property; see section @properties.\n+   *      A generic pointer to a variable or structure that gives the new\n+   *      value of the property.  The exact definition of `value` is\n+   *      dependent on the property; see section @properties.\n@@ -340,2 +362,2 @@\n-   *    If `module_name' isn't a valid module name, or `property_name'\n-   *    doesn't specify a valid property, or if `value' doesn't represent a\n+   *    If `module_name` isn't a valid module name, or `property_name`\n+   *    doesn't specify a valid property, or if `value` doesn't represent a\n@@ -344,2 +366,2 @@\n-   *    The following example sets property `bar' (a simple integer) in\n-   *    module `foo' to value~1.\n+   *    The following example sets property 'bar' (a simple integer) in\n+   *    module 'foo' to value~1.\n@@ -347,1 +369,1 @@\n-   *    {\n+   *    ```\n@@ -353,1 +375,1 @@\n-   *    }\n+   *    ```\n@@ -357,3 +379,2 @@\n-   *    you should call @FTC_Manager_Reset to completely flush the cache if\n-   *    a module property gets changed after @FTC_Manager_New has been\n-   *    called.\n+   *    you should call @FTC_Manager_Reset to completely flush the cache if a\n+   *    module property gets changed after @FTC_Manager_New has been called.\n@@ -361,3 +382,2 @@\n-   *    It is not possible to set properties of the FreeType Cache\n-   *    sub-system itself with FT_Property_Set; use @FTC_Property_Set\n-   *    instead.\n+   *    It is not possible to set properties of the FreeType Cache sub-system\n+   *    itself with FT_Property_Set; use @FTC_Property_Set instead.\n@@ -365,2 +385,2 @@\n-   *  @since:\n-   *    2.4.11\n+   * @since:\n+   *   2.4.11\n@@ -376,1 +396,1 @@\n-  \/**********************************************************************\n+  \/**************************************************************************\n@@ -386,1 +406,1 @@\n-   *       A handle to the library the module is part of.\n+   *      A handle to the library the module is part of.\n@@ -389,1 +409,1 @@\n-   *       The module name.\n+   *      The module name.\n@@ -392,2 +412,2 @@\n-   *       The property name.  Properties are described in section\n-   *       @properties.\n+   *      The property name.  Properties are described in section\n+   *      @properties.\n@@ -397,3 +417,3 @@\n-   *       A generic pointer to a variable or structure that gives the\n-   *       value of the property.  The exact definition of `value' is\n-   *       dependent on the property; see section @properties.\n+   *      A generic pointer to a variable or structure that gives the value\n+   *      of the property.  The exact definition of `value` is dependent on\n+   *      the property; see section @properties.\n@@ -405,2 +425,2 @@\n-   *    If `module_name' isn't a valid module name, or `property_name'\n-   *    doesn't specify a valid property, or if `value' doesn't represent a\n+   *    If `module_name` isn't a valid module name, or `property_name`\n+   *    doesn't specify a valid property, or if `value` doesn't represent a\n@@ -409,1 +429,1 @@\n-   *    The following example gets property `baz' (a range) in module `foo'.\n+   *    The following example gets property 'baz' (a range) in module 'foo'.\n@@ -411,1 +431,1 @@\n-   *    {\n+   *    ```\n@@ -423,1 +443,1 @@\n-   *    }\n+   *    ```\n@@ -428,2 +448,2 @@\n-   *  @since:\n-   *    2.4.11\n+   * @since:\n+   *   2.4.11\n@@ -439,40 +459,41 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Set_Default_Properties                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    If compilation option FT_CONFIG_OPTION_ENVIRONMENT_PROPERTIES is   *\/\n-  \/*    set, this function reads the `FREETYPE_PROPERTIES' environment     *\/\n-  \/*    variable to control driver properties.  See section @properties    *\/\n-  \/*    for more.                                                          *\/\n-  \/*                                                                       *\/\n-  \/*    If the compilation option is not set, this function does nothing.  *\/\n-  \/*                                                                       *\/\n-  \/*    `FREETYPE_PROPERTIES' has the following syntax form (broken here   *\/\n-  \/*    into multiple lines for better readability).                       *\/\n-  \/*                                                                       *\/\n-  \/*    {                                                                  *\/\n-  \/*      <optional whitespace>                                            *\/\n-  \/*      <module-name1> ':'                                               *\/\n-  \/*      <property-name1> '=' <property-value1>                           *\/\n-  \/*      <whitespace>                                                     *\/\n-  \/*      <module-name2> ':'                                               *\/\n-  \/*      <property-name2> '=' <property-value2>                           *\/\n-  \/*      ...                                                              *\/\n-  \/*    }                                                                  *\/\n-  \/*                                                                       *\/\n-  \/*    Example:                                                           *\/\n-  \/*                                                                       *\/\n-  \/*    {                                                                  *\/\n-  \/*      FREETYPE_PROPERTIES=truetype:interpreter-version=35 \\            *\/\n-  \/*                          cff:no-stem-darkening=1 \\                    *\/\n-  \/*                          autofitter:warping=1                         *\/\n-  \/*    }                                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    library :: A handle to a new library object.                       *\/\n-  \/*                                                                       *\/\n-  \/* <Since>                                                               *\/\n-  \/*    2.8                                                                *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Set_Default_Properties\n+   *\n+   * @description:\n+   *   If compilation option `FT_CONFIG_OPTION_ENVIRONMENT_PROPERTIES` is\n+   *   set, this function reads the `FREETYPE_PROPERTIES` environment\n+   *   variable to control driver properties.  See section @properties for\n+   *   more.\n+   *\n+   *   If the compilation option is not set, this function does nothing.\n+   *\n+   *   `FREETYPE_PROPERTIES` has the following syntax form (broken here into\n+   *   multiple lines for better readability).\n+   *\n+   *   ```\n+   *     <optional whitespace>\n+   *     <module-name1> ':'\n+   *     <property-name1> '=' <property-value1>\n+   *     <whitespace>\n+   *     <module-name2> ':'\n+   *     <property-name2> '=' <property-value2>\n+   *     ...\n+   *   ```\n+   *\n+   *   Example:\n+   *\n+   *   ```\n+   *     FREETYPE_PROPERTIES=truetype:interpreter-version=35 \\\n+   *                         cff:no-stem-darkening=1 \\\n+   *                         autofitter:warping=1\n+   *   ```\n+   *\n+   * @inout:\n+   *   library ::\n+   *     A handle to a new library object.\n+   *\n+   * @since:\n+   *   2.8\n+   *\/\n@@ -483,23 +504,24 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Reference_Library                                               *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A counter gets initialized to~1 at the time an @FT_Library         *\/\n-  \/*    structure is created.  This function increments the counter.       *\/\n-  \/*    @FT_Done_Library then only destroys a library if the counter is~1, *\/\n-  \/*    otherwise it simply decrements the counter.                        *\/\n-  \/*                                                                       *\/\n-  \/*    This function helps in managing life-cycles of structures that     *\/\n-  \/*    reference @FT_Library objects.                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    library :: A handle to a target library object.                    *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Since>                                                               *\/\n-  \/*    2.4.2                                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Reference_Library\n+   *\n+   * @description:\n+   *   A counter gets initialized to~1 at the time an @FT_Library structure\n+   *   is created.  This function increments the counter.  @FT_Done_Library\n+   *   then only destroys a library if the counter is~1, otherwise it simply\n+   *   decrements the counter.\n+   *\n+   *   This function helps in managing life-cycles of structures that\n+   *   reference @FT_Library objects.\n+   *\n+   * @input:\n+   *   library ::\n+   *     A handle to a target library object.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @since:\n+   *   2.4.2\n+   *\/\n@@ -510,33 +532,35 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_New_Library                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This function is used to create a new FreeType library instance    *\/\n-  \/*    from a given memory object.  It is thus possible to use libraries  *\/\n-  \/*    with distinct memory allocators within the same program.  Note,    *\/\n-  \/*    however, that the used @FT_Memory structure is expected to remain  *\/\n-  \/*    valid for the life of the @FT_Library object.                      *\/\n-  \/*                                                                       *\/\n-  \/*    Normally, you would call this function (followed by a call to      *\/\n-  \/*    @FT_Add_Default_Modules or a series of calls to @FT_Add_Module,    *\/\n-  \/*    and a call to @FT_Set_Default_Properties) instead of               *\/\n-  \/*    @FT_Init_FreeType to initialize the FreeType library.              *\/\n-  \/*                                                                       *\/\n-  \/*    Don't use @FT_Done_FreeType but @FT_Done_Library to destroy a      *\/\n-  \/*    library instance.                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    memory   :: A handle to the original memory object.                *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    alibrary :: A pointer to handle of a new library object.           *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    See the discussion of reference counters in the description of     *\/\n-  \/*    @FT_Reference_Library.                                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_New_Library\n+   *\n+   * @description:\n+   *   This function is used to create a new FreeType library instance from a\n+   *   given memory object.  It is thus possible to use libraries with\n+   *   distinct memory allocators within the same program.  Note, however,\n+   *   that the used @FT_Memory structure is expected to remain valid for the\n+   *   life of the @FT_Library object.\n+   *\n+   *   Normally, you would call this function (followed by a call to\n+   *   @FT_Add_Default_Modules or a series of calls to @FT_Add_Module, and a\n+   *   call to @FT_Set_Default_Properties) instead of @FT_Init_FreeType to\n+   *   initialize the FreeType library.\n+   *\n+   *   Don't use @FT_Done_FreeType but @FT_Done_Library to destroy a library\n+   *   instance.\n+   *\n+   * @input:\n+   *   memory ::\n+   *     A handle to the original memory object.\n+   *\n+   * @output:\n+   *   alibrary ::\n+   *     A pointer to handle of a new library object.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   See the discussion of reference counters in the description of\n+   *   @FT_Reference_Library.\n+   *\/\n@@ -548,19 +572,20 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Done_Library                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Discard a given library object.  This closes all drivers and       *\/\n-  \/*    discards all resource objects.                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    library :: A handle to the target library.                         *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    See the discussion of reference counters in the description of     *\/\n-  \/*    @FT_Reference_Library.                                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Done_Library\n+   *\n+   * @description:\n+   *   Discard a given library object.  This closes all drivers and discards\n+   *   all resource objects.\n+   *\n+   * @input:\n+   *   library ::\n+   *     A handle to the target library.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   See the discussion of reference counters in the description of\n+   *   @FT_Reference_Library.\n+   *\/\n@@ -570,1 +595,0 @@\n-  \/* *\/\n@@ -572,0 +596,30 @@\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   FT_DebugHook_Func\n+   *\n+   * @description:\n+   *   A drop-in replacement (or rather a wrapper) for the bytecode or\n+   *   charstring interpreter's main loop function.\n+   *\n+   *   Its job is essentially\n+   *\n+   *   - to activate debug mode to enforce single-stepping,\n+   *\n+   *   - to call the main loop function to interpret the next opcode, and\n+   *\n+   *   - to show the changed context to the user.\n+   *\n+   *   An example for such a main loop function is `TT_RunIns` (declared in\n+   *   FreeType's internal header file `src\/truetype\/ttinterp.h`).\n+   *\n+   *   Have a look at the source code of the `ttdebug` FreeType demo program\n+   *   for an example of a drop-in replacement.\n+   *\n+   * @inout:\n+   *   arg ::\n+   *     A typeless pointer, to be cast to the main loop function's data\n+   *     structure (which depends on the font module).  For TrueType fonts\n+   *     it is bytecode interpreter's execution context, `TT_ExecContext`,\n+   *     which is declared in FreeType's internal header file `tttypes.h`.\n+   *\/\n@@ -576,27 +630,46 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Set_Debug_Hook                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Set a debug hook function for debugging the interpreter of a font  *\/\n-  \/*    format.                                                            *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    library    :: A handle to the library object.                      *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    hook_index :: The index of the debug hook.  You should use the     *\/\n-  \/*                  values defined in `ftobjs.h', e.g.,                  *\/\n-  \/*                  `FT_DEBUG_HOOK_TRUETYPE'.                            *\/\n-  \/*                                                                       *\/\n-  \/*    debug_hook :: The function used to debug the interpreter.          *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    Currently, four debug hook slots are available, but only two (for  *\/\n-  \/*    the TrueType and the Type~1 interpreter) are defined.              *\/\n-  \/*                                                                       *\/\n-  \/*    Since the internal headers of FreeType are no longer installed,    *\/\n-  \/*    the symbol `FT_DEBUG_HOOK_TRUETYPE' isn't available publicly.      *\/\n-  \/*    This is a bug and will be fixed in a forthcoming release.          *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @enum:\n+   *   FT_DEBUG_HOOK_XXX\n+   *\n+   * @description:\n+   *   A list of named debug hook indices.\n+   *\n+   * @values:\n+   *   FT_DEBUG_HOOK_TRUETYPE::\n+   *     This hook index identifies the TrueType bytecode debugger.\n+   *\/\n+#define FT_DEBUG_HOOK_TRUETYPE  0\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Set_Debug_Hook\n+   *\n+   * @description:\n+   *   Set a debug hook function for debugging the interpreter of a font\n+   *   format.\n+   *\n+   *   While this is a public API function, an application needs access to\n+   *   FreeType's internal header files to do something useful.\n+   *\n+   *   Have a look at the source code of the `ttdebug` FreeType demo program\n+   *   for an example of its usage.\n+   *\n+   * @inout:\n+   *   library ::\n+   *     A handle to the library object.\n+   *\n+   * @input:\n+   *   hook_index ::\n+   *     The index of the debug hook.  You should use defined enumeration\n+   *     macros like @FT_DEBUG_HOOK_TRUETYPE.\n+   *\n+   *   debug_hook ::\n+   *     The function used to debug the interpreter.\n+   *\n+   * @note:\n+   *   Currently, four debug hook slots are available, but only one (for the\n+   *   TrueType interpreter) is defined.\n+   *\/\n@@ -609,13 +682,14 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Add_Default_Modules                                             *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Add the set of default drivers to a given library object.          *\/\n-  \/*    This is only useful when you create a library object with          *\/\n-  \/*    @FT_New_Library (usually to plug a custom memory manager).         *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    library :: A handle to a new library object.                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Add_Default_Modules\n+   *\n+   * @description:\n+   *   Add the set of default drivers to a given library object.  This is\n+   *   only useful when you create a library object with @FT_New_Library\n+   *   (usually to plug a custom memory manager).\n+   *\n+   * @inout:\n+   *   library ::\n+   *     A handle to a new library object.\n+   *\/\n@@ -647,2 +721,2 @@\n-   *  @enum:\n-   *     FT_TrueTypeEngineType\n+   * @enum:\n+   *    FT_TrueTypeEngineType\n@@ -650,4 +724,4 @@\n-   *  @description:\n-   *     A list of values describing which kind of TrueType bytecode\n-   *     engine is implemented in a given FT_Library instance.  It is used\n-   *     by the @FT_Get_TrueType_Engine_Type function.\n+   * @description:\n+   *    A list of values describing which kind of TrueType bytecode engine is\n+   *    implemented in a given FT_Library instance.  It is used by the\n+   *    @FT_Get_TrueType_Engine_Type function.\n@@ -655,3 +729,3 @@\n-   *  @values:\n-   *     FT_TRUETYPE_ENGINE_TYPE_NONE ::\n-   *       The library doesn't implement any kind of bytecode interpreter.\n+   * @values:\n+   *    FT_TRUETYPE_ENGINE_TYPE_NONE ::\n+   *      The library doesn't implement any kind of bytecode interpreter.\n@@ -659,2 +733,2 @@\n-   *     FT_TRUETYPE_ENGINE_TYPE_UNPATENTED ::\n-   *       Deprecated and removed.\n+   *    FT_TRUETYPE_ENGINE_TYPE_UNPATENTED ::\n+   *      Deprecated and removed.\n@@ -662,4 +736,4 @@\n-   *     FT_TRUETYPE_ENGINE_TYPE_PATENTED ::\n-   *       The library implements a bytecode interpreter that covers\n-   *       the full instruction set of the TrueType virtual machine (this\n-   *       was governed by patents until May 2010, hence the name).\n+   *    FT_TRUETYPE_ENGINE_TYPE_PATENTED ::\n+   *      The library implements a bytecode interpreter that covers the full\n+   *      instruction set of the TrueType virtual machine (this was governed\n+   *      by patents until May 2010, hence the name).\n@@ -667,2 +741,2 @@\n-   *  @since:\n-   *     2.2\n+   * @since:\n+   *    2.2\n@@ -682,2 +756,2 @@\n-   *  @func:\n-   *     FT_Get_TrueType_Engine_Type\n+   * @function:\n+   *    FT_Get_TrueType_Engine_Type\n@@ -685,3 +759,3 @@\n-   *  @description:\n-   *     Return an @FT_TrueTypeEngineType value to indicate which level of\n-   *     the TrueType virtual machine a given library instance supports.\n+   * @description:\n+   *    Return an @FT_TrueTypeEngineType value to indicate which level of the\n+   *    TrueType virtual machine a given library instance supports.\n@@ -689,3 +763,3 @@\n-   *  @input:\n-   *     library ::\n-   *       A library instance.\n+   * @input:\n+   *    library ::\n+   *      A library instance.\n@@ -693,2 +767,2 @@\n-   *  @return:\n-   *     A value indicating which level is supported.\n+   * @return:\n+   *    A value indicating which level is supported.\n@@ -696,2 +770,2 @@\n-   *  @since:\n-   *     2.2\n+   * @since:\n+   *    2.2\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/ftmodapi.h","additions":509,"deletions":435,"binary":false,"changes":944,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftmoderr.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    FreeType module error offsets (specification).                       *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2001-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftmoderr.h\n+ *\n+ *   FreeType module error offsets (specification).\n+ *\n+ * Copyright (C) 2001-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -19,73 +19,82 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* This file is used to define the FreeType module error codes.          *\/\n-  \/*                                                                       *\/\n-  \/* If the macro FT_CONFIG_OPTION_USE_MODULE_ERRORS in `ftoption.h' is    *\/\n-  \/* set, the lower byte of an error value identifies the error code as    *\/\n-  \/* usual.  In addition, the higher byte identifies the module.  For      *\/\n-  \/* example, the error `FT_Err_Invalid_File_Format' has value 0x0003, the *\/\n-  \/* error `TT_Err_Invalid_File_Format' has value 0x1303, the error        *\/\n-  \/* `T1_Err_Invalid_File_Format' has value 0x1403, etc.                   *\/\n-  \/*                                                                       *\/\n-  \/* Note that `FT_Err_Ok', `TT_Err_Ok', etc. are always equal to zero,    *\/\n-  \/* including the high byte.                                              *\/\n-  \/*                                                                       *\/\n-  \/* If FT_CONFIG_OPTION_USE_MODULE_ERRORS isn't set, the higher byte of   *\/\n-  \/* an error value is set to zero.                                        *\/\n-  \/*                                                                       *\/\n-  \/* To hide the various `XXX_Err_' prefixes in the source code, FreeType  *\/\n-  \/* provides some macros in `fttypes.h'.                                  *\/\n-  \/*                                                                       *\/\n-  \/*   FT_ERR( err )                                                       *\/\n-  \/*     Add current error module prefix (as defined with the              *\/\n-  \/*     `FT_ERR_PREFIX' macro) to `err'.  For example, in the BDF module  *\/\n-  \/*     the line                                                          *\/\n-  \/*                                                                       *\/\n-  \/*       error = FT_ERR( Invalid_Outline );                              *\/\n-  \/*                                                                       *\/\n-  \/*     expands to                                                        *\/\n-  \/*                                                                       *\/\n-  \/*       error = BDF_Err_Invalid_Outline;                                *\/\n-  \/*                                                                       *\/\n-  \/*     For simplicity, you can always use `FT_Err_Ok' directly instead   *\/\n-  \/*     of `FT_ERR( Ok )'.                                                *\/\n-  \/*                                                                       *\/\n-  \/*   FT_ERR_EQ( errcode, err )                                           *\/\n-  \/*   FT_ERR_NEQ( errcode, err )                                          *\/\n-  \/*     Compare error code `errcode' with the error `err' for equality    *\/\n-  \/*     and inequality, respectively.  Example:                           *\/\n-  \/*                                                                       *\/\n-  \/*       if ( FT_ERR_EQ( error, Invalid_Outline ) )                      *\/\n-  \/*         ...                                                           *\/\n-  \/*                                                                       *\/\n-  \/*     Using this macro you don't have to think about error prefixes.    *\/\n-  \/*     Of course, if module errors are not active, the above example is  *\/\n-  \/*     the same as                                                       *\/\n-  \/*                                                                       *\/\n-  \/*       if ( error == FT_Err_Invalid_Outline )                          *\/\n-  \/*         ...                                                           *\/\n-  \/*                                                                       *\/\n-  \/*   FT_ERROR_BASE( errcode )                                            *\/\n-  \/*   FT_ERROR_MODULE( errcode )                                          *\/\n-  \/*     Get base error and module error code, respectively.               *\/\n-  \/*                                                                       *\/\n-  \/*                                                                       *\/\n-  \/* It can also be used to create a module error message table easily     *\/\n-  \/* with something like                                                   *\/\n-  \/*                                                                       *\/\n-  \/*   {                                                                   *\/\n-  \/*     #undef FTMODERR_H_                                                *\/\n-  \/*     #define FT_MODERRDEF( e, v, s )  { FT_Mod_Err_ ## e, s },         *\/\n-  \/*     #define FT_MODERR_START_LIST     {                                *\/\n-  \/*     #define FT_MODERR_END_LIST       { 0, 0 } };                      *\/\n-  \/*                                                                       *\/\n-  \/*     const struct                                                      *\/\n-  \/*     {                                                                 *\/\n-  \/*       int          mod_err_offset;                                    *\/\n-  \/*       const char*  mod_err_msg                                        *\/\n-  \/*     } ft_mod_errors[] =                                               *\/\n-  \/*                                                                       *\/\n-  \/*     #include FT_MODULE_ERRORS_H                                       *\/\n-  \/*   }                                                                   *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * This file is used to define the FreeType module error codes.\n+   *\n+   * If the macro `FT_CONFIG_OPTION_USE_MODULE_ERRORS` in `ftoption.h` is\n+   * set, the lower byte of an error value identifies the error code as\n+   * usual.  In addition, the higher byte identifies the module.  For\n+   * example, the error `FT_Err_Invalid_File_Format` has value 0x0003, the\n+   * error `TT_Err_Invalid_File_Format` has value 0x1303, the error\n+   * `T1_Err_Invalid_File_Format` has value 0x1403, etc.\n+   *\n+   * Note that `FT_Err_Ok`, `TT_Err_Ok`, etc. are always equal to zero,\n+   * including the high byte.\n+   *\n+   * If `FT_CONFIG_OPTION_USE_MODULE_ERRORS` isn't set, the higher byte of an\n+   * error value is set to zero.\n+   *\n+   * To hide the various `XXX_Err_` prefixes in the source code, FreeType\n+   * provides some macros in `fttypes.h`.\n+   *\n+   *   FT_ERR( err )\n+   *\n+   *     Add current error module prefix (as defined with the `FT_ERR_PREFIX`\n+   *     macro) to `err`.  For example, in the BDF module the line\n+   *\n+   *     ```\n+   *       error = FT_ERR( Invalid_Outline );\n+   *     ```\n+   *\n+   *     expands to\n+   *\n+   *     ```\n+   *       error = BDF_Err_Invalid_Outline;\n+   *     ```\n+   *\n+   *     For simplicity, you can always use `FT_Err_Ok` directly instead of\n+   *     `FT_ERR( Ok )`.\n+   *\n+   *   FT_ERR_EQ( errcode, err )\n+   *   FT_ERR_NEQ( errcode, err )\n+   *\n+   *     Compare error code `errcode` with the error `err` for equality and\n+   *     inequality, respectively.  Example:\n+   *\n+   *     ```\n+   *       if ( FT_ERR_EQ( error, Invalid_Outline ) )\n+   *         ...\n+   *     ```\n+   *\n+   *     Using this macro you don't have to think about error prefixes.  Of\n+   *     course, if module errors are not active, the above example is the\n+   *     same as\n+   *\n+   *     ```\n+   *       if ( error == FT_Err_Invalid_Outline )\n+   *         ...\n+   *     ```\n+   *\n+   *   FT_ERROR_BASE( errcode )\n+   *   FT_ERROR_MODULE( errcode )\n+   *\n+   *     Get base error and module error code, respectively.\n+   *\n+   * It can also be used to create a module error message table easily with\n+   * something like\n+   *\n+   * ```\n+   *   #undef FTMODERR_H_\n+   *   #define FT_MODERRDEF( e, v, s )  { FT_Mod_Err_ ## e, s },\n+   *   #define FT_MODERR_START_LIST     {\n+   *   #define FT_MODERR_END_LIST       { 0, 0 } };\n+   *\n+   *   const struct\n+   *   {\n+   *     int          mod_err_offset;\n+   *     const char*  mod_err_msg\n+   *   } ft_mod_errors[] =\n+   *\n+   *   #include FT_MODULE_ERRORS_H\n+   * ```\n+   *\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/ftmoderr.h","additions":98,"deletions":89,"binary":false,"changes":187,"status":"modified"},{"patch":"@@ -1,17 +1,17 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftoutln.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    Support for the FT_Outline type used to store glyph shapes of        *\/\n-\/*    most scalable font formats (specification).                          *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftoutln.h\n+ *\n+ *   Support for the FT_Outline type used to store glyph shapes of\n+ *   most scalable font formats (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -37,85 +37,86 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Section>                                                             *\/\n-  \/*    outline_processing                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Title>                                                               *\/\n-  \/*    Outline Processing                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Abstract>                                                            *\/\n-  \/*    Functions to create, transform, and render vectorial glyph images. *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This section contains routines used to create and destroy scalable *\/\n-  \/*    glyph images known as `outlines'.  These can also be measured,     *\/\n-  \/*    transformed, and converted into bitmaps and pixmaps.               *\/\n-  \/*                                                                       *\/\n-  \/* <Order>                                                               *\/\n-  \/*    FT_Outline                                                         *\/\n-  \/*    FT_Outline_New                                                     *\/\n-  \/*    FT_Outline_Done                                                    *\/\n-  \/*    FT_Outline_Copy                                                    *\/\n-  \/*    FT_Outline_Translate                                               *\/\n-  \/*    FT_Outline_Transform                                               *\/\n-  \/*    FT_Outline_Embolden                                                *\/\n-  \/*    FT_Outline_EmboldenXY                                              *\/\n-  \/*    FT_Outline_Reverse                                                 *\/\n-  \/*    FT_Outline_Check                                                   *\/\n-  \/*                                                                       *\/\n-  \/*    FT_Outline_Get_CBox                                                *\/\n-  \/*    FT_Outline_Get_BBox                                                *\/\n-  \/*                                                                       *\/\n-  \/*    FT_Outline_Get_Bitmap                                              *\/\n-  \/*    FT_Outline_Render                                                  *\/\n-  \/*    FT_Outline_Decompose                                               *\/\n-  \/*    FT_Outline_Funcs                                                   *\/\n-  \/*    FT_Outline_MoveToFunc                                              *\/\n-  \/*    FT_Outline_LineToFunc                                              *\/\n-  \/*    FT_Outline_ConicToFunc                                             *\/\n-  \/*    FT_Outline_CubicToFunc                                             *\/\n-  \/*                                                                       *\/\n-  \/*    FT_Orientation                                                     *\/\n-  \/*    FT_Outline_Get_Orientation                                         *\/\n-  \/*                                                                       *\/\n-  \/*    FT_OUTLINE_XXX                                                     *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Outline_Decompose                                               *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Walk over an outline's structure to decompose it into individual   *\/\n-  \/*    segments and Bezier arcs.  This function also emits `move to'      *\/\n-  \/*    operations to indicate the start of new contours in the outline.   *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    outline        :: A pointer to the source target.                  *\/\n-  \/*                                                                       *\/\n-  \/*    func_interface :: A table of `emitters', i.e., function pointers   *\/\n-  \/*                      called during decomposition to indicate path     *\/\n-  \/*                      operations.                                      *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    user           :: A typeless pointer that is passed to each        *\/\n-  \/*                      emitter during the decomposition.  It can be     *\/\n-  \/*                      used to store the state during the               *\/\n-  \/*                      decomposition.                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    A contour that contains a single point only is represented by a    *\/\n-  \/*    `move to' operation followed by `line to' to the same point.  In   *\/\n-  \/*    most cases, it is best to filter this out before using the         *\/\n-  \/*    outline for stroking purposes (otherwise it would result in a      *\/\n-  \/*    visible dot when round caps are used).                             *\/\n-  \/*                                                                       *\/\n-  \/*    Similarly, the function returns success for an empty outline also  *\/\n-  \/*    (doing nothing, this is, not calling any emitter); if necessary,   *\/\n-  \/*    you should filter this out, too.                                   *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   outline_processing\n+   *\n+   * @title:\n+   *   Outline Processing\n+   *\n+   * @abstract:\n+   *   Functions to create, transform, and render vectorial glyph images.\n+   *\n+   * @description:\n+   *   This section contains routines used to create and destroy scalable\n+   *   glyph images known as 'outlines'.  These can also be measured,\n+   *   transformed, and converted into bitmaps and pixmaps.\n+   *\n+   * @order:\n+   *   FT_Outline\n+   *   FT_Outline_New\n+   *   FT_Outline_Done\n+   *   FT_Outline_Copy\n+   *   FT_Outline_Translate\n+   *   FT_Outline_Transform\n+   *   FT_Outline_Embolden\n+   *   FT_Outline_EmboldenXY\n+   *   FT_Outline_Reverse\n+   *   FT_Outline_Check\n+   *\n+   *   FT_Outline_Get_CBox\n+   *   FT_Outline_Get_BBox\n+   *\n+   *   FT_Outline_Get_Bitmap\n+   *   FT_Outline_Render\n+   *   FT_Outline_Decompose\n+   *   FT_Outline_Funcs\n+   *   FT_Outline_MoveToFunc\n+   *   FT_Outline_LineToFunc\n+   *   FT_Outline_ConicToFunc\n+   *   FT_Outline_CubicToFunc\n+   *\n+   *   FT_Orientation\n+   *   FT_Outline_Get_Orientation\n+   *\n+   *   FT_OUTLINE_XXX\n+   *\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Outline_Decompose\n+   *\n+   * @description:\n+   *   Walk over an outline's structure to decompose it into individual\n+   *   segments and Bezier arcs.  This function also emits 'move to'\n+   *   operations to indicate the start of new contours in the outline.\n+   *\n+   * @input:\n+   *   outline ::\n+   *     A pointer to the source target.\n+   *\n+   *   func_interface ::\n+   *     A table of 'emitters', i.e., function pointers called during\n+   *     decomposition to indicate path operations.\n+   *\n+   * @inout:\n+   *   user ::\n+   *     A typeless pointer that is passed to each emitter during the\n+   *     decomposition.  It can be used to store the state during the\n+   *     decomposition.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   A contour that contains a single point only is represented by a 'move\n+   *   to' operation followed by 'line to' to the same point.  In most cases,\n+   *   it is best to filter this out before using the outline for stroking\n+   *   purposes (otherwise it would result in a visible dot when round caps\n+   *   are used).\n+   *\n+   *   Similarly, the function returns success for an empty outline also\n+   *   (doing nothing, this is, not calling any emitter); if necessary, you\n+   *   should filter this out, too.\n+   *\/\n@@ -128,30 +129,33 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Outline_New                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Create a new outline of a given size.                              *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    library     :: A handle to the library object from where the       *\/\n-  \/*                   outline is allocated.  Note however that the new    *\/\n-  \/*                   outline will *not* necessarily be *freed*, when     *\/\n-  \/*                   destroying the library, by @FT_Done_FreeType.       *\/\n-  \/*                                                                       *\/\n-  \/*    numPoints   :: The maximum number of points within the outline.    *\/\n-  \/*                   Must be smaller than or equal to 0xFFFF (65535).    *\/\n-  \/*                                                                       *\/\n-  \/*    numContours :: The maximum number of contours within the outline.  *\/\n-  \/*                   This value must be in the range 0 to `numPoints'.   *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    anoutline   :: A handle to the new outline.                        *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The reason why this function takes a `library' parameter is simply *\/\n-  \/*    to use the library's memory allocator.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Outline_New\n+   *\n+   * @description:\n+   *   Create a new outline of a given size.\n+   *\n+   * @input:\n+   *   library ::\n+   *     A handle to the library object from where the outline is allocated.\n+   *     Note however that the new outline will **not** necessarily be\n+   *     **freed**, when destroying the library, by @FT_Done_FreeType.\n+   *\n+   *   numPoints ::\n+   *     The maximum number of points within the outline.  Must be smaller\n+   *     than or equal to 0xFFFF (65535).\n+   *\n+   *   numContours ::\n+   *     The maximum number of contours within the outline.  This value must\n+   *     be in the range 0 to `numPoints`.\n+   *\n+   * @output:\n+   *   anoutline ::\n+   *     A handle to the new outline.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   The reason why this function takes a `library` parameter is simply to\n+   *   use the library's memory allocator.\n+   *\/\n@@ -165,28 +169,22 @@\n-  FT_EXPORT( FT_Error )\n-  FT_Outline_New_Internal( FT_Memory    memory,\n-                           FT_UInt      numPoints,\n-                           FT_Int       numContours,\n-                           FT_Outline  *anoutline );\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Outline_Done                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Destroy an outline created with @FT_Outline_New.                   *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    library :: A handle of the library object used to allocate the     *\/\n-  \/*               outline.                                                *\/\n-  \/*                                                                       *\/\n-  \/*    outline :: A pointer to the outline object to be discarded.        *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    If the outline's `owner' field is not set, only the outline        *\/\n-  \/*    descriptor will be released.                                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Outline_Done\n+   *\n+   * @description:\n+   *   Destroy an outline created with @FT_Outline_New.\n+   *\n+   * @input:\n+   *   library ::\n+   *     A handle of the library object used to allocate the outline.\n+   *\n+   *   outline ::\n+   *     A pointer to the outline object to be discarded.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   If the outline's 'owner' field is not set, only the outline descriptor\n+   *   will be released.\n+   *\/\n@@ -198,23 +196,19 @@\n-  FT_EXPORT( FT_Error )\n-  FT_Outline_Done_Internal( FT_Memory    memory,\n-                            FT_Outline*  outline );\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Outline_Check                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Check the contents of an outline descriptor.                       *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    outline :: A handle to a source outline.                           *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    An empty outline, or an outline with a single point only is also   *\/\n-  \/*    valid.                                                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Outline_Check\n+   *\n+   * @description:\n+   *   Check the contents of an outline descriptor.\n+   *\n+   * @input:\n+   *   outline ::\n+   *     A handle to a source outline.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   An empty outline, or an outline with a single point only is also\n+   *   valid.\n+   *\/\n@@ -225,26 +219,28 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Outline_Get_CBox                                                *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Return an outline's `control box'.  The control box encloses all   *\/\n-  \/*    the outline's points, including Bezier control points.  Though it  *\/\n-  \/*    coincides with the exact bounding box for most glyphs, it can be   *\/\n-  \/*    slightly larger in some situations (like when rotating an outline  *\/\n-  \/*    that contains Bezier outside arcs).                                *\/\n-  \/*                                                                       *\/\n-  \/*    Computing the control box is very fast, while getting the bounding *\/\n-  \/*    box can take much more time as it needs to walk over all segments  *\/\n-  \/*    and arcs in the outline.  To get the latter, you can use the       *\/\n-  \/*    `ftbbox' component, which is dedicated to this single task.        *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    outline :: A pointer to the source outline descriptor.             *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    acbox   :: The outline's control box.                              *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    See @FT_Glyph_Get_CBox for a discussion of tricky fonts.           *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Outline_Get_CBox\n+   *\n+   * @description:\n+   *   Return an outline's 'control box'.  The control box encloses all the\n+   *   outline's points, including Bezier control points.  Though it\n+   *   coincides with the exact bounding box for most glyphs, it can be\n+   *   slightly larger in some situations (like when rotating an outline that\n+   *   contains Bezier outside arcs).\n+   *\n+   *   Computing the control box is very fast, while getting the bounding box\n+   *   can take much more time as it needs to walk over all segments and arcs\n+   *   in the outline.  To get the latter, you can use the 'ftbbox'\n+   *   component, which is dedicated to this single task.\n+   *\n+   * @input:\n+   *   outline ::\n+   *     A pointer to the source outline descriptor.\n+   *\n+   * @output:\n+   *   acbox ::\n+   *     The outline's control box.\n+   *\n+   * @note:\n+   *   See @FT_Glyph_Get_CBox for a discussion of tricky fonts.\n+   *\/\n@@ -256,16 +252,19 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Outline_Translate                                               *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Apply a simple translation to the points of an outline.            *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    outline :: A pointer to the target outline descriptor.             *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    xOffset :: The horizontal offset.                                  *\/\n-  \/*                                                                       *\/\n-  \/*    yOffset :: The vertical offset.                                    *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Outline_Translate\n+   *\n+   * @description:\n+   *   Apply a simple translation to the points of an outline.\n+   *\n+   * @inout:\n+   *   outline ::\n+   *     A pointer to the target outline descriptor.\n+   *\n+   * @input:\n+   *   xOffset ::\n+   *     The horizontal offset.\n+   *\n+   *   yOffset ::\n+   *     The vertical offset.\n+   *\/\n@@ -278,19 +277,21 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Outline_Copy                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Copy an outline into another one.  Both objects must have the      *\/\n-  \/*    same sizes (number of points & number of contours) when this       *\/\n-  \/*    function is called.                                                *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    source :: A handle to the source outline.                          *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    target :: A handle to the target outline.                          *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Outline_Copy\n+   *\n+   * @description:\n+   *   Copy an outline into another one.  Both objects must have the same\n+   *   sizes (number of points & number of contours) when this function is\n+   *   called.\n+   *\n+   * @input:\n+   *   source ::\n+   *     A handle to the source outline.\n+   *\n+   * @output:\n+   *   target ::\n+   *     A handle to the target outline.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\/\n@@ -302,19 +303,21 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Outline_Transform                                               *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Apply a simple 2x2 matrix to all of an outline's points.  Useful   *\/\n-  \/*    for applying rotations, slanting, flipping, etc.                   *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    outline :: A pointer to the target outline descriptor.             *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    matrix  :: A pointer to the transformation matrix.                 *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    You can use @FT_Outline_Translate if you need to translate the     *\/\n-  \/*    outline's points.                                                  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Outline_Transform\n+   *\n+   * @description:\n+   *   Apply a simple 2x2 matrix to all of an outline's points.  Useful for\n+   *   applying rotations, slanting, flipping, etc.\n+   *\n+   * @inout:\n+   *   outline ::\n+   *     A pointer to the target outline descriptor.\n+   *\n+   * @input:\n+   *   matrix ::\n+   *     A pointer to the transformation matrix.\n+   *\n+   * @note:\n+   *   You can use @FT_Outline_Translate if you need to translate the\n+   *   outline's points.\n+   *\/\n@@ -326,43 +329,45 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Outline_Embolden                                                *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Embolden an outline.  The new outline will be at most 4~times      *\/\n-  \/*    `strength' pixels wider and higher.  You may think of the left and *\/\n-  \/*    bottom borders as unchanged.                                       *\/\n-  \/*                                                                       *\/\n-  \/*    Negative `strength' values to reduce the outline thickness are     *\/\n-  \/*    possible also.                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    outline  :: A handle to the target outline.                        *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    strength :: How strong the glyph is emboldened.  Expressed in      *\/\n-  \/*                26.6 pixel format.                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The used algorithm to increase or decrease the thickness of the    *\/\n-  \/*    glyph doesn't change the number of points; this means that certain *\/\n-  \/*    situations like acute angles or intersections are sometimes        *\/\n-  \/*    handled incorrectly.                                               *\/\n-  \/*                                                                       *\/\n-  \/*    If you need `better' metrics values you should call                *\/\n-  \/*    @FT_Outline_Get_CBox or @FT_Outline_Get_BBox.                      *\/\n-  \/*                                                                       *\/\n-  \/*    Example call:                                                      *\/\n-  \/*                                                                       *\/\n-  \/*    {                                                                  *\/\n-  \/*      FT_Load_Glyph( face, index, FT_LOAD_DEFAULT );                   *\/\n-  \/*      if ( face->glyph->format == FT_GLYPH_FORMAT_OUTLINE )            *\/\n-  \/*        FT_Outline_Embolden( &face->glyph->outline, strength );        *\/\n-  \/*    }                                                                  *\/\n-  \/*                                                                       *\/\n-  \/*    To get meaningful results, font scaling values must be set with    *\/\n-  \/*    functions like @FT_Set_Char_Size before calling FT_Render_Glyph.   *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Outline_Embolden\n+   *\n+   * @description:\n+   *   Embolden an outline.  The new outline will be at most 4~times\n+   *   `strength` pixels wider and higher.  You may think of the left and\n+   *   bottom borders as unchanged.\n+   *\n+   *   Negative `strength` values to reduce the outline thickness are\n+   *   possible also.\n+   *\n+   * @inout:\n+   *   outline ::\n+   *     A handle to the target outline.\n+   *\n+   * @input:\n+   *   strength ::\n+   *     How strong the glyph is emboldened.  Expressed in 26.6 pixel format.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   The used algorithm to increase or decrease the thickness of the glyph\n+   *   doesn't change the number of points; this means that certain\n+   *   situations like acute angles or intersections are sometimes handled\n+   *   incorrectly.\n+   *\n+   *   If you need 'better' metrics values you should call\n+   *   @FT_Outline_Get_CBox or @FT_Outline_Get_BBox.\n+   *\n+   *   To get meaningful results, font scaling values must be set with\n+   *   functions like @FT_Set_Char_Size before calling FT_Render_Glyph.\n+   *\n+   * @example:\n+   *   ```\n+   *     FT_Load_Glyph( face, index, FT_LOAD_DEFAULT );\n+   *\n+   *     if ( face->glyph->format == FT_GLYPH_FORMAT_OUTLINE )\n+   *       FT_Outline_Embolden( &face->glyph->outline, strength );\n+   *   ```\n+   *\n+   *\/\n@@ -374,14 +379,13 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Outline_EmboldenXY                                              *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Embolden an outline.  The new outline will be `xstrength' pixels   *\/\n-  \/*    wider and `ystrength' pixels higher.  Otherwise, it is similar to  *\/\n-  \/*    @FT_Outline_Embolden, which uses the same strength in both         *\/\n-  \/*    directions.                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Since>                                                               *\/\n-  \/*    2.4.10                                                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Outline_EmboldenXY\n+   *\n+   * @description:\n+   *   Embolden an outline.  The new outline will be `xstrength` pixels wider\n+   *   and `ystrength` pixels higher.  Otherwise, it is similar to\n+   *   @FT_Outline_Embolden, which uses the same strength in both directions.\n+   *\n+   * @since:\n+   *   2.4.10\n+   *\/\n@@ -394,19 +398,20 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Outline_Reverse                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Reverse the drawing direction of an outline.  This is used to      *\/\n-  \/*    ensure consistent fill conventions for mirrored glyphs.            *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    outline :: A pointer to the target outline descriptor.             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    This function toggles the bit flag @FT_OUTLINE_REVERSE_FILL in     *\/\n-  \/*    the outline's `flags' field.                                       *\/\n-  \/*                                                                       *\/\n-  \/*    It shouldn't be used by a normal client application, unless it     *\/\n-  \/*    knows what it is doing.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Outline_Reverse\n+   *\n+   * @description:\n+   *   Reverse the drawing direction of an outline.  This is used to ensure\n+   *   consistent fill conventions for mirrored glyphs.\n+   *\n+   * @inout:\n+   *   outline ::\n+   *     A pointer to the target outline descriptor.\n+   *\n+   * @note:\n+   *   This function toggles the bit flag @FT_OUTLINE_REVERSE_FILL in the\n+   *   outline's `flags` field.\n+   *\n+   *   It shouldn't be used by a normal client application, unless it knows\n+   *   what it is doing.\n+   *\/\n@@ -417,31 +422,34 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Outline_Get_Bitmap                                              *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Render an outline within a bitmap.  The outline's image is simply  *\/\n-  \/*    OR-ed to the target bitmap.                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    library :: A handle to a FreeType library object.                  *\/\n-  \/*                                                                       *\/\n-  \/*    outline :: A pointer to the source outline descriptor.             *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    abitmap :: A pointer to the target bitmap descriptor.              *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    This function does NOT CREATE the bitmap, it only renders an       *\/\n-  \/*    outline image within the one you pass to it!  Consequently, the    *\/\n-  \/*    various fields in `abitmap' should be set accordingly.             *\/\n-  \/*                                                                       *\/\n-  \/*    It will use the raster corresponding to the default glyph format.  *\/\n-  \/*                                                                       *\/\n-  \/*    The value of the `num_grays' field in `abitmap' is ignored.  If    *\/\n-  \/*    you select the gray-level rasterizer, and you want less than 256   *\/\n-  \/*    gray levels, you have to use @FT_Outline_Render directly.          *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Outline_Get_Bitmap\n+   *\n+   * @description:\n+   *   Render an outline within a bitmap.  The outline's image is simply\n+   *   OR-ed to the target bitmap.\n+   *\n+   * @input:\n+   *   library ::\n+   *     A handle to a FreeType library object.\n+   *\n+   *   outline ::\n+   *     A pointer to the source outline descriptor.\n+   *\n+   * @inout:\n+   *   abitmap ::\n+   *     A pointer to the target bitmap descriptor.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   This function does **not create** the bitmap, it only renders an\n+   *   outline image within the one you pass to it!  Consequently, the\n+   *   various fields in `abitmap` should be set accordingly.\n+   *\n+   *   It will use the raster corresponding to the default glyph format.\n+   *\n+   *   The value of the `num_grays` field in `abitmap` is ignored.  If you\n+   *   select the gray-level rasterizer, and you want less than 256 gray\n+   *   levels, you have to use @FT_Outline_Render directly.\n+   *\/\n@@ -454,36 +462,38 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Outline_Render                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Render an outline within a bitmap using the current scan-convert.  *\/\n-  \/*    This function uses an @FT_Raster_Params structure as an argument,  *\/\n-  \/*    allowing advanced features like direct composition, translucency,  *\/\n-  \/*    etc.                                                               *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    library :: A handle to a FreeType library object.                  *\/\n-  \/*                                                                       *\/\n-  \/*    outline :: A pointer to the source outline descriptor.             *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    params  :: A pointer to an @FT_Raster_Params structure used to     *\/\n-  \/*               describe the rendering operation.                       *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    You should know what you are doing and how @FT_Raster_Params works *\/\n-  \/*    to use this function.                                              *\/\n-  \/*                                                                       *\/\n-  \/*    The field `params.source' will be set to `outline' before the scan *\/\n-  \/*    converter is called, which means that the value you give to it is  *\/\n-  \/*    actually ignored.                                                  *\/\n-  \/*                                                                       *\/\n-  \/*    The gray-level rasterizer always uses 256 gray levels.  If you     *\/\n-  \/*    want less gray levels, you have to provide your own span callback. *\/\n-  \/*    See the @FT_RASTER_FLAG_DIRECT value of the `flags' field in the   *\/\n-  \/*    @FT_Raster_Params structure for more details.                      *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Outline_Render\n+   *\n+   * @description:\n+   *   Render an outline within a bitmap using the current scan-convert.\n+   *   This function uses an @FT_Raster_Params structure as an argument,\n+   *   allowing advanced features like direct composition, translucency, etc.\n+   *\n+   * @input:\n+   *   library ::\n+   *     A handle to a FreeType library object.\n+   *\n+   *   outline ::\n+   *     A pointer to the source outline descriptor.\n+   *\n+   * @inout:\n+   *   params ::\n+   *     A pointer to an @FT_Raster_Params structure used to describe the\n+   *     rendering operation.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   You should know what you are doing and how @FT_Raster_Params works to\n+   *   use this function.\n+   *\n+   *   The field `params.source` will be set to `outline` before the scan\n+   *   converter is called, which means that the value you give to it is\n+   *   actually ignored.\n+   *\n+   *   The gray-level rasterizer always uses 256 gray levels.  If you want\n+   *   less gray levels, you have to provide your own span callback.  See the\n+   *   @FT_RASTER_FLAG_DIRECT value of the `flags` field in the\n+   *   @FT_Raster_Params structure for more details.\n+   *\/\n@@ -496,35 +506,35 @@\n- \/**************************************************************************\n-  *\n-  * @enum:\n-  *   FT_Orientation\n-  *\n-  * @description:\n-  *   A list of values used to describe an outline's contour orientation.\n-  *\n-  *   The TrueType and PostScript specifications use different conventions\n-  *   to determine whether outline contours should be filled or unfilled.\n-  *\n-  * @values:\n-  *   FT_ORIENTATION_TRUETYPE ::\n-  *     According to the TrueType specification, clockwise contours must\n-  *     be filled, and counter-clockwise ones must be unfilled.\n-  *\n-  *   FT_ORIENTATION_POSTSCRIPT ::\n-  *     According to the PostScript specification, counter-clockwise contours\n-  *     must be filled, and clockwise ones must be unfilled.\n-  *\n-  *   FT_ORIENTATION_FILL_RIGHT ::\n-  *     This is identical to @FT_ORIENTATION_TRUETYPE, but is used to\n-  *     remember that in TrueType, everything that is to the right of\n-  *     the drawing direction of a contour must be filled.\n-  *\n-  *   FT_ORIENTATION_FILL_LEFT ::\n-  *     This is identical to @FT_ORIENTATION_POSTSCRIPT, but is used to\n-  *     remember that in PostScript, everything that is to the left of\n-  *     the drawing direction of a contour must be filled.\n-  *\n-  *   FT_ORIENTATION_NONE ::\n-  *     The orientation cannot be determined.  That is, different parts of\n-  *     the glyph have different orientation.\n-  *\n-  *\/\n+  \/**************************************************************************\n+   *\n+   * @enum:\n+   *   FT_Orientation\n+   *\n+   * @description:\n+   *   A list of values used to describe an outline's contour orientation.\n+   *\n+   *   The TrueType and PostScript specifications use different conventions\n+   *   to determine whether outline contours should be filled or unfilled.\n+   *\n+   * @values:\n+   *   FT_ORIENTATION_TRUETYPE ::\n+   *     According to the TrueType specification, clockwise contours must be\n+   *     filled, and counter-clockwise ones must be unfilled.\n+   *\n+   *   FT_ORIENTATION_POSTSCRIPT ::\n+   *     According to the PostScript specification, counter-clockwise\n+   *     contours must be filled, and clockwise ones must be unfilled.\n+   *\n+   *   FT_ORIENTATION_FILL_RIGHT ::\n+   *     This is identical to @FT_ORIENTATION_TRUETYPE, but is used to\n+   *     remember that in TrueType, everything that is to the right of the\n+   *     drawing direction of a contour must be filled.\n+   *\n+   *   FT_ORIENTATION_FILL_LEFT ::\n+   *     This is identical to @FT_ORIENTATION_POSTSCRIPT, but is used to\n+   *     remember that in PostScript, everything that is to the left of the\n+   *     drawing direction of a contour must be filled.\n+   *\n+   *   FT_ORIENTATION_NONE ::\n+   *     The orientation cannot be determined.  That is, different parts of\n+   *     the glyph have different orientation.\n+   *\n+   *\/\n@@ -542,24 +552,24 @@\n- \/**************************************************************************\n-  *\n-  * @function:\n-  *   FT_Outline_Get_Orientation\n-  *\n-  * @description:\n-  *   This function analyzes a glyph outline and tries to compute its\n-  *   fill orientation (see @FT_Orientation).  This is done by integrating\n-  *   the total area covered by the outline. The positive integral\n-  *   corresponds to the clockwise orientation and @FT_ORIENTATION_POSTSCRIPT\n-  *   is returned. The negative integral corresponds to the counter-clockwise\n-  *   orientation and @FT_ORIENTATION_TRUETYPE is returned.\n-  *\n-  *   Note that this will return @FT_ORIENTATION_TRUETYPE for empty\n-  *   outlines.\n-  *\n-  * @input:\n-  *   outline ::\n-  *     A handle to the source outline.\n-  *\n-  * @return:\n-  *   The orientation.\n-  *\n-  *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Outline_Get_Orientation\n+   *\n+   * @description:\n+   *   This function analyzes a glyph outline and tries to compute its fill\n+   *   orientation (see @FT_Orientation).  This is done by integrating the\n+   *   total area covered by the outline. The positive integral corresponds\n+   *   to the clockwise orientation and @FT_ORIENTATION_POSTSCRIPT is\n+   *   returned. The negative integral corresponds to the counter-clockwise\n+   *   orientation and @FT_ORIENTATION_TRUETYPE is returned.\n+   *\n+   *   Note that this will return @FT_ORIENTATION_TRUETYPE for empty\n+   *   outlines.\n+   *\n+   * @input:\n+   *   outline ::\n+   *     A handle to the source outline.\n+   *\n+   * @return:\n+   *   The orientation.\n+   *\n+   *\/\n@@ -569,0 +579,1 @@\n+\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/ftoutln.h","additions":476,"deletions":465,"binary":false,"changes":941,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftparams.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    FreeType API for possible FT_Parameter tags (specification only).    *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2017-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftparams.h\n+ *\n+ *   FreeType API for possible FT_Parameter tags (specification only).\n+ *\n+ * Copyright (C) 2017-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -54,1 +54,1 @@\n-  \/***************************************************************************\n+  \/**************************************************************************\n@@ -56,1 +56,1 @@\n-   * @constant:\n+   * @enum:\n@@ -61,3 +61,3 @@\n-   *   family names in the `name' table (introduced in OpenType version\n-   *   1.4).  Use this for backward compatibility with legacy systems that\n-   *   have a four-faces-per-family restriction.\n+   *   family names in the 'name' table (introduced in OpenType version 1.4).\n+   *   Use this for backward compatibility with legacy systems that have a\n+   *   four-faces-per-family restriction.\n@@ -78,1 +78,1 @@\n-  \/***************************************************************************\n+  \/**************************************************************************\n@@ -80,1 +80,1 @@\n-   * @constant:\n+   * @enum:\n@@ -85,1 +85,1 @@\n-   *   subfamily names in the `name' table (introduced in OpenType version\n+   *   subfamily names in the 'name' table (introduced in OpenType version\n@@ -102,1 +102,1 @@\n-  \/***************************************************************************\n+  \/**************************************************************************\n@@ -104,1 +104,1 @@\n-   * @constant:\n+   * @enum:\n@@ -118,1 +118,1 @@\n-   * @constant:\n+   * @enum:\n@@ -124,2 +124,2 @@\n-   *   given face (if using @FT_LOAD_TARGET_LCD, for example), overriding\n-   *   the global default values or the values set up with\n+   *   given face (if using @FT_LOAD_TARGET_LCD, for example), overriding the\n+   *   global default values or the values set up with\n@@ -138,1 +138,1 @@\n-   * @constant:\n+   * @enum:\n@@ -144,2 +144,1 @@\n-   *   driver's random seed value with a face-specific one; see\n-   *   @random-seed.\n+   *   driver's random seed value with a face-specific one; see @random-seed.\n@@ -157,1 +156,1 @@\n-   * @constant:\n+   * @enum:\n@@ -166,4 +165,4 @@\n-   *   This is a passive setting that only takes effect if the font driver\n-   *   or autohinter honors it, which the CFF, Type~1, and CID drivers\n-   *   always do, but the autohinter only in `light' hinting mode (as of\n-   *   version 2.9).\n+   *   This is a passive setting that only takes effect if the font driver or\n+   *   autohinter honors it, which the CFF, Type~1, and CID drivers always\n+   *   do, but the autohinter only in 'light' hinting mode (as of version\n+   *   2.9).\n@@ -179,13 +178,13 @@\n- \/***************************************************************************\n-  *\n-  * @constant:\n-  *   FT_PARAM_TAG_UNPATENTED_HINTING\n-  *\n-  * @description:\n-  *   Deprecated, no effect.\n-  *\n-  *   Previously: A constant used as the tag of an @FT_Parameter structure to\n-  *   indicate that unpatented methods only should be used by the TrueType\n-  *   bytecode interpreter for a typeface opened by @FT_Open_Face.\n-  *\n-  *\/\n+  \/**************************************************************************\n+   *\n+   * @enum:\n+   *   FT_PARAM_TAG_UNPATENTED_HINTING\n+   *\n+   * @description:\n+   *   Deprecated, no effect.\n+   *\n+   *   Previously: A constant used as the tag of an @FT_Parameter structure\n+   *   to indicate that unpatented methods only should be used by the\n+   *   TrueType bytecode interpreter for a typeface opened by @FT_Open_Face.\n+   *\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/ftparams.h","additions":49,"deletions":50,"binary":false,"changes":99,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftrender.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    FreeType renderer modules public interface (specification).          *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftrender.h\n+ *\n+ *   FreeType renderer modules public interface (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -31,6 +31,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Section>                                                             *\/\n-  \/*    module_management                                                  *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   module_management\n+   *\n+   *\/\n@@ -119,26 +119,32 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_Renderer_Class                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    The renderer module class descriptor.                              *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    root            :: The root @FT_Module_Class fields.               *\/\n-  \/*                                                                       *\/\n-  \/*    glyph_format    :: The glyph image format this renderer handles.   *\/\n-  \/*                                                                       *\/\n-  \/*    render_glyph    :: A method used to render the image that is in a  *\/\n-  \/*                       given glyph slot into a bitmap.                 *\/\n-  \/*                                                                       *\/\n-  \/*    transform_glyph :: A method used to transform the image that is in *\/\n-  \/*                       a given glyph slot.                             *\/\n-  \/*                                                                       *\/\n-  \/*    get_glyph_cbox  :: A method used to access the glyph's cbox.       *\/\n-  \/*                                                                       *\/\n-  \/*    set_mode        :: A method used to pass additional parameters.    *\/\n-  \/*                                                                       *\/\n-  \/*    raster_class    :: For @FT_GLYPH_FORMAT_OUTLINE renderers only.    *\/\n-  \/*                       This is a pointer to its raster's class.        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_Renderer_Class\n+   *\n+   * @description:\n+   *   The renderer module class descriptor.\n+   *\n+   * @fields:\n+   *   root ::\n+   *     The root @FT_Module_Class fields.\n+   *\n+   *   glyph_format ::\n+   *     The glyph image format this renderer handles.\n+   *\n+   *   render_glyph ::\n+   *     A method used to render the image that is in a given glyph slot into\n+   *     a bitmap.\n+   *\n+   *   transform_glyph ::\n+   *     A method used to transform the image that is in a given glyph slot.\n+   *\n+   *   get_glyph_cbox ::\n+   *     A method used to access the glyph's cbox.\n+   *\n+   *   set_mode ::\n+   *     A method used to pass additional parameters.\n+   *\n+   *   raster_class ::\n+   *     For @FT_GLYPH_FORMAT_OUTLINE renderers only.  This is a pointer to\n+   *     its raster's class.\n+   *\/\n@@ -161,23 +167,25 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Get_Renderer                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Retrieve the current renderer for a given glyph format.            *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    library :: A handle to the library object.                         *\/\n-  \/*                                                                       *\/\n-  \/*    format  :: The glyph format.                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    A renderer handle.  0~if none found.                               *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    An error will be returned if a module already exists by that name, *\/\n-  \/*    or if the module requires a version of FreeType that is too great. *\/\n-  \/*                                                                       *\/\n-  \/*    To add a new renderer, simply use @FT_Add_Module.  To retrieve a   *\/\n-  \/*    renderer by its name, use @FT_Get_Module.                          *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Get_Renderer\n+   *\n+   * @description:\n+   *   Retrieve the current renderer for a given glyph format.\n+   *\n+   * @input:\n+   *   library ::\n+   *     A handle to the library object.\n+   *\n+   *   format ::\n+   *     The glyph format.\n+   *\n+   * @return:\n+   *   A renderer handle.  0~if none found.\n+   *\n+   * @note:\n+   *   An error will be returned if a module already exists by that name, or\n+   *   if the module requires a version of FreeType that is too great.\n+   *\n+   *   To add a new renderer, simply use @FT_Add_Module.  To retrieve a\n+   *   renderer by its name, use @FT_Get_Module.\n+   *\/\n@@ -189,30 +197,34 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Set_Renderer                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Set the current renderer to use, and set additional mode.          *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    library    :: A handle to the library object.                      *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    renderer   :: A handle to the renderer object.                     *\/\n-  \/*                                                                       *\/\n-  \/*    num_params :: The number of additional parameters.                 *\/\n-  \/*                                                                       *\/\n-  \/*    parameters :: Additional parameters.                               *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    In case of success, the renderer will be used to convert glyph     *\/\n-  \/*    images in the renderer's known format into bitmaps.                *\/\n-  \/*                                                                       *\/\n-  \/*    This doesn't change the current renderer for other formats.        *\/\n-  \/*                                                                       *\/\n-  \/*    Currently, no FreeType renderer module uses `parameters'; you      *\/\n-  \/*    should thus always pass NULL as the value.                         *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Set_Renderer\n+   *\n+   * @description:\n+   *   Set the current renderer to use, and set additional mode.\n+   *\n+   * @inout:\n+   *   library ::\n+   *     A handle to the library object.\n+   *\n+   * @input:\n+   *   renderer ::\n+   *     A handle to the renderer object.\n+   *\n+   *   num_params ::\n+   *     The number of additional parameters.\n+   *\n+   *   parameters ::\n+   *     Additional parameters.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   In case of success, the renderer will be used to convert glyph images\n+   *   in the renderer's known format into bitmaps.\n+   *\n+   *   This doesn't change the current renderer for other formats.\n+   *\n+   *   Currently, no FreeType renderer module uses `parameters`; you should\n+   *   thus always pass `NULL` as the value.\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/ftrender.h","additions":113,"deletions":101,"binary":false,"changes":214,"status":"modified"},{"patch":"@@ -1,25 +1,25 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftsizes.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    FreeType size objects management (specification).                    *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Typical application would normally not need to use these functions.   *\/\n-  \/* However, they have been placed in a public API for the rare cases     *\/\n-  \/* where they are needed.                                                *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftsizes.h\n+ *\n+ *   FreeType size objects management (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * Typical application would normally not need to use these functions.\n+   * However, they have been placed in a public API for the rare cases where\n+   * they are needed.\n+   *\n+   *\/\n@@ -45,54 +45,54 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Section>                                                             *\/\n-  \/*    sizes_management                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Title>                                                               *\/\n-  \/*    Size Management                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Abstract>                                                            *\/\n-  \/*    Managing multiple sizes per face.                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    When creating a new face object (e.g., with @FT_New_Face), an      *\/\n-  \/*    @FT_Size object is automatically created and used to store all     *\/\n-  \/*    pixel-size dependent information, available in the `face->size'    *\/\n-  \/*    field.                                                             *\/\n-  \/*                                                                       *\/\n-  \/*    It is however possible to create more sizes for a given face,      *\/\n-  \/*    mostly in order to manage several character pixel sizes of the     *\/\n-  \/*    same font family and style.  See @FT_New_Size and @FT_Done_Size.   *\/\n-  \/*                                                                       *\/\n-  \/*    Note that @FT_Set_Pixel_Sizes and @FT_Set_Char_Size only           *\/\n-  \/*    modify the contents of the current `active' size; you thus need    *\/\n-  \/*    to use @FT_Activate_Size to change it.                             *\/\n-  \/*                                                                       *\/\n-  \/*    99% of applications won't need the functions provided here,        *\/\n-  \/*    especially if they use the caching sub-system, so be cautious      *\/\n-  \/*    when using these.                                                  *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_New_Size                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Create a new size object from a given face object.                 *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face :: A handle to a parent face object.                          *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    asize :: A handle to a new size object.                            *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    You need to call @FT_Activate_Size in order to select the new size *\/\n-  \/*    for upcoming calls to @FT_Set_Pixel_Sizes, @FT_Set_Char_Size,      *\/\n-  \/*    @FT_Load_Glyph, @FT_Load_Char, etc.                                *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   sizes_management\n+   *\n+   * @title:\n+   *   Size Management\n+   *\n+   * @abstract:\n+   *   Managing multiple sizes per face.\n+   *\n+   * @description:\n+   *   When creating a new face object (e.g., with @FT_New_Face), an @FT_Size\n+   *   object is automatically created and used to store all pixel-size\n+   *   dependent information, available in the `face->size` field.\n+   *\n+   *   It is however possible to create more sizes for a given face, mostly\n+   *   in order to manage several character pixel sizes of the same font\n+   *   family and style.  See @FT_New_Size and @FT_Done_Size.\n+   *\n+   *   Note that @FT_Set_Pixel_Sizes and @FT_Set_Char_Size only modify the\n+   *   contents of the current 'active' size; you thus need to use\n+   *   @FT_Activate_Size to change it.\n+   *\n+   *   99% of applications won't need the functions provided here, especially\n+   *   if they use the caching sub-system, so be cautious when using these.\n+   *\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_New_Size\n+   *\n+   * @description:\n+   *   Create a new size object from a given face object.\n+   *\n+   * @input:\n+   *   face ::\n+   *     A handle to a parent face object.\n+   *\n+   * @output:\n+   *   asize ::\n+   *     A handle to a new size object.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   You need to call @FT_Activate_Size in order to select the new size for\n+   *   upcoming calls to @FT_Set_Pixel_Sizes, @FT_Set_Char_Size,\n+   *   @FT_Load_Glyph, @FT_Load_Char, etc.\n+   *\/\n@@ -104,16 +104,16 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Done_Size                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Discard a given size object.  Note that @FT_Done_Face              *\/\n-  \/*    automatically discards all size objects allocated with             *\/\n-  \/*    @FT_New_Size.                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    size :: A handle to a target size object.                          *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Done_Size\n+   *\n+   * @description:\n+   *   Discard a given size object.  Note that @FT_Done_Face automatically\n+   *   discards all size objects allocated with @FT_New_Size.\n+   *\n+   * @input:\n+   *   size ::\n+   *     A handle to a target size object.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\/\n@@ -124,24 +124,25 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Activate_Size                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Even though it is possible to create several size objects for a    *\/\n-  \/*    given face (see @FT_New_Size for details), functions like          *\/\n-  \/*    @FT_Load_Glyph or @FT_Load_Char only use the one that has been     *\/\n-  \/*    activated last to determine the `current character pixel size'.    *\/\n-  \/*                                                                       *\/\n-  \/*    This function can be used to `activate' a previously created size  *\/\n-  \/*    object.                                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    size :: A handle to a target size object.                          *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    If `face' is the size's parent face object, this function changes  *\/\n-  \/*    the value of `face->size' to the input size handle.                *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Activate_Size\n+   *\n+   * @description:\n+   *   Even though it is possible to create several size objects for a given\n+   *   face (see @FT_New_Size for details), functions like @FT_Load_Glyph or\n+   *   @FT_Load_Char only use the one that has been activated last to\n+   *   determine the 'current character pixel size'.\n+   *\n+   *   This function can be used to 'activate' a previously created size\n+   *   object.\n+   *\n+   * @input:\n+   *   size ::\n+   *     A handle to a target size object.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   If `face` is the size's parent face object, this function changes the\n+   *   value of `face->size` to the input size handle.\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/ftsizes.h","additions":120,"deletions":119,"binary":false,"changes":239,"status":"modified"},{"patch":"@@ -1,19 +1,19 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftsnames.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    Simple interface to access SFNT `name' tables (which are used        *\/\n-\/*    to hold font names, copyright info, notices, etc.) (specification).  *\/\n-\/*                                                                         *\/\n-\/*    This is _not_ used to retrieve glyph names!                          *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftsnames.h\n+ *\n+ *   Simple interface to access SFNT 'name' tables (which are used\n+ *   to hold font names, copyright info, notices, etc.) (specification).\n+ *\n+ *   This is _not_ used to retrieve glyph names!\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -40,66 +40,68 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Section>                                                             *\/\n-  \/*    sfnt_names                                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Title>                                                               *\/\n-  \/*    SFNT Names                                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Abstract>                                                            *\/\n-  \/*    Access the names embedded in TrueType and OpenType files.          *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    The TrueType and OpenType specifications allow the inclusion of    *\/\n-  \/*    a special names table (`name') in font files.  This table contains *\/\n-  \/*    textual (and internationalized) information regarding the font,    *\/\n-  \/*    like family name, copyright, version, etc.                         *\/\n-  \/*                                                                       *\/\n-  \/*    The definitions below are used to access them if available.        *\/\n-  \/*                                                                       *\/\n-  \/*    Note that this has nothing to do with glyph names!                 *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_SfntName                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure used to model an SFNT `name' table entry.              *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    platform_id :: The platform ID for `string'.                       *\/\n-  \/*                   See @TT_PLATFORM_XXX for possible values.           *\/\n-  \/*                                                                       *\/\n-  \/*    encoding_id :: The encoding ID for `string'.                       *\/\n-  \/*                   See @TT_APPLE_ID_XXX, @TT_MAC_ID_XXX,               *\/\n-  \/*                   @TT_ISO_ID_XXX, @TT_MS_ID_XXX, and @TT_ADOBE_ID_XXX *\/\n-  \/*                   for possible values.                                *\/\n-  \/*                                                                       *\/\n-  \/*    language_id :: The language ID for `string'.                       *\/\n-  \/*                   See @TT_MAC_LANGID_XXX and @TT_MS_LANGID_XXX for    *\/\n-  \/*                   possible values.                                    *\/\n-  \/*                                                                       *\/\n-  \/*                   Registered OpenType values for `language_id' are    *\/\n-  \/*                   always smaller than 0x8000; values equal or larger  *\/\n-  \/*                   than 0x8000 usually indicate a language tag string  *\/\n-  \/*                   (introduced in OpenType version 1.6).  Use function *\/\n-  \/*                   @FT_Get_Sfnt_LangTag with `language_id' as its      *\/\n-  \/*                   argument to retrieve the associated language tag.   *\/\n-  \/*                                                                       *\/\n-  \/*    name_id     :: An identifier for `string'.                         *\/\n-  \/*                   See @TT_NAME_ID_XXX for possible values.            *\/\n-  \/*                                                                       *\/\n-  \/*    string      :: The `name' string.  Note that its format differs    *\/\n-  \/*                   depending on the (platform,encoding) pair, being    *\/\n-  \/*                   either a string of bytes (without a terminating     *\/\n-  \/*                   NULL byte) or containing UTF-16BE entities.         *\/\n-  \/*                                                                       *\/\n-  \/*    string_len  :: The length of `string' in bytes.                    *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    Please refer to the TrueType or OpenType specification for more    *\/\n-  \/*    details.                                                           *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   sfnt_names\n+   *\n+   * @title:\n+   *   SFNT Names\n+   *\n+   * @abstract:\n+   *   Access the names embedded in TrueType and OpenType files.\n+   *\n+   * @description:\n+   *   The TrueType and OpenType specifications allow the inclusion of a\n+   *   special names table ('name') in font files.  This table contains\n+   *   textual (and internationalized) information regarding the font, like\n+   *   family name, copyright, version, etc.\n+   *\n+   *   The definitions below are used to access them if available.\n+   *\n+   *   Note that this has nothing to do with glyph names!\n+   *\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_SfntName\n+   *\n+   * @description:\n+   *   A structure used to model an SFNT 'name' table entry.\n+   *\n+   * @fields:\n+   *   platform_id ::\n+   *     The platform ID for `string`.  See @TT_PLATFORM_XXX for possible\n+   *     values.\n+   *\n+   *   encoding_id ::\n+   *     The encoding ID for `string`.  See @TT_APPLE_ID_XXX, @TT_MAC_ID_XXX,\n+   *     @TT_ISO_ID_XXX, @TT_MS_ID_XXX, and @TT_ADOBE_ID_XXX for possible\n+   *     values.\n+   *\n+   *   language_id ::\n+   *     The language ID for `string`.  See @TT_MAC_LANGID_XXX and\n+   *     @TT_MS_LANGID_XXX for possible values.\n+   *\n+   *     Registered OpenType values for `language_id` are always smaller than\n+   *     0x8000; values equal or larger than 0x8000 usually indicate a\n+   *     language tag string (introduced in OpenType version 1.6).  Use\n+   *     function @FT_Get_Sfnt_LangTag with `language_id` as its argument to\n+   *     retrieve the associated language tag.\n+   *\n+   *   name_id ::\n+   *     An identifier for `string`.  See @TT_NAME_ID_XXX for possible\n+   *     values.\n+   *\n+   *   string ::\n+   *     The 'name' string.  Note that its format differs depending on the\n+   *     (platform,encoding) pair, being either a string of bytes (without a\n+   *     terminating `NULL` byte) or containing UTF-16BE entities.\n+   *\n+   *   string_len ::\n+   *     The length of `string` in bytes.\n+   *\n+   * @note:\n+   *   Please refer to the TrueType or OpenType specification for more\n+   *   details.\n+   *\/\n@@ -119,14 +121,19 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Get_Sfnt_Name_Count                                             *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Retrieve the number of name strings in the SFNT `name' table.      *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face :: A handle to the source face.                               *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    The number of strings in the `name' table.                         *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Get_Sfnt_Name_Count\n+   *\n+   * @description:\n+   *   Retrieve the number of name strings in the SFNT 'name' table.\n+   *\n+   * @input:\n+   *   face ::\n+   *     A handle to the source face.\n+   *\n+   * @return:\n+   *   The number of strings in the 'name' table.\n+   *\n+   * @note:\n+   *   This function always returns an error if the config macro\n+   *   `TT_CONFIG_OPTION_SFNT_NAMES` is not defined in `ftoption.h`.\n+   *\/\n@@ -137,31 +144,37 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Get_Sfnt_Name                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Retrieve a string of the SFNT `name' table for a given index.      *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face  :: A handle to the source face.                              *\/\n-  \/*                                                                       *\/\n-  \/*    idx   :: The index of the `name' string.                           *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    aname :: The indexed @FT_SfntName structure.                       *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The `string' array returned in the `aname' structure is not        *\/\n-  \/*    null-terminated.  Note that you don't have to deallocate `string'  *\/\n-  \/*    by yourself; FreeType takes care of it if you call @FT_Done_Face.  *\/\n-  \/*                                                                       *\/\n-  \/*    Use @FT_Get_Sfnt_Name_Count to get the total number of available   *\/\n-  \/*    `name' table entries, then do a loop until you get the right       *\/\n-  \/*    platform, encoding, and name ID.                                   *\/\n-  \/*                                                                       *\/\n-  \/*    `name' table format~1 entries can use language tags also, see      *\/\n-  \/*    @FT_Get_Sfnt_LangTag.                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Get_Sfnt_Name\n+   *\n+   * @description:\n+   *   Retrieve a string of the SFNT 'name' table for a given index.\n+   *\n+   * @input:\n+   *   face ::\n+   *     A handle to the source face.\n+   *\n+   *   idx ::\n+   *     The index of the 'name' string.\n+   *\n+   * @output:\n+   *   aname ::\n+   *     The indexed @FT_SfntName structure.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   The `string` array returned in the `aname` structure is not\n+   *   null-terminated.  Note that you don't have to deallocate `string` by\n+   *   yourself; FreeType takes care of it if you call @FT_Done_Face.\n+   *\n+   *   Use @FT_Get_Sfnt_Name_Count to get the total number of available\n+   *   'name' table entries, then do a loop until you get the right platform,\n+   *   encoding, and name ID.\n+   *\n+   *   'name' table format~1 entries can use language tags also, see\n+   *   @FT_Get_Sfnt_LangTag.\n+   *\n+   *   This function always returns an error if the config macro\n+   *   `TT_CONFIG_OPTION_SFNT_NAMES` is not defined in `ftoption.h`.\n+   *\/\n@@ -174,22 +187,23 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_SfntLangTag                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure to model a language tag entry from an SFNT `name'      *\/\n-  \/*    table.                                                             *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    string      :: The language tag string, encoded in UTF-16BE        *\/\n-  \/*                   (without trailing NULL bytes).                      *\/\n-  \/*                                                                       *\/\n-  \/*    string_len  :: The length of `string' in *bytes*.                  *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    Please refer to the TrueType or OpenType specification for more    *\/\n-  \/*    details.                                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Since>                                                               *\/\n-  \/*    2.8                                                                *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_SfntLangTag\n+   *\n+   * @description:\n+   *   A structure to model a language tag entry from an SFNT 'name' table.\n+   *\n+   * @fields:\n+   *   string ::\n+   *     The language tag string, encoded in UTF-16BE (without trailing\n+   *     `NULL` bytes).\n+   *\n+   *   string_len ::\n+   *     The length of `string` in **bytes**.\n+   *\n+   * @note:\n+   *   Please refer to the TrueType or OpenType specification for more\n+   *   details.\n+   *\n+   * @since:\n+   *   2.8\n+   *\/\n@@ -204,35 +218,41 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Get_Sfnt_LangTag                                                *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Retrieve the language tag associated with a language ID of an SFNT *\/\n-  \/*    `name' table entry.                                                *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face     :: A handle to the source face.                           *\/\n-  \/*                                                                       *\/\n-  \/*    langID   :: The language ID, as returned by @FT_Get_Sfnt_Name.     *\/\n-  \/*                This is always a value larger than 0x8000.             *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    alangTag :: The language tag associated with the `name' table      *\/\n-  \/*                entry's language ID.                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The `string' array returned in the `alangTag' structure is not     *\/\n-  \/*    null-terminated.  Note that you don't have to deallocate `string'  *\/\n-  \/*    by yourself; FreeType takes care of it if you call @FT_Done_Face.  *\/\n-  \/*                                                                       *\/\n-  \/*    Only `name' table format~1 supports language tags.  For format~0   *\/\n-  \/*    tables, this function always returns FT_Err_Invalid_Table.  For    *\/\n-  \/*    invalid format~1 language ID values, FT_Err_Invalid_Argument is    *\/\n-  \/*    returned.                                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Since>                                                               *\/\n-  \/*    2.8                                                                *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Get_Sfnt_LangTag\n+   *\n+   * @description:\n+   *   Retrieve the language tag associated with a language ID of an SFNT\n+   *   'name' table entry.\n+   *\n+   * @input:\n+   *   face ::\n+   *     A handle to the source face.\n+   *\n+   *   langID ::\n+   *     The language ID, as returned by @FT_Get_Sfnt_Name.  This is always a\n+   *     value larger than 0x8000.\n+   *\n+   * @output:\n+   *   alangTag ::\n+   *     The language tag associated with the 'name' table entry's language\n+   *     ID.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   The `string` array returned in the `alangTag` structure is not\n+   *   null-terminated.  Note that you don't have to deallocate `string` by\n+   *   yourself; FreeType takes care of it if you call @FT_Done_Face.\n+   *\n+   *   Only 'name' table format~1 supports language tags.  For format~0\n+   *   tables, this function always returns FT_Err_Invalid_Table.  For\n+   *   invalid format~1 language ID values, FT_Err_Invalid_Argument is\n+   *   returned.\n+   *\n+   *   This function always returns an error if the config macro\n+   *   `TT_CONFIG_OPTION_SFNT_NAMES` is not defined in `ftoption.h`.\n+   *\n+   * @since:\n+   *   2.8\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/ftsnames.h","additions":207,"deletions":187,"binary":false,"changes":394,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftstroke.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    FreeType path stroker (specification).                               *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2002-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftstroke.h\n+ *\n+ *   FreeType path stroker (specification).\n+ *\n+ * Copyright (C) 2002-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -30,62 +30,62 @@\n- \/************************************************************************\n-  *\n-  * @section:\n-  *    glyph_stroker\n-  *\n-  * @title:\n-  *    Glyph Stroker\n-  *\n-  * @abstract:\n-  *    Generating bordered and stroked glyphs.\n-  *\n-  * @description:\n-  *    This component generates stroked outlines of a given vectorial\n-  *    glyph.  It also allows you to retrieve the `outside' and\/or the\n-  *    `inside' borders of the stroke.\n-  *\n-  *    This can be useful to generate `bordered' glyph, i.e., glyphs\n-  *    displayed with a coloured (and anti-aliased) border around their\n-  *    shape.\n-  *\n-  * @order:\n-  *    FT_Stroker\n-  *\n-  *    FT_Stroker_LineJoin\n-  *    FT_Stroker_LineCap\n-  *    FT_StrokerBorder\n-  *\n-  *    FT_Outline_GetInsideBorder\n-  *    FT_Outline_GetOutsideBorder\n-  *\n-  *    FT_Glyph_Stroke\n-  *    FT_Glyph_StrokeBorder\n-  *\n-  *    FT_Stroker_New\n-  *    FT_Stroker_Set\n-  *    FT_Stroker_Rewind\n-  *    FT_Stroker_ParseOutline\n-  *    FT_Stroker_Done\n-  *\n-  *    FT_Stroker_BeginSubPath\n-  *    FT_Stroker_EndSubPath\n-  *\n-  *    FT_Stroker_LineTo\n-  *    FT_Stroker_ConicTo\n-  *    FT_Stroker_CubicTo\n-  *\n-  *    FT_Stroker_GetBorderCounts\n-  *    FT_Stroker_ExportBorder\n-  *    FT_Stroker_GetCounts\n-  *    FT_Stroker_Export\n-  *\n-  *\/\n-\n-\n- \/**************************************************************\n-  *\n-  * @type:\n-  *   FT_Stroker\n-  *\n-  * @description:\n-  *   Opaque handle to a path stroker object.\n-  *\/\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *    glyph_stroker\n+   *\n+   * @title:\n+   *    Glyph Stroker\n+   *\n+   * @abstract:\n+   *    Generating bordered and stroked glyphs.\n+   *\n+   * @description:\n+   *    This component generates stroked outlines of a given vectorial glyph.\n+   *    It also allows you to retrieve the 'outside' and\/or the 'inside'\n+   *    borders of the stroke.\n+   *\n+   *    This can be useful to generate 'bordered' glyph, i.e., glyphs\n+   *    displayed with a coloured (and anti-aliased) border around their\n+   *    shape.\n+   *\n+   * @order:\n+   *    FT_Stroker\n+   *\n+   *    FT_Stroker_LineJoin\n+   *    FT_Stroker_LineCap\n+   *    FT_StrokerBorder\n+   *\n+   *    FT_Outline_GetInsideBorder\n+   *    FT_Outline_GetOutsideBorder\n+   *\n+   *    FT_Glyph_Stroke\n+   *    FT_Glyph_StrokeBorder\n+   *\n+   *    FT_Stroker_New\n+   *    FT_Stroker_Set\n+   *    FT_Stroker_Rewind\n+   *    FT_Stroker_ParseOutline\n+   *    FT_Stroker_Done\n+   *\n+   *    FT_Stroker_BeginSubPath\n+   *    FT_Stroker_EndSubPath\n+   *\n+   *    FT_Stroker_LineTo\n+   *    FT_Stroker_ConicTo\n+   *    FT_Stroker_CubicTo\n+   *\n+   *    FT_Stroker_GetBorderCounts\n+   *    FT_Stroker_ExportBorder\n+   *    FT_Stroker_GetCounts\n+   *    FT_Stroker_Export\n+   *\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_Stroker\n+   *\n+   * @description:\n+   *   Opaque handle to a path stroker object.\n+   *\/\n@@ -95,1 +95,1 @@\n-  \/**************************************************************\n+  \/**************************************************************************\n@@ -101,2 +101,2 @@\n-   *   These values determine how two joining lines are rendered\n-   *   in a stroker.\n+   *   These values determine how two joining lines are rendered in a\n+   *   stroker.\n@@ -106,2 +106,2 @@\n-   *     Used to render rounded line joins.  Circular arcs are used\n-   *     to join two lines smoothly.\n+   *     Used to render rounded line joins.  Circular arcs are used to join\n+   *     two lines smoothly.\n@@ -110,4 +110,3 @@\n-   *     Used to render beveled line joins.  The outer corner of\n-   *     the joined lines is filled by enclosing the triangular\n-   *     region of the corner with a straight line between the\n-   *     outer corners of each stroke.\n+   *     Used to render beveled line joins.  The outer corner of the joined\n+   *     lines is filled by enclosing the triangular region of the corner\n+   *     with a straight line between the outer corners of each stroke.\n@@ -116,10 +115,9 @@\n-   *     Used to render mitered line joins, with fixed bevels if the\n-   *     miter limit is exceeded.  The outer edges of the strokes\n-   *     for the two segments are extended until they meet at an\n-   *     angle.  If the segments meet at too sharp an angle (such\n-   *     that the miter would extend from the intersection of the\n-   *     segments a distance greater than the product of the miter\n-   *     limit value and the border radius), then a bevel join (see\n-   *     above) is used instead.  This prevents long spikes being\n-   *     created.  FT_STROKER_LINEJOIN_MITER_FIXED generates a miter\n-   *     line join as used in PostScript and PDF.\n+   *     Used to render mitered line joins, with fixed bevels if the miter\n+   *     limit is exceeded.  The outer edges of the strokes for the two\n+   *     segments are extended until they meet at an angle.  If the segments\n+   *     meet at too sharp an angle (such that the miter would extend from\n+   *     the intersection of the segments a distance greater than the product\n+   *     of the miter limit value and the border radius), then a bevel join\n+   *     (see above) is used instead.  This prevents long spikes being\n+   *     created.  `FT_STROKER_LINEJOIN_MITER_FIXED` generates a miter line\n+   *     join as used in PostScript and PDF.\n@@ -129,11 +127,10 @@\n-   *     Used to render mitered line joins, with variable bevels if\n-   *     the miter limit is exceeded.  The intersection of the\n-   *     strokes is clipped at a line perpendicular to the bisector\n-   *     of the angle between the strokes, at the distance from the\n-   *     intersection of the segments equal to the product of the\n-   *     miter limit value and the border radius.  This prevents\n-   *     long spikes being created.\n-   *     FT_STROKER_LINEJOIN_MITER_VARIABLE generates a mitered line\n-   *     join as used in XPS.  FT_STROKER_LINEJOIN_MITER is an alias\n-   *     for FT_STROKER_LINEJOIN_MITER_VARIABLE, retained for\n-   *     backward compatibility.\n+   *     Used to render mitered line joins, with variable bevels if the miter\n+   *     limit is exceeded.  The intersection of the strokes is clipped at a\n+   *     line perpendicular to the bisector of the angle between the strokes,\n+   *     at the distance from the intersection of the segments equal to the\n+   *     product of the miter limit value and the border radius.  This\n+   *     prevents long spikes being created.\n+   *     `FT_STROKER_LINEJOIN_MITER_VARIABLE` generates a mitered line join\n+   *     as used in XPS.  `FT_STROKER_LINEJOIN_MITER` is an alias for\n+   *     `FT_STROKER_LINEJOIN_MITER_VARIABLE`, retained for backward\n+   *     compatibility.\n@@ -152,1 +149,1 @@\n-  \/**************************************************************\n+  \/**************************************************************************\n@@ -158,2 +155,2 @@\n-   *   These values determine how the end of opened sub-paths are\n-   *   rendered in a stroke.\n+   *   These values determine how the end of opened sub-paths are rendered in\n+   *   a stroke.\n@@ -163,2 +160,2 @@\n-   *     The end of lines is rendered as a full stop on the last\n-   *     point itself.\n+   *     The end of lines is rendered as a full stop on the last point\n+   *     itself.\n@@ -167,2 +164,1 @@\n-   *     The end of lines is rendered as a half-circle around the\n-   *     last point.\n+   *     The end of lines is rendered as a half-circle around the last point.\n@@ -171,2 +167,1 @@\n-   *     The end of lines is rendered as a square around the\n-   *     last point.\n+   *     The end of lines is rendered as a square around the last point.\n@@ -183,1 +178,1 @@\n-  \/**************************************************************\n+  \/**************************************************************************\n@@ -189,2 +184,2 @@\n-   *   These values are used to select a given stroke border\n-   *   in @FT_Stroker_GetBorderCounts and @FT_Stroker_ExportBorder.\n+   *   These values are used to select a given stroke border in\n+   *   @FT_Stroker_GetBorderCounts and @FT_Stroker_ExportBorder.\n@@ -200,1 +195,1 @@\n-   *   Applications are generally interested in the `inside' and `outside'\n+   *   Applications are generally interested in the 'inside' and 'outside'\n@@ -202,1 +197,1 @@\n-   *   `left' and `right' ones, since this really depends on the glyph's\n+   *   'left' and 'right' ones, since this really depends on the glyph's\n@@ -216,1 +211,1 @@\n-  \/**************************************************************\n+  \/**************************************************************************\n@@ -222,2 +217,2 @@\n-   *   Retrieve the @FT_StrokerBorder value corresponding to the\n-   *   `inside' borders of a given outline.\n+   *   Retrieve the @FT_StrokerBorder value corresponding to the 'inside'\n+   *   borders of a given outline.\n@@ -237,1 +232,1 @@\n-  \/**************************************************************\n+  \/**************************************************************************\n@@ -243,2 +238,2 @@\n-   *   Retrieve the @FT_StrokerBorder value corresponding to the\n-   *   `outside' borders of a given outline.\n+   *   Retrieve the @FT_StrokerBorder value corresponding to the 'outside'\n+   *   borders of a given outline.\n@@ -258,1 +253,1 @@\n-  \/**************************************************************\n+  \/**************************************************************************\n@@ -272,1 +267,1 @@\n-   *     A new stroker object handle.  NULL in case of error.\n+   *     A new stroker object handle.  `NULL` in case of error.\n@@ -282,1 +277,1 @@\n-  \/**************************************************************\n+  \/**************************************************************************\n@@ -304,3 +299,3 @@\n-   *     The miter limit for the FT_STROKER_LINEJOIN_MITER_FIXED and\n-   *     FT_STROKER_LINEJOIN_MITER_VARIABLE line join styles,\n-   *     expressed as 16.16 fixed-point value.\n+   *     The miter limit for the `FT_STROKER_LINEJOIN_MITER_FIXED` and\n+   *     `FT_STROKER_LINEJOIN_MITER_VARIABLE` line join styles, expressed as\n+   *     16.16 fixed-point value.\n@@ -309,2 +304,1 @@\n-   *   The radius is expressed in the same units as the outline\n-   *   coordinates.\n+   *   The radius is expressed in the same units as the outline coordinates.\n@@ -322,1 +316,1 @@\n-  \/**************************************************************\n+  \/**************************************************************************\n@@ -328,4 +322,3 @@\n-   *   Reset a stroker object without changing its attributes.\n-   *   You should call this function before beginning a new\n-   *   series of calls to @FT_Stroker_BeginSubPath or\n-   *   @FT_Stroker_EndSubPath.\n+   *   Reset a stroker object without changing its attributes.  You should\n+   *   call this function before beginning a new series of calls to\n+   *   @FT_Stroker_BeginSubPath or @FT_Stroker_EndSubPath.\n@@ -341,1 +334,1 @@\n-  \/**************************************************************\n+  \/**************************************************************************\n@@ -347,3 +340,3 @@\n-   *   A convenience function used to parse a whole outline with\n-   *   the stroker.  The resulting outline(s) can be retrieved\n-   *   later by functions like @FT_Stroker_GetCounts and @FT_Stroker_Export.\n+   *   A convenience function used to parse a whole outline with the stroker.\n+   *   The resulting outline(s) can be retrieved later by functions like\n+   *   @FT_Stroker_GetCounts and @FT_Stroker_Export.\n@@ -359,2 +352,2 @@\n-   *     A boolean.  If~1, the outline is treated as an open path instead\n-   *     of a closed one.\n+   *     A boolean.  If~1, the outline is treated as an open path instead of\n+   *     a closed one.\n@@ -366,2 +359,2 @@\n-   *   If `opened' is~0 (the default), the outline is treated as a closed\n-   *   path, and the stroker generates two distinct `border' outlines.\n+   *   If `opened` is~0 (the default), the outline is treated as a closed\n+   *   path, and the stroker generates two distinct 'border' outlines.\n@@ -369,2 +362,2 @@\n-   *   If `opened' is~1, the outline is processed as an open path, and the\n-   *   stroker generates a single `stroke' outline.\n+   *   If `opened` is~1, the outline is processed as an open path, and the\n+   *   stroker generates a single 'stroke' outline.\n@@ -380,1 +373,1 @@\n-  \/**************************************************************\n+  \/**************************************************************************\n@@ -402,2 +395,2 @@\n-   *   This function is useful when you need to stroke a path that is\n-   *   not stored as an @FT_Outline object.\n+   *   This function is useful when you need to stroke a path that is not\n+   *   stored as an @FT_Outline object.\n@@ -411,1 +404,1 @@\n-  \/**************************************************************\n+  \/**************************************************************************\n@@ -427,3 +420,3 @@\n-   *   You should call this function after @FT_Stroker_BeginSubPath.\n-   *   If the subpath was not `opened', this function `draws' a\n-   *   single line segment to the start position when needed.\n+   *   You should call this function after @FT_Stroker_BeginSubPath.  If the\n+   *   subpath was not 'opened', this function 'draws' a single line segment\n+   *   to the start position when needed.\n@@ -435,1 +428,1 @@\n-  \/**************************************************************\n+  \/**************************************************************************\n@@ -441,2 +434,2 @@\n-   *   `Draw' a single line segment in the stroker's current sub-path,\n-   *   from the last position.\n+   *   'Draw' a single line segment in the stroker's current sub-path, from\n+   *   the last position.\n@@ -463,1 +456,1 @@\n-  \/**************************************************************\n+  \/**************************************************************************\n@@ -469,1 +462,1 @@\n-   *   `Draw' a single quadratic Bezier in the stroker's current sub-path,\n+   *   'Draw' a single quadratic Bezier in the stroker's current sub-path,\n@@ -495,1 +488,1 @@\n-  \/**************************************************************\n+  \/**************************************************************************\n@@ -501,2 +494,2 @@\n-   *   `Draw' a single cubic Bezier in the stroker's current sub-path,\n-   *   from the last position.\n+   *   'Draw' a single cubic Bezier in the stroker's current sub-path, from\n+   *   the last position.\n@@ -531,1 +524,1 @@\n-  \/**************************************************************\n+  \/**************************************************************************\n@@ -537,4 +530,4 @@\n-   *   Call this function once you have finished parsing your paths\n-   *   with the stroker.  It returns the number of points and\n-   *   contours necessary to export one of the `border' or `stroke'\n-   *   outlines generated by the stroker.\n+   *   Call this function once you have finished parsing your paths with the\n+   *   stroker.  It returns the number of points and contours necessary to\n+   *   export one of the 'border' or 'stroke' outlines generated by the\n+   *   stroker.\n@@ -560,2 +553,2 @@\n-   *   When an outline, or a sub-path, is `closed', the stroker generates\n-   *   two independent `border' outlines, named `left' and `right'.\n+   *   When an outline, or a sub-path, is 'closed', the stroker generates two\n+   *   independent 'border' outlines, named 'left' and 'right'.\n@@ -563,3 +556,3 @@\n-   *   When the outline, or a sub-path, is `opened', the stroker merges\n-   *   the `border' outlines with caps.  The `left' border receives all\n-   *   points, while the `right' border becomes empty.\n+   *   When the outline, or a sub-path, is 'opened', the stroker merges the\n+   *   'border' outlines with caps.  The 'left' border receives all points,\n+   *   while the 'right' border becomes empty.\n@@ -567,2 +560,2 @@\n-   *   Use the function @FT_Stroker_GetCounts instead if you want to\n-   *   retrieve the counts associated to both borders.\n+   *   Use the function @FT_Stroker_GetCounts instead if you want to retrieve\n+   *   the counts associated to both borders.\n@@ -577,1 +570,1 @@\n-  \/**************************************************************\n+  \/**************************************************************************\n@@ -583,3 +576,2 @@\n-   *   Call this function after @FT_Stroker_GetBorderCounts to\n-   *   export the corresponding border to your own @FT_Outline\n-   *   structure.\n+   *   Call this function after @FT_Stroker_GetBorderCounts to export the\n+   *   corresponding border to your own @FT_Outline structure.\n@@ -587,3 +579,2 @@\n-   *   Note that this function appends the border points and\n-   *   contours to your outline, but does not try to resize its\n-   *   arrays.\n+   *   Note that this function appends the border points and contours to your\n+   *   outline, but does not try to resize its arrays.\n@@ -602,3 +593,3 @@\n-   *   Always call this function after @FT_Stroker_GetBorderCounts to\n-   *   get sure that there is enough room in your @FT_Outline object to\n-   *   receive all new data.\n+   *   Always call this function after @FT_Stroker_GetBorderCounts to get\n+   *   sure that there is enough room in your @FT_Outline object to receive\n+   *   all new data.\n@@ -606,2 +597,2 @@\n-   *   When an outline, or a sub-path, is `closed', the stroker generates\n-   *   two independent `border' outlines, named `left' and `right'.\n+   *   When an outline, or a sub-path, is 'closed', the stroker generates two\n+   *   independent 'border' outlines, named 'left' and 'right'.\n@@ -609,3 +600,3 @@\n-   *   When the outline, or a sub-path, is `opened', the stroker merges\n-   *   the `border' outlines with caps.  The `left' border receives all\n-   *   points, while the `right' border becomes empty.\n+   *   When the outline, or a sub-path, is 'opened', the stroker merges the\n+   *   'border' outlines with caps.  The 'left' border receives all points,\n+   *   while the 'right' border becomes empty.\n@@ -613,2 +604,2 @@\n-   *   Use the function @FT_Stroker_Export instead if you want to\n-   *   retrieve all borders at once.\n+   *   Use the function @FT_Stroker_Export instead if you want to retrieve\n+   *   all borders at once.\n@@ -622,1 +613,1 @@\n-  \/**************************************************************\n+  \/**************************************************************************\n@@ -628,4 +619,3 @@\n-   *   Call this function once you have finished parsing your paths\n-   *   with the stroker.  It returns the number of points and\n-   *   contours necessary to export all points\/borders from the stroked\n-   *   outline\/path.\n+   *   Call this function once you have finished parsing your paths with the\n+   *   stroker.  It returns the number of points and contours necessary to\n+   *   export all points\/borders from the stroked outline\/path.\n@@ -653,1 +643,1 @@\n-  \/**************************************************************\n+  \/**************************************************************************\n@@ -659,2 +649,2 @@\n-   *   Call this function after @FT_Stroker_GetBorderCounts to\n-   *   export all borders to your own @FT_Outline structure.\n+   *   Call this function after @FT_Stroker_GetBorderCounts to export all\n+   *   borders to your own @FT_Outline structure.\n@@ -662,3 +652,2 @@\n-   *   Note that this function appends the border points and\n-   *   contours to your outline, but does not try to resize its\n-   *   arrays.\n+   *   Note that this function appends the border points and contours to your\n+   *   outline, but does not try to resize its arrays.\n@@ -678,1 +667,1 @@\n-  \/**************************************************************\n+  \/**************************************************************************\n@@ -688,1 +677,1 @@\n-   *     A stroker handle.  Can be NULL.\n+   *     A stroker handle.  Can be `NULL`.\n@@ -694,1 +683,1 @@\n-  \/**************************************************************\n+  \/**************************************************************************\n@@ -711,2 +700,1 @@\n-   *     A Boolean.  If~1, the source glyph object is destroyed\n-   *     on success.\n+   *     A Boolean.  If~1, the source glyph object is destroyed on success.\n@@ -722,2 +710,2 @@\n-   *   may need to manually adjust horizontal and vertical advance amounts\n-   *   to account for this added size.\n+   *   may need to manually adjust horizontal and vertical advance amounts to\n+   *   account for this added size.\n@@ -731,1 +719,1 @@\n-  \/**************************************************************\n+  \/**************************************************************************\n@@ -737,2 +725,2 @@\n-   *   Stroke a given outline glyph object with a given stroker, but\n-   *   only return either its inside or outside border.\n+   *   Stroke a given outline glyph object with a given stroker, but only\n+   *   return either its inside or outside border.\n@@ -749,2 +737,2 @@\n-   *     A Boolean.  If~1, return the inside border, otherwise\n-   *     the outside border.\n+   *     A Boolean.  If~1, return the inside border, otherwise the outside\n+   *     border.\n@@ -753,2 +741,1 @@\n-   *     A Boolean.  If~1, the source glyph object is destroyed\n-   *     on success.\n+   *     A Boolean.  If~1, the source glyph object is destroyed on success.\n@@ -764,2 +751,2 @@\n-   *   may need to manually adjust horizontal and vertical advance amounts\n-   *   to account for this added size.\n+   *   may need to manually adjust horizontal and vertical advance amounts to\n+   *   account for this added size.\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/ftstroke.h","additions":209,"deletions":222,"binary":false,"changes":431,"status":"modified"},{"patch":"@@ -1,17 +1,17 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftsynth.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    FreeType synthesizing code for emboldening and slanting              *\/\n-\/*    (specification).                                                     *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2000-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftsynth.h\n+ *\n+ *   FreeType synthesizing code for emboldening and slanting\n+ *   (specification).\n+ *\n+ * Copyright (C) 2000-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -38,1 +38,1 @@\n-  \/* `standard' API is that the used parameters for emboldening and *\/\n+  \/* 'standard' API is that the used parameters for emboldening and *\/\n@@ -60,1 +60,1 @@\n-  \/* Embolden a glyph by a `reasonable' value (which is highly a matter of *\/\n+  \/* Embolden a glyph by a 'reasonable' value (which is highly a matter of *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/ftsynth.h","additions":19,"deletions":19,"binary":false,"changes":38,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftsystem.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    FreeType low-level system interface definition (specification).      *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftsystem.h\n+ *\n+ *   FreeType low-level system interface definition (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -29,18 +29,17 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Section>                                                             *\/\n-  \/*   system_interface                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Title>                                                               *\/\n-  \/*   System Interface                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Abstract>                                                            *\/\n-  \/*   How FreeType manages memory and i\/o.                                *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*   This section contains various definitions related to memory         *\/\n-  \/*   management and i\/o access.  You need to understand this             *\/\n-  \/*   information if you want to use a custom memory manager or you own   *\/\n-  \/*   i\/o streams.                                                        *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *  system_interface\n+   *\n+   * @title:\n+   *  System Interface\n+   *\n+   * @abstract:\n+   *  How FreeType manages memory and i\/o.\n+   *\n+   * @description:\n+   *  This section contains various definitions related to memory management\n+   *  and i\/o access.  You need to understand this information if you want to\n+   *  use a custom memory manager or you own i\/o streams.\n+   *\n+   *\/\n@@ -49,5 +48,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*                  M E M O R Y   M A N A G E M E N T                    *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   *                 M E M O R Y   M A N A G E M E N T\n+   *\n+   *\/\n@@ -56,1 +55,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -69,1 +68,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -75,1 +74,1 @@\n-   *   A function used to allocate `size' bytes from `memory'.\n+   *   A function used to allocate `size` bytes from `memory`.\n@@ -93,1 +92,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -114,1 +113,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -149,1 +148,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -180,5 +179,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*                       I \/ O   M A N A G E M E N T                     *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   *                      I \/ O   M A N A G E M E N T\n+   *\n+   *\/\n@@ -187,1 +186,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -196,2 +195,2 @@\n-   *   See @FT_StreamRec for the publicly accessible fields of a given\n-   *   stream object.\n+   *   See @FT_StreamRec for the publicly accessible fields of a given stream\n+   *   object.\n@@ -203,1 +202,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -210,1 +209,1 @@\n-   *   to store a file descriptor or a `FILE*' in an input stream.\n+   *   to store a file descriptor or a `FILE*` in an input stream.\n@@ -221,1 +220,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -246,3 +245,2 @@\n-   *   This function might be called to perform a seek or skip operation\n-   *   with a `count' of~0.  A non-zero return value then indicates an\n-   *   error.\n+   *   This function might be called to perform a seek or skip operation with\n+   *   a `count` of~0.  A non-zero return value then indicates an error.\n@@ -258,1 +256,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -268,1 +266,1 @@\n-   *     A handle to the target stream.\n+   *    A handle to the target stream.\n@@ -275,1 +273,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -286,1 +284,1 @@\n-   *     byte in memory.  This field should always be set to NULL for\n+   *     byte in memory.  This field should always be set to `NULL` for\n@@ -302,1 +300,1 @@\n-   *     used by stream implementations to store file descriptors or `FILE*'\n+   *     used by stream implementations to store file descriptors or `FILE*`\n@@ -317,3 +315,2 @@\n-   *     The memory manager to use to preload frames.  This is set\n-   *     internally by FreeType and shouldn't be touched by stream\n-   *     implementations.\n+   *     The memory manager to use to preload frames.  This is set internally\n+   *     by FreeType and shouldn't be touched by stream implementations.\n@@ -323,1 +320,2 @@\n-   *     frames.\n+   *     frames.  In particular, the `FT_GET_XXX` macros use this instead of\n+   *     the `pos` field.\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/ftsystem.h","additions":66,"deletions":68,"binary":false,"changes":134,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  fttrigon.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    FreeType trigonometric functions (specification).                    *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2001-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * fttrigon.h\n+ *\n+ *   FreeType trigonometric functions (specification).\n+ *\n+ * Copyright (C) 2001-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -34,6 +34,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Section>                                                             *\/\n-  \/*   computations                                                        *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *  computations\n+   *\n+   *\/\n@@ -42,1 +42,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -55,1 +55,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -67,1 +67,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -79,1 +79,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -91,1 +91,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -103,1 +103,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -127,1 +127,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -151,1 +151,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -171,1 +171,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -177,2 +177,2 @@\n-   *   Return the arc-tangent corresponding to a given vector (x,y) in\n-   *   the 2d plane.\n+   *   Return the arc-tangent corresponding to a given vector (x,y) in the 2d\n+   *   plane.\n@@ -196,1 +196,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -213,1 +213,1 @@\n-   *   Constrained value of `value2-value1'.\n+   *   Constrained value of `angle2-angle1`.\n@@ -221,1 +221,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -228,2 +228,2 @@\n-   *   call, the value of `vec.x' will be `cos(angle)', and the value of\n-   *   `vec.y' will be `sin(angle)'.\n+   *   call, the value of `vec.x` will be `cos(angle)`, and the value of\n+   *   `vec.y` will be `sin(angle)`.\n@@ -248,1 +248,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -270,1 +270,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -291,1 +291,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -317,1 +317,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/fttrigon.h","additions":42,"deletions":42,"binary":false,"changes":84,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  fttypes.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    FreeType simple types definitions (specification only).              *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * fttypes.h\n+ *\n+ *   FreeType simple types definitions (specification only).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -34,74 +34,74 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Section>                                                             *\/\n-  \/*    basic_types                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Title>                                                               *\/\n-  \/*    Basic Data Types                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Abstract>                                                            *\/\n-  \/*    The basic data types defined by the library.                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This section contains the basic data types defined by FreeType~2,  *\/\n-  \/*    ranging from simple scalar types to bitmap descriptors.  More      *\/\n-  \/*    font-specific structures are defined in a different section.       *\/\n-  \/*                                                                       *\/\n-  \/* <Order>                                                               *\/\n-  \/*    FT_Byte                                                            *\/\n-  \/*    FT_Bytes                                                           *\/\n-  \/*    FT_Char                                                            *\/\n-  \/*    FT_Int                                                             *\/\n-  \/*    FT_UInt                                                            *\/\n-  \/*    FT_Int16                                                           *\/\n-  \/*    FT_UInt16                                                          *\/\n-  \/*    FT_Int32                                                           *\/\n-  \/*    FT_UInt32                                                          *\/\n-  \/*    FT_Int64                                                           *\/\n-  \/*    FT_UInt64                                                          *\/\n-  \/*    FT_Short                                                           *\/\n-  \/*    FT_UShort                                                          *\/\n-  \/*    FT_Long                                                            *\/\n-  \/*    FT_ULong                                                           *\/\n-  \/*    FT_Bool                                                            *\/\n-  \/*    FT_Offset                                                          *\/\n-  \/*    FT_PtrDist                                                         *\/\n-  \/*    FT_String                                                          *\/\n-  \/*    FT_Tag                                                             *\/\n-  \/*    FT_Error                                                           *\/\n-  \/*    FT_Fixed                                                           *\/\n-  \/*    FT_Pointer                                                         *\/\n-  \/*    FT_Pos                                                             *\/\n-  \/*    FT_Vector                                                          *\/\n-  \/*    FT_BBox                                                            *\/\n-  \/*    FT_Matrix                                                          *\/\n-  \/*    FT_FWord                                                           *\/\n-  \/*    FT_UFWord                                                          *\/\n-  \/*    FT_F2Dot14                                                         *\/\n-  \/*    FT_UnitVector                                                      *\/\n-  \/*    FT_F26Dot6                                                         *\/\n-  \/*    FT_Data                                                            *\/\n-  \/*                                                                       *\/\n-  \/*    FT_MAKE_TAG                                                        *\/\n-  \/*                                                                       *\/\n-  \/*    FT_Generic                                                         *\/\n-  \/*    FT_Generic_Finalizer                                               *\/\n-  \/*                                                                       *\/\n-  \/*    FT_Bitmap                                                          *\/\n-  \/*    FT_Pixel_Mode                                                      *\/\n-  \/*    FT_Palette_Mode                                                    *\/\n-  \/*    FT_Glyph_Format                                                    *\/\n-  \/*    FT_IMAGE_TAG                                                       *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_Bool                                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A typedef of unsigned char, used for simple booleans.  As usual,   *\/\n-  \/*    values 1 and~0 represent true and false, respectively.             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   basic_types\n+   *\n+   * @title:\n+   *   Basic Data Types\n+   *\n+   * @abstract:\n+   *   The basic data types defined by the library.\n+   *\n+   * @description:\n+   *   This section contains the basic data types defined by FreeType~2,\n+   *   ranging from simple scalar types to bitmap descriptors.  More\n+   *   font-specific structures are defined in a different section.\n+   *\n+   * @order:\n+   *   FT_Byte\n+   *   FT_Bytes\n+   *   FT_Char\n+   *   FT_Int\n+   *   FT_UInt\n+   *   FT_Int16\n+   *   FT_UInt16\n+   *   FT_Int32\n+   *   FT_UInt32\n+   *   FT_Int64\n+   *   FT_UInt64\n+   *   FT_Short\n+   *   FT_UShort\n+   *   FT_Long\n+   *   FT_ULong\n+   *   FT_Bool\n+   *   FT_Offset\n+   *   FT_PtrDist\n+   *   FT_String\n+   *   FT_Tag\n+   *   FT_Error\n+   *   FT_Fixed\n+   *   FT_Pointer\n+   *   FT_Pos\n+   *   FT_Vector\n+   *   FT_BBox\n+   *   FT_Matrix\n+   *   FT_FWord\n+   *   FT_UFWord\n+   *   FT_F2Dot14\n+   *   FT_UnitVector\n+   *   FT_F26Dot6\n+   *   FT_Data\n+   *\n+   *   FT_MAKE_TAG\n+   *\n+   *   FT_Generic\n+   *   FT_Generic_Finalizer\n+   *\n+   *   FT_Bitmap\n+   *   FT_Pixel_Mode\n+   *   FT_Palette_Mode\n+   *   FT_Glyph_Format\n+   *   FT_IMAGE_TAG\n+   *\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_Bool\n+   *\n+   * @description:\n+   *   A typedef of unsigned char, used for simple booleans.  As usual,\n+   *   values 1 and~0 represent true and false, respectively.\n+   *\/\n@@ -111,9 +111,9 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_FWord                                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A signed 16-bit integer used to store a distance in original font  *\/\n-  \/*    units.                                                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_FWord\n+   *\n+   * @description:\n+   *   A signed 16-bit integer used to store a distance in original font\n+   *   units.\n+   *\/\n@@ -123,9 +123,9 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_UFWord                                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    An unsigned 16-bit integer used to store a distance in original    *\/\n-  \/*    font units.                                                        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_UFWord\n+   *\n+   * @description:\n+   *   An unsigned 16-bit integer used to store a distance in original font\n+   *   units.\n+   *\/\n@@ -135,8 +135,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_Char                                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A simple typedef for the _signed_ char type.                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_Char\n+   *\n+   * @description:\n+   *   A simple typedef for the _signed_ char type.\n+   *\/\n@@ -146,8 +146,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_Byte                                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A simple typedef for the _unsigned_ char type.                     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_Byte\n+   *\n+   * @description:\n+   *   A simple typedef for the _unsigned_ char type.\n+   *\/\n@@ -157,8 +157,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_Bytes                                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A typedef for constant memory areas.                               *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_Bytes\n+   *\n+   * @description:\n+   *   A typedef for constant memory areas.\n+   *\/\n@@ -168,8 +168,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_Tag                                                             *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A typedef for 32-bit tags (as used in the SFNT format).            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_Tag\n+   *\n+   * @description:\n+   *   A typedef for 32-bit tags (as used in the SFNT format).\n+   *\/\n@@ -179,8 +179,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_String                                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A simple typedef for the char type, usually used for strings.      *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_String\n+   *\n+   * @description:\n+   *   A simple typedef for the char type, usually used for strings.\n+   *\/\n@@ -190,8 +190,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_Short                                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A typedef for signed short.                                        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_Short\n+   *\n+   * @description:\n+   *   A typedef for signed short.\n+   *\/\n@@ -201,8 +201,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_UShort                                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A typedef for unsigned short.                                      *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_UShort\n+   *\n+   * @description:\n+   *   A typedef for unsigned short.\n+   *\/\n@@ -212,8 +212,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_Int                                                             *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A typedef for the int type.                                        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_Int\n+   *\n+   * @description:\n+   *   A typedef for the int type.\n+   *\/\n@@ -223,8 +223,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_UInt                                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A typedef for the unsigned int type.                               *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_UInt\n+   *\n+   * @description:\n+   *   A typedef for the unsigned int type.\n+   *\/\n@@ -234,8 +234,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_Long                                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A typedef for signed long.                                         *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_Long\n+   *\n+   * @description:\n+   *   A typedef for signed long.\n+   *\/\n@@ -245,8 +245,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_ULong                                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A typedef for unsigned long.                                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_ULong\n+   *\n+   * @description:\n+   *   A typedef for unsigned long.\n+   *\/\n@@ -256,8 +256,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_F2Dot14                                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A signed 2.14 fixed-point type used for unit vectors.              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_F2Dot14\n+   *\n+   * @description:\n+   *   A signed 2.14 fixed-point type used for unit vectors.\n+   *\/\n@@ -267,9 +267,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_F26Dot6                                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A signed 26.6 fixed-point type used for vectorial pixel            *\/\n-  \/*    coordinates.                                                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_F26Dot6\n+   *\n+   * @description:\n+   *   A signed 26.6 fixed-point type used for vectorial pixel coordinates.\n+   *\/\n@@ -279,9 +278,9 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_Fixed                                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This type is used to store 16.16 fixed-point values, like scaling  *\/\n-  \/*    values or matrix coefficients.                                     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_Fixed\n+   *\n+   * @description:\n+   *   This type is used to store 16.16 fixed-point values, like scaling\n+   *   values or matrix coefficients.\n+   *\/\n@@ -291,9 +290,9 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_Error                                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    The FreeType error code type.  A value of~0 is always interpreted  *\/\n-  \/*    as a successful operation.                                         *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_Error\n+   *\n+   * @description:\n+   *   The FreeType error code type.  A value of~0 is always interpreted as a\n+   *   successful operation.\n+   *\/\n@@ -303,8 +302,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_Pointer                                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A simple typedef for a typeless pointer.                           *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_Pointer\n+   *\n+   * @description:\n+   *   A simple typedef for a typeless pointer.\n+   *\/\n@@ -314,10 +313,10 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_Offset                                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This is equivalent to the ANSI~C `size_t' type, i.e., the largest  *\/\n-  \/*    _unsigned_ integer type used to express a file size or position,   *\/\n-  \/*    or a memory block size.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_Offset\n+   *\n+   * @description:\n+   *   This is equivalent to the ANSI~C `size_t` type, i.e., the largest\n+   *   _unsigned_ integer type used to express a file size or position, or a\n+   *   memory block size.\n+   *\/\n@@ -327,10 +326,10 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_PtrDist                                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This is equivalent to the ANSI~C `ptrdiff_t' type, i.e., the       *\/\n-  \/*    largest _signed_ integer type used to express the distance         *\/\n-  \/*    between two pointers.                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_PtrDist\n+   *\n+   * @description:\n+   *   This is equivalent to the ANSI~C `ptrdiff_t` type, i.e., the largest\n+   *   _signed_ integer type used to express the distance between two\n+   *   pointers.\n+   *\/\n@@ -340,14 +339,16 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_UnitVector                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A simple structure used to store a 2D vector unit vector.  Uses    *\/\n-  \/*    FT_F2Dot14 types.                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    x :: Horizontal coordinate.                                        *\/\n-  \/*                                                                       *\/\n-  \/*    y :: Vertical coordinate.                                          *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_UnitVector\n+   *\n+   * @description:\n+   *   A simple structure used to store a 2D vector unit vector.  Uses\n+   *   FT_F2Dot14 types.\n+   *\n+   * @fields:\n+   *   x ::\n+   *     Horizontal coordinate.\n+   *\n+   *   y ::\n+   *     Vertical coordinate.\n+   *\/\n@@ -362,23 +363,27 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_Matrix                                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A simple structure used to store a 2x2 matrix.  Coefficients are   *\/\n-  \/*    in 16.16 fixed-point format.  The computation performed is:        *\/\n-  \/*                                                                       *\/\n-  \/*       {                                                               *\/\n-  \/*          x' = x*xx + y*xy                                             *\/\n-  \/*          y' = x*yx + y*yy                                             *\/\n-  \/*       }                                                               *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    xx :: Matrix coefficient.                                          *\/\n-  \/*                                                                       *\/\n-  \/*    xy :: Matrix coefficient.                                          *\/\n-  \/*                                                                       *\/\n-  \/*    yx :: Matrix coefficient.                                          *\/\n-  \/*                                                                       *\/\n-  \/*    yy :: Matrix coefficient.                                          *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_Matrix\n+   *\n+   * @description:\n+   *   A simple structure used to store a 2x2 matrix.  Coefficients are in\n+   *   16.16 fixed-point format.  The computation performed is:\n+   *\n+   *   ```\n+   *     x' = x*xx + y*xy\n+   *     y' = x*yx + y*yy\n+   *   ```\n+   *\n+   * @fields:\n+   *   xx ::\n+   *     Matrix coefficient.\n+   *\n+   *   xy ::\n+   *     Matrix coefficient.\n+   *\n+   *   yx ::\n+   *     Matrix coefficient.\n+   *\n+   *   yy ::\n+   *     Matrix coefficient.\n+   *\/\n@@ -393,13 +398,15 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_Data                                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Read-only binary data represented as a pointer and a length.       *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    pointer :: The data.                                               *\/\n-  \/*                                                                       *\/\n-  \/*    length  :: The length of the data in bytes.                        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_Data\n+   *\n+   * @description:\n+   *   Read-only binary data represented as a pointer and a length.\n+   *\n+   * @fields:\n+   *   pointer ::\n+   *     The data.\n+   *\n+   *   length ::\n+   *     The length of the data in bytes.\n+   *\/\n@@ -414,14 +421,14 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    FT_Generic_Finalizer                                               *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Describe a function used to destroy the `client' data of any       *\/\n-  \/*    FreeType object.  See the description of the @FT_Generic type for  *\/\n-  \/*    details of usage.                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    The address of the FreeType object that is under finalization.     *\/\n-  \/*    Its client data is accessed through its `generic' field.           *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   FT_Generic_Finalizer\n+   *\n+   * @description:\n+   *   Describe a function used to destroy the 'client' data of any FreeType\n+   *   object.  See the description of the @FT_Generic type for details of\n+   *   usage.\n+   *\n+   * @input:\n+   *   The address of the FreeType object that is under finalization.  Its\n+   *   client data is accessed through its `generic` field.\n+   *\/\n@@ -431,28 +438,29 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_Generic                                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Client applications often need to associate their own data to a    *\/\n-  \/*    variety of FreeType core objects.  For example, a text layout API  *\/\n-  \/*    might want to associate a glyph cache to a given size object.      *\/\n-  \/*                                                                       *\/\n-  \/*    Some FreeType object contains a `generic' field, of type           *\/\n-  \/*    FT_Generic, which usage is left to client applications and font    *\/\n-  \/*    servers.                                                           *\/\n-  \/*                                                                       *\/\n-  \/*    It can be used to store a pointer to client-specific data, as well *\/\n-  \/*    as the address of a `finalizer' function, which will be called by  *\/\n-  \/*    FreeType when the object is destroyed (for example, the previous   *\/\n-  \/*    client example would put the address of the glyph cache destructor *\/\n-  \/*    in the `finalizer' field).                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    data      :: A typeless pointer to any client-specified data. This *\/\n-  \/*                 field is completely ignored by the FreeType library.  *\/\n-  \/*                                                                       *\/\n-  \/*    finalizer :: A pointer to a `generic finalizer' function, which    *\/\n-  \/*                 will be called when the object is destroyed.  If this *\/\n-  \/*                 field is set to NULL, no code will be called.         *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_Generic\n+   *\n+   * @description:\n+   *   Client applications often need to associate their own data to a\n+   *   variety of FreeType core objects.  For example, a text layout API\n+   *   might want to associate a glyph cache to a given size object.\n+   *\n+   *   Some FreeType object contains a `generic` field, of type `FT_Generic`,\n+   *   which usage is left to client applications and font servers.\n+   *\n+   *   It can be used to store a pointer to client-specific data, as well as\n+   *   the address of a 'finalizer' function, which will be called by\n+   *   FreeType when the object is destroyed (for example, the previous\n+   *   client example would put the address of the glyph cache destructor in\n+   *   the `finalizer` field).\n+   *\n+   * @fields:\n+   *   data ::\n+   *     A typeless pointer to any client-specified data. This field is\n+   *     completely ignored by the FreeType library.\n+   *\n+   *   finalizer ::\n+   *     A pointer to a 'generic finalizer' function, which will be called\n+   *     when the object is destroyed.  If this field is set to `NULL`, no\n+   *     code will be called.\n+   *\/\n@@ -467,13 +475,13 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Macro>                                                               *\/\n-  \/*    FT_MAKE_TAG                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This macro converts four-letter tags that are used to label        *\/\n-  \/*    TrueType tables into an unsigned long, to be used within FreeType. *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The produced values *must* be 32-bit integers.  Don't redefine     *\/\n-  \/*    this macro.                                                        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @macro:\n+   *   FT_MAKE_TAG\n+   *\n+   * @description:\n+   *   This macro converts four-letter tags that are used to label TrueType\n+   *   tables into an unsigned long, to be used within FreeType.\n+   *\n+   * @note:\n+   *   The produced values **must** be 32-bit integers.  Don't redefine this\n+   *   macro.\n+   *\/\n@@ -497,6 +505,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Section>                                                             *\/\n-  \/*    list_processing                                                    *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   list_processing\n+   *\n+   *\/\n@@ -505,10 +513,10 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_ListNode                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*     Many elements and objects in FreeType are listed through an       *\/\n-  \/*     @FT_List record (see @FT_ListRec).  As its name suggests, an      *\/\n-  \/*     FT_ListNode is a handle to a single list element.                 *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_ListNode\n+   *\n+   * @description:\n+   *    Many elements and objects in FreeType are listed through an @FT_List\n+   *    record (see @FT_ListRec).  As its name suggests, an FT_ListNode is a\n+   *    handle to a single list element.\n+   *\/\n@@ -518,8 +526,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    FT_List                                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A handle to a list record (see @FT_ListRec).                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   FT_List\n+   *\n+   * @description:\n+   *   A handle to a list record (see @FT_ListRec).\n+   *\/\n@@ -529,15 +537,18 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_ListNodeRec                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure used to hold a single list element.                    *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    prev :: The previous element in the list.  NULL if first.          *\/\n-  \/*                                                                       *\/\n-  \/*    next :: The next element in the list.  NULL if last.               *\/\n-  \/*                                                                       *\/\n-  \/*    data :: A typeless pointer to the listed object.                   *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_ListNodeRec\n+   *\n+   * @description:\n+   *   A structure used to hold a single list element.\n+   *\n+   * @fields:\n+   *   prev ::\n+   *     The previous element in the list.  `NULL` if first.\n+   *\n+   *   next ::\n+   *     The next element in the list.  `NULL` if last.\n+   *\n+   *   data ::\n+   *     A typeless pointer to the listed object.\n+   *\/\n@@ -553,14 +564,16 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_ListRec                                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure used to hold a simple doubly-linked list.  These are   *\/\n-  \/*    used in many parts of FreeType.                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    head :: The head (first element) of doubly-linked list.            *\/\n-  \/*                                                                       *\/\n-  \/*    tail :: The tail (last element) of doubly-linked list.             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_ListRec\n+   *\n+   * @description:\n+   *   A structure used to hold a simple doubly-linked list.  These are used\n+   *   in many parts of FreeType.\n+   *\n+   * @fields:\n+   *   head ::\n+   *     The head (first element) of doubly-linked list.\n+   *\n+   *   tail ::\n+   *     The tail (last element) of doubly-linked list.\n+   *\/\n@@ -578,1 +591,1 @@\n-#define FT_BOOL( x )  ( (FT_Bool)( x ) )\n+#define FT_BOOL( x )  ( (FT_Bool)( (x) != 0 ) )\n@@ -584,1 +597,1 @@\n-  \/* see `ftmoderr.h' for descriptions of the following macros *\/\n+  \/* see `ftmoderr.h` for descriptions of the following macros *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/fttypes.h","additions":432,"deletions":419,"binary":false,"changes":851,"status":"modified"},{"patch":"@@ -1,24 +1,24 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  autohint.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    High-level `autohint' module-specific interface (specification).     *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The auto-hinter is used to load and automatically hint glyphs if a    *\/\n-  \/* format-specific hinter isn't available.                               *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * autohint.h\n+ *\n+ *   High-level 'autohint' module-specific interface (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * The auto-hinter is used to load and automatically hint glyphs if a\n+   * format-specific hinter isn't available.\n+   *\n+   *\/\n@@ -31,40 +31,40 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* A small technical note regarding automatic hinting in order to        *\/\n-  \/* clarify this module interface.                                        *\/\n-  \/*                                                                       *\/\n-  \/* An automatic hinter might compute two kinds of data for a given face: *\/\n-  \/*                                                                       *\/\n-  \/* - global hints: Usually some metrics that describe global properties  *\/\n-  \/*                 of the face.  It is computed by scanning more or less *\/\n-  \/*                 aggressively the glyphs in the face, and thus can be  *\/\n-  \/*                 very slow to compute (even if the size of global      *\/\n-  \/*                 hints is really small).                               *\/\n-  \/*                                                                       *\/\n-  \/* - glyph hints:  These describe some important features of the glyph   *\/\n-  \/*                 outline, as well as how to align them.  They are      *\/\n-  \/*                 generally much faster to compute than global hints.   *\/\n-  \/*                                                                       *\/\n-  \/* The current FreeType auto-hinter does a pretty good job while         *\/\n-  \/* performing fast computations for both global and glyph hints.         *\/\n-  \/* However, we might be interested in introducing more complex and       *\/\n-  \/* powerful algorithms in the future, like the one described in the John *\/\n-  \/* D. Hobby paper, which unfortunately requires a lot more horsepower.   *\/\n-  \/*                                                                       *\/\n-  \/* Because a sufficiently sophisticated font management system would     *\/\n-  \/* typically implement an LRU cache of opened face objects to reduce     *\/\n-  \/* memory usage, it is a good idea to be able to avoid recomputing       *\/\n-  \/* global hints every time the same face is re-opened.                   *\/\n-  \/*                                                                       *\/\n-  \/* We thus provide the ability to cache global hints outside of the face *\/\n-  \/* object, in order to speed up font re-opening time.  Of course, this   *\/\n-  \/* feature is purely optional, so most client programs won't even notice *\/\n-  \/* it.                                                                   *\/\n-  \/*                                                                       *\/\n-  \/* I initially thought that it would be a good idea to cache the glyph   *\/\n-  \/* hints too.  However, my general idea now is that if you really need   *\/\n-  \/* to cache these too, you are simply in need of a new font format,      *\/\n-  \/* where all this information could be stored within the font file and   *\/\n-  \/* decoded on the fly.                                                   *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * A small technical note regarding automatic hinting in order to clarify\n+   * this module interface.\n+   *\n+   * An automatic hinter might compute two kinds of data for a given face:\n+   *\n+   * - global hints: Usually some metrics that describe global properties\n+   *                 of the face.  It is computed by scanning more or less\n+   *                 aggressively the glyphs in the face, and thus can be\n+   *                 very slow to compute (even if the size of global hints\n+   *                 is really small).\n+   *\n+   * - glyph hints: These describe some important features of the glyph\n+   *                 outline, as well as how to align them.  They are\n+   *                 generally much faster to compute than global hints.\n+   *\n+   * The current FreeType auto-hinter does a pretty good job while performing\n+   * fast computations for both global and glyph hints.  However, we might be\n+   * interested in introducing more complex and powerful algorithms in the\n+   * future, like the one described in the John D. Hobby paper, which\n+   * unfortunately requires a lot more horsepower.\n+   *\n+   * Because a sufficiently sophisticated font management system would\n+   * typically implement an LRU cache of opened face objects to reduce memory\n+   * usage, it is a good idea to be able to avoid recomputing global hints\n+   * every time the same face is re-opened.\n+   *\n+   * We thus provide the ability to cache global hints outside of the face\n+   * object, in order to speed up font re-opening time.  Of course, this\n+   * feature is purely optional, so most client programs won't even notice\n+   * it.\n+   *\n+   * I initially thought that it would be a good idea to cache the glyph\n+   * hints too.  However, my general idea now is that if you really need to\n+   * cache these too, you are simply in need of a new font format, where all\n+   * this information could be stored within the font file and decoded on the\n+   * fly.\n+   *\n+   *\/\n@@ -83,21 +83,25 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    FT_AutoHinter_GlobalGetFunc                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Retrieve the global hints computed for a given face object.  The   *\/\n-  \/*    resulting data is dissociated from the face and will survive a     *\/\n-  \/*    call to FT_Done_Face().  It must be discarded through the API      *\/\n-  \/*    FT_AutoHinter_GlobalDoneFunc().                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    hinter       :: A handle to the source auto-hinter.                *\/\n-  \/*                                                                       *\/\n-  \/*    face         :: A handle to the source face object.                *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    global_hints :: A typeless pointer to the global hints.            *\/\n-  \/*                                                                       *\/\n-  \/*    global_len   :: The size in bytes of the global hints.             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   FT_AutoHinter_GlobalGetFunc\n+   *\n+   * @description:\n+   *   Retrieve the global hints computed for a given face object.  The\n+   *   resulting data is dissociated from the face and will survive a call to\n+   *   FT_Done_Face().  It must be discarded through the API\n+   *   FT_AutoHinter_GlobalDoneFunc().\n+   *\n+   * @input:\n+   *   hinter ::\n+   *     A handle to the source auto-hinter.\n+   *\n+   *   face ::\n+   *     A handle to the source face object.\n+   *\n+   * @output:\n+   *   global_hints ::\n+   *     A typeless pointer to the global hints.\n+   *\n+   *   global_len ::\n+   *     The size in bytes of the global hints.\n+   *\/\n@@ -111,15 +115,17 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    FT_AutoHinter_GlobalDoneFunc                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Discard the global hints retrieved through                         *\/\n-  \/*    FT_AutoHinter_GlobalGetFunc().  This is the only way these hints   *\/\n-  \/*    are freed from memory.                                             *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    hinter :: A handle to the auto-hinter module.                      *\/\n-  \/*                                                                       *\/\n-  \/*    global :: A pointer to retrieved global hints to discard.          *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   FT_AutoHinter_GlobalDoneFunc\n+   *\n+   * @description:\n+   *   Discard the global hints retrieved through\n+   *   FT_AutoHinter_GlobalGetFunc().  This is the only way these hints are\n+   *   freed from memory.\n+   *\n+   * @input:\n+   *   hinter ::\n+   *     A handle to the auto-hinter module.\n+   *\n+   *   global ::\n+   *     A pointer to retrieved global hints to discard.\n+   *\/\n@@ -131,15 +137,17 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    FT_AutoHinter_GlobalResetFunc                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This function is used to recompute the global metrics in a given   *\/\n-  \/*    font.  This is useful when global font data changes (e.g. Multiple *\/\n-  \/*    Masters fonts where blend coordinates change).                     *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    hinter :: A handle to the source auto-hinter.                      *\/\n-  \/*                                                                       *\/\n-  \/*    face   :: A handle to the face.                                    *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   FT_AutoHinter_GlobalResetFunc\n+   *\n+   * @description:\n+   *   This function is used to recompute the global metrics in a given font.\n+   *   This is useful when global font data changes (e.g. Multiple Masters\n+   *   fonts where blend coordinates change).\n+   *\n+   * @input:\n+   *   hinter ::\n+   *     A handle to the source auto-hinter.\n+   *\n+   *   face ::\n+   *     A handle to the face.\n+   *\/\n@@ -151,23 +159,26 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    FT_AutoHinter_GlyphLoadFunc                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This function is used to load, scale, and automatically hint a     *\/\n-  \/*    glyph from a given face.                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face        :: A handle to the face.                               *\/\n-  \/*                                                                       *\/\n-  \/*    glyph_index :: The glyph index.                                    *\/\n-  \/*                                                                       *\/\n-  \/*    load_flags  :: The load flags.                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    This function is capable of loading composite glyphs by hinting    *\/\n-  \/*    each sub-glyph independently (which improves quality).             *\/\n-  \/*                                                                       *\/\n-  \/*    It will call the font driver with @FT_Load_Glyph, with             *\/\n-  \/*    @FT_LOAD_NO_SCALE set.                                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   FT_AutoHinter_GlyphLoadFunc\n+   *\n+   * @description:\n+   *   This function is used to load, scale, and automatically hint a glyph\n+   *   from a given face.\n+   *\n+   * @input:\n+   *   face ::\n+   *     A handle to the face.\n+   *\n+   *   glyph_index ::\n+   *     The glyph index.\n+   *\n+   *   load_flags ::\n+   *     The load flags.\n+   *\n+   * @note:\n+   *   This function is capable of loading composite glyphs by hinting each\n+   *   sub-glyph independently (which improves quality).\n+   *\n+   *   It will call the font driver with @FT_Load_Glyph, with\n+   *   @FT_LOAD_NO_SCALE set.\n+   *\/\n@@ -182,8 +193,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_AutoHinter_InterfaceRec                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    The auto-hinter module's interface.                                *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_AutoHinter_InterfaceRec\n+   *\n+   * @description:\n+   *   The auto-hinter module's interface.\n+   *\/\n@@ -200,2 +211,0 @@\n-#ifndef FT_CONFIG_OPTION_PIC\n-\n@@ -217,21 +226,0 @@\n-#else \/* FT_CONFIG_OPTION_PIC *\/\n-\n-#define FT_DEFINE_AUTOHINTER_INTERFACE(                            \\\n-          class_,                                                  \\\n-          reset_face_,                                             \\\n-          get_global_hints_,                                       \\\n-          done_global_hints_,                                      \\\n-          load_glyph_ )                                            \\\n-  void                                                             \\\n-  FT_Init_Class_ ## class_( FT_Library                   library,  \\\n-                            FT_AutoHinter_InterfaceRec*  clazz )   \\\n-  {                                                                \\\n-    FT_UNUSED( library );                                          \\\n-                                                                   \\\n-    clazz->reset_face        = reset_face_;                        \\\n-    clazz->get_global_hints  = get_global_hints_;                  \\\n-    clazz->done_global_hints = done_global_hints_;                 \\\n-    clazz->load_glyph        = load_glyph_;                        \\\n-  }\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/autohint.h","additions":157,"deletions":169,"binary":false,"changes":326,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  cffotypes.h                                                            *\/\n-\/*                                                                         *\/\n-\/*    Basic OpenType\/CFF object type definitions (specification).          *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2017-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * cffotypes.h\n+ *\n+ *   Basic OpenType\/CFF object type definitions (specification).\n+ *\n+ * Copyright (C) 2017-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -36,8 +36,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    CFF_Size                                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A handle to an OpenType size object.                               *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   CFF_Size\n+   *\n+   * @description:\n+   *   A handle to an OpenType size object.\n+   *\/\n@@ -52,8 +52,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    CFF_GlyphSlot                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A handle to an OpenType glyph slot object.                         *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   CFF_GlyphSlot\n+   *\n+   * @description:\n+   *   A handle to an OpenType glyph slot object.\n+   *\/\n@@ -73,8 +73,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    CFF_Internal                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    The interface to the `internal' field of `FT_Size'.                *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   CFF_Internal\n+   *\n+   * @description:\n+   *   The interface to the 'internal' field of `FT_Size`.\n+   *\/\n@@ -89,4 +89,4 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Subglyph transformation record.                                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Subglyph transformation record.\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/cffotypes.h","additions":44,"deletions":44,"binary":false,"changes":88,"status":"modified"},{"patch":"@@ -1,17 +1,17 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  cfftypes.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    Basic OpenType\/CFF type definitions and interface (specification     *\/\n-\/*    only).                                                               *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * cfftypes.h\n+ *\n+ *   Basic OpenType\/CFF type definitions and interface (specification\n+ *   only).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -36,28 +36,33 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    CFF_IndexRec                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure used to model a CFF Index table.                       *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    stream      :: The source input stream.                            *\/\n-  \/*                                                                       *\/\n-  \/*    start       :: The position of the first index byte in the         *\/\n-  \/*                   input stream.                                       *\/\n-  \/*                                                                       *\/\n-  \/*    count       :: The number of elements in the index.                *\/\n-  \/*                                                                       *\/\n-  \/*    off_size    :: The size in bytes of object offsets in index.       *\/\n-  \/*                                                                       *\/\n-  \/*    data_offset :: The position of first data byte in the index's      *\/\n-  \/*                   bytes.                                              *\/\n-  \/*                                                                       *\/\n-  \/*    data_size   :: The size of the data table in this index.           *\/\n-  \/*                                                                       *\/\n-  \/*    offsets     :: A table of element offsets in the index.  Must be   *\/\n-  \/*                   loaded explicitly.                                  *\/\n-  \/*                                                                       *\/\n-  \/*    bytes       :: If the index is loaded in memory, its bytes.        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   CFF_IndexRec\n+   *\n+   * @description:\n+   *   A structure used to model a CFF Index table.\n+   *\n+   * @fields:\n+   *   stream ::\n+   *     The source input stream.\n+   *\n+   *   start ::\n+   *     The position of the first index byte in the input stream.\n+   *\n+   *   count ::\n+   *     The number of elements in the index.\n+   *\n+   *   off_size ::\n+   *     The size in bytes of object offsets in index.\n+   *\n+   *   data_offset ::\n+   *     The position of first data byte in the index's bytes.\n+   *\n+   *   data_size ::\n+   *     The size of the data table in this index.\n+   *\n+   *   offsets ::\n+   *     A table of element offsets in the index.  Must be loaded explicitly.\n+   *\n+   *   bytes ::\n+   *     If the index is loaded in memory, its bytes.\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/cfftypes.h","additions":50,"deletions":45,"binary":false,"changes":95,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftcalc.h                                                               *\/\n-\/*                                                                         *\/\n-\/*    Arithmetic computations (specification).                             *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftcalc.h\n+ *\n+ *   Arithmetic computations (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -30,5 +30,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* FT_MulDiv() and FT_MulFix() are declared in freetype.h.               *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * FT_MulDiv() and FT_MulFix() are declared in freetype.h.\n+   *\n+   *\/\n@@ -249,23 +249,26 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_MulDiv_No_Round                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A very simple function used to perform the computation `(a*b)\/c'   *\/\n-  \/*    (without rounding) with maximum accuracy (it uses a 64-bit         *\/\n-  \/*    intermediate integer whenever necessary).                          *\/\n-  \/*                                                                       *\/\n-  \/*    This function isn't necessarily as fast as some processor specific *\/\n-  \/*    operations, but is at least completely portable.                   *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    a :: The first multiplier.                                         *\/\n-  \/*    b :: The second multiplier.                                        *\/\n-  \/*    c :: The divisor.                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    The result of `(a*b)\/c'.  This function never traps when trying to *\/\n-  \/*    divide by zero; it simply returns `MaxInt' or `MinInt' depending   *\/\n-  \/*    on the signs of `a' and `b'.                                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_MulDiv_No_Round\n+   *\n+   * @description:\n+   *   A very simple function used to perform the computation '(a*b)\/c'\n+   *   (without rounding) with maximum accuracy (it uses a 64-bit\n+   *   intermediate integer whenever necessary).\n+   *\n+   *   This function isn't necessarily as fast as some processor-specific\n+   *   operations, but is at least completely portable.\n+   *\n+   * @input:\n+   *   a ::\n+   *     The first multiplier.\n+   *   b ::\n+   *     The second multiplier.\n+   *   c ::\n+   *     The divisor.\n+   *\n+   * @return:\n+   *   The result of '(a*b)\/c'.  This function never traps when trying to\n+   *   divide by zero; it simply returns 'MaxInt' or 'MinInt' depending on\n+   *   the signs of 'a' and 'b'.\n+   *\/\n@@ -279,6 +282,5 @@\n-   *  A variant of FT_Matrix_Multiply which scales its result afterwards.\n-   *  The idea is that both `a' and `b' are scaled by factors of 10 so that\n-   *  the values are as precise as possible to get a correct result during\n-   *  the 64bit multiplication.  Let `sa' and `sb' be the scaling factors of\n-   *  `a' and `b', respectively, then the scaling factor of the result is\n-   *  `sa*sb'.\n+   * A variant of FT_Matrix_Multiply which scales its result afterwards.  The\n+   * idea is that both `a' and `b' are scaled by factors of 10 so that the\n+   * values are as precise as possible to get a correct result during the\n+   * 64bit multiplication.  Let `sa' and `sb' be the scaling factors of `a'\n+   * and `b', respectively, then the scaling factor of the result is `sa*sb'.\n@@ -293,2 +295,17 @@\n-   *  A variant of FT_Vector_Transform.  See comments for\n-   *  FT_Matrix_Multiply_Scaled.\n+   * Check a matrix.  If the transformation would lead to extreme shear or\n+   * extreme scaling, for example, return 0.  If everything is OK, return 1.\n+   *\n+   * Based on geometric considerations we use the following inequality to\n+   * identify a degenerate matrix.\n+   *\n+   *   50 * abs(xx*yy - xy*yx) < xx^2 + xy^2 + yx^2 + yy^2\n+   *\n+   * Value 50 is heuristic.\n+   *\/\n+  FT_BASE( FT_Bool )\n+  FT_Matrix_Check( const FT_Matrix*  matrix );\n+\n+\n+  \/*\n+   * A variant of FT_Vector_Transform.  See comments for\n+   * FT_Matrix_Multiply_Scaled.\n@@ -303,6 +320,6 @@\n-   *  This function normalizes a vector and returns its original length.\n-   *  The normalized vector is a 16.16 fixed-point unit vector with length\n-   *  close to 0x10000.  The accuracy of the returned length is limited to\n-   *  16 bits also.  The function utilizes quick inverse square root\n-   *  approximation without divisions and square roots relying on Newton's\n-   *  iterations instead.\n+   * This function normalizes a vector and returns its original length.  The\n+   * normalized vector is a 16.16 fixed-point unit vector with length close\n+   * to 0x10000.  The accuracy of the returned length is limited to 16 bits\n+   * also.  The function utilizes quick inverse square root approximation\n+   * without divisions and square roots relying on Newton's iterations\n+   * instead.\n@@ -315,4 +332,4 @@\n-   *  Return -1, 0, or +1, depending on the orientation of a given corner.\n-   *  We use the Cartesian coordinate system, with positive vertical values\n-   *  going upwards.  The function returns +1 if the corner turns to the\n-   *  left, -1 to the right, and 0 for undecidable cases.\n+   * Return -1, 0, or +1, depending on the orientation of a given corner.  We\n+   * use the Cartesian coordinate system, with positive vertical values going\n+   * upwards.  The function returns +1 if the corner turns to the left, -1 to\n+   * the right, and 0 for undecidable cases.\n@@ -328,3 +345,3 @@\n-   *  Return TRUE if a corner is flat or nearly flat.  This is equivalent to\n-   *  saying that the corner point is close to its neighbors, or inside an\n-   *  ellipse defined by the neighbor focal points to be more precise.\n+   * Return TRUE if a corner is flat or nearly flat.  This is equivalent to\n+   * saying that the corner point is close to its neighbors, or inside an\n+   * ellipse defined by the neighbor focal points to be more precise.\n@@ -340,1 +357,1 @@\n-   *  Return the most significant bit index.\n+   * Return the most significant bit index.\n@@ -344,0 +361,1 @@\n+\n@@ -355,0 +373,23 @@\n+#endif \/* __GNUC__ *\/\n+\n+\n+#elif defined( _MSC_VER ) && ( _MSC_VER >= 1400 )\n+\n+#if FT_SIZEOF_INT == 4\n+\n+#include <intrin.h>\n+\n+  static __inline FT_Int32\n+  FT_MSB_i386( FT_UInt32  x )\n+  {\n+    unsigned long  where;\n+\n+\n+    \/* not available in older VC versions *\/\n+    _BitScanReverse( &where, x );\n+\n+    return (FT_Int32)where;\n+  }\n+\n+#define FT_MSB( x )  ( FT_MSB_i386( x ) )\n+\n@@ -357,1 +398,3 @@\n-#endif \/* __GNUC__ *\/\n+#endif \/* _MSC_VER *\/\n+\n+\n@@ -369,2 +412,2 @@\n-   *  Return sqrt(x*x+y*y), which is the same as `FT_Vector_Length' but uses\n-   *  two fixed-point arguments instead.\n+   * Return sqrt(x*x+y*y), which is the same as `FT_Vector_Length' but uses\n+   * two fixed-point arguments instead.\n@@ -379,17 +422,18 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_SqrtFixed                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Computes the square root of a 16.16 fixed-point value.             *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    x :: The value to compute the root for.                            *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    The result of `sqrt(x)'.                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    This function is not very fast.                                    *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_SqrtFixed\n+   *\n+   * @description:\n+   *   Computes the square root of a 16.16 fixed-point value.\n+   *\n+   * @input:\n+   *   x ::\n+   *     The value to compute the root for.\n+   *\n+   * @return:\n+   *   The result of 'sqrt(x)'.\n+   *\n+   * @note:\n+   *   This function is not very fast.\n+   *\/\n@@ -412,1 +456,1 @@\n-   *  The following macros have two purposes.\n+   * The following macros have two purposes.\n@@ -414,1 +458,1 @@\n-   *  . Tag places where overflow is expected and harmless.\n+   * - Tag places where overflow is expected and harmless.\n@@ -416,1 +460,1 @@\n-   *  . Avoid run-time sanitizer errors.\n+   * - Avoid run-time sanitizer errors.\n@@ -418,1 +462,1 @@\n-   *  Use with care!\n+   * Use with care!\n@@ -420,0 +464,9 @@\n+#define ADD_INT( a, b )                           \\\n+          (FT_Int)( (FT_UInt)(a) + (FT_UInt)(b) )\n+#define SUB_INT( a, b )                           \\\n+          (FT_Int)( (FT_UInt)(a) - (FT_UInt)(b) )\n+#define MUL_INT( a, b )                           \\\n+          (FT_Int)( (FT_UInt)(a) * (FT_UInt)(b) )\n+#define NEG_INT( a )                              \\\n+          (FT_Int)( (FT_UInt)0 - (FT_UInt)(a) )\n+\n@@ -438,0 +491,13 @@\n+#ifdef FT_LONG64\n+\n+#define ADD_INT64( a, b )                               \\\n+          (FT_Int64)( (FT_UInt64)(a) + (FT_UInt64)(b) )\n+#define SUB_INT64( a, b )                               \\\n+          (FT_Int64)( (FT_UInt64)(a) - (FT_UInt64)(b) )\n+#define MUL_INT64( a, b )                               \\\n+          (FT_Int64)( (FT_UInt64)(a) * (FT_UInt64)(b) )\n+#define NEG_INT64( a )                                  \\\n+          (FT_Int64)( (FT_UInt64)0 - (FT_UInt64)(a) )\n+\n+#endif \/* FT_LONG64 *\/\n+\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/ftcalc.h","additions":156,"deletions":90,"binary":false,"changes":246,"status":"modified"},{"patch":"@@ -1,21 +1,21 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftdebug.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    Debugging and logging component (specification).                     *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/*                                                                         *\/\n-\/*  IMPORTANT: A description of FreeType's debugging support can be        *\/\n-\/*             found in `docs\/DEBUG.TXT'.  Read it if you need to use or   *\/\n-\/*             understand this code.                                       *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftdebug.h\n+ *\n+ *   Debugging and logging component (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\n+ * IMPORTANT: A description of FreeType's debugging support can be\n+ *             found in 'docs\/DEBUG.TXT'.  Read it if you need to use or\n+ *             understand this code.\n+ *\n+ *\/\n@@ -45,6 +45,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Define the trace enums as well as the trace levels array when they    *\/\n-  \/* are needed.                                                           *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * Define the trace enums as well as the trace levels array when they are\n+   * needed.\n+   *\n+   *\/\n@@ -65,2 +65,3 @@\n-  \/* defining the array of trace levels, provided by `src\/base\/ftdebug.c' *\/\n-  extern int  ft_trace_levels[trace_count];\n+  \/* a pointer to the array of trace levels, *\/\n+  \/* provided by `src\/base\/ftdebug.c'        *\/\n+  extern int*  ft_trace_levels;\n@@ -73,10 +74,10 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Define the FT_TRACE macro                                             *\/\n-  \/*                                                                       *\/\n-  \/* IMPORTANT!                                                            *\/\n-  \/*                                                                       *\/\n-  \/* Each component must define the macro FT_COMPONENT to a valid FT_Trace *\/\n-  \/* value before using any TRACE macro.                                   *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * Define the FT_TRACE macro\n+   *\n+   * IMPORTANT!\n+   *\n+   * Each component must define the macro FT_COMPONENT to a valid FT_Trace\n+   * value before using any TRACE macro.\n+   *\n+   *\/\n@@ -86,5 +87,9 @@\n-#define FT_TRACE( level, varformat )                      \\\n-          do                                              \\\n-          {                                               \\\n-            if ( ft_trace_levels[FT_COMPONENT] >= level ) \\\n-              FT_Message varformat;                       \\\n+  \/* we need two macros here to make cpp expand `FT_COMPONENT' *\/\n+#define FT_TRACE_COMP( x )   FT_TRACE_COMP_( x )\n+#define FT_TRACE_COMP_( x )  trace_ ## x\n+\n+#define FT_TRACE( level, varformat )                                       \\\n+          do                                                               \\\n+          {                                                                \\\n+            if ( ft_trace_levels[FT_TRACE_COMP( FT_COMPONENT )] >= level ) \\\n+              FT_Message varformat;                                        \\\n@@ -100,16 +105,16 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Trace_Get_Count                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Return the number of available trace components.                   *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    The number of trace components.  0 if FreeType 2 is not built with *\/\n-  \/*    FT_DEBUG_LEVEL_TRACE definition.                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    This function may be useful if you want to access elements of      *\/\n-  \/*    the internal `ft_trace_levels' array by an index.                  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Trace_Get_Count\n+   *\n+   * @description:\n+   *   Return the number of available trace components.\n+   *\n+   * @return:\n+   *   The number of trace components.  0 if FreeType 2 is not built with\n+   *   FT_DEBUG_LEVEL_TRACE definition.\n+   *\n+   * @note:\n+   *   This function may be useful if you want to access elements of the\n+   *   internal trace levels array by an index.\n+   *\/\n@@ -120,23 +125,20 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Trace_Get_Name                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Return the name of a trace component.                              *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    The index of the trace component.                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    The name of the trace component.  This is a statically allocated   *\/\n-  \/*    C string, so do not free it after use.  NULL if FreeType 2 is not  *\/\n-  \/*    built with FT_DEBUG_LEVEL_TRACE definition.                        *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    Use @FT_Trace_Get_Count to get the number of available trace       *\/\n-  \/*    components.                                                        *\/\n-  \/*                                                                       *\/\n-  \/*    This function may be useful if you want to control FreeType 2's    *\/\n-  \/*    debug level in your application.                                   *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Trace_Get_Name\n+   *\n+   * @description:\n+   *   Return the name of a trace component.\n+   *\n+   * @input:\n+   *   The index of the trace component.\n+   *\n+   * @return:\n+   *   The name of the trace component.  This is a statically allocated\n+   *   C~string, so do not free it after use.  `NULL` if FreeType is not\n+   *   built with FT_DEBUG_LEVEL_TRACE definition.\n+   *\n+   * @note:\n+   *   Use @FT_Trace_Get_Count to get the number of available trace\n+   *   components.\n+   *\/\n@@ -147,9 +149,35 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* You need two opening and closing parentheses!                         *\/\n-  \/*                                                                       *\/\n-  \/* Example: FT_TRACE0(( \"Value is %i\", foo ))                            *\/\n-  \/*                                                                       *\/\n-  \/* Output of the FT_TRACEX macros is sent to stderr.                     *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Trace_Disable\n+   *\n+   * @description:\n+   *   Switch off tracing temporarily.  It can be activated again with\n+   *   @FT_Trace_Enable.\n+   *\/\n+  FT_BASE( void )\n+  FT_Trace_Disable( void );\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Trace_Enable\n+   *\n+   * @description:\n+   *   Activate tracing.  Use it after tracing has been switched off with\n+   *   @FT_Trace_Disable.\n+   *\/\n+  FT_BASE( void )\n+  FT_Trace_Enable( void );\n+\n+\n+  \/**************************************************************************\n+   *\n+   * You need two opening and closing parentheses!\n+   *\n+   * Example: FT_TRACE0(( \"Value is %i\", foo ))\n+   *\n+   * Output of the FT_TRACEX macros is sent to stderr.\n+   *\n+   *\/\n@@ -167,7 +195,7 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Define the FT_ERROR macro.                                            *\/\n-  \/*                                                                       *\/\n-  \/* Output of this macro is sent to stderr.                               *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * Define the FT_ERROR macro.\n+   *\n+   * Output of this macro is sent to stderr.\n+   *\n+   *\/\n@@ -186,6 +214,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Define the FT_ASSERT and FT_THROW macros.  The call to `FT_Throw'     *\/\n-  \/* makes it possible to easily set a breakpoint at this function.        *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * Define the FT_ASSERT and FT_THROW macros.  The call to `FT_Throw` makes\n+   * it possible to easily set a breakpoint at this function.\n+   *\n+   *\/\n@@ -218,5 +246,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Define `FT_Message' and `FT_Panic' when needed.                       *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * Define `FT_Message` and `FT_Panic` when needed.\n+   *\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/ftdebug.h","additions":138,"deletions":110,"binary":false,"changes":248,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftdrv.h                                                                *\/\n-\/*                                                                         *\/\n-\/*    FreeType internal font driver interface (specification).             *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftdrv.h\n+ *\n+ *   FreeType internal font driver interface (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -90,67 +90,74 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_Driver_ClassRec                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    The font driver class.  This structure mostly contains pointers to *\/\n-  \/*    driver methods.                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    root             :: The parent module.                             *\/\n-  \/*                                                                       *\/\n-  \/*    face_object_size :: The size of a face object in bytes.            *\/\n-  \/*                                                                       *\/\n-  \/*    size_object_size :: The size of a size object in bytes.            *\/\n-  \/*                                                                       *\/\n-  \/*    slot_object_size :: The size of a glyph object in bytes.           *\/\n-  \/*                                                                       *\/\n-  \/*    init_face        :: The format-specific face constructor.          *\/\n-  \/*                                                                       *\/\n-  \/*    done_face        :: The format-specific face destructor.           *\/\n-  \/*                                                                       *\/\n-  \/*    init_size        :: The format-specific size constructor.          *\/\n-  \/*                                                                       *\/\n-  \/*    done_size        :: The format-specific size destructor.           *\/\n-  \/*                                                                       *\/\n-  \/*    init_slot        :: The format-specific slot constructor.          *\/\n-  \/*                                                                       *\/\n-  \/*    done_slot        :: The format-specific slot destructor.           *\/\n-  \/*                                                                       *\/\n-  \/*                                                                       *\/\n-  \/*    load_glyph       :: A function handle to load a glyph to a slot.   *\/\n-  \/*                        This field is mandatory!                       *\/\n-  \/*                                                                       *\/\n-  \/*    get_kerning      :: A function handle to return the unscaled       *\/\n-  \/*                        kerning for a given pair of glyphs.  Can be    *\/\n-  \/*                        set to 0 if the format doesn't support         *\/\n-  \/*                        kerning.                                       *\/\n-  \/*                                                                       *\/\n-  \/*    attach_file      :: This function handle is used to read           *\/\n-  \/*                        additional data for a face from another        *\/\n-  \/*                        file\/stream.  For example, this can be used to *\/\n-  \/*                        add data from AFM or PFM files on a Type 1     *\/\n-  \/*                        face, or a CIDMap on a CID-keyed face.         *\/\n-  \/*                                                                       *\/\n-  \/*    get_advances     :: A function handle used to return advance       *\/\n-  \/*                        widths of `count' glyphs (in font units),      *\/\n-  \/*                        starting at `first'.  The `vertical' flag must *\/\n-  \/*                        be set to get vertical advance heights.  The   *\/\n-  \/*                        `advances' buffer is caller-allocated.         *\/\n-  \/*                        The idea of this function is to be able to     *\/\n-  \/*                        perform device-independent text layout without *\/\n-  \/*                        loading a single glyph image.                  *\/\n-  \/*                                                                       *\/\n-  \/*    request_size     :: A handle to a function used to request the new *\/\n-  \/*                        character size.  Can be set to 0 if the        *\/\n-  \/*                        scaling done in the base layer suffices.       *\/\n-  \/*                                                                       *\/\n-  \/*    select_size      :: A handle to a function used to select a new    *\/\n-  \/*                        fixed size.  It is used only if                *\/\n-  \/*                        @FT_FACE_FLAG_FIXED_SIZES is set.  Can be set  *\/\n-  \/*                        to 0 if the scaling done in the base layer     *\/\n-  \/*                        suffices.                                      *\/\n-  \/* <Note>                                                                *\/\n-  \/*    Most function pointers, with the exception of `load_glyph', can be *\/\n-  \/*    set to 0 to indicate a default behaviour.                          *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_Driver_ClassRec\n+   *\n+   * @description:\n+   *   The font driver class.  This structure mostly contains pointers to\n+   *   driver methods.\n+   *\n+   * @fields:\n+   *   root ::\n+   *     The parent module.\n+   *\n+   *   face_object_size ::\n+   *     The size of a face object in bytes.\n+   *\n+   *   size_object_size ::\n+   *     The size of a size object in bytes.\n+   *\n+   *   slot_object_size ::\n+   *     The size of a glyph object in bytes.\n+   *\n+   *   init_face ::\n+   *     The format-specific face constructor.\n+   *\n+   *   done_face ::\n+   *     The format-specific face destructor.\n+   *\n+   *   init_size ::\n+   *     The format-specific size constructor.\n+   *\n+   *   done_size ::\n+   *     The format-specific size destructor.\n+   *\n+   *   init_slot ::\n+   *     The format-specific slot constructor.\n+   *\n+   *   done_slot ::\n+   *     The format-specific slot destructor.\n+   *\n+   *\n+   *   load_glyph ::\n+   *     A function handle to load a glyph to a slot.  This field is\n+   *     mandatory!\n+   *\n+   *   get_kerning ::\n+   *     A function handle to return the unscaled kerning for a given pair of\n+   *     glyphs.  Can be set to 0 if the format doesn't support kerning.\n+   *\n+   *   attach_file ::\n+   *     This function handle is used to read additional data for a face from\n+   *     another file\/stream.  For example, this can be used to add data from\n+   *     AFM or PFM files on a Type 1 face, or a CIDMap on a CID-keyed face.\n+   *\n+   *   get_advances ::\n+   *     A function handle used to return advance widths of 'count' glyphs\n+   *     (in font units), starting at 'first'.  The 'vertical' flag must be\n+   *     set to get vertical advance heights.  The 'advances' buffer is\n+   *     caller-allocated.  The idea of this function is to be able to\n+   *     perform device-independent text layout without loading a single\n+   *     glyph image.\n+   *\n+   *   request_size ::\n+   *     A handle to a function used to request the new character size.  Can\n+   *     be set to 0 if the scaling done in the base layer suffices.\n+   *\n+   *   select_size ::\n+   *     A handle to a function used to select a new fixed size.  It is used\n+   *     only if @FT_FACE_FLAG_FIXED_SIZES is set.  Can be set to 0 if the\n+   *     scaling done in the base layer suffices.\n+   * @note:\n+   *   Most function pointers, with the exception of `load_glyph`, can be set\n+   *   to 0 to indicate a default behaviour.\n+   *\/\n@@ -187,39 +194,22 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Macro>                                                               *\/\n-  \/*    FT_DECLARE_DRIVER                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Used to create a forward declaration of an FT_Driver_ClassRec      *\/\n-  \/*    struct instance.                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Macro>                                                               *\/\n-  \/*    FT_DEFINE_DRIVER                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Used to initialize an instance of FT_Driver_ClassRec struct.       *\/\n-  \/*                                                                       *\/\n-  \/*    When FT_CONFIG_OPTION_PIC is defined a `create' function has to be *\/\n-  \/*    called with a pointer where the allocated structure is returned.   *\/\n-  \/*    And when it is no longer needed a `destroy' function needs to be   *\/\n-  \/*    called to release that allocation.                                 *\/\n-  \/*                                                                       *\/\n-  \/*    `ftinit.c' (ft_create_default_module_classes) already contains a   *\/\n-  \/*    mechanism to call these functions for the default modules          *\/\n-  \/*    described in `ftmodule.h'.                                         *\/\n-  \/*                                                                       *\/\n-  \/*    Notice that the created `create' and `destroy' functions call      *\/\n-  \/*    `pic_init' and `pic_free' to allow you to manually allocate and    *\/\n-  \/*    initialize any additional global data, like a module specific      *\/\n-  \/*    interface, and put them in the global pic container defined in     *\/\n-  \/*    `ftpic.h'.  If you don't need them just implement the functions as *\/\n-  \/*    empty to resolve the link error.  Also the `pic_init' and          *\/\n-  \/*    `pic_free' functions should be declared in `pic.h', to be referred *\/\n-  \/*    by driver definition calling `FT_DEFINE_DRIVER' in following.      *\/\n-  \/*                                                                       *\/\n-  \/*    When FT_CONFIG_OPTION_PIC is not defined the struct will be        *\/\n-  \/*    allocated in the global scope (or the scope where the macro is     *\/\n-  \/*    used).                                                             *\/\n-  \/*                                                                       *\/\n-#ifndef FT_CONFIG_OPTION_PIC\n-\n+  \/**************************************************************************\n+   *\n+   * @macro:\n+   *   FT_DECLARE_DRIVER\n+   *\n+   * @description:\n+   *   Used to create a forward declaration of an FT_Driver_ClassRec struct\n+   *   instance.\n+   *\n+   * @macro:\n+   *   FT_DEFINE_DRIVER\n+   *\n+   * @description:\n+   *   Used to initialize an instance of FT_Driver_ClassRec struct.\n+   *\n+   *   `ftinit.c` (ft_create_default_module_classes) already contains a\n+   *   mechanism to call these functions for the default modules described in\n+   *   `ftmodule.h`.\n+   *\n+   *   The struct will be allocated in the global scope (or the scope where\n+   *   the macro is used).\n+   *\/\n@@ -292,102 +282,0 @@\n-#else \/* FT_CONFIG_OPTION_PIC *\/\n-\n-#define FT_DECLARE_DRIVER( class_ )  FT_DECLARE_MODULE( class_ )\n-\n-#define FT_DEFINE_DRIVER(                                        \\\n-          class_,                                                \\\n-          flags_,                                                \\\n-          size_,                                                 \\\n-          name_,                                                 \\\n-          version_,                                              \\\n-          requires_,                                             \\\n-          interface_,                                            \\\n-          init_,                                                 \\\n-          done_,                                                 \\\n-          get_interface_,                                        \\\n-          face_object_size_,                                     \\\n-          size_object_size_,                                     \\\n-          slot_object_size_,                                     \\\n-          init_face_,                                            \\\n-          done_face_,                                            \\\n-          init_size_,                                            \\\n-          done_size_,                                            \\\n-          init_slot_,                                            \\\n-          done_slot_,                                            \\\n-          load_glyph_,                                           \\\n-          get_kerning_,                                          \\\n-          attach_file_,                                          \\\n-          get_advances_,                                         \\\n-          request_size_,                                         \\\n-          select_size_ )                                         \\\n-  void                                                           \\\n-  FT_Destroy_Class_ ## class_( FT_Library        library,        \\\n-                               FT_Module_Class*  clazz )         \\\n-  {                                                              \\\n-    FT_Memory        memory = library->memory;                   \\\n-    FT_Driver_Class  dclazz = (FT_Driver_Class)clazz;            \\\n-                                                                 \\\n-                                                                 \\\n-    class_ ## _pic_free( library );                              \\\n-    if ( dclazz )                                                \\\n-      FT_FREE( dclazz );                                         \\\n-  }                                                              \\\n-                                                                 \\\n-                                                                 \\\n-  FT_Error                                                       \\\n-  FT_Create_Class_ ## class_( FT_Library         library,        \\\n-                              FT_Module_Class**  output_class )  \\\n-  {                                                              \\\n-    FT_Driver_Class  clazz  = NULL;                              \\\n-    FT_Error         error;                                      \\\n-    FT_Memory        memory = library->memory;                   \\\n-                                                                 \\\n-                                                                 \\\n-    if ( FT_ALLOC( clazz, sizeof ( *clazz ) ) )                  \\\n-      return error;                                              \\\n-                                                                 \\\n-    error = class_ ## _pic_init( library );                      \\\n-    if ( error )                                                 \\\n-    {                                                            \\\n-      FT_FREE( clazz );                                          \\\n-      return error;                                              \\\n-    }                                                            \\\n-                                                                 \\\n-    FT_DEFINE_ROOT_MODULE( flags_,                               \\\n-                           size_,                                \\\n-                           name_,                                \\\n-                           version_,                             \\\n-                           requires_,                            \\\n-                           interface_,                           \\\n-                           init_,                                \\\n-                           done_,                                \\\n-                           get_interface_ )                      \\\n-                                                                 \\\n-    clazz->face_object_size = face_object_size_;                 \\\n-    clazz->size_object_size = size_object_size_;                 \\\n-    clazz->slot_object_size = slot_object_size_;                 \\\n-                                                                 \\\n-    clazz->init_face        = init_face_;                        \\\n-    clazz->done_face        = done_face_;                        \\\n-                                                                 \\\n-    clazz->init_size        = init_size_;                        \\\n-    clazz->done_size        = done_size_;                        \\\n-                                                                 \\\n-    clazz->init_slot        = init_slot_;                        \\\n-    clazz->done_slot        = done_slot_;                        \\\n-                                                                 \\\n-    clazz->load_glyph       = load_glyph_;                       \\\n-                                                                 \\\n-    clazz->get_kerning      = get_kerning_;                      \\\n-    clazz->attach_file      = attach_file_;                      \\\n-    clazz->get_advances     = get_advances_;                     \\\n-                                                                 \\\n-    clazz->request_size     = request_size_;                     \\\n-    clazz->select_size      = select_size_;                      \\\n-                                                                 \\\n-    *output_class = (FT_Module_Class*)clazz;                     \\\n-                                                                 \\\n-    return FT_Err_Ok;                                            \\\n-  }\n-\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/ftdrv.h","additions":112,"deletions":224,"binary":false,"changes":336,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftgloadr.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    The FreeType glyph loader (specification).                           *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2002-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg                       *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftgloadr.h\n+ *\n+ *   The FreeType glyph loader (specification).\n+ *\n+ * Copyright (C) 2002-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -30,9 +30,9 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_GlyphLoader                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    The glyph loader is an internal object used to load several glyphs *\/\n-  \/*    together (for example, in the case of composites).                 *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_GlyphLoader\n+   *\n+   * @description:\n+   *   The glyph loader is an internal object used to load several glyphs\n+   *   together (for example, in the case of composites).\n+   *\/\n@@ -141,5 +141,0 @@\n-  \/* copy points from one glyph loader to another *\/\n-  FT_BASE( FT_Error )\n-  FT_GlyphLoader_CopyPoints( FT_GlyphLoader  target,\n-                             FT_GlyphLoader  source );\n-\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/ftgloadr.h","additions":25,"deletions":30,"binary":false,"changes":55,"status":"modified"},{"patch":"@@ -1,7 +1,7 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  fthash.h                                                               *\/\n-\/*                                                                         *\/\n-\/*    Hashing functions (specification).                                   *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * fthash.h\n+ *\n+ *   Hashing functions (specification).\n+ *\n+ *\/\n@@ -33,7 +33,7 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*  This file is based on code from bdf.c,v 1.22 2000\/03\/16 20:08:50     *\/\n-  \/*                                                                       *\/\n-  \/*  taken from Mark Leisher's xmbdfed package                            *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * This file is based on code from bdf.c,v 1.22 2000\/03\/16 20:08:50\n+   *\n+   * taken from Mark Leisher's xmbdfed package\n+   *\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/fthash.h","additions":14,"deletions":14,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftmemory.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    The FreeType memory management macros (specification).               *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg                       *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftmemory.h\n+ *\n+ *   The FreeType memory management macros (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -31,10 +31,10 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Macro>                                                               *\/\n-  \/*    FT_SET_ERROR                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This macro is used to set an implicit `error' variable to a given  *\/\n-  \/*    expression's value (usually a function call), and convert it to a  *\/\n-  \/*    boolean which is set whenever the value is != 0.                   *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @macro:\n+   *   FT_SET_ERROR\n+   *\n+   * @description:\n+   *   This macro is used to set an implicit 'error' variable to a given\n+   *   expression's value (usually a function call), and convert it to a\n+   *   boolean which is set whenever the value is != 0.\n+   *\/\n@@ -61,3 +61,3 @@\n-   *  C++ refuses to handle statements like p = (void*)anything, with `p' a\n-   *  typed pointer.  Since we don't have a `typeof' operator in standard\n-   *  C++, we have to use a template to emulate it.\n+   * C++ refuses to handle statements like p = (void*)anything, with `p' a\n+   * typed pointer.  Since we don't have a `typeof' operator in standard C++,\n+   * we have to use a template to emulate it.\n@@ -110,2 +110,2 @@\n-   *  The allocation functions return a pointer, and the error code\n-   *  is written to through the `p_error' parameter.\n+   * The allocation functions return a pointer, and the error code is written\n+   * to through the `p_error' parameter.\n@@ -256,3 +256,2 @@\n-   *  Return the maximum number of addressable elements in an array.\n-   *  We limit ourselves to INT_MAX, rather than UINT_MAX, to avoid\n-   *  any problems.\n+   * Return the maximum number of addressable elements in an array.  We limit\n+   * ourselves to INT_MAX, rather than UINT_MAX, to avoid any problems.\n@@ -265,5 +264,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The following functions macros expect that their pointer argument is  *\/\n-  \/* _typed_ in order to automatically compute array element sizes.        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The following functions macros expect that their pointer argument is\n+   * _typed_ in order to automatically compute array element sizes.\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/ftmemory.h","additions":38,"deletions":39,"binary":false,"changes":77,"status":"modified"},{"patch":"@@ -1,23 +1,23 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftobjs.h                                                               *\/\n-\/*                                                                         *\/\n-\/*    The FreeType private base classes (specification).                   *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*  This file contains the definition of all internal FreeType classes.  *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftobjs.h\n+ *\n+ *   The FreeType private base classes (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * This file contains the definition of all internal FreeType classes.\n+   *\n+   *\/\n@@ -38,1 +38,0 @@\n-#include FT_INTERNAL_PIC_H\n@@ -49,4 +48,4 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Some generic definitions.                                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Some generic definitions.\n+   *\/\n@@ -66,5 +65,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The min and max functions missing in C.  As usual, be careful not to  *\/\n-  \/* write things like FT_MIN( a++, b++ ) to avoid side effects.           *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The min and max functions missing in C.  As usual, be careful not to\n+   * write things like FT_MIN( a++, b++ ) to avoid side effects.\n+   *\/\n@@ -77,3 +76,3 @@\n-   *  Approximate sqrt(x*x+y*y) using the `alpha max plus beta min'\n-   *  algorithm.  We use alpha = 1, beta = 3\/8, giving us results with a\n-   *  largest error less than 7% compared to the exact value.\n+   * Approximate sqrt(x*x+y*y) using the `alpha max plus beta min' algorithm.\n+   * We use alpha = 1, beta = 3\/8, giving us results with a largest error\n+   * less than 7% compared to the exact value.\n@@ -114,3 +113,2 @@\n-   *  character classification functions -- since these are used to parse\n-   *  font files, we must not use those in <ctypes.h> which are\n-   *  locale-dependent\n+   * character classification functions -- since these are used to parse font\n+   * files, we must not use those in <ctypes.h> which are locale-dependent\n@@ -158,1 +156,1 @@\n-  \/* typecase any pointer to a charmap handle *\/\n+  \/* typecast any pointer to a charmap handle *\/\n@@ -190,1 +188,1 @@\n-  typedef FT_Bool\n+  typedef FT_Int\n@@ -231,2 +229,0 @@\n-#ifndef FT_CONFIG_OPTION_PIC\n-\n@@ -263,39 +259,0 @@\n-#else \/* FT_CONFIG_OPTION_PIC *\/\n-\n-#define FT_DECLARE_CMAP_CLASS( class_ )                  \\\n-  void                                                   \\\n-  FT_Init_Class_ ## class_( FT_Library         library,  \\\n-                            FT_CMap_ClassRec*  clazz );\n-\n-#define FT_DEFINE_CMAP_CLASS(                            \\\n-          class_,                                        \\\n-          size_,                                         \\\n-          init_,                                         \\\n-          done_,                                         \\\n-          char_index_,                                   \\\n-          char_next_,                                    \\\n-          char_var_index_,                               \\\n-          char_var_default_,                             \\\n-          variant_list_,                                 \\\n-          charvariant_list_,                             \\\n-          variantchar_list_ )                            \\\n-  void                                                   \\\n-  FT_Init_Class_ ## class_( FT_Library         library,  \\\n-                            FT_CMap_ClassRec*  clazz )   \\\n-  {                                                      \\\n-    FT_UNUSED( library );                                \\\n-                                                         \\\n-    clazz->size             = size_;                     \\\n-    clazz->init             = init_;                     \\\n-    clazz->done             = done_;                     \\\n-    clazz->char_index       = char_index_;               \\\n-    clazz->char_next        = char_next_;                \\\n-    clazz->char_var_index   = char_var_index_;           \\\n-    clazz->char_var_default = char_var_default_;         \\\n-    clazz->variant_list     = variant_list_;             \\\n-    clazz->charvariant_list = charvariant_list_;         \\\n-    clazz->variantchar_list = variantchar_list_;         \\\n-  }\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n@@ -315,1 +272,1 @@\n-  \/* adds LCD padding to Min and Max boundaries *\/\n+  \/* add LCD padding to CBox *\/\n@@ -317,3 +274,3 @@\n-  ft_lcd_padding( FT_Pos*       Min,\n-                  FT_Pos*       Max,\n-                  FT_GlyphSlot  slot );\n+  ft_lcd_padding( FT_BBox*        cbox,\n+                  FT_GlyphSlot    slot,\n+                  FT_Render_Mode  mode );\n@@ -336,68 +293,66 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_Face_InternalRec                                                *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This structure contains the internal fields of each FT_Face        *\/\n-  \/*    object.  These fields may change between different releases of     *\/\n-  \/*    FreeType.                                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    max_points ::                                                      *\/\n-  \/*      The maximum number of points used to store the vectorial outline *\/\n-  \/*      of any glyph in this face.  If this value cannot be known in     *\/\n-  \/*      advance, or if the face isn't scalable, this should be set to 0. *\/\n-  \/*      Only relevant for scalable formats.                              *\/\n-  \/*                                                                       *\/\n-  \/*    max_contours ::                                                    *\/\n-  \/*      The maximum number of contours used to store the vectorial       *\/\n-  \/*      outline of any glyph in this face.  If this value cannot be      *\/\n-  \/*      known in advance, or if the face isn't scalable, this should be  *\/\n-  \/*      set to 0.  Only relevant for scalable formats.                   *\/\n-  \/*                                                                       *\/\n-  \/*    transform_matrix ::                                                *\/\n-  \/*      A 2x2 matrix of 16.16 coefficients used to transform glyph       *\/\n-  \/*      outlines after they are loaded from the font.  Only used by the  *\/\n-  \/*      convenience functions.                                           *\/\n-  \/*                                                                       *\/\n-  \/*    transform_delta ::                                                 *\/\n-  \/*      A translation vector used to transform glyph outlines after they *\/\n-  \/*      are loaded from the font.  Only used by the convenience          *\/\n-  \/*      functions.                                                       *\/\n-  \/*                                                                       *\/\n-  \/*    transform_flags ::                                                 *\/\n-  \/*      Some flags used to classify the transform.  Only used by the     *\/\n-  \/*      convenience functions.                                           *\/\n-  \/*                                                                       *\/\n-  \/*    services ::                                                        *\/\n-  \/*      A cache for frequently used services.  It should be only         *\/\n-  \/*      accessed with the macro `FT_FACE_LOOKUP_SERVICE'.                *\/\n-  \/*                                                                       *\/\n-  \/*    incremental_interface ::                                           *\/\n-  \/*      If non-null, the interface through which glyph data and metrics  *\/\n-  \/*      are loaded incrementally for faces that do not provide all of    *\/\n-  \/*      this data when first opened.  This field exists only if          *\/\n-  \/*      @FT_CONFIG_OPTION_INCREMENTAL is defined.                        *\/\n-  \/*                                                                       *\/\n-  \/*    no_stem_darkening ::                                               *\/\n-  \/*      Overrides the module-level default, see @stem-darkening[cff],    *\/\n-  \/*      for example.  FALSE and TRUE toggle stem darkening on and off,   *\/\n-  \/*      respectively, value~-1 means to use the module\/driver default.   *\/\n-  \/*                                                                       *\/\n-  \/*    random_seed ::                                                     *\/\n-  \/*      If positive, override the seed value for the CFF `random'        *\/\n-  \/*      operator.  Value~0 means to use the font's value.  Value~-1      *\/\n-  \/*      means to use the CFF driver's default.                           *\/\n-  \/*                                                                       *\/\n-  \/*    lcd_weights      ::                                                *\/\n-  \/*    lcd_filter_func  ::                                                *\/\n-  \/*      If subpixel rendering is activated, the LCD filtering weights    *\/\n-  \/*      and callback function.                                           *\/\n-  \/*                                                                       *\/\n-  \/*    refcount ::                                                        *\/\n-  \/*      A counter initialized to~1 at the time an @FT_Face structure is  *\/\n-  \/*      created.  @FT_Reference_Face increments this counter, and        *\/\n-  \/*      @FT_Done_Face only destroys a face if the counter is~1,          *\/\n-  \/*      otherwise it simply decrements it.                               *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_Face_InternalRec\n+   *\n+   * @description:\n+   *   This structure contains the internal fields of each FT_Face object.\n+   *   These fields may change between different releases of FreeType.\n+   *\n+   * @fields:\n+   *   max_points ::\n+   *     The maximum number of points used to store the vectorial outline of\n+   *     any glyph in this face.  If this value cannot be known in advance,\n+   *     or if the face isn't scalable, this should be set to 0.  Only\n+   *     relevant for scalable formats.\n+   *\n+   *   max_contours ::\n+   *     The maximum number of contours used to store the vectorial outline\n+   *     of any glyph in this face.  If this value cannot be known in\n+   *     advance, or if the face isn't scalable, this should be set to 0.\n+   *     Only relevant for scalable formats.\n+   *\n+   *   transform_matrix ::\n+   *     A 2x2 matrix of 16.16 coefficients used to transform glyph outlines\n+   *     after they are loaded from the font.  Only used by the convenience\n+   *     functions.\n+   *\n+   *   transform_delta ::\n+   *     A translation vector used to transform glyph outlines after they are\n+   *     loaded from the font.  Only used by the convenience functions.\n+   *\n+   *   transform_flags ::\n+   *     Some flags used to classify the transform.  Only used by the\n+   *     convenience functions.\n+   *\n+   *   services ::\n+   *     A cache for frequently used services.  It should be only accessed\n+   *     with the macro `FT_FACE_LOOKUP_SERVICE`.\n+   *\n+   *   incremental_interface ::\n+   *     If non-null, the interface through which glyph data and metrics are\n+   *     loaded incrementally for faces that do not provide all of this data\n+   *     when first opened.  This field exists only if\n+   *     @FT_CONFIG_OPTION_INCREMENTAL is defined.\n+   *\n+   *   no_stem_darkening ::\n+   *     Overrides the module-level default, see @stem-darkening[cff], for\n+   *     example.  FALSE and TRUE toggle stem darkening on and off,\n+   *     respectively, value~-1 means to use the module\/driver default.\n+   *\n+   *   random_seed ::\n+   *     If positive, override the seed value for the CFF 'random' operator.\n+   *     Value~0 means to use the font's value.  Value~-1 means to use the\n+   *     CFF driver's default.\n+   *\n+   *   lcd_weights ::\n+   *   lcd_filter_func ::\n+   *     These fields specify the LCD filtering weights and callback function\n+   *     for ClearType-style subpixel rendering.\n+   *\n+   *   refcount ::\n+   *     A counter initialized to~1 at the time an @FT_Face structure is\n+   *     created.  @FT_Reference_Face increments this counter, and\n+   *     @FT_Done_Face only destroys a face if the counter is~1, otherwise it\n+   *     simply decrements it.\n+   *\/\n@@ -429,33 +384,38 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_Slot_InternalRec                                                *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This structure contains the internal fields of each FT_GlyphSlot   *\/\n-  \/*    object.  These fields may change between different releases of     *\/\n-  \/*    FreeType.                                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    loader            :: The glyph loader object used to load outlines *\/\n-  \/*                         into the glyph slot.                          *\/\n-  \/*                                                                       *\/\n-  \/*    flags             :: Possible values are zero or                   *\/\n-  \/*                         FT_GLYPH_OWN_BITMAP.  The latter indicates    *\/\n-  \/*                         that the FT_GlyphSlot structure owns the      *\/\n-  \/*                         bitmap buffer.                                *\/\n-  \/*                                                                       *\/\n-  \/*    glyph_transformed :: Boolean.  Set to TRUE when the loaded glyph   *\/\n-  \/*                         must be transformed through a specific        *\/\n-  \/*                         font transformation.  This is _not_ the same  *\/\n-  \/*                         as the face transform set through             *\/\n-  \/*                         FT_Set_Transform().                           *\/\n-  \/*                                                                       *\/\n-  \/*    glyph_matrix      :: The 2x2 matrix corresponding to the glyph     *\/\n-  \/*                         transformation, if necessary.                 *\/\n-  \/*                                                                       *\/\n-  \/*    glyph_delta       :: The 2d translation vector corresponding to    *\/\n-  \/*                         the glyph transformation, if necessary.       *\/\n-  \/*                                                                       *\/\n-  \/*    glyph_hints       :: Format-specific glyph hints management.       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_Slot_InternalRec\n+   *\n+   * @description:\n+   *   This structure contains the internal fields of each FT_GlyphSlot\n+   *   object.  These fields may change between different releases of\n+   *   FreeType.\n+   *\n+   * @fields:\n+   *   loader ::\n+   *     The glyph loader object used to load outlines into the glyph slot.\n+   *\n+   *   flags ::\n+   *     Possible values are zero or FT_GLYPH_OWN_BITMAP.  The latter\n+   *     indicates that the FT_GlyphSlot structure owns the bitmap buffer.\n+   *\n+   *   glyph_transformed ::\n+   *     Boolean.  Set to TRUE when the loaded glyph must be transformed\n+   *     through a specific font transformation.  This is _not_ the same as\n+   *     the face transform set through FT_Set_Transform().\n+   *\n+   *   glyph_matrix ::\n+   *     The 2x2 matrix corresponding to the glyph transformation, if\n+   *     necessary.\n+   *\n+   *   glyph_delta ::\n+   *     The 2d translation vector corresponding to the glyph transformation,\n+   *     if necessary.\n+   *\n+   *   glyph_hints ::\n+   *     Format-specific glyph hints management.\n+   *\n+   *   load_flags ::\n+   *     The load flags passed as an argument to @FT_Load_Glyph while\n+   *     initializing the glyph slot.\n+   *\/\n@@ -474,0 +434,2 @@\n+    FT_Int32        load_flags;\n+\n@@ -477,17 +439,19 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_Size_InternalRec                                                *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This structure contains the internal fields of each FT_Size        *\/\n-  \/*    object.                                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    module_data      :: Data specific to a driver module.              *\/\n-  \/*                                                                       *\/\n-  \/*    autohint_mode    :: The used auto-hinting mode.                    *\/\n-  \/*                                                                       *\/\n-  \/*    autohint_metrics :: Metrics used by the auto-hinter.               *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_Size_InternalRec\n+   *\n+   * @description:\n+   *   This structure contains the internal fields of each FT_Size object.\n+   *\n+   * @fields:\n+   *   module_data ::\n+   *     Data specific to a driver module.\n+   *\n+   *   autohint_mode ::\n+   *     The used auto-hinting mode.\n+   *\n+   *   autohint_metrics ::\n+   *     Metrics used by the auto-hinter.\n+   *\n+   *\/\n@@ -518,15 +482,18 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_ModuleRec                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A module object instance.                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    clazz   :: A pointer to the module's class.                        *\/\n-  \/*                                                                       *\/\n-  \/*    library :: A handle to the parent library object.                  *\/\n-  \/*                                                                       *\/\n-  \/*    memory  :: A handle to the memory manager.                         *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_ModuleRec\n+   *\n+   * @description:\n+   *   A module object instance.\n+   *\n+   * @fields:\n+   *   clazz ::\n+   *     A pointer to the module's class.\n+   *\n+   *   library ::\n+   *     A handle to the parent library object.\n+   *\n+   *   memory ::\n+   *     A handle to the memory manager.\n+   *\/\n@@ -575,21 +542,23 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Get_Module_Interface                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Finds a module and returns its specific interface as a typeless    *\/\n-  \/*    pointer.                                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    library     :: A handle to the library object.                     *\/\n-  \/*                                                                       *\/\n-  \/*    module_name :: The module's name (as an ASCII string).             *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    A module-specific interface if available, 0 otherwise.             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    You should better be familiar with FreeType internals to know      *\/\n-  \/*    which module to look for, and what its interface is :-)            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Get_Module_Interface\n+   *\n+   * @description:\n+   *   Finds a module and returns its specific interface as a typeless\n+   *   pointer.\n+   *\n+   * @input:\n+   *   library ::\n+   *     A handle to the library object.\n+   *\n+   *   module_name ::\n+   *     The module's name (as an ASCII string).\n+   *\n+   * @return:\n+   *   A module-specific interface if available, 0 otherwise.\n+   *\n+   * @note:\n+   *   You should better be familiar with FreeType internals to know which\n+   *   module to look for, and what its interface is :-)\n+   *\/\n@@ -646,20 +615,21 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_New_GlyphSlot                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    It is sometimes useful to have more than one glyph slot for a      *\/\n-  \/*    given face object.  This function is used to create additional     *\/\n-  \/*    slots.  All of them are automatically discarded when the face is   *\/\n-  \/*    destroyed.                                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face  :: A handle to a parent face object.                         *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    aslot :: A handle to a new glyph slot object.                      *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_New_GlyphSlot\n+   *\n+   * @description:\n+   *   It is sometimes useful to have more than one glyph slot for a given\n+   *   face object.  This function is used to create additional slots.  All\n+   *   of them are automatically discarded when the face is destroyed.\n+   *\n+   * @input:\n+   *   face ::\n+   *     A handle to a parent face object.\n+   *\n+   * @output:\n+   *   aslot ::\n+   *     A handle to a new glyph slot object.\n+   *\n+   * @return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -671,13 +641,14 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Done_GlyphSlot                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Destroys a given glyph slot.  Remember however that all slots are  *\/\n-  \/*    automatically destroyed with its parent.  Using this function is   *\/\n-  \/*    not always mandatory.                                              *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    slot :: A handle to a target glyph slot.                           *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Done_GlyphSlot\n+   *\n+   * @description:\n+   *   Destroys a given glyph slot.  Remember however that all slots are\n+   *   automatically destroyed with its parent.  Using this function is not\n+   *   always mandatory.\n+   *\n+   * @input:\n+   *   slot ::\n+   *     A handle to a target glyph slot.\n+   *\/\n@@ -733,2 +704,3 @@\n-  \/* Preset bitmap metrics of an outline glyphslot prior to rendering. *\/\n-  FT_BASE( void )\n+  \/* Preset bitmap metrics of an outline glyphslot prior to rendering *\/\n+  \/* and check whether the truncated bbox is too large for rendering. *\/\n+  FT_BASE( FT_Bool )\n@@ -805,22 +777,24 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_DriverRec                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    The root font driver class.  A font driver is responsible for      *\/\n-  \/*    managing and loading font files of a given format.                 *\/\n-  \/*                                                                       *\/\n-  \/*  <Fields>                                                             *\/\n-  \/*     root         :: Contains the fields of the root module class.     *\/\n-  \/*                                                                       *\/\n-  \/*     clazz        :: A pointer to the font driver's class.  Note that  *\/\n-  \/*                     this is NOT root.clazz.  `class' wasn't used      *\/\n-  \/*                     as it is a reserved word in C++.                  *\/\n-  \/*                                                                       *\/\n-  \/*     faces_list   :: The list of faces currently opened by this        *\/\n-  \/*                     driver.                                           *\/\n-  \/*                                                                       *\/\n-  \/*     glyph_loader :: Unused.  Used to be glyph loader for all faces    *\/\n-  \/*                     managed by this driver.                           *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_DriverRec\n+   *\n+   * @description:\n+   *   The root font driver class.  A font driver is responsible for managing\n+   *   and loading font files of a given format.\n+   *\n+   * @fields:\n+   *   root ::\n+   *     Contains the fields of the root module class.\n+   *\n+   *   clazz ::\n+   *     A pointer to the font driver's class.  Note that this is NOT\n+   *     root.clazz.  'class' wasn't used as it is a reserved word in C++.\n+   *\n+   *   faces_list ::\n+   *     The list of faces currently opened by this driver.\n+   *\n+   *   glyph_loader ::\n+   *     Unused.  Used to be glyph loader for all faces managed by this\n+   *     driver.\n+   *\/\n@@ -850,66 +824,71 @@\n-  \/* This hook is used by the TrueType debugger.  It must be set to an *\/\n-  \/* alternate truetype bytecode interpreter function.                 *\/\n-#define FT_DEBUG_HOOK_TRUETYPE  0\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    FT_LibraryRec                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    The FreeType library class.  This is the root of all FreeType      *\/\n-  \/*    data.  Use FT_New_Library() to create a library object, and        *\/\n-  \/*    FT_Done_Library() to discard it and all child objects.             *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    memory           :: The library's memory object.  Manages memory   *\/\n-  \/*                        allocation.                                    *\/\n-  \/*                                                                       *\/\n-  \/*    version_major    :: The major version number of the library.       *\/\n-  \/*                                                                       *\/\n-  \/*    version_minor    :: The minor version number of the library.       *\/\n-  \/*                                                                       *\/\n-  \/*    version_patch    :: The current patch level of the library.        *\/\n-  \/*                                                                       *\/\n-  \/*    num_modules      :: The number of modules currently registered     *\/\n-  \/*                        within this library.  This is set to 0 for new *\/\n-  \/*                        libraries.  New modules are added through the  *\/\n-  \/*                        FT_Add_Module() API function.                  *\/\n-  \/*                                                                       *\/\n-  \/*    modules          :: A table used to store handles to the currently *\/\n-  \/*                        registered modules. Note that each font driver *\/\n-  \/*                        contains a list of its opened faces.           *\/\n-  \/*                                                                       *\/\n-  \/*    renderers        :: The list of renderers currently registered     *\/\n-  \/*                        within the library.                            *\/\n-  \/*                                                                       *\/\n-  \/*    cur_renderer     :: The current outline renderer.  This is a       *\/\n-  \/*                        shortcut used to avoid parsing the list on     *\/\n-  \/*                        each call to FT_Outline_Render().  It is a     *\/\n-  \/*                        handle to the current renderer for the         *\/\n-  \/*                        FT_GLYPH_FORMAT_OUTLINE format.                *\/\n-  \/*                                                                       *\/\n-  \/*    auto_hinter      :: The auto-hinter module interface.              *\/\n-  \/*                                                                       *\/\n-  \/*    debug_hooks      :: An array of four function pointers that allow  *\/\n-  \/*                        debuggers to hook into a font format's         *\/\n-  \/*                        interpreter.  Currently, only the TrueType     *\/\n-  \/*                        bytecode debugger uses this.                   *\/\n-  \/*                                                                       *\/\n-  \/*    lcd_weights      :: If subpixel rendering is activated, the LCD    *\/\n-  \/*                        filter weights, if any.                        *\/\n-  \/*                                                                       *\/\n-  \/*    lcd_filter_func  :: If subpixel rendering is activated, the LCD    *\/\n-  \/*                        filtering callback function.                   *\/\n-  \/*                                                                       *\/\n-  \/*    pic_container    :: Contains global structs and tables, instead    *\/\n-  \/*                        of defining them globally.                     *\/\n-  \/*                                                                       *\/\n-  \/*    refcount         :: A counter initialized to~1 at the time an      *\/\n-  \/*                        @FT_Library structure is created.              *\/\n-  \/*                        @FT_Reference_Library increments this counter, *\/\n-  \/*                        and @FT_Done_Library only destroys a library   *\/\n-  \/*                        if the counter is~1, otherwise it simply       *\/\n-  \/*                        decrements it.                                 *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   FT_LibraryRec\n+   *\n+   * @description:\n+   *   The FreeType library class.  This is the root of all FreeType data.\n+   *   Use FT_New_Library() to create a library object, and FT_Done_Library()\n+   *   to discard it and all child objects.\n+   *\n+   * @fields:\n+   *   memory ::\n+   *     The library's memory object.  Manages memory allocation.\n+   *\n+   *   version_major ::\n+   *     The major version number of the library.\n+   *\n+   *   version_minor ::\n+   *     The minor version number of the library.\n+   *\n+   *   version_patch ::\n+   *     The current patch level of the library.\n+   *\n+   *   num_modules ::\n+   *     The number of modules currently registered within this library.\n+   *     This is set to 0 for new libraries.  New modules are added through\n+   *     the FT_Add_Module() API function.\n+   *\n+   *   modules ::\n+   *     A table used to store handles to the currently registered\n+   *     modules. Note that each font driver contains a list of its opened\n+   *     faces.\n+   *\n+   *   renderers ::\n+   *     The list of renderers currently registered within the library.\n+   *\n+   *   cur_renderer ::\n+   *     The current outline renderer.  This is a shortcut used to avoid\n+   *     parsing the list on each call to FT_Outline_Render().  It is a\n+   *     handle to the current renderer for the FT_GLYPH_FORMAT_OUTLINE\n+   *     format.\n+   *\n+   *   auto_hinter ::\n+   *     The auto-hinter module interface.\n+   *\n+   *   debug_hooks ::\n+   *     An array of four function pointers that allow debuggers to hook into\n+   *     a font format's interpreter.  Currently, only the TrueType bytecode\n+   *     debugger uses this.\n+   *\n+   *   lcd_weights ::\n+   *     The LCD filter weights for ClearType-style subpixel rendering.\n+   *\n+   *   lcd_filter_func ::\n+   *     The LCD filtering callback function for for ClearType-style subpixel\n+   *     rendering.\n+   *\n+   *   lcd_geometry ::\n+   *     This array specifies LCD subpixel geometry and controls Harmony LCD\n+   *     rendering technique, alternative to ClearType.\n+   *\n+   *   pic_container ::\n+   *     Contains global structs and tables, instead of defining them\n+   *     globally.\n+   *\n+   *   refcount ::\n+   *     A counter initialized to~1 at the time an @FT_Library structure is\n+   *     created.  @FT_Reference_Library increments this counter, and\n+   *     @FT_Done_Library only destroys a library if the counter is~1,\n+   *     otherwise it simply decrements it.\n+   *\/\n@@ -936,4 +915,2 @@\n-#endif\n-\n-#ifdef FT_CONFIG_OPTION_PIC\n-    FT_PIC_Container   pic_container;\n+#else\n+    FT_Vector                lcd_geometry[3];  \/* RGB subpixel positions *\/\n@@ -973,11 +950,11 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_New_Memory                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Creates a new memory object.                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    A pointer to the new memory object.  0 in case of error.           *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_New_Memory\n+   *\n+   * @description:\n+   *   Creates a new memory object.\n+   *\n+   * @return:\n+   *   A pointer to the new memory object.  0 in case of error.\n+   *\/\n@@ -988,11 +965,12 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Done_Memory                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Discards memory manager.                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    memory :: A handle to the memory manager.                          *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Done_Memory\n+   *\n+   * @description:\n+   *   Discards memory manager.\n+   *\n+   * @input:\n+   *   memory ::\n+   *     A handle to the memory manager.\n+   *\/\n@@ -1016,31 +994,10 @@\n-  \/*************************************************************************\/\n-  \/*************************************************************************\/\n-  \/*************************************************************************\/\n-  \/****                                                                 ****\/\n-  \/****                                                                 ****\/\n-  \/****                      P I C   S U P P O R T                      ****\/\n-  \/****                                                                 ****\/\n-  \/****                                                                 ****\/\n-  \/*************************************************************************\/\n-  \/*************************************************************************\/\n-  \/*************************************************************************\/\n-\n-\n-  \/* PIC support macros for ftimage.h *\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Macro>                                                               *\/\n-  \/*    FT_DEFINE_OUTLINE_FUNCS                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Used to initialize an instance of FT_Outline_Funcs struct.         *\/\n-  \/*    When FT_CONFIG_OPTION_PIC is defined an init function will need    *\/\n-  \/*    to be called with a pre-allocated structure to be filled.          *\/\n-  \/*    When FT_CONFIG_OPTION_PIC is not defined the struct will be        *\/\n-  \/*    allocated in the global scope (or the scope where the macro        *\/\n-  \/*    is used).                                                          *\/\n-  \/*                                                                       *\/\n-#ifndef FT_CONFIG_OPTION_PIC\n-\n+  \/**************************************************************************\n+   *\n+   * @macro:\n+   *   FT_DEFINE_OUTLINE_FUNCS\n+   *\n+   * @description:\n+   *   Used to initialize an instance of FT_Outline_Funcs struct.  The struct\n+   *   will be allocated in the global scope (or the scope where the macro is\n+   *   used).\n+   *\/\n@@ -1065,40 +1022,0 @@\n-#else \/* FT_CONFIG_OPTION_PIC *\/\n-\n-#define FT_DEFINE_OUTLINE_FUNCS(                     \\\n-          class_,                                    \\\n-          move_to_,                                  \\\n-          line_to_,                                  \\\n-          conic_to_,                                 \\\n-          cubic_to_,                                 \\\n-          shift_,                                    \\\n-          delta_ )                                   \\\n-  static FT_Error                                    \\\n-  Init_Class_ ## class_( FT_Outline_Funcs*  clazz )  \\\n-  {                                                  \\\n-    clazz->move_to  = move_to_;                      \\\n-    clazz->line_to  = line_to_;                      \\\n-    clazz->conic_to = conic_to_;                     \\\n-    clazz->cubic_to = cubic_to_;                     \\\n-    clazz->shift    = shift_;                        \\\n-    clazz->delta    = delta_;                        \\\n-                                                     \\\n-    return FT_Err_Ok;                                \\\n-  }\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Macro>                                                               *\/\n-  \/*    FT_DEFINE_RASTER_FUNCS                                             *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Used to initialize an instance of FT_Raster_Funcs struct.          *\/\n-  \/*    When FT_CONFIG_OPTION_PIC is defined an init function will need    *\/\n-  \/*    to be called with a pre-allocated structure to be filled.          *\/\n-  \/*    When FT_CONFIG_OPTION_PIC is not defined the struct will be        *\/\n-  \/*    allocated in the global scope (or the scope where the macro        *\/\n-  \/*    is used).                                                          *\/\n-  \/*                                                                       *\/\n-#ifndef FT_CONFIG_OPTION_PIC\n@@ -1106,0 +1023,10 @@\n+  \/**************************************************************************\n+   *\n+   * @macro:\n+   *   FT_DEFINE_RASTER_FUNCS\n+   *\n+   * @description:\n+   *   Used to initialize an instance of FT_Raster_Funcs struct.  The struct\n+   *   will be allocated in the global scope (or the scope where the macro is\n+   *   used).\n+   *\/\n@@ -1124,22 +1051,0 @@\n-#else \/* FT_CONFIG_OPTION_PIC *\/\n-\n-#define FT_DEFINE_RASTER_FUNCS(                        \\\n-          class_,                                      \\\n-          glyph_format_,                               \\\n-          raster_new_,                                 \\\n-          raster_reset_,                               \\\n-          raster_set_mode_,                            \\\n-          raster_render_,                              \\\n-          raster_done_ )                               \\\n-  void                                                 \\\n-  FT_Init_Class_ ## class_( FT_Raster_Funcs*  clazz )  \\\n-  {                                                    \\\n-    clazz->glyph_format    = glyph_format_;            \\\n-    clazz->raster_new      = raster_new_;              \\\n-    clazz->raster_reset    = raster_reset_;            \\\n-    clazz->raster_set_mode = raster_set_mode_;         \\\n-    clazz->raster_render   = raster_render_;           \\\n-    clazz->raster_done     = raster_done_;             \\\n-  }\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n@@ -1148,18 +1053,9 @@\n-  \/* PIC support macros for ftrender.h *\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Macro>                                                               *\/\n-  \/*    FT_DEFINE_GLYPH                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Used to initialize an instance of FT_Glyph_Class struct.           *\/\n-  \/*    When FT_CONFIG_OPTION_PIC is defined an init function will need    *\/\n-  \/*    to be called with a pre-allocated structure to be filled.          *\/\n-  \/*    When FT_CONFIG_OPTION_PIC is not defined the struct will be        *\/\n-  \/*    allocated in the global scope (or the scope where the macro        *\/\n-  \/*    is used).                                                          *\/\n-  \/*                                                                       *\/\n-#ifndef FT_CONFIG_OPTION_PIC\n-\n+  \/**************************************************************************\n+   *\n+   * @macro:\n+   *   FT_DEFINE_GLYPH\n+   *\n+   * @description:\n+   *   The struct will be allocated in the global scope (or the scope where\n+   *   the macro is used).\n+   *\/\n@@ -1189,66 +1085,0 @@\n-#else \/* FT_CONFIG_OPTION_PIC *\/\n-\n-#define FT_DEFINE_GLYPH(                              \\\n-          class_,                                     \\\n-          size_,                                      \\\n-          format_,                                    \\\n-          init_,                                      \\\n-          done_,                                      \\\n-          copy_,                                      \\\n-          transform_,                                 \\\n-          bbox_,                                      \\\n-          prepare_ )                                  \\\n-  void                                                \\\n-  FT_Init_Class_ ## class_( FT_Glyph_Class*  clazz )  \\\n-  {                                                   \\\n-    clazz->glyph_size      = size_;                   \\\n-    clazz->glyph_format    = format_;                 \\\n-    clazz->glyph_init      = init_;                   \\\n-    clazz->glyph_done      = done_;                   \\\n-    clazz->glyph_copy      = copy_;                   \\\n-    clazz->glyph_transform = transform_;              \\\n-    clazz->glyph_bbox      = bbox_;                   \\\n-    clazz->glyph_prepare   = prepare_;                \\\n-  }\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Macro>                                                               *\/\n-  \/*    FT_DECLARE_RENDERER                                                *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Used to create a forward declaration of a                          *\/\n-  \/*    FT_Renderer_Class struct instance.                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Macro>                                                               *\/\n-  \/*    FT_DEFINE_RENDERER                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Used to initialize an instance of FT_Renderer_Class struct.        *\/\n-  \/*                                                                       *\/\n-  \/*    When FT_CONFIG_OPTION_PIC is defined a `create' function will      *\/\n-  \/*    need to be called with a pointer where the allocated structure is  *\/\n-  \/*    returned.  And when it is no longer needed a `destroy' function    *\/\n-  \/*    needs to be called to release that allocation.                     *\/\n-  \/*    `ftinit.c' (ft_create_default_module_classes) already contains     *\/\n-  \/*    a mechanism to call these functions for the default modules        *\/\n-  \/*    described in `ftmodule.h'.                                         *\/\n-  \/*                                                                       *\/\n-  \/*    Notice that the created `create' and `destroy' functions call      *\/\n-  \/*    `pic_init' and `pic_free' to allow you to manually allocate and    *\/\n-  \/*    initialize any additional global data, like a module specific      *\/\n-  \/*    interface, and put them in the global pic container defined in     *\/\n-  \/*    `ftpic.h'.  If you don't need them just implement the functions as *\/\n-  \/*    empty to resolve the link error.  Also the `pic_init' and          *\/\n-  \/*    `pic_free' functions should be declared in `pic.h', to be referred *\/\n-  \/*    by the renderer definition calling `FT_DEFINE_RENDERER' in the     *\/\n-  \/*    following.                                                         *\/\n-  \/*                                                                       *\/\n-  \/*    When FT_CONFIG_OPTION_PIC is not defined the struct will be        *\/\n-  \/*    allocated in the global scope (or the scope where the macro        *\/\n-  \/*    is used).                                                          *\/\n-  \/*                                                                       *\/\n-#ifndef FT_CONFIG_OPTION_PIC\n@@ -1256,0 +1086,18 @@\n+  \/**************************************************************************\n+   *\n+   * @macro:\n+   *   FT_DECLARE_RENDERER\n+   *\n+   * @description:\n+   *   Used to create a forward declaration of a FT_Renderer_Class struct\n+   *   instance.\n+   *\n+   * @macro:\n+   *   FT_DEFINE_RENDERER\n+   *\n+   * @description:\n+   *   Used to initialize an instance of FT_Renderer_Class struct.\n+   *\n+   *   The struct will be allocated in the global scope (or the scope where\n+   *   the macro is used).\n+   *\/\n@@ -1298,169 +1146,0 @@\n-#else \/* FT_CONFIG_OPTION_PIC *\/\n-\n-#define FT_DECLARE_RENDERER( class_ )  FT_DECLARE_MODULE( class_ )\n-\n-#define FT_DEFINE_RENDERER(                                      \\\n-          class_,                                                \\\n-          flags_,                                                \\\n-          size_,                                                 \\\n-          name_,                                                 \\\n-          version_,                                              \\\n-          requires_,                                             \\\n-          interface_,                                            \\\n-          init_,                                                 \\\n-          done_,                                                 \\\n-          get_interface_,                                        \\\n-          glyph_format_,                                         \\\n-          render_glyph_,                                         \\\n-          transform_glyph_,                                      \\\n-          get_glyph_cbox_,                                       \\\n-          set_mode_,                                             \\\n-          raster_class_ )                                        \\\n-  void                                                           \\\n-  FT_Destroy_Class_ ## class_( FT_Library        library,        \\\n-                               FT_Module_Class*  clazz )         \\\n-  {                                                              \\\n-    FT_Renderer_Class*  rclazz = (FT_Renderer_Class*)clazz;      \\\n-    FT_Memory           memory = library->memory;                \\\n-                                                                 \\\n-                                                                 \\\n-    class_ ## _pic_free( library );                              \\\n-    if ( rclazz )                                                \\\n-      FT_FREE( rclazz );                                         \\\n-  }                                                              \\\n-                                                                 \\\n-                                                                 \\\n-  FT_Error                                                       \\\n-  FT_Create_Class_ ## class_( FT_Library         library,        \\\n-                              FT_Module_Class**  output_class )  \\\n-  {                                                              \\\n-    FT_Renderer_Class*  clazz = NULL;                            \\\n-    FT_Error            error;                                   \\\n-    FT_Memory           memory = library->memory;                \\\n-                                                                 \\\n-                                                                 \\\n-    if ( FT_ALLOC( clazz, sizeof ( *clazz ) ) )                  \\\n-      return error;                                              \\\n-                                                                 \\\n-    error = class_ ## _pic_init( library );                      \\\n-    if ( error )                                                 \\\n-    {                                                            \\\n-      FT_FREE( clazz );                                          \\\n-      return error;                                              \\\n-    }                                                            \\\n-                                                                 \\\n-    FT_DEFINE_ROOT_MODULE( flags_,                               \\\n-                           size_,                                \\\n-                           name_,                                \\\n-                           version_,                             \\\n-                           requires_,                            \\\n-                           interface_,                           \\\n-                           init_,                                \\\n-                           done_,                                \\\n-                           get_interface_ )                      \\\n-                                                                 \\\n-    clazz->glyph_format    = glyph_format_;                      \\\n-                                                                 \\\n-    clazz->render_glyph    = render_glyph_;                      \\\n-    clazz->transform_glyph = transform_glyph_;                   \\\n-    clazz->get_glyph_cbox  = get_glyph_cbox_;                    \\\n-    clazz->set_mode        = set_mode_;                          \\\n-                                                                 \\\n-    clazz->raster_class    = raster_class_;                      \\\n-                                                                 \\\n-    *output_class = (FT_Module_Class*)clazz;                     \\\n-                                                                 \\\n-    return FT_Err_Ok;                                            \\\n-  }\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n-\n-  \/* PIC support macros for ftmodapi.h **\/\n-\n-\n-#ifdef FT_CONFIG_OPTION_PIC\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    FT_Module_Creator                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A function used to create (allocate) a new module class object.    *\/\n-  \/*    The object's members are initialized, but the module itself is     *\/\n-  \/*    not.                                                               *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    memory       :: A handle to the memory manager.                    *\/\n-  \/*    output_class :: Initialized with the newly allocated class.        *\/\n-  \/*                                                                       *\/\n-  typedef FT_Error\n-  (*FT_Module_Creator)( FT_Memory          memory,\n-                        FT_Module_Class**  output_class );\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    FT_Module_Destroyer                                                *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A function used to destroy (deallocate) a module class object.     *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    memory :: A handle to the memory manager.                          *\/\n-  \/*    clazz  :: Module class to destroy.                                 *\/\n-  \/*                                                                       *\/\n-  typedef void\n-  (*FT_Module_Destroyer)( FT_Memory         memory,\n-                          FT_Module_Class*  clazz );\n-\n-#endif\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Macro>                                                               *\/\n-  \/*    FT_DECLARE_MODULE                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Used to create a forward declaration of a                          *\/\n-  \/*    FT_Module_Class struct instance.                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Macro>                                                               *\/\n-  \/*    FT_DEFINE_MODULE                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Used to initialize an instance of an FT_Module_Class struct.       *\/\n-  \/*                                                                       *\/\n-  \/*    When FT_CONFIG_OPTION_PIC is defined a `create' function needs     *\/\n-  \/*    to be called with a pointer where the allocated structure is       *\/\n-  \/*    returned.  And when it is no longer needed a `destroy' function    *\/\n-  \/*    needs to be called to release that allocation.                     *\/\n-  \/*    `ftinit.c' (ft_create_default_module_classes) already contains     *\/\n-  \/*    a mechanism to call these functions for the default modules        *\/\n-  \/*    described in `ftmodule.h'.                                         *\/\n-  \/*                                                                       *\/\n-  \/*    Notice that the created `create' and `destroy' functions call      *\/\n-  \/*    `pic_init' and `pic_free' to allow you to manually allocate and    *\/\n-  \/*    initialize any additional global data, like a module specific      *\/\n-  \/*    interface, and put them in the global pic container defined in     *\/\n-  \/*    `ftpic.h'.  If you don't need them just implement the functions as *\/\n-  \/*    empty to resolve the link error.  Also the `pic_init' and          *\/\n-  \/*    `pic_free' functions should be declared in `pic.h', to be referred *\/\n-  \/*    by the module definition calling `FT_DEFINE_MODULE' in the         *\/\n-  \/*    following.                                                         *\/\n-  \/*                                                                       *\/\n-  \/*    When FT_CONFIG_OPTION_PIC is not defined the struct will be        *\/\n-  \/*    allocated in the global scope (or the scope where the macro        *\/\n-  \/*    is used).                                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Macro>                                                               *\/\n-  \/*    FT_DEFINE_ROOT_MODULE                                              *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Used to initialize an instance of an FT_Module_Class struct inside *\/\n-  \/*    another struct that contains it or in a function that initializes  *\/\n-  \/*    that containing struct.                                            *\/\n-  \/*                                                                       *\/\n-#ifndef FT_CONFIG_OPTION_PIC\n@@ -1468,0 +1147,26 @@\n+  \/**************************************************************************\n+   *\n+   * @macro:\n+   *   FT_DECLARE_MODULE\n+   *\n+   * @description:\n+   *   Used to create a forward declaration of a FT_Module_Class struct\n+   *   instance.\n+   *\n+   * @macro:\n+   *   FT_DEFINE_MODULE\n+   *\n+   * @description:\n+   *   Used to initialize an instance of an FT_Module_Class struct.\n+   *\n+   *   The struct will be allocated in the global scope (or the scope where\n+   *   the macro is used).\n+   *\n+   * @macro:\n+   *   FT_DEFINE_ROOT_MODULE\n+   *\n+   * @description:\n+   *   Used to initialize an instance of an FT_Module_Class struct inside\n+   *   another struct that contains it or in a function that initializes that\n+   *   containing struct.\n+   *\/\n@@ -1526,94 +1231,0 @@\n-#else \/* FT_CONFIG_OPTION_PIC *\/\n-\n-#define FT_DECLARE_MODULE( class_ )                               \\\n-  FT_Error                                                        \\\n-  FT_Create_Class_ ## class_( FT_Library         library,         \\\n-                              FT_Module_Class**  output_class );  \\\n-  void                                                            \\\n-  FT_Destroy_Class_ ## class_( FT_Library        library,         \\\n-                               FT_Module_Class*  clazz );\n-\n-#define FT_DEFINE_ROOT_MODULE(                      \\\n-          flags_,                                   \\\n-          size_,                                    \\\n-          name_,                                    \\\n-          version_,                                 \\\n-          requires_,                                \\\n-          interface_,                               \\\n-          init_,                                    \\\n-          done_,                                    \\\n-          get_interface_ )                          \\\n-    clazz->root.module_flags     = flags_;          \\\n-    clazz->root.module_size      = size_;           \\\n-    clazz->root.module_name      = name_;           \\\n-    clazz->root.module_version   = version_;        \\\n-    clazz->root.module_requires  = requires_;       \\\n-                                                    \\\n-    clazz->root.module_interface = interface_;      \\\n-                                                    \\\n-    clazz->root.module_init      = init_;           \\\n-    clazz->root.module_done      = done_;           \\\n-    clazz->root.get_interface    = get_interface_;\n-\n-#define FT_DEFINE_MODULE(                                        \\\n-          class_,                                                \\\n-          flags_,                                                \\\n-          size_,                                                 \\\n-          name_,                                                 \\\n-          version_,                                              \\\n-          requires_,                                             \\\n-          interface_,                                            \\\n-          init_,                                                 \\\n-          done_,                                                 \\\n-          get_interface_ )                                       \\\n-  void                                                           \\\n-  FT_Destroy_Class_ ## class_( FT_Library        library,        \\\n-                               FT_Module_Class*  clazz )         \\\n-  {                                                              \\\n-    FT_Memory memory = library->memory;                          \\\n-                                                                 \\\n-                                                                 \\\n-    class_ ## _pic_free( library );                              \\\n-    if ( clazz )                                                 \\\n-      FT_FREE( clazz );                                          \\\n-  }                                                              \\\n-                                                                 \\\n-                                                                 \\\n-  FT_Error                                                       \\\n-  FT_Create_Class_ ## class_( FT_Library         library,        \\\n-                              FT_Module_Class**  output_class )  \\\n-  {                                                              \\\n-    FT_Memory         memory = library->memory;                  \\\n-    FT_Module_Class*  clazz  = NULL;                             \\\n-    FT_Error          error;                                     \\\n-                                                                 \\\n-                                                                 \\\n-    if ( FT_ALLOC( clazz, sizeof ( *clazz ) ) )                  \\\n-      return error;                                              \\\n-    error = class_ ## _pic_init( library );                      \\\n-    if ( error )                                                 \\\n-    {                                                            \\\n-      FT_FREE( clazz );                                          \\\n-      return error;                                              \\\n-    }                                                            \\\n-                                                                 \\\n-    clazz->module_flags     = flags_;                            \\\n-    clazz->module_size      = size_;                             \\\n-    clazz->module_name      = name_;                             \\\n-    clazz->module_version   = version_;                          \\\n-    clazz->module_requires  = requires_;                         \\\n-                                                                 \\\n-    clazz->module_interface = interface_;                        \\\n-                                                                 \\\n-    clazz->module_init      = init_;                             \\\n-    clazz->module_done      = done_;                             \\\n-    clazz->get_interface    = get_interface_;                    \\\n-                                                                 \\\n-    *output_class = clazz;                                       \\\n-                                                                 \\\n-    return FT_Err_Ok;                                            \\\n-  }\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n-\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/ftobjs.h","additions":440,"deletions":829,"binary":false,"changes":1269,"status":"modified"},{"patch":"@@ -1,71 +0,0 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftpic.h                                                                *\/\n-\/*                                                                         *\/\n-\/*    The FreeType position independent code services (declaration).       *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2009-2018 by                                                 *\/\n-\/*  Oran Agra and Mickey Gabel.                                            *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*  Modules that ordinarily have const global data that need address     *\/\n-  \/*  can instead define pointers here.                                    *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n-\n-\n-#ifndef FTPIC_H_\n-#define FTPIC_H_\n-\n-\n-FT_BEGIN_HEADER\n-\n-#ifdef FT_CONFIG_OPTION_PIC\n-\n-  typedef struct  FT_PIC_Container_\n-  {\n-    \/* pic containers for base *\/\n-    void*  base;\n-\n-    \/* pic containers for modules *\/\n-    void*  autofit;\n-    void*  cff;\n-    void*  pshinter;\n-    void*  psnames;\n-    void*  raster;\n-    void*  sfnt;\n-    void*  smooth;\n-    void*  truetype;\n-\n-  } FT_PIC_Container;\n-\n-\n-  \/* Initialize the various function tables, structs, etc. *\/\n-  \/* stored in the container.                              *\/\n-  FT_BASE( FT_Error )\n-  ft_pic_container_init( FT_Library  library );\n-\n-\n-  \/* Destroy the contents of the container. *\/\n-  FT_BASE( void )\n-  ft_pic_container_destroy( FT_Library  library );\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n- \/* *\/\n-\n-FT_END_HEADER\n-\n-#endif \/* FTPIC_H_ *\/\n-\n-\n-\/* END *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/ftpic.h","additions":0,"deletions":71,"binary":false,"changes":71,"status":"deleted"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftpsprop.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    Get and set properties of PostScript drivers (specification).        *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2017-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftpsprop.h\n+ *\n+ *   Get and set properties of PostScript drivers (specification).\n+ *\n+ * Copyright (C) 2017-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/ftpsprop.h","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,21 +1,21 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftrfork.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    Embedded resource forks accessor (specification).                    *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2004-2018 by                                                 *\/\n-\/*  Masatake YAMATO and Redhat K.K.                                        *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\/***************************************************************************\/\n-\/* Development of the code in this file is support of                      *\/\n-\/* Information-technology Promotion Agency, Japan.                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftrfork.h\n+ *\n+ *   Embedded resource forks accessor (specification).\n+ *\n+ * Copyright (C) 2004-2019 by\n+ * Masatake YAMATO and Redhat K.K.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+\/****************************************************************************\n+ * Development of the code in this file is support of\n+ * Information-technology Promotion Agency, Japan.\n+ *\/\n@@ -75,2 +75,2 @@\n-   * the macros FT_RFORK_xxx should be kept consistent with\n-   * the raccess_guess_funcs table\n+   * the macros FT_RFORK_xxx should be kept consistent with the\n+   * raccess_guess_funcs table\n@@ -83,1 +83,0 @@\n-#ifndef FT_CONFIG_OPTION_PIC\n@@ -85,1 +84,0 @@\n-  \/* this array is a storage in non-PIC mode, so ; is needed in END *\/\n@@ -91,0 +89,1 @@\n+  \/* this array is a storage, thus a final `;' is needed *\/\n@@ -93,19 +92,0 @@\n-#else \/* FT_CONFIG_OPTION_PIC *\/\n-\n-  \/* this array is a function in PIC mode, so no ; is needed in END *\/\n-#define CONST_FT_RFORK_RULE_ARRAY_BEGIN( name, type )  \\\n-          void                                         \\\n-          FT_Init_Table_ ## name( type*  storage )     \\\n-          {                                            \\\n-            type*  local = storage;                    \\\n-                                                       \\\n-                                                       \\\n-            int  i = 0;\n-#define CONST_FT_RFORK_RULE_ARRAY_ENTRY( func_suffix, type_suffix )  \\\n-          local[i].func = raccess_guess_ ## func_suffix;             \\\n-          local[i].type = FT_RFork_Rule_ ## type_suffix;             \\\n-          i++;\n-#define CONST_FT_RFORK_RULE_ARRAY_END  }\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n@@ -115,39 +95,39 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Raccess_Guess                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Guess a file name and offset where the actual resource fork is     *\/\n-  \/*    stored.  The macro FT_RACCESS_N_RULES holds the number of          *\/\n-  \/*    guessing rules;  the guessed result for the Nth rule is            *\/\n-  \/*    represented as a triplet: a new file name (new_names[N]), a file   *\/\n-  \/*    offset (offsets[N]), and an error code (errors[N]).                *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    library ::                                                         *\/\n-  \/*      A FreeType library instance.                                     *\/\n-  \/*                                                                       *\/\n-  \/*    stream ::                                                          *\/\n-  \/*      A file stream containing the resource fork.                      *\/\n-  \/*                                                                       *\/\n-  \/*    base_name ::                                                       *\/\n-  \/*      The (base) file name of the resource fork used for some          *\/\n-  \/*      guessing rules.                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    new_names ::                                                       *\/\n-  \/*      An array of guessed file names in which the resource forks may   *\/\n-  \/*      exist.  If `new_names[N]' is NULL, the guessed file name is      *\/\n-  \/*      equal to `base_name'.                                            *\/\n-  \/*                                                                       *\/\n-  \/*    offsets ::                                                         *\/\n-  \/*      An array of guessed file offsets.  `offsets[N]' holds the file   *\/\n-  \/*      offset of the possible start of the resource fork in file        *\/\n-  \/*      `new_names[N]'.                                                  *\/\n-  \/*                                                                       *\/\n-  \/*    errors ::                                                          *\/\n-  \/*      An array of FreeType error codes.  `errors[N]' is the error      *\/\n-  \/*      code of Nth guessing rule function.  If `errors[N]' is not       *\/\n-  \/*      FT_Err_Ok, `new_names[N]' and `offsets[N]' are meaningless.      *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Raccess_Guess\n+   *\n+   * @description:\n+   *   Guess a file name and offset where the actual resource fork is stored.\n+   *   The macro FT_RACCESS_N_RULES holds the number of guessing rules; the\n+   *   guessed result for the Nth rule is represented as a triplet: a new\n+   *   file name (new_names[N]), a file offset (offsets[N]), and an error\n+   *   code (errors[N]).\n+   *\n+   * @input:\n+   *   library ::\n+   *     A FreeType library instance.\n+   *\n+   *   stream ::\n+   *     A file stream containing the resource fork.\n+   *\n+   *   base_name ::\n+   *     The (base) file name of the resource fork used for some guessing\n+   *     rules.\n+   *\n+   * @output:\n+   *   new_names ::\n+   *     An array of guessed file names in which the resource forks may\n+   *     exist.  If 'new_names[N]' is `NULL`, the guessed file name is equal\n+   *     to `base_name`.\n+   *\n+   *   offsets ::\n+   *     An array of guessed file offsets.  'offsets[N]' holds the file\n+   *     offset of the possible start of the resource fork in file\n+   *     'new_names[N]'.\n+   *\n+   *   errors ::\n+   *     An array of FreeType error codes.  'errors[N]' is the error code of\n+   *     Nth guessing rule function.  If 'errors[N]' is not FT_Err_Ok,\n+   *     'new_names[N]' and 'offsets[N]' are meaningless.\n+   *\/\n@@ -163,31 +143,31 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Raccess_Get_HeaderInfo                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Get the information from the header of resource fork.  The         *\/\n-  \/*    information includes the file offset where the resource map        *\/\n-  \/*    starts, and the file offset where the resource data starts.        *\/\n-  \/*    `FT_Raccess_Get_DataOffsets' requires these two data.              *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    library ::                                                         *\/\n-  \/*      A FreeType library instance.                                     *\/\n-  \/*                                                                       *\/\n-  \/*    stream ::                                                          *\/\n-  \/*      A file stream containing the resource fork.                      *\/\n-  \/*                                                                       *\/\n-  \/*    rfork_offset ::                                                    *\/\n-  \/*      The file offset where the resource fork starts.                  *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    map_offset ::                                                      *\/\n-  \/*      The file offset where the resource map starts.                   *\/\n-  \/*                                                                       *\/\n-  \/*    rdata_pos ::                                                       *\/\n-  \/*      The file offset where the resource data starts.                  *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  FT_Err_Ok means success.                     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Raccess_Get_HeaderInfo\n+   *\n+   * @description:\n+   *   Get the information from the header of resource fork.  The information\n+   *   includes the file offset where the resource map starts, and the file\n+   *   offset where the resource data starts.  `FT_Raccess_Get_DataOffsets`\n+   *   requires these two data.\n+   *\n+   * @input:\n+   *   library ::\n+   *     A FreeType library instance.\n+   *\n+   *   stream ::\n+   *     A file stream containing the resource fork.\n+   *\n+   *   rfork_offset ::\n+   *     The file offset where the resource fork starts.\n+   *\n+   * @output:\n+   *   map_offset ::\n+   *     The file offset where the resource map starts.\n+   *\n+   *   rdata_pos ::\n+   *     The file offset where the resource data starts.\n+   *\n+   * @return:\n+   *   FreeType error code.  FT_Err_Ok means success.\n+   *\/\n@@ -202,49 +182,48 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Raccess_Get_DataOffsets                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Get the data offsets for a tag in a resource fork.  Offsets are    *\/\n-  \/*    stored in an array because, in some cases, resources in a resource *\/\n-  \/*    fork have the same tag.                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    library ::                                                         *\/\n-  \/*      A FreeType library instance.                                     *\/\n-  \/*                                                                       *\/\n-  \/*    stream ::                                                          *\/\n-  \/*      A file stream containing the resource fork.                      *\/\n-  \/*                                                                       *\/\n-  \/*    map_offset ::                                                      *\/\n-  \/*      The file offset where the resource map starts.                   *\/\n-  \/*                                                                       *\/\n-  \/*    rdata_pos ::                                                       *\/\n-  \/*      The file offset where the resource data starts.                  *\/\n-  \/*                                                                       *\/\n-  \/*    tag ::                                                             *\/\n-  \/*      The resource tag.                                                *\/\n-  \/*                                                                       *\/\n-  \/*    sort_by_res_id ::                                                  *\/\n-  \/*      A Boolean to sort the fragmented resource by their ids.          *\/\n-  \/*      The fragmented resources for `POST' resource should be sorted    *\/\n-  \/*      to restore Type1 font properly.  For `sfnt' resources, sorting   *\/\n-  \/*      may induce a different order of the faces in comparison to that  *\/\n-  \/*      by QuickDraw API.                                                *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    offsets ::                                                         *\/\n-  \/*      The stream offsets for the resource data specified by `tag'.     *\/\n-  \/*      This array is allocated by the function, so you have to call     *\/\n-  \/*      @ft_mem_free after use.                                          *\/\n-  \/*                                                                       *\/\n-  \/*    count ::                                                           *\/\n-  \/*      The length of offsets array.                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  FT_Err_Ok means success.                     *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    Normally you should use `FT_Raccess_Get_HeaderInfo' to get the     *\/\n-  \/*    value for `map_offset' and `rdata_pos'.                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Raccess_Get_DataOffsets\n+   *\n+   * @description:\n+   *   Get the data offsets for a tag in a resource fork.  Offsets are stored\n+   *   in an array because, in some cases, resources in a resource fork have\n+   *   the same tag.\n+   *\n+   * @input:\n+   *   library ::\n+   *     A FreeType library instance.\n+   *\n+   *   stream ::\n+   *     A file stream containing the resource fork.\n+   *\n+   *   map_offset ::\n+   *     The file offset where the resource map starts.\n+   *\n+   *   rdata_pos ::\n+   *     The file offset where the resource data starts.\n+   *\n+   *   tag ::\n+   *     The resource tag.\n+   *\n+   *   sort_by_res_id ::\n+   *     A Boolean to sort the fragmented resource by their ids.  The\n+   *     fragmented resources for 'POST' resource should be sorted to restore\n+   *     Type1 font properly.  For 'sfnt' resources, sorting may induce a\n+   *     different order of the faces in comparison to that by QuickDraw API.\n+   *\n+   * @output:\n+   *   offsets ::\n+   *     The stream offsets for the resource data specified by 'tag'.  This\n+   *     array is allocated by the function, so you have to call @ft_mem_free\n+   *     after use.\n+   *\n+   *   count ::\n+   *     The length of offsets array.\n+   *\n+   * @return:\n+   *   FreeType error code.  FT_Err_Ok means success.\n+   *\n+   * @note:\n+   *   Normally you should use `FT_Raccess_Get_HeaderInfo` to get the value\n+   *   for `map_offset` and `rdata_pos`.\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/ftrfork.h","additions":142,"deletions":163,"binary":false,"changes":305,"status":"modified"},{"patch":"@@ -1,28 +1,28 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftserv.h                                                               *\/\n-\/*                                                                         *\/\n-\/*    The FreeType services (specification only).                          *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2003-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*  Each module can export one or more `services'.  Each service is      *\/\n-  \/*  identified by a constant string and modeled by a pointer; the latter *\/\n-  \/*  generally corresponds to a structure containing function pointers.   *\/\n-  \/*                                                                       *\/\n-  \/*  Note that a service's data cannot be a mere function pointer because *\/\n-  \/*  in C it is possible that function pointers might be implemented      *\/\n-  \/*  differently than data pointers (e.g. 48 bits instead of 32).         *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftserv.h\n+ *\n+ *   The FreeType services (specification only).\n+ *\n+ * Copyright (C) 2003-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+  \/**************************************************************************\n+   *\n+   * Each module can export one or more 'services'.  Each service is\n+   * identified by a constant string and modeled by a pointer; the latter\n+   * generally corresponds to a structure containing function pointers.\n+   *\n+   * Note that a service's data cannot be a mere function pointer because in\n+   * C it is possible that function pointers might be implemented differently\n+   * than data pointers (e.g. 48 bits instead of 32).\n+   *\n+   *\/\n@@ -37,1 +37,2 @@\n-  \/*\n+  \/**************************************************************************\n+   *\n@@ -49,4 +50,4 @@\n-   *     A string describing the service as defined in the service's\n-   *     header files (e.g. FT_SERVICE_ID_MULTI_MASTERS which expands to\n-   *     `multi-masters').  It is automatically prefixed with\n-   *     `FT_SERVICE_ID_'.\n+   *     A string describing the service as defined in the service's header\n+   *     files (e.g. FT_SERVICE_ID_MULTI_MASTERS which expands to\n+   *     'multi-masters').  It is automatically prefixed with\n+   *     `FT_SERVICE_ID_`.\n@@ -56,2 +57,2 @@\n-   *     A variable that receives the service pointer.  Will be NULL\n-   *     if not found.\n+   *     A variable that receives the service pointer.  Will be `NULL` if not\n+   *     found.\n@@ -88,1 +89,2 @@\n-  \/*\n+  \/**************************************************************************\n+   *\n@@ -100,4 +102,4 @@\n-   *     A string describing the service as defined in the service's\n-   *     header files (e.g. FT_SERVICE_ID_MULTI_MASTERS which expands to\n-   *     `multi-masters').  It is automatically prefixed with\n-   *     `FT_SERVICE_ID_'.\n+   *     A string describing the service as defined in the service's header\n+   *     files (e.g. FT_SERVICE_ID_MULTI_MASTERS which expands to\n+   *     'multi-masters').  It is automatically prefixed with\n+   *     `FT_SERVICE_ID_`.\n@@ -107,2 +109,2 @@\n-   *     A variable that receives the service pointer.  Will be NULL\n-   *     if not found.\n+   *     A variable that receives the service pointer.  Will be `NULL` if not\n+   *     found.\n@@ -147,2 +149,2 @@\n-   *  The following structure is used to _describe_ a given service\n-   *  to the library.  This is useful to build simple static service lists.\n+   * The following structure is used to _describe_ a given service to the\n+   * library.  This is useful to build simple static service lists.\n@@ -160,29 +162,20 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Macro>                                                               *\/\n-  \/*    FT_DEFINE_SERVICEDESCREC1                                          *\/\n-  \/*    FT_DEFINE_SERVICEDESCREC2                                          *\/\n-  \/*    FT_DEFINE_SERVICEDESCREC3                                          *\/\n-  \/*    FT_DEFINE_SERVICEDESCREC4                                          *\/\n-  \/*    FT_DEFINE_SERVICEDESCREC5                                          *\/\n-  \/*    FT_DEFINE_SERVICEDESCREC6                                          *\/\n-  \/*    FT_DEFINE_SERVICEDESCREC7                                          *\/\n-  \/*    FT_DEFINE_SERVICEDESCREC8                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Used to initialize an array of FT_ServiceDescRec structures.       *\/\n-  \/*                                                                       *\/\n-  \/*    When FT_CONFIG_OPTION_PIC is defined a `create' function needs to  *\/\n-  \/*    be called with a pointer to return an allocated array.  As soon as *\/\n-  \/*    it is no longer needed, a `destroy' function needs to be called to *\/\n-  \/*    release that allocation.                                           *\/\n-  \/*                                                                       *\/\n-  \/*    These functions should be manually called from the `pic_init' and  *\/\n-  \/*    `pic_free' functions of your module (see FT_DEFINE_MODULE).        *\/\n-  \/*                                                                       *\/\n-  \/*    When FT_CONFIG_OPTION_PIC is not defined the array will be         *\/\n-  \/*    allocated in the global scope (or the scope where the macro is     *\/\n-  \/*    used).                                                             *\/\n-  \/*                                                                       *\/\n-#ifndef FT_CONFIG_OPTION_PIC\n-\n+  \/**************************************************************************\n+   *\n+   * @macro:\n+   *   FT_DEFINE_SERVICEDESCREC1\n+   *   FT_DEFINE_SERVICEDESCREC2\n+   *   FT_DEFINE_SERVICEDESCREC3\n+   *   FT_DEFINE_SERVICEDESCREC4\n+   *   FT_DEFINE_SERVICEDESCREC5\n+   *   FT_DEFINE_SERVICEDESCREC6\n+   *   FT_DEFINE_SERVICEDESCREC7\n+   *   FT_DEFINE_SERVICEDESCREC8\n+   *   FT_DEFINE_SERVICEDESCREC9\n+   *   FT_DEFINE_SERVICEDESCREC10\n+   *\n+   * @description:\n+   *   Used to initialize an array of FT_ServiceDescRec structures.\n+   *\n+   *   The array will be allocated in the global scope (or the scope where\n+   *   the macro is used).\n+   *\/\n@@ -359,489 +352,0 @@\n-#else \/* FT_CONFIG_OPTION_PIC *\/\n-\n-#define FT_DEFINE_SERVICEDESCREC1( class_,                                  \\\n-                                   serv_id_1, serv_data_1 )                 \\\n-  void                                                                      \\\n-  FT_Destroy_Class_ ## class_( FT_Library          library,                 \\\n-                               FT_ServiceDescRec*  clazz )                  \\\n-  {                                                                         \\\n-    FT_Memory  memory = library->memory;                                    \\\n-                                                                            \\\n-                                                                            \\\n-    if ( clazz )                                                            \\\n-      FT_FREE( clazz );                                                     \\\n-  }                                                                         \\\n-                                                                            \\\n-  FT_Error                                                                  \\\n-  FT_Create_Class_ ## class_( FT_Library           library,                 \\\n-                              FT_ServiceDescRec**  output_class )           \\\n-  {                                                                         \\\n-    FT_ServiceDescRec*  clazz  = NULL;                                      \\\n-    FT_Error            error;                                              \\\n-    FT_Memory           memory = library->memory;                           \\\n-                                                                            \\\n-                                                                            \\\n-    if ( FT_ALLOC( clazz, sizeof ( *clazz ) * 2 ) )                         \\\n-      return error;                                                         \\\n-                                                                            \\\n-    clazz[0].serv_id   = serv_id_1;                                         \\\n-    clazz[0].serv_data = serv_data_1;                                       \\\n-    clazz[1].serv_id   = NULL;                                              \\\n-    clazz[1].serv_data = NULL;                                              \\\n-                                                                            \\\n-    *output_class = clazz;                                                  \\\n-                                                                            \\\n-    return FT_Err_Ok;                                                       \\\n-  }\n-\n-#define FT_DEFINE_SERVICEDESCREC2( class_,                                  \\\n-                                   serv_id_1, serv_data_1,                  \\\n-                                   serv_id_2, serv_data_2 )                 \\\n-  void                                                                      \\\n-  FT_Destroy_Class_ ## class_( FT_Library          library,                 \\\n-                               FT_ServiceDescRec*  clazz )                  \\\n-  {                                                                         \\\n-    FT_Memory  memory = library->memory;                                    \\\n-                                                                            \\\n-                                                                            \\\n-    if ( clazz )                                                            \\\n-      FT_FREE( clazz );                                                     \\\n-  }                                                                         \\\n-                                                                            \\\n-  FT_Error                                                                  \\\n-  FT_Create_Class_ ## class_( FT_Library           library,                 \\\n-                              FT_ServiceDescRec**  output_class )           \\\n-  {                                                                         \\\n-    FT_ServiceDescRec*  clazz  = NULL;                                      \\\n-    FT_Error            error;                                              \\\n-    FT_Memory           memory = library->memory;                           \\\n-                                                                            \\\n-                                                                            \\\n-    if ( FT_ALLOC( clazz, sizeof ( *clazz ) * 3 ) )                         \\\n-      return error;                                                         \\\n-                                                                            \\\n-    clazz[0].serv_id   = serv_id_1;                                         \\\n-    clazz[0].serv_data = serv_data_1;                                       \\\n-    clazz[1].serv_id   = serv_id_2;                                         \\\n-    clazz[1].serv_data = serv_data_2;                                       \\\n-    clazz[2].serv_id   = NULL;                                              \\\n-    clazz[2].serv_data = NULL;                                              \\\n-                                                                            \\\n-    *output_class = clazz;                                                  \\\n-                                                                            \\\n-    return FT_Err_Ok;                                                       \\\n-  }\n-\n-#define FT_DEFINE_SERVICEDESCREC3( class_,                                  \\\n-                                   serv_id_1, serv_data_1,                  \\\n-                                   serv_id_2, serv_data_2,                  \\\n-                                   serv_id_3, serv_data_3 )                 \\\n-  void                                                                      \\\n-  FT_Destroy_Class_ ## class_( FT_Library          library,                 \\\n-                               FT_ServiceDescRec*  clazz )                  \\\n-  {                                                                         \\\n-    FT_Memory  memory = library->memory;                                    \\\n-                                                                            \\\n-                                                                            \\\n-    if ( clazz )                                                            \\\n-      FT_FREE( clazz );                                                     \\\n-  }                                                                         \\\n-                                                                            \\\n-  FT_Error                                                                  \\\n-  FT_Create_Class_ ## class_( FT_Library           library,                 \\\n-                              FT_ServiceDescRec**  output_class )           \\\n-  {                                                                         \\\n-    FT_ServiceDescRec*  clazz  = NULL;                                      \\\n-    FT_Error            error;                                              \\\n-    FT_Memory           memory = library->memory;                           \\\n-                                                                            \\\n-                                                                            \\\n-    if ( FT_ALLOC( clazz, sizeof ( *clazz ) * 4 ) )                         \\\n-      return error;                                                         \\\n-                                                                            \\\n-    clazz[0].serv_id   = serv_id_1;                                         \\\n-    clazz[0].serv_data = serv_data_1;                                       \\\n-    clazz[1].serv_id   = serv_id_2;                                         \\\n-    clazz[1].serv_data = serv_data_2;                                       \\\n-    clazz[2].serv_id   = serv_id_3;                                         \\\n-    clazz[2].serv_data = serv_data_3;                                       \\\n-    clazz[3].serv_id   = NULL;                                              \\\n-    clazz[3].serv_data = NULL;                                              \\\n-                                                                            \\\n-    *output_class = clazz;                                                  \\\n-                                                                            \\\n-    return FT_Err_Ok;                                                       \\\n-  }\n-\n-#define FT_DEFINE_SERVICEDESCREC4( class_,                                  \\\n-                                   serv_id_1, serv_data_1,                  \\\n-                                   serv_id_2, serv_data_2,                  \\\n-                                   serv_id_3, serv_data_3,                  \\\n-                                   serv_id_4, serv_data_4 )                 \\\n-  void                                                                      \\\n-  FT_Destroy_Class_ ## class_( FT_Library          library,                 \\\n-                               FT_ServiceDescRec*  clazz )                  \\\n-  {                                                                         \\\n-    FT_Memory  memory = library->memory;                                    \\\n-                                                                            \\\n-                                                                            \\\n-    if ( clazz )                                                            \\\n-      FT_FREE( clazz );                                                     \\\n-  }                                                                         \\\n-                                                                            \\\n-  FT_Error                                                                  \\\n-  FT_Create_Class_ ## class_( FT_Library           library,                 \\\n-                              FT_ServiceDescRec**  output_class )           \\\n-  {                                                                         \\\n-    FT_ServiceDescRec*  clazz  = NULL;                                      \\\n-    FT_Error            error;                                              \\\n-    FT_Memory           memory = library->memory;                           \\\n-                                                                            \\\n-                                                                            \\\n-    if ( FT_ALLOC( clazz, sizeof ( *clazz ) * 5 ) )                         \\\n-      return error;                                                         \\\n-                                                                            \\\n-    clazz[0].serv_id   = serv_id_1;                                         \\\n-    clazz[0].serv_data = serv_data_1;                                       \\\n-    clazz[1].serv_id   = serv_id_2;                                         \\\n-    clazz[1].serv_data = serv_data_2;                                       \\\n-    clazz[2].serv_id   = serv_id_3;                                         \\\n-    clazz[2].serv_data = serv_data_3;                                       \\\n-    clazz[3].serv_id   = serv_id_4;                                         \\\n-    clazz[3].serv_data = serv_data_4;                                       \\\n-    clazz[4].serv_id   = NULL;                                              \\\n-    clazz[4].serv_data = NULL;                                              \\\n-                                                                            \\\n-    *output_class = clazz;                                                  \\\n-                                                                            \\\n-    return FT_Err_Ok;                                                       \\\n-  }\n-\n-#define FT_DEFINE_SERVICEDESCREC5( class_,                                  \\\n-                                   serv_id_1, serv_data_1,                  \\\n-                                   serv_id_2, serv_data_2,                  \\\n-                                   serv_id_3, serv_data_3,                  \\\n-                                   serv_id_4, serv_data_4,                  \\\n-                                   serv_id_5, serv_data_5 )                 \\\n-  void                                                                      \\\n-  FT_Destroy_Class_ ## class_( FT_Library          library,                 \\\n-                               FT_ServiceDescRec*  clazz )                  \\\n-  {                                                                         \\\n-    FT_Memory  memory = library->memory;                                    \\\n-                                                                            \\\n-                                                                            \\\n-    if ( clazz )                                                            \\\n-      FT_FREE( clazz );                                                     \\\n-  }                                                                         \\\n-                                                                            \\\n-  FT_Error                                                                  \\\n-  FT_Create_Class_ ## class_( FT_Library           library,                 \\\n-                              FT_ServiceDescRec**  output_class )           \\\n-  {                                                                         \\\n-    FT_ServiceDescRec*  clazz  = NULL;                                      \\\n-    FT_Error            error;                                              \\\n-    FT_Memory           memory = library->memory;                           \\\n-                                                                            \\\n-                                                                            \\\n-    if ( FT_ALLOC( clazz, sizeof ( *clazz ) * 6 ) )                         \\\n-      return error;                                                         \\\n-                                                                            \\\n-    clazz[0].serv_id   = serv_id_1;                                         \\\n-    clazz[0].serv_data = serv_data_1;                                       \\\n-    clazz[1].serv_id   = serv_id_2;                                         \\\n-    clazz[1].serv_data = serv_data_2;                                       \\\n-    clazz[2].serv_id   = serv_id_3;                                         \\\n-    clazz[2].serv_data = serv_data_3;                                       \\\n-    clazz[3].serv_id   = serv_id_4;                                         \\\n-    clazz[3].serv_data = serv_data_4;                                       \\\n-    clazz[4].serv_id   = serv_id_5;                                         \\\n-    clazz[4].serv_data = serv_data_5;                                       \\\n-    clazz[5].serv_id   = NULL;                                              \\\n-    clazz[5].serv_data = NULL;                                              \\\n-                                                                            \\\n-    *output_class = clazz;                                                  \\\n-                                                                            \\\n-    return FT_Err_Ok;                                                       \\\n-  }\n-\n-#define FT_DEFINE_SERVICEDESCREC6( class_,                                  \\\n-                                   serv_id_1, serv_data_1,                  \\\n-                                   serv_id_2, serv_data_2,                  \\\n-                                   serv_id_3, serv_data_3,                  \\\n-                                   serv_id_4, serv_data_4,                  \\\n-                                   serv_id_5, serv_data_5,                  \\\n-                                   serv_id_6, serv_data_6 )                 \\\n-  void                                                                      \\\n-  FT_Destroy_Class_ ## class_( FT_Library          library,                 \\\n-                               FT_ServiceDescRec*  clazz )                  \\\n-  {                                                                         \\\n-    FT_Memory  memory = library->memory;                                    \\\n-                                                                            \\\n-                                                                            \\\n-    if ( clazz )                                                            \\\n-      FT_FREE( clazz );                                                     \\\n-  }                                                                         \\\n-                                                                            \\\n-  FT_Error                                                                  \\\n-  FT_Create_Class_ ## class_( FT_Library           library,                 \\\n-                              FT_ServiceDescRec**  output_class )           \\\n-  {                                                                         \\\n-    FT_ServiceDescRec*  clazz  = NULL;                                      \\\n-    FT_Error            error;                                              \\\n-    FT_Memory           memory = library->memory;                           \\\n-                                                                            \\\n-                                                                            \\\n-    if ( FT_ALLOC( clazz, sizeof ( *clazz ) * 7 ) )                         \\\n-      return error;                                                         \\\n-                                                                            \\\n-    clazz[0].serv_id   = serv_id_1;                                         \\\n-    clazz[0].serv_data = serv_data_1;                                       \\\n-    clazz[1].serv_id   = serv_id_2;                                         \\\n-    clazz[1].serv_data = serv_data_2;                                       \\\n-    clazz[2].serv_id   = serv_id_3;                                         \\\n-    clazz[2].serv_data = serv_data_3;                                       \\\n-    clazz[3].serv_id   = serv_id_4;                                         \\\n-    clazz[3].serv_data = serv_data_4;                                       \\\n-    clazz[4].serv_id   = serv_id_5;                                         \\\n-    clazz[4].serv_data = serv_data_5;                                       \\\n-    clazz[5].serv_id   = serv_id_6;                                         \\\n-    clazz[5].serv_data = serv_data_6;                                       \\\n-    clazz[6].serv_id   = NULL;                                              \\\n-    clazz[6].serv_data = NULL;                                              \\\n-                                                                            \\\n-    *output_class = clazz;                                                  \\\n-                                                                            \\\n-    return FT_Err_Ok;                                                       \\\n-  }\n-\n-#define FT_DEFINE_SERVICEDESCREC7( class_,                                  \\\n-                                   serv_id_1, serv_data_1,                  \\\n-                                   serv_id_2, serv_data_2,                  \\\n-                                   serv_id_3, serv_data_3,                  \\\n-                                   serv_id_4, serv_data_4,                  \\\n-                                   serv_id_5, serv_data_5,                  \\\n-                                   serv_id_6, serv_data_6,                  \\\n-                                   serv_id_7, serv_data_7 )                 \\\n-  void                                                                      \\\n-  FT_Destroy_Class_ ## class_( FT_Library          library,                 \\\n-                               FT_ServiceDescRec*  clazz )                  \\\n-  {                                                                         \\\n-    FT_Memory  memory = library->memory;                                    \\\n-                                                                            \\\n-                                                                            \\\n-    if ( clazz )                                                            \\\n-      FT_FREE( clazz );                                                     \\\n-  }                                                                         \\\n-                                                                            \\\n-  FT_Error                                                                  \\\n-  FT_Create_Class_ ## class_( FT_Library           library,                 \\\n-                              FT_ServiceDescRec**  output_class )           \\\n-  {                                                                         \\\n-    FT_ServiceDescRec*  clazz  = NULL;                                      \\\n-    FT_Error            error;                                              \\\n-    FT_Memory           memory = library->memory;                           \\\n-                                                                            \\\n-                                                                            \\\n-    if ( FT_ALLOC( clazz, sizeof ( *clazz ) * 8 ) )                         \\\n-      return error;                                                         \\\n-                                                                            \\\n-    clazz[0].serv_id   = serv_id_1;                                         \\\n-    clazz[0].serv_data = serv_data_1;                                       \\\n-    clazz[1].serv_id   = serv_id_2;                                         \\\n-    clazz[1].serv_data = serv_data_2;                                       \\\n-    clazz[2].serv_id   = serv_id_3;                                         \\\n-    clazz[2].serv_data = serv_data_3;                                       \\\n-    clazz[3].serv_id   = serv_id_4;                                         \\\n-    clazz[3].serv_data = serv_data_4;                                       \\\n-    clazz[4].serv_id   = serv_id_5;                                         \\\n-    clazz[4].serv_data = serv_data_5;                                       \\\n-    clazz[5].serv_id   = serv_id_6;                                         \\\n-    clazz[5].serv_data = serv_data_6;                                       \\\n-    clazz[6].serv_id   = serv_id_7;                                         \\\n-    clazz[6].serv_data = serv_data_7;                                       \\\n-    clazz[7].serv_id   = NULL;                                              \\\n-    clazz[7].serv_data = NULL;                                              \\\n-                                                                            \\\n-    *output_class = clazz;                                                  \\\n-                                                                            \\\n-    return FT_Err_Ok;                                                       \\\n-  }\n-\n-#define FT_DEFINE_SERVICEDESCREC8( class_,                                  \\\n-                                   serv_id_1, serv_data_1,                  \\\n-                                   serv_id_2, serv_data_2,                  \\\n-                                   serv_id_3, serv_data_3,                  \\\n-                                   serv_id_4, serv_data_4,                  \\\n-                                   serv_id_5, serv_data_5,                  \\\n-                                   serv_id_6, serv_data_6,                  \\\n-                                   serv_id_7, serv_data_7,                  \\\n-                                   serv_id_8, serv_data_8 )                 \\\n-  void                                                                      \\\n-  FT_Destroy_Class_ ## class_( FT_Library          library,                 \\\n-                               FT_ServiceDescRec*  clazz )                  \\\n-  {                                                                         \\\n-    FT_Memory  memory = library->memory;                                    \\\n-                                                                            \\\n-                                                                            \\\n-    if ( clazz )                                                            \\\n-      FT_FREE( clazz );                                                     \\\n-  }                                                                         \\\n-                                                                            \\\n-  FT_Error                                                                  \\\n-  FT_Create_Class_ ## class_( FT_Library           library,                 \\\n-                              FT_ServiceDescRec**  output_class )           \\\n-  {                                                                         \\\n-    FT_ServiceDescRec*  clazz  = NULL;                                      \\\n-    FT_Error            error;                                              \\\n-    FT_Memory           memory = library->memory;                           \\\n-                                                                            \\\n-                                                                            \\\n-    if ( FT_ALLOC( clazz, sizeof ( *clazz ) * 9 ) )                         \\\n-      return error;                                                         \\\n-                                                                            \\\n-    clazz[0].serv_id   = serv_id_1;                                         \\\n-    clazz[0].serv_data = serv_data_1;                                       \\\n-    clazz[1].serv_id   = serv_id_2;                                         \\\n-    clazz[1].serv_data = serv_data_2;                                       \\\n-    clazz[2].serv_id   = serv_id_3;                                         \\\n-    clazz[2].serv_data = serv_data_3;                                       \\\n-    clazz[3].serv_id   = serv_id_4;                                         \\\n-    clazz[3].serv_data = serv_data_4;                                       \\\n-    clazz[4].serv_id   = serv_id_5;                                         \\\n-    clazz[4].serv_data = serv_data_5;                                       \\\n-    clazz[5].serv_id   = serv_id_6;                                         \\\n-    clazz[5].serv_data = serv_data_6;                                       \\\n-    clazz[6].serv_id   = serv_id_7;                                         \\\n-    clazz[6].serv_data = serv_data_7;                                       \\\n-    clazz[7].serv_id   = serv_id_8;                                         \\\n-    clazz[7].serv_data = serv_data_8;                                       \\\n-    clazz[8].serv_id   = NULL;                                              \\\n-    clazz[8].serv_data = NULL;                                              \\\n-                                                                            \\\n-    *output_class = clazz;                                                  \\\n-                                                                            \\\n-    return FT_Err_Ok;                                                       \\\n-  }\n-\n-#define FT_DEFINE_SERVICEDESCREC9( class_,                                  \\\n-                                   serv_id_1, serv_data_1,                  \\\n-                                   serv_id_2, serv_data_2,                  \\\n-                                   serv_id_3, serv_data_3,                  \\\n-                                   serv_id_4, serv_data_4,                  \\\n-                                   serv_id_5, serv_data_5,                  \\\n-                                   serv_id_6, serv_data_6,                  \\\n-                                   serv_id_7, serv_data_7,                  \\\n-                                   serv_id_8, serv_data_8,                  \\\n-                                   serv_id_9, serv_data_9 )                 \\\n-  void                                                                      \\\n-  FT_Destroy_Class_ ## class_( FT_Library          library,                 \\\n-                               FT_ServiceDescRec*  clazz )                  \\\n-  {                                                                         \\\n-    FT_Memory  memory = library->memory;                                    \\\n-                                                                            \\\n-                                                                            \\\n-    if ( clazz )                                                            \\\n-      FT_FREE( clazz );                                                     \\\n-  }                                                                         \\\n-                                                                            \\\n-  FT_Error                                                                  \\\n-  FT_Create_Class_ ## class_( FT_Library           library,                 \\\n-                              FT_ServiceDescRec**  output_class )           \\\n-  {                                                                         \\\n-    FT_ServiceDescRec*  clazz  = NULL;                                      \\\n-    FT_Error            error;                                              \\\n-    FT_Memory           memory = library->memory;                           \\\n-                                                                            \\\n-                                                                            \\\n-    if ( FT_ALLOC( clazz, sizeof ( *clazz ) * 10 ) )                        \\\n-      return error;                                                         \\\n-                                                                            \\\n-    clazz[0].serv_id   = serv_id_1;                                         \\\n-    clazz[0].serv_data = serv_data_1;                                       \\\n-    clazz[1].serv_id   = serv_id_2;                                         \\\n-    clazz[1].serv_data = serv_data_2;                                       \\\n-    clazz[2].serv_id   = serv_id_3;                                         \\\n-    clazz[2].serv_data = serv_data_3;                                       \\\n-    clazz[3].serv_id   = serv_id_4;                                         \\\n-    clazz[3].serv_data = serv_data_4;                                       \\\n-    clazz[4].serv_id   = serv_id_5;                                         \\\n-    clazz[4].serv_data = serv_data_5;                                       \\\n-    clazz[5].serv_id   = serv_id_6;                                         \\\n-    clazz[5].serv_data = serv_data_6;                                       \\\n-    clazz[6].serv_id   = serv_id_7;                                         \\\n-    clazz[6].serv_data = serv_data_7;                                       \\\n-    clazz[7].serv_id   = serv_id_8;                                         \\\n-    clazz[7].serv_data = serv_data_8;                                       \\\n-    clazz[8].serv_id   = serv_id_9;                                         \\\n-    clazz[8].serv_data = serv_data_9;                                       \\\n-    clazz[9].serv_id   = NULL;                                              \\\n-    clazz[9].serv_data = NULL;                                              \\\n-                                                                            \\\n-    *output_class = clazz;                                                  \\\n-                                                                            \\\n-    return FT_Err_Ok;                                                       \\\n-  }\n-\n-#define FT_DEFINE_SERVICEDESCREC10( class_,                                 \\\n-                                    serv_id_1, serv_data_1,                 \\\n-                                    serv_id_2, serv_data_2,                 \\\n-                                    serv_id_3, serv_data_3,                 \\\n-                                    serv_id_4, serv_data_4,                 \\\n-                                    serv_id_5, serv_data_5,                 \\\n-                                    serv_id_6, serv_data_6,                 \\\n-                                    serv_id_7, serv_data_7,                 \\\n-                                    serv_id_8, serv_data_8,                 \\\n-                                    serv_id_9, serv_data_9,                 \\\n-                                    serv_id_10, serv_data_10 )              \\\n-  void                                                                      \\\n-  FT_Destroy_Class_ ## class_( FT_Library          library,                 \\\n-                               FT_ServiceDescRec*  clazz )                  \\\n-  {                                                                         \\\n-    FT_Memory  memory = library->memory;                                    \\\n-                                                                            \\\n-                                                                            \\\n-    if ( clazz )                                                            \\\n-      FT_FREE( clazz );                                                     \\\n-  }                                                                         \\\n-                                                                            \\\n-  FT_Error                                                                  \\\n-  FT_Create_Class_ ## class_( FT_Library           library,                 \\\n-                              FT_ServiceDescRec**  output_class )           \\\n-  {                                                                         \\\n-    FT_ServiceDescRec*  clazz  = NULL;                                      \\\n-    FT_Error            error;                                              \\\n-    FT_Memory           memory = library->memory;                           \\\n-                                                                            \\\n-                                                                            \\\n-    if ( FT_ALLOC( clazz, sizeof ( *clazz ) * 11 ) )                        \\\n-      return error;                                                         \\\n-                                                                            \\\n-    clazz[ 0].serv_id   = serv_id_1;                                        \\\n-    clazz[ 0].serv_data = serv_data_1;                                      \\\n-    clazz[ 1].serv_id   = serv_id_2;                                        \\\n-    clazz[ 1].serv_data = serv_data_2;                                      \\\n-    clazz[ 2].serv_id   = serv_id_3;                                        \\\n-    clazz[ 2].serv_data = serv_data_3;                                      \\\n-    clazz[ 3].serv_id   = serv_id_4;                                        \\\n-    clazz[ 3].serv_data = serv_data_4;                                      \\\n-    clazz[ 4].serv_id   = serv_id_5;                                        \\\n-    clazz[ 4].serv_data = serv_data_5;                                      \\\n-    clazz[ 5].serv_id   = serv_id_6;                                        \\\n-    clazz[ 5].serv_data = serv_data_6;                                      \\\n-    clazz[ 6].serv_id   = serv_id_7;                                        \\\n-    clazz[ 6].serv_data = serv_data_7;                                      \\\n-    clazz[ 7].serv_id   = serv_id_8;                                        \\\n-    clazz[ 7].serv_data = serv_data_8;                                      \\\n-    clazz[ 8].serv_id   = serv_id_9;                                        \\\n-    clazz[ 8].serv_data = serv_data_9;                                      \\\n-    clazz[ 9].serv_id   = serv_id_10;                                       \\\n-    clazz[ 9].serv_data = serv_data_10;                                     \\\n-    clazz[10].serv_id   = NULL;                                             \\\n-    clazz[10].serv_data = NULL;                                             \\\n-                                                                            \\\n-    *output_class = clazz;                                                  \\\n-                                                                            \\\n-    return FT_Err_Ok;                                                       \\\n-  }\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n@@ -850,4 +354,4 @@\n-   *  Parse a list of FT_ServiceDescRec descriptors and look for\n-   *  a specific service by ID.  Note that the last element in the\n-   *  array must be { NULL, NULL }, and that the function should\n-   *  return NULL if the service isn't available.\n+   * Parse a list of FT_ServiceDescRec descriptors and look for a specific\n+   * service by ID.  Note that the last element in the array must be { NULL,\n+   * NULL }, and that the function should return NULL if the service isn't\n+   * available.\n@@ -855,2 +359,2 @@\n-   *  This function can be used by modules to implement their\n-   *  `get_service' method.\n+   * This function can be used by modules to implement their `get_service'\n+   * method.\n@@ -872,3 +376,3 @@\n-   *  This structure is used to store a cache for several frequently used\n-   *  services.  It is the type of `face->internal->services'.  You\n-   *  should only use FT_FACE_LOOKUP_SERVICE to access it.\n+   * This structure is used to store a cache for several frequently used\n+   * services.  It is the type of `face->internal->services'.  You should\n+   * only use FT_FACE_LOOKUP_SERVICE to access it.\n@@ -876,2 +380,2 @@\n-   *  All fields should have the type FT_Pointer to relax compilation\n-   *  dependencies.  We assume the developer isn't completely stupid.\n+   * All fields should have the type FT_Pointer to relax compilation\n+   * dependencies.  We assume the developer isn't completely stupid.\n@@ -879,3 +383,3 @@\n-   *  Each field must be named `service_XXXX' where `XXX' corresponds to\n-   *  the correct FT_SERVICE_ID_XXXX macro.  See the definition of\n-   *  FT_FACE_LOOKUP_SERVICE below how this is implemented.\n+   * Each field must be named `service_XXXX' where `XXX' corresponds to the\n+   * correct FT_SERVICE_ID_XXXX macro.  See the definition of\n+   * FT_FACE_LOOKUP_SERVICE below how this is implemented.\n@@ -897,1 +401,1 @@\n-   *  A magic number used within the services cache.\n+   * A magic number used within the services cache.\n@@ -904,1 +408,2 @@\n-  \/*\n+  \/**************************************************************************\n+   *\n@@ -913,1 +418,1 @@\n-   *   face::\n+   *   face ::\n@@ -924,1 +429,1 @@\n-   *     A variable receiving the service data.  NULL if not available.\n+   *     A variable receiving the service data.  `NULL` if not available.\n@@ -972,1 +477,1 @@\n-   *  A macro used to define new service structure types.\n+   * A macro used to define new service structure types.\n@@ -985,1 +490,1 @@\n-   *  The header files containing the services.\n+   * The header files containing the services.\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/ftserv.h","additions":87,"deletions":582,"binary":false,"changes":669,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftstream.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    Stream handling (specification).                                     *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftstream.h\n+ *\n+ *   Stream handling (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -99,1 +99,1 @@\n-#define FT_FIELD_SIZE( f ) \\\n+#define FT_FIELD_SIZE( f )                          \\\n@@ -102,1 +102,1 @@\n-#define FT_FIELD_SIZE_DELTA( f ) \\\n+#define FT_FIELD_SIZE_DELTA( f )                       \\\n@@ -105,1 +105,1 @@\n-#define FT_FIELD_OFFSET( f ) \\\n+#define FT_FIELD_OFFSET( f )                         \\\n@@ -150,5 +150,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Integer extraction macros -- the `buffer' parameter must ALWAYS be of *\/\n-  \/* type `char*' or equivalent (1-byte elements).                         *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Integer extraction macros -- the 'buffer' parameter must ALWAYS be of\n+   * type 'char*' or equivalent (1-byte elements).\n+   *\/\n@@ -168,0 +168,4 @@\n+  \/*\n+   * `FT_PEEK_XXX' are generic macros to get data from a buffer position.  No\n+   * safety checks are performed.\n+   *\/\n@@ -216,1 +220,4 @@\n-\n+  \/*\n+   * `FT_NEXT_XXX' are generic macros to get data from a buffer position\n+   * which is then increased appropriately.  No safety checks are performed.\n+   *\/\n@@ -261,4 +268,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Each GET_xxxx() macro uses an implicit `stream' variable.             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The `FT_GET_XXX` macros use an implicit 'stream' variable.\n+   *\n+   * Note that a call to `FT_STREAM_SEEK` or `FT_STREAM_POS` has **no**\n+   * effect on `FT_GET_XXX`!  They operate on `stream->pos`, while\n+   * `FT_GET_XXX` use `stream->cursor`.\n+   *\/\n@@ -302,0 +313,1 @@\n+\n@@ -306,0 +318,7 @@\n+  \/*\n+   * The `FT_READ_XXX' macros use implicit `stream' and `error' variables.\n+   *\n+   * `FT_READ_XXX' can be controlled with `FT_STREAM_SEEK' and\n+   * `FT_STREAM_POS'.  They use the full machinery to check whether a read is\n+   * valid.\n+   *\/\n@@ -390,1 +409,1 @@\n-  \/* the FT_Stream_Get_XXX functions to retrieve frame data without      *\/\n+  \/* the `FT_Stream_GetXXX' functions to retrieve frame data without     *\/\n@@ -393,1 +412,1 @@\n-  \/* You must _always_ call FT_Stream_ExitFrame() once you have entered  *\/\n+  \/* You must _always_ call `FT_Stream_ExitFrame' once you have entered  *\/\n@@ -396,0 +415,2 @@\n+  \/* Nested frames are not permitted.                                    *\/\n+  \/*                                                                     *\/\n@@ -404,0 +425,1 @@\n+\n@@ -406,1 +428,1 @@\n-  \/* is memory-based, this function simply set a pointer to the data.   *\/\n+  \/* is memory-based, this function simply sets a pointer to the data.  *\/\n@@ -410,2 +432,4 @@\n-  \/* All extracted frames must be `freed' with a call to the function   *\/\n-  \/* FT_Stream_ReleaseFrame().                                          *\/\n+  \/* `FT_Stream_GetXXX' functions can't be used.                        *\/\n+  \/*                                                                    *\/\n+  \/* An extracted frame must be `freed' with a call to the function     *\/\n+  \/* `FT_Stream_ReleaseFrame'.                                          *\/\n@@ -418,1 +442,1 @@\n-  \/* release an extract frame (see FT_Stream_ExtractFrame) *\/\n+  \/* release an extract frame (see `FT_Stream_ExtractFrame') *\/\n@@ -423,0 +447,1 @@\n+\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/ftstream.h","additions":60,"deletions":35,"binary":false,"changes":95,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  fttrace.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    Tracing handling (specification only).                               *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2002-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * fttrace.h\n+ *\n+ *   Tracing handling (specification only).\n+ *\n+ * Copyright (C) 2002-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -26,0 +26,2 @@\n+FT_TRACE_DEF( gloader )   \/* glyph loader            (ftgloadr.c) *\/\n+FT_TRACE_DEF( glyph )     \/* glyph management        (ftglyph.c)  *\/\n@@ -27,1 +29,1 @@\n-FT_TRACE_DEF( stream )    \/* stream manager          (ftstream.c) *\/\n+FT_TRACE_DEF( init )      \/* initialization          (ftinit.c)   *\/\n@@ -30,1 +32,0 @@\n-FT_TRACE_DEF( init )      \/* initialization          (ftinit.c)   *\/\n@@ -33,2 +34,1 @@\n-FT_TRACE_DEF( glyph )     \/* glyph management        (ftglyph.c)  *\/\n-FT_TRACE_DEF( gloader )   \/* glyph loader            (ftgloadr.c) *\/\n+FT_TRACE_DEF( stream )    \/* stream manager          (ftstream.c) *\/\n@@ -36,2 +36,2 @@\n-FT_TRACE_DEF( raster )    \/* monochrome rasterizer   (ftraster.c) *\/\n-FT_TRACE_DEF( smooth )    \/* anti-aliasing raster    (ftgrays.c)  *\/\n+FT_TRACE_DEF( bitmap )    \/* bitmap manipulation     (ftbitmap.c) *\/\n+FT_TRACE_DEF( checksum )  \/* bitmap checksum         (ftobjs.c)   *\/\n@@ -39,0 +39,1 @@\n+FT_TRACE_DEF( psprops )   \/* PS driver properties    (ftpsprop.c) *\/\n@@ -40,0 +41,2 @@\n+FT_TRACE_DEF( raster )    \/* monochrome rasterizer   (ftraster.c) *\/\n+FT_TRACE_DEF( smooth )    \/* anti-aliasing raster    (ftgrays.c)  *\/\n@@ -41,2 +44,0 @@\n-FT_TRACE_DEF( bitmap )    \/* bitmap checksum         (ftobjs.c)   *\/\n-FT_TRACE_DEF( psprops )   \/* PS driver properties    (ftpsprop.c) *\/\n@@ -50,0 +51,1 @@\n+FT_TRACE_DEF( ttbdf )     \/* TrueType embedded BDF   (ttbdf.c)    *\/\n@@ -51,0 +53,2 @@\n+FT_TRACE_DEF( ttcolr )    \/* glyph layer table       (ttcolr.c)   *\/\n+FT_TRACE_DEF( ttcpal )    \/* color palette table     (ttcpal.c)   *\/\n@@ -56,1 +60,0 @@\n-FT_TRACE_DEF( ttbdf )     \/* TrueType embedded BDF   (ttbdf.c)    *\/\n@@ -61,0 +64,1 @@\n+FT_TRACE_DEF( ttgxvar )   \/* TrueType GX var handler (ttgxvar.c)  *\/\n@@ -64,1 +68,0 @@\n-FT_TRACE_DEF( ttgxvar )   \/* TrueType GX var handler (ttgxvar.c)  *\/\n@@ -75,1 +78,0 @@\n-FT_TRACE_DEF( t1decode )\n@@ -77,1 +79,0 @@\n-FT_TRACE_DEF( psobjs )\n@@ -79,0 +80,2 @@\n+FT_TRACE_DEF( psobjs )\n+FT_TRACE_DEF( t1decode )\n@@ -81,1 +84,0 @@\n-FT_TRACE_DEF( pshrec )\n@@ -83,0 +85,1 @@\n+FT_TRACE_DEF( pshrec )\n@@ -120,1 +123,0 @@\n-FT_TRACE_DEF( otvmodule )\n@@ -128,0 +130,1 @@\n+FT_TRACE_DEF( otvmodule )\n@@ -130,1 +133,1 @@\n-FT_TRACE_DEF( gxvmodule )\n+FT_TRACE_DEF( gxvbsln )\n@@ -133,3 +136,0 @@\n-FT_TRACE_DEF( gxvmort )\n-FT_TRACE_DEF( gxvmorx )\n-FT_TRACE_DEF( gxvbsln )\n@@ -138,0 +138,4 @@\n+FT_TRACE_DEF( gxvmodule )\n+FT_TRACE_DEF( gxvmort )\n+FT_TRACE_DEF( gxvmorx )\n+FT_TRACE_DEF( gxvlcar )\n@@ -139,1 +143,0 @@\n-FT_TRACE_DEF( gxvtrak )\n@@ -141,1 +144,1 @@\n-FT_TRACE_DEF( gxvlcar )\n+FT_TRACE_DEF( gxvtrak )\n@@ -144,2 +147,0 @@\n-FT_TRACE_DEF( afmodule )\n-FT_TRACE_DEF( afhints )\n@@ -147,0 +148,3 @@\n+FT_TRACE_DEF( afglobal )\n+FT_TRACE_DEF( afhints )\n+FT_TRACE_DEF( afmodule )\n@@ -149,1 +153,0 @@\n-FT_TRACE_DEF( afwarp )\n@@ -151,1 +154,1 @@\n-FT_TRACE_DEF( afglobal )\n+FT_TRACE_DEF( afwarp )\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/fttrace.h","additions":43,"deletions":40,"binary":false,"changes":83,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftvalid.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    FreeType validation support (specification).                         *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2004-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftvalid.h\n+ *\n+ *   FreeType validation support (specification).\n+ *\n+ * Copyright (C) 2004-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -45,25 +45,25 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* There are three distinct validation levels defined here:              *\/\n-  \/*                                                                       *\/\n-  \/* FT_VALIDATE_DEFAULT ::                                                *\/\n-  \/*   A table that passes this validation level can be used reliably by   *\/\n-  \/*   FreeType.  It generally means that all offsets have been checked to *\/\n-  \/*   prevent out-of-bound reads, that array counts are correct, etc.     *\/\n-  \/*                                                                       *\/\n-  \/* FT_VALIDATE_TIGHT ::                                                  *\/\n-  \/*   A table that passes this validation level can be used reliably and  *\/\n-  \/*   doesn't contain invalid data.  For example, a charmap table that    *\/\n-  \/*   returns invalid glyph indices will not pass, even though it can     *\/\n-  \/*   be used with FreeType in default mode (the library will simply      *\/\n-  \/*   return an error later when trying to load the glyph).               *\/\n-  \/*                                                                       *\/\n-  \/*   It also checks that fields which must be a multiple of 2, 4, or 8,  *\/\n-  \/*   don't have incorrect values, etc.                                   *\/\n-  \/*                                                                       *\/\n-  \/* FT_VALIDATE_PARANOID ::                                               *\/\n-  \/*   Only for font debugging.  Checks that a table follows the           *\/\n-  \/*   specification by 100%.  Very few fonts will be able to pass this    *\/\n-  \/*   level anyway but it can be useful for certain tools like font       *\/\n-  \/*   editors\/converters.                                                 *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * There are three distinct validation levels defined here:\n+   *\n+   * FT_VALIDATE_DEFAULT ::\n+   *   A table that passes this validation level can be used reliably by\n+   *   FreeType.  It generally means that all offsets have been checked to\n+   *   prevent out-of-bound reads, that array counts are correct, etc.\n+   *\n+   * FT_VALIDATE_TIGHT ::\n+   *   A table that passes this validation level can be used reliably and\n+   *   doesn't contain invalid data.  For example, a charmap table that\n+   *   returns invalid glyph indices will not pass, even though it can be\n+   *   used with FreeType in default mode (the library will simply return an\n+   *   error later when trying to load the glyph).\n+   *\n+   *   It also checks that fields which must be a multiple of 2, 4, or 8,\n+   *   don't have incorrect values, etc.\n+   *\n+   * FT_VALIDATE_PARANOID ::\n+   *   Only for font debugging.  Checks that a table follows the\n+   *   specification by 100%.  Very few fonts will be able to pass this level\n+   *   anyway but it can be useful for certain tools like font\n+   *   editors\/converters.\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/ftvalid.h","additions":41,"deletions":41,"binary":false,"changes":82,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  internal.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    Internal header files (specification only).                          *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * internal.h\n+ *\n+ *   Internal header files (specification only).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -19,6 +19,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* This file is automatically included by `ft2build.h'.                  *\/\n-  \/* Do not include it manually!                                           *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * This file is automatically included by `ft2build.h`.  Do not include it\n+   * manually!\n+   *\n+   *\/\n@@ -28,1 +28,0 @@\n-#define FT_INTERNAL_PIC_H                 <freetype\/internal\/ftpic.h>\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/internal.h","additions":22,"deletions":23,"binary":false,"changes":45,"status":"modified"},{"patch":"@@ -1,17 +1,17 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  psaux.h                                                                *\/\n-\/*                                                                         *\/\n-\/*    Auxiliary functions and data structures related to PostScript fonts  *\/\n-\/*    (specification).                                                     *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * psaux.h\n+ *\n+ *   Auxiliary functions and data structures related to PostScript fonts\n+ *   (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -38,4 +38,4 @@\n-  \/***********************************************************************\/\n-  \/*                                                                     *\/\n-  \/* PostScript modules driver class.                                    *\/\n-  \/*                                                                     *\/\n+  \/**************************************************************************\n+   *\n+   * PostScript modules driver class.\n+   *\/\n@@ -67,17 +67,21 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    PS_Table_FuncsRec                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A set of function pointers to manage PS_Table objects.             *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    table_init    :: Used to initialize a table.                       *\/\n-  \/*                                                                       *\/\n-  \/*    table_done    :: Finalizes resp. destroy a given table.            *\/\n-  \/*                                                                       *\/\n-  \/*    table_add     :: Adds a new object to a table.                     *\/\n-  \/*                                                                       *\/\n-  \/*    table_release :: Releases table data, then finalizes it.           *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   PS_Table_FuncsRec\n+   *\n+   * @description:\n+   *   A set of function pointers to manage PS_Table objects.\n+   *\n+   * @fields:\n+   *   table_init ::\n+   *     Used to initialize a table.\n+   *\n+   *   table_done ::\n+   *     Finalizes resp. destroy a given table.\n+   *\n+   *   table_add ::\n+   *     Adds a new object to a table.\n+   *\n+   *   table_release ::\n+   *     Releases table data, then finalizes it.\n+   *\/\n@@ -106,35 +110,41 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    PS_TableRec                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A PS_Table is a simple object used to store an array of objects in *\/\n-  \/*    a single memory block.                                             *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    block     :: The address in memory of the growheap's block.  This  *\/\n-  \/*                 can change between two object adds, due to            *\/\n-  \/*                 reallocation.                                         *\/\n-  \/*                                                                       *\/\n-  \/*    cursor    :: The current top of the grow heap within its block.    *\/\n-  \/*                                                                       *\/\n-  \/*    capacity  :: The current size of the heap block.  Increments by    *\/\n-  \/*                 1kByte chunks.                                        *\/\n-  \/*                                                                       *\/\n-  \/*    init      :: Set to 0xDEADBEEF if `elements' and `lengths' have    *\/\n-  \/*                 been allocated.                                       *\/\n-  \/*                                                                       *\/\n-  \/*    max_elems :: The maximum number of elements in table.              *\/\n-  \/*                                                                       *\/\n-  \/*    num_elems :: The current number of elements in table.              *\/\n-  \/*                                                                       *\/\n-  \/*    elements  :: A table of element addresses within the block.        *\/\n-  \/*                                                                       *\/\n-  \/*    lengths   :: A table of element sizes within the block.            *\/\n-  \/*                                                                       *\/\n-  \/*    memory    :: The object used for memory operations                 *\/\n-  \/*                 (alloc\/realloc).                                      *\/\n-  \/*                                                                       *\/\n-  \/*    funcs     :: A table of method pointers for this object.           *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   PS_TableRec\n+   *\n+   * @description:\n+   *   A PS_Table is a simple object used to store an array of objects in a\n+   *   single memory block.\n+   *\n+   * @fields:\n+   *   block ::\n+   *     The address in memory of the growheap's block.  This can change\n+   *     between two object adds, due to reallocation.\n+   *\n+   *   cursor ::\n+   *     The current top of the grow heap within its block.\n+   *\n+   *   capacity ::\n+   *     The current size of the heap block.  Increments by 1kByte chunks.\n+   *\n+   *   init ::\n+   *     Set to 0xDEADBEEF if 'elements' and 'lengths' have been allocated.\n+   *\n+   *   max_elems ::\n+   *     The maximum number of elements in table.\n+   *\n+   *   num_elems ::\n+   *     The current number of elements in table.\n+   *\n+   *   elements ::\n+   *     A table of element addresses within the block.\n+   *\n+   *   lengths ::\n+   *     A table of element sizes within the block.\n+   *\n+   *   memory ::\n+   *     The object used for memory operations (alloc\/realloc).\n+   *\n+   *   funcs ::\n+   *     A table of method pointers for this object.\n+   *\/\n@@ -428,21 +438,27 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    PS_ParserRec                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A PS_Parser is an object used to parse a Type 1 font very quickly. *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    cursor :: The current position in the text.                        *\/\n-  \/*                                                                       *\/\n-  \/*    base   :: Start of the processed text.                             *\/\n-  \/*                                                                       *\/\n-  \/*    limit  :: End of the processed text.                               *\/\n-  \/*                                                                       *\/\n-  \/*    error  :: The last error returned.                                 *\/\n-  \/*                                                                       *\/\n-  \/*    memory :: The object used for memory operations (alloc\/realloc).   *\/\n-  \/*                                                                       *\/\n-  \/*    funcs  :: A table of functions for the parser.                     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   PS_ParserRec\n+   *\n+   * @description:\n+   *   A PS_Parser is an object used to parse a Type 1 font very quickly.\n+   *\n+   * @fields:\n+   *   cursor ::\n+   *     The current position in the text.\n+   *\n+   *   base ::\n+   *     Start of the processed text.\n+   *\n+   *   limit ::\n+   *     End of the processed text.\n+   *\n+   *   error ::\n+   *     The last error returned.\n+   *\n+   *   memory ::\n+   *     The object used for memory operations (alloc\/realloc).\n+   *\n+   *   funcs ::\n+   *     A table of functions for the parser.\n+   *\/\n@@ -487,45 +503,61 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Structure>                                                           *\/\n-  \/*    PS_Builder                                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*     A structure used during glyph loading to store its outline.       *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    memory       :: The current memory object.                         *\/\n-  \/*                                                                       *\/\n-  \/*    face         :: The current face object.                           *\/\n-  \/*                                                                       *\/\n-  \/*    glyph        :: The current glyph slot.                            *\/\n-  \/*                                                                       *\/\n-  \/*    loader       :: XXX                                                *\/\n-  \/*                                                                       *\/\n-  \/*    base         :: The base glyph outline.                            *\/\n-  \/*                                                                       *\/\n-  \/*    current      :: The current glyph outline.                         *\/\n-  \/*                                                                       *\/\n-  \/*    pos_x        :: The horizontal translation (if composite glyph).   *\/\n-  \/*                                                                       *\/\n-  \/*    pos_y        :: The vertical translation (if composite glyph).     *\/\n-  \/*                                                                       *\/\n-  \/*    left_bearing :: The left side bearing point.                       *\/\n-  \/*                                                                       *\/\n-  \/*    advance      :: The horizontal advance vector.                     *\/\n-  \/*                                                                       *\/\n-  \/*    bbox         :: Unused.                                            *\/\n-  \/*                                                                       *\/\n-  \/*    path_begun   :: A flag which indicates that a new path has begun.  *\/\n-  \/*                                                                       *\/\n-  \/*    load_points  :: If this flag is not set, no points are loaded.     *\/\n-  \/*                                                                       *\/\n-  \/*    no_recurse   :: Set but not used.                                  *\/\n-  \/*                                                                       *\/\n-  \/*    metrics_only :: A boolean indicating that we only want to compute  *\/\n-  \/*                    the metrics of a given glyph, not load all of its  *\/\n-  \/*                    points.                                            *\/\n-  \/*                                                                       *\/\n-  \/*    is_t1        :: Set if current font type is Type 1.                *\/\n-  \/*                                                                       *\/\n-  \/*    funcs        :: An array of function pointers for the builder.     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   PS_Builder\n+   *\n+   * @description:\n+   *    A structure used during glyph loading to store its outline.\n+   *\n+   * @fields:\n+   *   memory ::\n+   *     The current memory object.\n+   *\n+   *   face ::\n+   *     The current face object.\n+   *\n+   *   glyph ::\n+   *     The current glyph slot.\n+   *\n+   *   loader ::\n+   *     XXX\n+   *\n+   *   base ::\n+   *     The base glyph outline.\n+   *\n+   *   current ::\n+   *     The current glyph outline.\n+   *\n+   *   pos_x ::\n+   *     The horizontal translation (if composite glyph).\n+   *\n+   *   pos_y ::\n+   *     The vertical translation (if composite glyph).\n+   *\n+   *   left_bearing ::\n+   *     The left side bearing point.\n+   *\n+   *   advance ::\n+   *     The horizontal advance vector.\n+   *\n+   *   bbox ::\n+   *     Unused.\n+   *\n+   *   path_begun ::\n+   *     A flag which indicates that a new path has begun.\n+   *\n+   *   load_points ::\n+   *     If this flag is not set, no points are loaded.\n+   *\n+   *   no_recurse ::\n+   *     Set but not used.\n+   *\n+   *   metrics_only ::\n+   *     A boolean indicating that we only want to compute the metrics of a\n+   *     given glyph, not load all of its points.\n+   *\n+   *   is_t1 ::\n+   *     Set if current font type is Type 1.\n+   *\n+   *   funcs ::\n+   *     An array of function pointers for the builder.\n+   *\/\n@@ -732,48 +764,64 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Structure>                                                           *\/\n-  \/*    T1_BuilderRec                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*     A structure used during glyph loading to store its outline.       *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    memory       :: The current memory object.                         *\/\n-  \/*                                                                       *\/\n-  \/*    face         :: The current face object.                           *\/\n-  \/*                                                                       *\/\n-  \/*    glyph        :: The current glyph slot.                            *\/\n-  \/*                                                                       *\/\n-  \/*    loader       :: XXX                                                *\/\n-  \/*                                                                       *\/\n-  \/*    base         :: The base glyph outline.                            *\/\n-  \/*                                                                       *\/\n-  \/*    current      :: The current glyph outline.                         *\/\n-  \/*                                                                       *\/\n-  \/*    max_points   :: maximum points in builder outline                  *\/\n-  \/*                                                                       *\/\n-  \/*    max_contours :: Maximum number of contours in builder outline.     *\/\n-  \/*                                                                       *\/\n-  \/*    pos_x        :: The horizontal translation (if composite glyph).   *\/\n-  \/*                                                                       *\/\n-  \/*    pos_y        :: The vertical translation (if composite glyph).     *\/\n-  \/*                                                                       *\/\n-  \/*    left_bearing :: The left side bearing point.                       *\/\n-  \/*                                                                       *\/\n-  \/*    advance      :: The horizontal advance vector.                     *\/\n-  \/*                                                                       *\/\n-  \/*    bbox         :: Unused.                                            *\/\n-  \/*                                                                       *\/\n-  \/*    parse_state  :: An enumeration which controls the charstring       *\/\n-  \/*                    parsing state.                                     *\/\n-  \/*                                                                       *\/\n-  \/*    load_points  :: If this flag is not set, no points are loaded.     *\/\n-  \/*                                                                       *\/\n-  \/*    no_recurse   :: Set but not used.                                  *\/\n-  \/*                                                                       *\/\n-  \/*    metrics_only :: A boolean indicating that we only want to compute  *\/\n-  \/*                    the metrics of a given glyph, not load all of its  *\/\n-  \/*                    points.                                            *\/\n-  \/*                                                                       *\/\n-  \/*    funcs        :: An array of function pointers for the builder.     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   T1_BuilderRec\n+   *\n+   * @description:\n+   *    A structure used during glyph loading to store its outline.\n+   *\n+   * @fields:\n+   *   memory ::\n+   *     The current memory object.\n+   *\n+   *   face ::\n+   *     The current face object.\n+   *\n+   *   glyph ::\n+   *     The current glyph slot.\n+   *\n+   *   loader ::\n+   *     XXX\n+   *\n+   *   base ::\n+   *     The base glyph outline.\n+   *\n+   *   current ::\n+   *     The current glyph outline.\n+   *\n+   *   max_points ::\n+   *     maximum points in builder outline\n+   *\n+   *   max_contours ::\n+   *     Maximum number of contours in builder outline.\n+   *\n+   *   pos_x ::\n+   *     The horizontal translation (if composite glyph).\n+   *\n+   *   pos_y ::\n+   *     The vertical translation (if composite glyph).\n+   *\n+   *   left_bearing ::\n+   *     The left side bearing point.\n+   *\n+   *   advance ::\n+   *     The horizontal advance vector.\n+   *\n+   *   bbox ::\n+   *     Unused.\n+   *\n+   *   parse_state ::\n+   *     An enumeration which controls the charstring parsing state.\n+   *\n+   *   load_points ::\n+   *     If this flag is not set, no points are loaded.\n+   *\n+   *   no_recurse ::\n+   *     Set but not used.\n+   *\n+   *   metrics_only ::\n+   *     A boolean indicating that we only want to compute the metrics of a\n+   *     given glyph, not load all of its points.\n+   *\n+   *   funcs ::\n+   *     An array of function pointers for the builder.\n+   *\/\n@@ -820,5 +868,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* T1_MAX_SUBRS_CALLS details the maximum number of nested sub-routine   *\/\n-  \/* calls during glyph loading.                                           *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * T1_MAX_SUBRS_CALLS details the maximum number of nested sub-routine\n+   * calls during glyph loading.\n+   *\/\n@@ -828,5 +876,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* T1_MAX_CHARSTRING_OPERANDS is the charstring stack's capacity.  A     *\/\n-  \/* minimum of 16 is required.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * T1_MAX_CHARSTRING_OPERANDS is the charstring stack's capacity.  A\n+   * minimum of 16 is required.\n+   *\/\n@@ -996,47 +1044,64 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Structure>                                                           *\/\n-  \/*    CFF_Builder                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*     A structure used during glyph loading to store its outline.       *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    memory        :: The current memory object.                        *\/\n-  \/*                                                                       *\/\n-  \/*    face          :: The current face object.                          *\/\n-  \/*                                                                       *\/\n-  \/*    glyph         :: The current glyph slot.                           *\/\n-  \/*                                                                       *\/\n-  \/*    loader        :: The current glyph loader.                         *\/\n-  \/*                                                                       *\/\n-  \/*    base          :: The base glyph outline.                           *\/\n-  \/*                                                                       *\/\n-  \/*    current       :: The current glyph outline.                        *\/\n-  \/*                                                                       *\/\n-  \/*    pos_x         :: The horizontal translation (if composite glyph).  *\/\n-  \/*                                                                       *\/\n-  \/*    pos_y         :: The vertical translation (if composite glyph).    *\/\n-  \/*                                                                       *\/\n-  \/*    left_bearing  :: The left side bearing point.                      *\/\n-  \/*                                                                       *\/\n-  \/*    advance       :: The horizontal advance vector.                    *\/\n-  \/*                                                                       *\/\n-  \/*    bbox          :: Unused.                                           *\/\n-  \/*                                                                       *\/\n-  \/*    path_begun    :: A flag which indicates that a new path has begun. *\/\n-  \/*                                                                       *\/\n-  \/*    load_points   :: If this flag is not set, no points are loaded.    *\/\n-  \/*                                                                       *\/\n-  \/*    no_recurse    :: Set but not used.                                 *\/\n-  \/*                                                                       *\/\n-  \/*    metrics_only  :: A boolean indicating that we only want to compute *\/\n-  \/*                     the metrics of a given glyph, not load all of its *\/\n-  \/*                     points.                                           *\/\n-  \/*                                                                       *\/\n-  \/*    hints_funcs   :: Auxiliary pointer for hinting.                    *\/\n-  \/*                                                                       *\/\n-  \/*    hints_globals :: Auxiliary pointer for hinting.                    *\/\n-  \/*                                                                       *\/\n-  \/*    funcs         :: A table of method pointers for this object.       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   CFF_Builder\n+   *\n+   * @description:\n+   *    A structure used during glyph loading to store its outline.\n+   *\n+   * @fields:\n+   *   memory ::\n+   *     The current memory object.\n+   *\n+   *   face ::\n+   *     The current face object.\n+   *\n+   *   glyph ::\n+   *     The current glyph slot.\n+   *\n+   *   loader ::\n+   *     The current glyph loader.\n+   *\n+   *   base ::\n+   *     The base glyph outline.\n+   *\n+   *   current ::\n+   *     The current glyph outline.\n+   *\n+   *   pos_x ::\n+   *     The horizontal translation (if composite glyph).\n+   *\n+   *   pos_y ::\n+   *     The vertical translation (if composite glyph).\n+   *\n+   *   left_bearing ::\n+   *     The left side bearing point.\n+   *\n+   *   advance ::\n+   *     The horizontal advance vector.\n+   *\n+   *   bbox ::\n+   *     Unused.\n+   *\n+   *   path_begun ::\n+   *     A flag which indicates that a new path has begun.\n+   *\n+   *   load_points ::\n+   *     If this flag is not set, no points are loaded.\n+   *\n+   *   no_recurse ::\n+   *     Set but not used.\n+   *\n+   *   metrics_only ::\n+   *     A boolean indicating that we only want to compute the metrics of a\n+   *     given glyph, not load all of its points.\n+   *\n+   *   hints_funcs ::\n+   *     Auxiliary pointer for hinting.\n+   *\n+   *   hints_globals ::\n+   *     Auxiliary pointer for hinting.\n+   *\n+   *   funcs ::\n+   *     A table of method pointers for this object.\n+   *\/\n@@ -1214,19 +1279,21 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    AFM_ParserRec                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    An AFM_Parser is a parser for the AFM files.                       *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    memory    :: The object used for memory operations (alloc and      *\/\n-  \/*                 realloc).                                             *\/\n-  \/*                                                                       *\/\n-  \/*    stream    :: This is an opaque object.                             *\/\n-  \/*                                                                       *\/\n-  \/*    FontInfo  :: The result will be stored here.                       *\/\n-  \/*                                                                       *\/\n-  \/*    get_index :: A user provided function to get a glyph index by its  *\/\n-  \/*                 name.                                                 *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   AFM_ParserRec\n+   *\n+   * @description:\n+   *   An AFM_Parser is a parser for the AFM files.\n+   *\n+   * @fields:\n+   *   memory ::\n+   *     The object used for memory operations (alloc and realloc).\n+   *\n+   *   stream ::\n+   *     This is an opaque object.\n+   *\n+   *   FontInfo ::\n+   *     The result will be stored here.\n+   *\n+   *   get_index ::\n+   *     A user provided function to get a glyph index by its name.\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/psaux.h","additions":330,"deletions":263,"binary":false,"changes":593,"status":"modified"},{"patch":"@@ -1,18 +1,18 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  pshints.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    Interface to Postscript-specific (Type 1 and Type 2) hints           *\/\n-\/*    recorders (specification only).  These are used to support native    *\/\n-\/*    T1\/T2 hints in the `type1', `cid', and `cff' font drivers.           *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2001-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * pshints.h\n+ *\n+ *   Interface to Postscript-specific (Type 1 and Type 2) hints\n+ *   recorders (specification only).  These are used to support native\n+ *   T1\/T2 hints in the 'type1', 'cid', and 'cff' font drivers.\n+ *\n+ * Copyright (C) 2001-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -76,1 +76,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -89,1 +89,1 @@\n-   *   - Open a new hint recording session by calling the `open' method.\n+   *   - Open a new hint recording session by calling the 'open' method.\n@@ -93,1 +93,1 @@\n-   *     method (`stem', `stem3', or `reset').  Note that these functions do\n+   *     method ('stem', 'stem3', or 'reset').  Note that these functions do\n@@ -96,3 +96,3 @@\n-   *   - Close the recording session by calling the `close' method.  It\n-   *     returns an error code if the hints were invalid or something\n-   *     strange happened (e.g., memory shortage).\n+   *   - Close the recording session by calling the 'close' method.  It\n+   *     returns an error code if the hints were invalid or something strange\n+   *     happened (e.g., memory shortage).\n@@ -107,1 +107,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -120,1 +120,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -142,1 +142,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -149,1 +149,1 @@\n-   *   vertical stem.  This corresponds to the Type 1 `hstem' and `vstem'\n+   *   vertical stem.  This corresponds to the Type 1 'hstem' and 'vstem'\n@@ -167,2 +167,2 @@\n-   *   `coords[0]' is the absolute stem position (lowest coordinate);\n-   *   `coords[1]' is the length.\n+   *   'coords[0]' is the absolute stem position (lowest coordinate);\n+   *   'coords[1]' is the length.\n@@ -171,1 +171,1 @@\n-   *   -21.  It is interpreted as a `ghost' stem, according to the Type 1\n+   *   -21.  It is interpreted as a 'ghost' stem, according to the Type 1\n@@ -174,2 +174,2 @@\n-   *   If the length is -21 (corresponding to a bottom ghost stem), then\n-   *   the real stem position is `coords[0]+coords[1]'.\n+   *   If the length is -21 (corresponding to a bottom ghost stem), then the\n+   *   real stem position is 'coords[0]+coords[1]'.\n@@ -184,1 +184,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -218,1 +218,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -241,1 +241,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -270,1 +270,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -300,1 +300,1 @@\n-   *   The scaling transformation is taken from the `globals' object which\n+   *   The scaling transformation is taken from the 'globals' object which\n@@ -311,1 +311,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -363,1 +363,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -376,1 +376,1 @@\n-   *   - Open a new hint recording session by calling the `open' method.\n+   *   - Open a new hint recording session by calling the 'open' method.\n@@ -380,2 +380,2 @@\n-   *     method (`stems', `hintmask', `counters').  Note that these\n-   *     functions do not return an error code.\n+   *     method ('stems', 'hintmask', 'counters').  Note that these functions\n+   *     do not return an error code.\n@@ -383,3 +383,3 @@\n-   *   - Close the recording session by calling the `close' method.  It\n-   *     returns an error code if the hints were invalid or something\n-   *     strange happened (e.g., memory shortage).\n+   *   - Close the recording session by calling the 'close' method.  It\n+   *     returns an error code if the hints were invalid or something strange\n+   *     happened (e.g., memory shortage).\n@@ -394,1 +394,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -407,1 +407,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -429,1 +429,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -437,1 +437,1 @@\n-   *   `hstem', `vstem', `hstemhm', and `vstemhm' Type 2 operators.\n+   *   'hstem', 'vstem', 'hstemhm', and 'vstemhm' Type 2 operators.\n@@ -450,1 +450,1 @@\n-   *     An array of `count' (position,length) pairs in 16.16 format.\n+   *     An array of 'count' (position,length) pairs in 16.16 format.\n@@ -456,3 +456,3 @@\n-   *   There are `2*count' elements in the `coords' array.  Each even\n-   *   element is an absolute position in font units, each odd element is a\n-   *   length in font units.\n+   *   There are '2*count' elements in the 'coords' array.  Each even element\n+   *   is an absolute position in font units, each odd element is a length in\n+   *   font units.\n@@ -460,2 +460,2 @@\n-   *   A length can be negative, in which case it must be either -20 or\n-   *   -21.  It is interpreted as a `ghost' stem, according to the Type 1\n+   *   A length can be negative, in which case it must be either -20 or -21.\n+   *   It is interpreted as a 'ghost' stem, according to the Type 1\n@@ -472,1 +472,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -479,1 +479,1 @@\n-   *   corresponds to the `hintmask' Type 2 operator).\n+   *   corresponds to the 'hintmask' Type 2 operator).\n@@ -486,2 +486,2 @@\n-   *     The glyph index of the last point to which the previously defined\n-   *     or activated hints apply.\n+   *     The glyph index of the last point to which the previously defined or\n+   *     activated hints apply.\n@@ -497,1 +497,1 @@\n-   *   definition), the value of `end_point' should be 0.\n+   *   definition), the value of `end_point` should be 0.\n@@ -499,1 +499,1 @@\n-   *   `bit_count' is the number of meaningful bits in the `bytes' array; it\n+   *   `bit_count` is the number of meaningful bits in the 'bytes' array; it\n@@ -503,1 +503,1 @@\n-   *   The `bytes' array can come directly from the Type 2 charstring and\n+   *   The 'bytes' array can come directly from the Type 2 charstring and\n@@ -514,1 +514,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -520,2 +520,2 @@\n-   *   A method of the @T2_Hints class used to set a given counter mask\n-   *   (this corresponds to the `hintmask' Type 2 operator).\n+   *   A method of the @T2_Hints class used to set a given counter mask (this\n+   *   corresponds to the 'hintmask' Type 2 operator).\n@@ -539,1 +539,1 @@\n-   *   definition), the value of `end_point' should be 0.\n+   *   definition), the value of `end_point` should be 0.\n@@ -541,1 +541,1 @@\n-   *   `bit_count' is the number of meaningful bits in the `bytes' array; it\n+   *   `bit_count` is the number of meaningful bits in the 'bytes' array; it\n@@ -545,1 +545,1 @@\n-   *    The `bytes' array can come directly from the Type 2 charstring and\n+   *    The 'bytes' array can come directly from the Type 2 charstring and\n@@ -555,1 +555,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -584,1 +584,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -591,2 +591,1 @@\n-   *   corresponding glyph outline.  Must be called after the `close'\n-   *   method.\n+   *   corresponding glyph outline.  Must be called after the 'close' method.\n@@ -614,1 +613,1 @@\n-   *   The scaling transformation is taken from the `globals' object which\n+   *   The scaling transformation is taken from the 'globals' object which\n@@ -625,1 +624,1 @@\n-  \/*************************************************************************\n+  \/**************************************************************************\n@@ -683,2 +682,0 @@\n-#ifndef FT_CONFIG_OPTION_PIC\n-\n@@ -697,19 +694,0 @@\n-#else \/* FT_CONFIG_OPTION_PIC *\/\n-\n-#define FT_DEFINE_PSHINTER_INTERFACE(                      \\\n-          class_,                                          \\\n-          get_globals_funcs_,                              \\\n-          get_t1_funcs_,                                   \\\n-          get_t2_funcs_ )                                  \\\n-  void                                                     \\\n-  FT_Init_Class_ ## class_( FT_Library           library,  \\\n-                            PSHinter_Interface*  clazz )   \\\n-  {                                                        \\\n-    FT_UNUSED( library );                                  \\\n-                                                           \\\n-    clazz->get_globals_funcs = get_globals_funcs_;         \\\n-    clazz->get_t1_funcs      = get_t1_funcs_;              \\\n-    clazz->get_t2_funcs      = get_t2_funcs_;              \\\n-  }\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/pshints.h","additions":74,"deletions":96,"binary":false,"changes":170,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  svbdf.h                                                                *\/\n-\/*                                                                         *\/\n-\/*    The FreeType BDF services (specification).                           *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2003-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * svbdf.h\n+ *\n+ *   The FreeType BDF services (specification).\n+ *\n+ * Copyright (C) 2003-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -49,2 +49,0 @@\n-#ifndef FT_CONFIG_OPTION_PIC\n-\n@@ -59,14 +57,0 @@\n-#else \/* FT_CONFIG_OPTION_PIC *\/\n-\n-#define FT_DEFINE_SERVICE_BDFRec( class_,                                \\\n-                                  get_charset_id_,                       \\\n-                                  get_property_ )                        \\\n-  void                                                                   \\\n-  FT_Init_Class_ ## class_( FT_Service_BDFRec*  clazz )                  \\\n-  {                                                                      \\\n-    clazz->get_charset_id = get_charset_id_;                             \\\n-    clazz->get_property   = get_property_;                               \\\n-  }\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/services\/svbdf.h","additions":16,"deletions":32,"binary":false,"changes":48,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  svcfftl.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    The FreeType CFF tables loader service (specification).              *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2017-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * svcfftl.h\n+ *\n+ *   The FreeType CFF tables loader service (specification).\n+ *\n+ * Copyright (C) 2017-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -68,2 +68,0 @@\n-#ifndef FT_CONFIG_OPTION_PIC\n-\n@@ -85,20 +83,0 @@\n-#else \/* FT_CONFIG_OPTION_PIC *\/\n-\n-#define FT_DEFINE_SERVICE_CFFLOADREC( class_,                  \\\n-                                      get_standard_encoding_,  \\\n-                                      load_private_dict_,      \\\n-                                      fd_select_get_,          \\\n-                                      blend_check_vector_,     \\\n-                                      blend_build_vector_ )    \\\n-  void                                                         \\\n-  FT_Init_Class_ ## class_( FT_Service_CFFLoadRec*  clazz )    \\\n-  {                                                            \\\n-    clazz->get_standard_encoding = get_standard_encoding_;     \\\n-    clazz->load_private_dict     = load_private_dict_;         \\\n-    clazz->fd_select_get         = fd_select_get_;             \\\n-    clazz->blend_check_vector    = blend_check_vector_;        \\\n-    clazz->blend_build_vector    = blend_build_vector_;        \\\n-  }\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/services\/svcfftl.h","additions":16,"deletions":38,"binary":false,"changes":54,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  svcid.h                                                                *\/\n-\/*                                                                         *\/\n-\/*    The FreeType CID font services (specification).                      *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2007-2018 by                                                 *\/\n-\/*  Derek Clegg and Michael Toftdal.                                       *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * svcid.h\n+ *\n+ *   The FreeType CID font services (specification).\n+ *\n+ * Copyright (C) 2007-2019 by\n+ * Derek Clegg and Michael Toftdal.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -51,2 +51,0 @@\n-#ifndef FT_CONFIG_OPTION_PIC\n-\n@@ -62,19 +60,0 @@\n-#else \/* FT_CONFIG_OPTION_PIC *\/\n-\n-#define FT_DEFINE_SERVICE_CIDREC( class_,                                   \\\n-                                  get_ros_,                                 \\\n-                                  get_is_cid_,                              \\\n-                                  get_cid_from_glyph_index_ )               \\\n-  void                                                                      \\\n-  FT_Init_Class_ ## class_( FT_Library          library,                    \\\n-                            FT_Service_CIDRec*  clazz )                     \\\n-  {                                                                         \\\n-    FT_UNUSED( library );                                                   \\\n-                                                                            \\\n-    clazz->get_ros                  = get_ros_;                             \\\n-    clazz->get_is_cid               = get_is_cid_;                          \\\n-    clazz->get_cid_from_glyph_index = get_cid_from_glyph_index_;            \\\n-  }\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/services\/svcid.h","additions":16,"deletions":37,"binary":false,"changes":53,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  svfntfmt.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    The FreeType font format service (specification only).               *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2003-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * svfntfmt.h\n+ *\n+ *   The FreeType font format service (specification only).\n+ *\n+ * Copyright (C) 2003-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -29,3 +29,3 @@\n-   *  A trivial service used to return the name of a face's font driver,\n-   *  according to the XFree86 nomenclature.  Note that the service data\n-   *  is a simple constant string pointer.\n+   * A trivial service used to return the name of a face's font driver,\n+   * according to the XFree86 nomenclature.  Note that the service data is a\n+   * simple constant string pointer.\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/services\/svfntfmt.h","additions":19,"deletions":19,"binary":false,"changes":38,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  svgldict.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    The FreeType glyph dictionary services (specification).              *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2003-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * svgldict.h\n+ *\n+ *   The FreeType glyph dictionary services (specification).\n+ *\n+ * Copyright (C) 2003-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -29,2 +29,2 @@\n-   *  A service used to retrieve glyph names, as well as to find the\n-   *  index of a given glyph name in a font.\n+   * A service used to retrieve glyph names, as well as to find the index of\n+   * a given glyph name in a font.\n@@ -55,2 +55,0 @@\n-#ifndef FT_CONFIG_OPTION_PIC\n-\n@@ -65,17 +63,0 @@\n-#else \/* FT_CONFIG_OPTION_PIC *\/\n-\n-#define FT_DEFINE_SERVICE_GLYPHDICTREC( class_,                        \\\n-                                        get_name_,                     \\\n-                                        name_index_ )                  \\\n-  void                                                                 \\\n-  FT_Init_Class_ ## class_( FT_Library                library,         \\\n-                            FT_Service_GlyphDictRec*  clazz )          \\\n-  {                                                                    \\\n-    FT_UNUSED( library );                                              \\\n-                                                                       \\\n-    clazz->get_name   = get_name_;                                     \\\n-    clazz->name_index = name_index_;                                   \\\n-  }\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/services\/svgldict.h","additions":18,"deletions":37,"binary":false,"changes":55,"status":"modified"},{"patch":"@@ -1,25 +1,25 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  svgxval.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    FreeType API for validating TrueTypeGX\/AAT tables (specification).   *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2004-2018 by                                                 *\/\n-\/*  Masatake YAMATO, Red Hat K.K.,                                         *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/* gxvalid is derived from both gxlayout module and otvalid module.        *\/\n-\/* Development of gxlayout is supported by the Information-technology      *\/\n-\/* Promotion Agency(IPA), Japan.                                           *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * svgxval.h\n+ *\n+ *   FreeType API for validating TrueTypeGX\/AAT tables (specification).\n+ *\n+ * Copyright (C) 2004-2019 by\n+ * Masatake YAMATO, Red Hat K.K.,\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+\/****************************************************************************\n+ *\n+ * gxvalid is derived from both gxlayout module and otvalid module.\n+ * Development of gxlayout is supported by the Information-technology\n+ * Promotion Agency(IPA), Japan.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/services\/svgxval.h","additions":25,"deletions":25,"binary":false,"changes":50,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  svkern.h                                                               *\/\n-\/*                                                                         *\/\n-\/*    The FreeType Kerning service (specification).                        *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2006-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * svkern.h\n+ *\n+ *   The FreeType Kerning service (specification).\n+ *\n+ * Copyright (C) 2006-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/services\/svkern.h","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  svmetric.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    The FreeType services for metrics variations (specification).        *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2016-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * svmetric.h\n+ *\n+ *   The FreeType services for metrics variations (specification).\n+ *\n+ * Copyright (C) 2016-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -29,1 +29,1 @@\n-   *  A service to manage the `HVAR, `MVAR', and `VVAR' OpenType tables.\n+   * A service to manage the `HVAR, `MVAR', and `VVAR' OpenType tables.\n@@ -96,2 +96,0 @@\n-#ifndef FT_CONFIG_OPTION_PIC\n-\n@@ -119,26 +117,0 @@\n-#else \/* FT_CONFIG_OPTION_PIC *\/\n-\n-#define FT_DEFINE_SERVICE_METRICSVARIATIONSREC( class_,               \\\n-                                                hadvance_adjust_,     \\\n-                                                lsb_adjust_,          \\\n-                                                rsb_adjust_,          \\\n-                                                vadvance_adjust_,     \\\n-                                                tsb_adjust_,          \\\n-                                                bsb_adjust_,          \\\n-                                                vorg_adjust_,         \\\n-                                                metrics_adjust_  )    \\\n-  void                                                                \\\n-  FT_Init_Class_ ## class_( FT_Service_MetricsVariationsRec*  clazz ) \\\n-  {                                                                   \\\n-    clazz->hadvance_adjust = hadvance_adjust_;                        \\\n-    clazz->lsb_adjust      = lsb_adjust_;                             \\\n-    clazz->rsb_adjust      = rsb_adjust_;                             \\\n-    clazz->vadvance_adjust = vadvance_adjust_;                        \\\n-    clazz->tsb_adjust      = tsb_adjust_;                             \\\n-    clazz->bsb_adjust      = bsb_adjust_;                             \\\n-    clazz->vorg_adjust     = vorg_adjust_;                            \\\n-    clazz->metrics_adjust  = metrics_adjust_;                         \\\n-  }\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/services\/svmetric.h","additions":17,"deletions":45,"binary":false,"changes":62,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  svmm.h                                                                 *\/\n-\/*                                                                         *\/\n-\/*    The FreeType Multiple Masters and GX var services (specification).   *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2003-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * svmm.h\n+ *\n+ *   The FreeType Multiple Masters and GX var services (specification).\n+ *\n+ * Copyright (C) 2003-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -29,1 +29,1 @@\n-   *  A service used to manage multiple-masters data in a given face.\n+   * A service used to manage multiple-masters data in a given face.\n@@ -31,1 +31,1 @@\n-   *  See the related APIs in `ftmm.h' (FT_MULTIPLE_MASTERS_H).\n+   * See the related APIs in `ftmm.h' (FT_MULTIPLE_MASTERS_H).\n@@ -89,0 +89,10 @@\n+  typedef FT_Error\n+  (*FT_Set_MM_WeightVector_Func)( FT_Face    face,\n+                                  FT_UInt    len,\n+                                  FT_Fixed*  weight_vector );\n+\n+  typedef FT_Error\n+  (*FT_Get_MM_WeightVector_Func)( FT_Face    face,\n+                                  FT_UInt*   len,\n+                                  FT_Fixed*  weight_vector );\n+\n@@ -92,8 +102,10 @@\n-    FT_Get_MM_Func          get_mm;\n-    FT_Set_MM_Design_Func   set_mm_design;\n-    FT_Set_MM_Blend_Func    set_mm_blend;\n-    FT_Get_MM_Blend_Func    get_mm_blend;\n-    FT_Get_MM_Var_Func      get_mm_var;\n-    FT_Set_Var_Design_Func  set_var_design;\n-    FT_Get_Var_Design_Func  get_var_design;\n-    FT_Set_Instance_Func    set_instance;\n+    FT_Get_MM_Func               get_mm;\n+    FT_Set_MM_Design_Func        set_mm_design;\n+    FT_Set_MM_Blend_Func         set_mm_blend;\n+    FT_Get_MM_Blend_Func         get_mm_blend;\n+    FT_Get_MM_Var_Func           get_mm_var;\n+    FT_Set_Var_Design_Func       set_var_design;\n+    FT_Get_Var_Design_Func       get_var_design;\n+    FT_Set_Instance_Func         set_instance;\n+    FT_Set_MM_WeightVector_Func  set_mm_weightvector;\n+    FT_Get_MM_WeightVector_Func  get_mm_weightvector;\n@@ -102,2 +114,2 @@\n-    FT_Get_Var_Blend_Func   get_var_blend;\n-    FT_Done_Blend_Func      done_blend;\n+    FT_Get_Var_Blend_Func  get_var_blend;\n+    FT_Done_Blend_Func     done_blend;\n@@ -107,25 +119,27 @@\n-#ifndef FT_CONFIG_OPTION_PIC\n-\n-#define FT_DEFINE_SERVICE_MULTIMASTERSREC( class_,          \\\n-                                           get_mm_,         \\\n-                                           set_mm_design_,  \\\n-                                           set_mm_blend_,   \\\n-                                           get_mm_blend_,   \\\n-                                           get_mm_var_,     \\\n-                                           set_var_design_, \\\n-                                           get_var_design_, \\\n-                                           set_instance_,   \\\n-                                           get_var_blend_,  \\\n-                                           done_blend_ )    \\\n-  static const FT_Service_MultiMastersRec  class_ =         \\\n-  {                                                         \\\n-    get_mm_,                                                \\\n-    set_mm_design_,                                         \\\n-    set_mm_blend_,                                          \\\n-    get_mm_blend_,                                          \\\n-    get_mm_var_,                                            \\\n-    set_var_design_,                                        \\\n-    get_var_design_,                                        \\\n-    set_instance_,                                          \\\n-    get_var_blend_,                                         \\\n-    done_blend_                                             \\\n+#define FT_DEFINE_SERVICE_MULTIMASTERSREC( class_,            \\\n+                                           get_mm_,           \\\n+                                           set_mm_design_,    \\\n+                                           set_mm_blend_,     \\\n+                                           get_mm_blend_,     \\\n+                                           get_mm_var_,       \\\n+                                           set_var_design_,   \\\n+                                           get_var_design_,   \\\n+                                           set_instance_,     \\\n+                                           set_weightvector_, \\\n+                                           get_weightvector_, \\\n+                                           get_var_blend_,    \\\n+                                           done_blend_ )      \\\n+  static const FT_Service_MultiMastersRec  class_ =           \\\n+  {                                                           \\\n+    get_mm_,                                                  \\\n+    set_mm_design_,                                           \\\n+    set_mm_blend_,                                            \\\n+    get_mm_blend_,                                            \\\n+    get_mm_var_,                                              \\\n+    set_var_design_,                                          \\\n+    get_var_design_,                                          \\\n+    set_instance_,                                            \\\n+    set_weightvector_,                                        \\\n+    get_weightvector_,                                        \\\n+    get_var_blend_,                                           \\\n+    done_blend_                                               \\\n@@ -134,30 +148,0 @@\n-#else \/* FT_CONFIG_OPTION_PIC *\/\n-\n-#define FT_DEFINE_SERVICE_MULTIMASTERSREC( class_,               \\\n-                                           get_mm_,              \\\n-                                           set_mm_design_,       \\\n-                                           set_mm_blend_,        \\\n-                                           get_mm_blend_,        \\\n-                                           get_mm_var_,          \\\n-                                           set_var_design_,      \\\n-                                           get_var_design_,      \\\n-                                           set_instance_,        \\\n-                                           get_var_blend_,       \\\n-                                           done_blend_ )         \\\n-  void                                                           \\\n-  FT_Init_Class_ ## class_( FT_Service_MultiMastersRec*  clazz ) \\\n-  {                                                              \\\n-    clazz->get_mm         = get_mm_;                             \\\n-    clazz->set_mm_design  = set_mm_design_;                      \\\n-    clazz->set_mm_blend   = set_mm_blend_;                       \\\n-    clazz->get_mm_blend   = get_mm_blend_;                       \\\n-    clazz->get_mm_var     = get_mm_var_;                         \\\n-    clazz->set_var_design = set_var_design_;                     \\\n-    clazz->get_var_design = get_var_design_;                     \\\n-    clazz->set_instance   = set_instance_;                       \\\n-    clazz->get_var_blend  = get_var_blend_;                      \\\n-    clazz->done_blend     = done_blend_;                         \\\n-  }\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/services\/svmm.h","additions":67,"deletions":83,"binary":false,"changes":150,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  svotval.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    The FreeType OpenType validation service (specification).            *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2004-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * svotval.h\n+ *\n+ *   The FreeType OpenType validation service (specification).\n+ *\n+ * Copyright (C) 2004-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/services\/svotval.h","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  svpfr.h                                                                *\/\n-\/*                                                                         *\/\n-\/*    Internal PFR service functions (specification).                      *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2003-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * svpfr.h\n+ *\n+ *   Internal PFR service functions (specification).\n+ *\n+ * Copyright (C) 2003-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/services\/svpfr.h","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  svpostnm.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    The FreeType PostScript name services (specification).               *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2003-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * svpostnm.h\n+ *\n+ *   The FreeType PostScript name services (specification).\n+ *\n+ * Copyright (C) 2003-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -28,2 +28,2 @@\n-   *  A trivial service used to retrieve the PostScript name of a given\n-   *  font when available.  The `get_name' field should never be NULL.\n+   * A trivial service used to retrieve the PostScript name of a given font\n+   * when available.  The `get_name' field should never be `NULL`.\n@@ -31,2 +31,2 @@\n-   *  The corresponding function can return NULL to indicate that the\n-   *  PostScript name is not available.\n+   * The corresponding function can return `NULL` to indicate that the\n+   * PostScript name is not available.\n@@ -34,1 +34,1 @@\n-   *  The name is owned by the face and will be destroyed with it.\n+   * The name is owned by the face and will be destroyed with it.\n@@ -50,2 +50,0 @@\n-#ifndef FT_CONFIG_OPTION_PIC\n-\n@@ -58,14 +56,0 @@\n-#else \/* FT_CONFIG_OPTION_PIC *\/\n-\n-#define FT_DEFINE_SERVICE_PSFONTNAMEREC( class_, get_ps_font_name_ ) \\\n-  void                                                               \\\n-  FT_Init_Class_ ## class_( FT_Library                 library,      \\\n-                            FT_Service_PsFontNameRec*  clazz )       \\\n-  {                                                                  \\\n-    FT_UNUSED( library );                                            \\\n-                                                                     \\\n-    clazz->get_ps_font_name = get_ps_font_name_;                     \\\n-  }\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/services\/svpostnm.h","additions":21,"deletions":37,"binary":false,"changes":58,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  svprop.h                                                               *\/\n-\/*                                                                         *\/\n-\/*    The FreeType property service (specification).                       *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2012-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * svprop.h\n+ *\n+ *   The FreeType property service (specification).\n+ *\n+ * Copyright (C) 2012-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -48,2 +48,0 @@\n-#ifndef FT_CONFIG_OPTION_PIC\n-\n@@ -59,14 +57,0 @@\n-#else \/* FT_CONFIG_OPTION_PIC *\/\n-\n-#define FT_DEFINE_SERVICE_PROPERTIESREC( class_,                \\\n-                                         set_property_,         \\\n-                                         get_property_ )        \\\n-  void                                                          \\\n-  FT_Init_Class_ ## class_( FT_Service_PropertiesRec*  clazz )  \\\n-  {                                                             \\\n-    clazz->set_property = set_property_;                        \\\n-    clazz->get_property = get_property_;                        \\\n-  }\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/services\/svprop.h","additions":16,"deletions":32,"binary":false,"changes":48,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  svpscmap.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    The FreeType PostScript charmap service (specification).             *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2003-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * svpscmap.h\n+ *\n+ *   The FreeType PostScript charmap service (specification).\n+ *\n+ * Copyright (C) 2003-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -32,1 +32,1 @@\n-   *  Adobe glyph name to unicode value.\n+   * Adobe glyph name to unicode value.\n@@ -38,1 +38,1 @@\n-   *  Macintosh name id to glyph name.  NULL if invalid index.\n+   * Macintosh name id to glyph name.  `NULL` if invalid index.\n@@ -44,1 +44,1 @@\n-   *  Adobe standard string ID to glyph name.  NULL if invalid index.\n+   * Adobe standard string ID to glyph name.  `NULL` if invalid index.\n@@ -51,2 +51,1 @@\n-   *  Simple unicode -> glyph index charmap built from font glyph names\n-   *  table.\n+   * Simple unicode -> glyph index charmap built from font glyph names table.\n@@ -74,2 +73,2 @@\n-   *  A function which returns a glyph name for a given index.  Returns\n-   *  NULL if invalid index.\n+   * A function which returns a glyph name for a given index.  Returns\n+   * `NULL` if invalid index.\n@@ -82,2 +81,2 @@\n-   *  A function used to release the glyph name returned by\n-   *  PS_GetGlyphNameFunc, when needed\n+   * A function used to release the glyph name returned by\n+   * PS_GetGlyphNameFunc, when needed\n@@ -121,2 +120,0 @@\n-#ifndef FT_CONFIG_OPTION_PIC\n-\n@@ -139,29 +136,0 @@\n-#else \/* FT_CONFIG_OPTION_PIC *\/\n-\n-#define FT_DEFINE_SERVICE_PSCMAPSREC( class_,                               \\\n-                                      unicode_value_,                       \\\n-                                      unicodes_init_,                       \\\n-                                      unicodes_char_index_,                 \\\n-                                      unicodes_char_next_,                  \\\n-                                      macintosh_name_,                      \\\n-                                      adobe_std_strings_,                   \\\n-                                      adobe_std_encoding_,                  \\\n-                                      adobe_expert_encoding_ )              \\\n-  void                                                                      \\\n-  FT_Init_Class_ ## class_( FT_Library              library,                \\\n-                            FT_Service_PsCMapsRec*  clazz )                 \\\n-  {                                                                         \\\n-    FT_UNUSED( library );                                                   \\\n-                                                                            \\\n-    clazz->unicode_value         = unicode_value_;                          \\\n-    clazz->unicodes_init         = unicodes_init_;                          \\\n-    clazz->unicodes_char_index   = unicodes_char_index_;                    \\\n-    clazz->unicodes_char_next    = unicodes_char_next_;                     \\\n-    clazz->macintosh_name        = macintosh_name_;                         \\\n-    clazz->adobe_std_strings     = adobe_std_strings_;                      \\\n-    clazz->adobe_std_encoding    = adobe_std_encoding_;                     \\\n-    clazz->adobe_expert_encoding = adobe_expert_encoding_;                  \\\n-  }\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/services\/svpscmap.h","additions":24,"deletions":56,"binary":false,"changes":80,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  svpsinfo.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    The FreeType PostScript info service (specification).                *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2003-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * svpsinfo.h\n+ *\n+ *   The FreeType PostScript info service (specification).\n+ *\n+ * Copyright (C) 2003-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -65,2 +65,0 @@\n-#ifndef FT_CONFIG_OPTION_PIC\n-\n@@ -79,23 +77,0 @@\n-#else \/* FT_CONFIG_OPTION_PIC *\/\n-\n-#define FT_DEFINE_SERVICE_PSINFOREC( class_,                     \\\n-                                     get_font_info_,             \\\n-                                     ps_get_font_extra_,         \\\n-                                     has_glyph_names_,           \\\n-                                     get_font_private_,          \\\n-                                     get_font_value_ )           \\\n-  void                                                           \\\n-  FT_Init_Class_ ## class_( FT_Library             library,      \\\n-                            FT_Service_PsInfoRec*  clazz )       \\\n-  {                                                              \\\n-    FT_UNUSED( library );                                        \\\n-                                                                 \\\n-    clazz->ps_get_font_info    = get_font_info_;                 \\\n-    clazz->ps_get_font_extra   = ps_get_font_extra_;             \\\n-    clazz->ps_has_glyph_names  = has_glyph_names_;               \\\n-    clazz->ps_get_font_private = get_font_private_;              \\\n-    clazz->ps_get_font_value   = get_font_value_;                \\\n-  }\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/services\/svpsinfo.h","additions":16,"deletions":41,"binary":false,"changes":57,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  svsfnt.h                                                               *\/\n-\/*                                                                         *\/\n-\/*    The FreeType SFNT table loading service (specification).             *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2003-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * svsfnt.h\n+ *\n+ *   The FreeType SFNT table loading service (specification).\n+ *\n+ * Copyright (C) 2003-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -30,1 +30,1 @@\n-   *  SFNT table loading service.\n+   * SFNT table loading service.\n@@ -73,2 +73,0 @@\n-#ifndef FT_CONFIG_OPTION_PIC\n-\n@@ -81,13 +79,0 @@\n-#else \/* FT_CONFIG_OPTION_PIC *\/\n-\n-#define FT_DEFINE_SERVICE_SFNT_TABLEREC( class_, load_, get_, info_ ) \\\n-  void                                                                \\\n-  FT_Init_Class_ ## class_( FT_Service_SFNT_TableRec*  clazz )        \\\n-  {                                                                   \\\n-    clazz->load_table = load_;                                        \\\n-    clazz->get_table  = get_;                                         \\\n-    clazz->table_info = info_;                                        \\\n-  }\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/services\/svsfnt.h","additions":17,"deletions":32,"binary":false,"changes":49,"status":"modified"},{"patch":"@@ -1,17 +1,17 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  svttcmap.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    The FreeType TrueType\/sfnt cmap extra information service.           *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2003-2018 by                                                 *\/\n-\/*  Masatake YAMATO, Redhat K.K.,                                          *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * svttcmap.h\n+ *\n+ *   The FreeType TrueType\/sfnt cmap extra information service.\n+ *\n+ * Copyright (C) 2003-2019 by\n+ * Masatake YAMATO, Redhat K.K.,\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -35,23 +35,22 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    TT_CMapInfo                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure used to store TrueType\/sfnt specific cmap information  *\/\n-  \/*    which is not covered by the generic @FT_CharMap structure.  This   *\/\n-  \/*    structure can be accessed with the @FT_Get_TT_CMap_Info function.  *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    language ::                                                        *\/\n-  \/*      The language ID used in Mac fonts.  Definitions of values are in *\/\n-  \/*      `ttnameid.h'.                                                    *\/\n-  \/*                                                                       *\/\n-  \/*    format ::                                                          *\/\n-  \/*      The cmap format.  OpenType 1.6 defines the formats 0 (byte       *\/\n-  \/*      encoding table), 2~(high-byte mapping through table), 4~(segment *\/\n-  \/*      mapping to delta values), 6~(trimmed table mapping), 8~(mixed    *\/\n-  \/*      16-bit and 32-bit coverage), 10~(trimmed array), 12~(segmented   *\/\n-  \/*      coverage), 13~(last resort font), and 14 (Unicode Variation      *\/\n-  \/*      Sequences).                                                      *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   TT_CMapInfo\n+   *\n+   * @description:\n+   *   A structure used to store TrueType\/sfnt specific cmap information\n+   *   which is not covered by the generic @FT_CharMap structure.  This\n+   *   structure can be accessed with the @FT_Get_TT_CMap_Info function.\n+   *\n+   * @fields:\n+   *   language ::\n+   *     The language ID used in Mac fonts.  Definitions of values are in\n+   *     `ttnameid.h`.\n+   *\n+   *   format ::\n+   *     The cmap format.  OpenType 1.6 defines the formats 0 (byte encoding\n+   *     table), 2~(high-byte mapping through table), 4~(segment mapping to\n+   *     delta values), 6~(trimmed table mapping), 8~(mixed 16-bit and 32-bit\n+   *     coverage), 10~(trimmed array), 12~(segmented coverage), 13~(last\n+   *     resort font), and 14 (Unicode Variation Sequences).\n+   *\/\n@@ -76,1 +75,0 @@\n-#ifndef FT_CONFIG_OPTION_PIC\n@@ -84,14 +82,0 @@\n-#else \/* FT_CONFIG_OPTION_PIC *\/\n-\n-#define FT_DEFINE_SERVICE_TTCMAPSREC( class_, get_cmap_info_ )  \\\n-  void                                                          \\\n-  FT_Init_Class_ ## class_( FT_Library              library,    \\\n-                            FT_Service_TTCMapsRec*  clazz )     \\\n-  {                                                             \\\n-    FT_UNUSED( library );                                       \\\n-                                                                \\\n-    clazz->get_cmap_info = get_cmap_info_;                      \\\n-  }\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/services\/svttcmap.h","additions":39,"deletions":55,"binary":false,"changes":94,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  svtteng.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    The FreeType TrueType engine query service (specification).          *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2006-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * svtteng.h\n+ *\n+ *   The FreeType TrueType engine query service (specification).\n+ *\n+ * Copyright (C) 2006-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -30,1 +30,1 @@\n-   *  SFNT table loading service.\n+   * SFNT table loading service.\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/services\/svtteng.h","additions":17,"deletions":17,"binary":false,"changes":34,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  svttglyf.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    The FreeType TrueType glyph service.                                 *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2007-2018 by                                                 *\/\n-\/*  David Turner.                                                          *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * svttglyf.h\n+ *\n+ *   The FreeType TrueType glyph service.\n+ *\n+ * Copyright (C) 2007-2019 by\n+ * David Turner.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -42,2 +42,0 @@\n-#ifndef FT_CONFIG_OPTION_PIC\n-\n@@ -50,11 +48,0 @@\n-#else \/* FT_CONFIG_OPTION_PIC *\/\n-\n-#define FT_DEFINE_SERVICE_TTGLYFREC( class_, get_location_ )  \\\n-  void                                                        \\\n-  FT_Init_Class_ ## class_( FT_Service_TTGlyfRec*  clazz )    \\\n-  {                                                           \\\n-    clazz->get_location = get_location_;                      \\\n-  }\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/services\/svttglyf.h","additions":16,"deletions":29,"binary":false,"changes":45,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  svwinfnt.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    The FreeType Windows FNT\/FONT service (specification).               *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2003-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * svwinfnt.h\n+ *\n+ *   The FreeType Windows FNT\/FONT service (specification).\n+ *\n+ * Copyright (C) 2003-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/services\/svwinfnt.h","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  sfnt.h                                                                 *\/\n-\/*                                                                         *\/\n-\/*    High-level `sfnt' driver interface (specification).                  *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * sfnt.h\n+ *\n+ *   High-level 'sfnt' driver interface (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -31,37 +31,40 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    TT_Init_Face_Func                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    First part of the SFNT face object initialization.  This finds     *\/\n-  \/*    the face in a SFNT file or collection, and load its format tag in  *\/\n-  \/*    face->format_tag.                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    stream     :: The input stream.                                    *\/\n-  \/*                                                                       *\/\n-  \/*    face       :: A handle to the target face object.                  *\/\n-  \/*                                                                       *\/\n-  \/*    face_index :: The index of the TrueType font, if we are opening a  *\/\n-  \/*                  collection, in bits 0-15.  The numbered instance     *\/\n-  \/*                  index~+~1 of a GX (sub)font, if applicable, in bits  *\/\n-  \/*                  16-30.                                               *\/\n-  \/*                                                                       *\/\n-  \/*    num_params :: The number of additional parameters.                 *\/\n-  \/*                                                                       *\/\n-  \/*    params     :: Optional additional parameters.                      *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The stream cursor must be at the font file's origin.               *\/\n-  \/*                                                                       *\/\n-  \/*    This function recognizes fonts embedded in a `TrueType             *\/\n-  \/*    collection'.                                                       *\/\n-  \/*                                                                       *\/\n-  \/*    Once the format tag has been validated by the font driver, it      *\/\n-  \/*    should then call the TT_Load_Face_Func() callback to read the rest *\/\n-  \/*    of the SFNT tables in the object.                                  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   TT_Init_Face_Func\n+   *\n+   * @description:\n+   *   First part of the SFNT face object initialization.  This finds the\n+   *   face in a SFNT file or collection, and load its format tag in\n+   *   face->format_tag.\n+   *\n+   * @input:\n+   *   stream ::\n+   *     The input stream.\n+   *\n+   *   face ::\n+   *     A handle to the target face object.\n+   *\n+   *   face_index ::\n+   *     The index of the TrueType font, if we are opening a collection, in\n+   *     bits 0-15.  The numbered instance index~+~1 of a GX (sub)font, if\n+   *     applicable, in bits 16-30.\n+   *\n+   *   num_params ::\n+   *     The number of additional parameters.\n+   *\n+   *   params ::\n+   *     Optional additional parameters.\n+   *\n+   * @return:\n+   *   FreeType error code.  0 means success.\n+   *\n+   * @note:\n+   *   The stream cursor must be at the font file's origin.\n+   *\n+   *   This function recognizes fonts embedded in a 'TrueType collection'.\n+   *\n+   *   Once the format tag has been validated by the font driver, it should\n+   *   then call the TT_Load_Face_Func() callback to read the rest of the\n+   *   SFNT tables in the object.\n+   *\/\n@@ -76,30 +79,34 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    TT_Load_Face_Func                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Second part of the SFNT face object initialization.  This loads    *\/\n-  \/*    the common SFNT tables (head, OS\/2, maxp, metrics, etc.) in the    *\/\n-  \/*    face object.                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    stream     :: The input stream.                                    *\/\n-  \/*                                                                       *\/\n-  \/*    face       :: A handle to the target face object.                  *\/\n-  \/*                                                                       *\/\n-  \/*    face_index :: The index of the TrueType font, if we are opening a  *\/\n-  \/*                  collection, in bits 0-15.  The numbered instance     *\/\n-  \/*                  index~+~1 of a GX (sub)font, if applicable, in bits  *\/\n-  \/*                  16-30.                                               *\/\n-  \/*                                                                       *\/\n-  \/*    num_params :: The number of additional parameters.                 *\/\n-  \/*                                                                       *\/\n-  \/*    params     :: Optional additional parameters.                      *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    This function must be called after TT_Init_Face_Func().            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   TT_Load_Face_Func\n+   *\n+   * @description:\n+   *   Second part of the SFNT face object initialization.  This loads the\n+   *   common SFNT tables (head, OS\/2, maxp, metrics, etc.) in the face\n+   *   object.\n+   *\n+   * @input:\n+   *   stream ::\n+   *     The input stream.\n+   *\n+   *   face ::\n+   *     A handle to the target face object.\n+   *\n+   *   face_index ::\n+   *     The index of the TrueType font, if we are opening a collection, in\n+   *     bits 0-15.  The numbered instance index~+~1 of a GX (sub)font, if\n+   *     applicable, in bits 16-30.\n+   *\n+   *   num_params ::\n+   *     The number of additional parameters.\n+   *\n+   *   params ::\n+   *     Optional additional parameters.\n+   *\n+   * @return:\n+   *   FreeType error code.  0 means success.\n+   *\n+   * @note:\n+   *   This function must be called after TT_Init_Face_Func().\n+   *\/\n@@ -114,14 +121,15 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    TT_Done_Face_Func                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A callback used to delete the common SFNT data from a face.        *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face :: A handle to the target face object.                        *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    This function does NOT destroy the face object.                    *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   TT_Done_Face_Func\n+   *\n+   * @description:\n+   *   A callback used to delete the common SFNT data from a face.\n+   *\n+   * @input:\n+   *   face ::\n+   *     A handle to the target face object.\n+   *\n+   * @note:\n+   *   This function does NOT destroy the face object.\n+   *\/\n@@ -132,40 +140,39 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    TT_Load_Any_Func                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Load any font table into client memory.                            *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face   :: The face object to look for.                             *\/\n-  \/*                                                                       *\/\n-  \/*    tag    :: The tag of table to load.  Use the value 0 if you want   *\/\n-  \/*              to access the whole font file, else set this parameter   *\/\n-  \/*              to a valid TrueType table tag that you can forge with    *\/\n-  \/*              the MAKE_TT_TAG macro.                                   *\/\n-  \/*                                                                       *\/\n-  \/*    offset :: The starting offset in the table (or the file if         *\/\n-  \/*              tag == 0).                                               *\/\n-  \/*                                                                       *\/\n-  \/*    length :: The address of the decision variable:                    *\/\n-  \/*                                                                       *\/\n-  \/*                If length == NULL:                                     *\/\n-  \/*                  Loads the whole table.  Returns an error if          *\/\n-  \/*                  `offset' == 0!                                       *\/\n-  \/*                                                                       *\/\n-  \/*                If *length == 0:                                       *\/\n-  \/*                  Exits immediately; returning the length of the given *\/\n-  \/*                  table or of the font file, depending on the value of *\/\n-  \/*                  `tag'.                                               *\/\n-  \/*                                                                       *\/\n-  \/*                If *length != 0:                                       *\/\n-  \/*                  Loads the next `length' bytes of table or font,      *\/\n-  \/*                  starting at offset `offset' (in table or font too).  *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    buffer :: The address of target buffer.                            *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    TrueType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   TT_Load_Any_Func\n+   *\n+   * @description:\n+   *   Load any font table into client memory.\n+   *\n+   * @input:\n+   *   face ::\n+   *     The face object to look for.\n+   *\n+   *   tag ::\n+   *     The tag of table to load.  Use the value 0 if you want to access the\n+   *     whole font file, else set this parameter to a valid TrueType table\n+   *     tag that you can forge with the MAKE_TT_TAG macro.\n+   *\n+   *   offset ::\n+   *     The starting offset in the table (or the file if tag == 0).\n+   *\n+   *   length ::\n+   *     The address of the decision variable:\n+   *\n+   *     If `length == NULL`: Loads the whole table.  Returns an error if\n+   *     'offset' == 0!\n+   *\n+   *     If `*length == 0`: Exits immediately; returning the length of the\n+   *     given table or of the font file, depending on the value of 'tag'.\n+   *\n+   *     If `*length != 0`: Loads the next 'length' bytes of table or font,\n+   *     starting at offset 'offset' (in table or font too).\n+   *\n+   * @output:\n+   *   buffer ::\n+   *     The address of target buffer.\n+   *\n+   * @return:\n+   *   TrueType error code.  0 means success.\n+   *\/\n@@ -180,28 +187,33 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    TT_Find_SBit_Image_Func                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Check whether an embedded bitmap (an `sbit') exists for a given    *\/\n-  \/*    glyph, at a given strike.                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face          :: The target face object.                           *\/\n-  \/*                                                                       *\/\n-  \/*    glyph_index   :: The glyph index.                                  *\/\n-  \/*                                                                       *\/\n-  \/*    strike_index  :: The current strike index.                         *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    arange        :: The SBit range containing the glyph index.        *\/\n-  \/*                                                                       *\/\n-  \/*    astrike       :: The SBit strike containing the glyph index.       *\/\n-  \/*                                                                       *\/\n-  \/*    aglyph_offset :: The offset of the glyph data in `EBDT' table.     *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.  Returns                    *\/\n-  \/*    SFNT_Err_Invalid_Argument if no sbit exists for the requested      *\/\n-  \/*    glyph.                                                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   TT_Find_SBit_Image_Func\n+   *\n+   * @description:\n+   *   Check whether an embedded bitmap (an 'sbit') exists for a given glyph,\n+   *   at a given strike.\n+   *\n+   * @input:\n+   *   face ::\n+   *     The target face object.\n+   *\n+   *   glyph_index ::\n+   *     The glyph index.\n+   *\n+   *   strike_index ::\n+   *     The current strike index.\n+   *\n+   * @output:\n+   *   arange ::\n+   *     The SBit range containing the glyph index.\n+   *\n+   *   astrike ::\n+   *     The SBit strike containing the glyph index.\n+   *\n+   *   aglyph_offset ::\n+   *     The offset of the glyph data in 'EBDT' table.\n+   *\n+   * @return:\n+   *   FreeType error code.  0 means success.  Returns\n+   *   SFNT_Err_Invalid_Argument if no sbit exists for the requested glyph.\n+   *\/\n@@ -217,27 +229,30 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    TT_Load_SBit_Metrics_Func                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Get the big metrics for a given embedded bitmap.                   *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    stream      :: The input stream.                                   *\/\n-  \/*                                                                       *\/\n-  \/*    range       :: The SBit range containing the glyph.                *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    big_metrics :: A big SBit metrics structure for the glyph.         *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The stream cursor must be positioned at the glyph's offset within  *\/\n-  \/*    the `EBDT' table before the call.                                  *\/\n-  \/*                                                                       *\/\n-  \/*    If the image format uses variable metrics, the stream cursor is    *\/\n-  \/*    positioned just after the metrics header in the `EBDT' table on    *\/\n-  \/*    function exit.                                                     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   TT_Load_SBit_Metrics_Func\n+   *\n+   * @description:\n+   *   Get the big metrics for a given embedded bitmap.\n+   *\n+   * @input:\n+   *   stream ::\n+   *     The input stream.\n+   *\n+   *   range ::\n+   *     The SBit range containing the glyph.\n+   *\n+   * @output:\n+   *   big_metrics ::\n+   *     A big SBit metrics structure for the glyph.\n+   *\n+   * @return:\n+   *   FreeType error code.  0 means success.\n+   *\n+   * @note:\n+   *   The stream cursor must be positioned at the glyph's offset within the\n+   *   'EBDT' table before the call.\n+   *\n+   *   If the image format uses variable metrics, the stream cursor is\n+   *   positioned just after the metrics header in the 'EBDT' table on\n+   *   function exit.\n+   *\/\n@@ -250,39 +265,39 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    TT_Load_SBit_Image_Func                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Load a given glyph sbit image from the font resource.  This also   *\/\n-  \/*    returns its metrics.                                               *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face ::                                                            *\/\n-  \/*      The target face object.                                          *\/\n-  \/*                                                                       *\/\n-  \/*    strike_index ::                                                    *\/\n-  \/*      The strike index.                                                *\/\n-  \/*                                                                       *\/\n-  \/*    glyph_index ::                                                     *\/\n-  \/*      The current glyph index.                                         *\/\n-  \/*                                                                       *\/\n-  \/*    load_flags ::                                                      *\/\n-  \/*      The current load flags.                                          *\/\n-  \/*                                                                       *\/\n-  \/*    stream ::                                                          *\/\n-  \/*      The input stream.                                                *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    amap ::                                                            *\/\n-  \/*      The target pixmap.                                               *\/\n-  \/*                                                                       *\/\n-  \/*    ametrics ::                                                        *\/\n-  \/*      A big sbit metrics structure for the glyph image.                *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.  Returns an error if no     *\/\n-  \/*    glyph sbit exists for the index.                                   *\/\n-  \/*                                                                       *\/\n-  \/*  <Note>                                                               *\/\n-  \/*    The `map.buffer' field is always freed before the glyph is loaded. *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   TT_Load_SBit_Image_Func\n+   *\n+   * @description:\n+   *   Load a given glyph sbit image from the font resource.  This also\n+   *   returns its metrics.\n+   *\n+   * @input:\n+   *   face ::\n+   *     The target face object.\n+   *\n+   *   strike_index ::\n+   *     The strike index.\n+   *\n+   *   glyph_index ::\n+   *     The current glyph index.\n+   *\n+   *   load_flags ::\n+   *     The current load flags.\n+   *\n+   *   stream ::\n+   *     The input stream.\n+   *\n+   * @output:\n+   *   amap ::\n+   *     The target pixmap.\n+   *\n+   *   ametrics ::\n+   *     A big sbit metrics structure for the glyph image.\n+   *\n+   * @return:\n+   *   FreeType error code.  0 means success.  Returns an error if no glyph\n+   *   sbit exists for the index.\n+   *\n+   * @note:\n+   *   The `map.buffer` field is always freed before the glyph is loaded.\n+   *\/\n@@ -299,20 +314,23 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    TT_Set_SBit_Strike_Func                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Select an sbit strike for a given size request.                    *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face          :: The target face object.                           *\/\n-  \/*                                                                       *\/\n-  \/*    req           :: The size request.                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    astrike_index :: The index of the sbit strike.                     *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.  Returns an error if no     *\/\n-  \/*    sbit strike exists for the selected ppem values.                   *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   TT_Set_SBit_Strike_Func\n+   *\n+   * @description:\n+   *   Select an sbit strike for a given size request.\n+   *\n+   * @input:\n+   *   face ::\n+   *     The target face object.\n+   *\n+   *   req ::\n+   *     The size request.\n+   *\n+   * @output:\n+   *   astrike_index ::\n+   *     The index of the sbit strike.\n+   *\n+   * @return:\n+   *   FreeType error code.  0 means success.  Returns an error if no sbit\n+   *   strike exists for the selected ppem values.\n+   *\/\n@@ -325,20 +343,23 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    TT_Load_Strike_Metrics_Func                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Load the metrics of a given strike.                                *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face          :: The target face object.                           *\/\n-  \/*                                                                       *\/\n-  \/*    strike_index  :: The strike index.                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    metrics       :: the metrics of the strike.                        *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.  Returns an error if no     *\/\n-  \/*    such sbit strike exists.                                           *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   TT_Load_Strike_Metrics_Func\n+   *\n+   * @description:\n+   *   Load the metrics of a given strike.\n+   *\n+   * @input:\n+   *   face ::\n+   *     The target face object.\n+   *\n+   *   strike_index ::\n+   *     The strike index.\n+   *\n+   * @output:\n+   *   metrics ::\n+   *     the metrics of the strike.\n+   *\n+   * @return:\n+   *   FreeType error code.  0 means success.  Returns an error if no such\n+   *   sbit strike exists.\n+   *\/\n@@ -351,19 +372,21 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    TT_Get_PS_Name_Func                                                *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Get the PostScript glyph name of a glyph.                          *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    idx  :: The glyph index.                                           *\/\n-  \/*                                                                       *\/\n-  \/*    PSname :: The address of a string pointer.  Will be NULL in case   *\/\n-  \/*              of error, otherwise it is a pointer to the glyph name.   *\/\n-  \/*                                                                       *\/\n-  \/*              You must not modify the returned string!                 *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   TT_Get_PS_Name_Func\n+   *\n+   * @description:\n+   *   Get the PostScript glyph name of a glyph.\n+   *\n+   * @input:\n+   *   idx ::\n+   *     The glyph index.\n+   *\n+   *   PSname ::\n+   *     The address of a string pointer.  Will be `NULL` in case of error,\n+   *     otherwise it is a pointer to the glyph name.\n+   *\n+   *     You must not modify the returned string!\n+   *\n+   * @output:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -376,19 +399,22 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    TT_Load_Metrics_Func                                               *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Load a metrics table, which is a table with a horizontal and a     *\/\n-  \/*    vertical version.                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face     :: A handle to the target face object.                    *\/\n-  \/*                                                                       *\/\n-  \/*    stream   :: The input stream.                                      *\/\n-  \/*                                                                       *\/\n-  \/*    vertical :: A boolean flag.  If set, load the vertical one.        *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   TT_Load_Metrics_Func\n+   *\n+   * @description:\n+   *   Load a metrics table, which is a table with a horizontal and a\n+   *   vertical version.\n+   *\n+   * @input:\n+   *   face ::\n+   *     A handle to the target face object.\n+   *\n+   *   stream ::\n+   *     The input stream.\n+   *\n+   *   vertical ::\n+   *     A boolean flag.  If set, load the vertical one.\n+   *\n+   * @return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -401,22 +427,25 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    TT_Get_Metrics_Func                                                *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Load the horizontal or vertical header in a face object.           *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face     :: A handle to the target face object.                    *\/\n-  \/*                                                                       *\/\n-  \/*    vertical :: A boolean flag.  If set, load vertical metrics.        *\/\n-  \/*                                                                       *\/\n-  \/*    gindex   :: The glyph index.                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    abearing :: The horizontal (or vertical) bearing.  Set to zero in  *\/\n-  \/*                case of error.                                         *\/\n-  \/*                                                                       *\/\n-  \/*    aadvance :: The horizontal (or vertical) advance.  Set to zero in  *\/\n-  \/*                case of error.                                         *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   TT_Get_Metrics_Func\n+   *\n+   * @description:\n+   *   Load the horizontal or vertical header in a face object.\n+   *\n+   * @input:\n+   *   face ::\n+   *     A handle to the target face object.\n+   *\n+   *   vertical ::\n+   *     A boolean flag.  If set, load vertical metrics.\n+   *\n+   *   gindex ::\n+   *     The glyph index.\n+   *\n+   * @output:\n+   *   abearing ::\n+   *     The horizontal (or vertical) bearing.  Set to zero in case of error.\n+   *\n+   *   aadvance ::\n+   *     The horizontal (or vertical) advance.  Set to zero in case of error.\n+   *\/\n@@ -431,21 +460,128 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    TT_Get_Name_Func                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    From the `name' table, return a given ENGLISH name record in       *\/\n-  \/*    ASCII.                                                             *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face     :: A handle to the source face object.                    *\/\n-  \/*                                                                       *\/\n-  \/*    nameid   :: The name id of the name record to return.              *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    name     :: The address of an allocated string pointer.  NULL if   *\/\n-  \/*                no name is present.                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   TT_Set_Palette_Func\n+   *\n+   * @description:\n+   *   Load the colors into `face->palette` for a given palette index.\n+   *\n+   * @input:\n+   *   face ::\n+   *     The target face object.\n+   *\n+   *   idx ::\n+   *     The palette index.\n+   *\n+   * @return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n+  typedef FT_Error\n+  (*TT_Set_Palette_Func)( TT_Face  face,\n+                          FT_UInt  idx );\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   TT_Get_Colr_Layer_Func\n+   *\n+   * @description:\n+   *   Iteratively get the color layer data of a given glyph index.\n+   *\n+   * @input:\n+   *   face ::\n+   *     The target face object.\n+   *\n+   *   base_glyph ::\n+   *     The glyph index the colored glyph layers are associated with.\n+   *\n+   * @inout:\n+   *   iterator ::\n+   *     An @FT_LayerIterator object.  For the first call you should set\n+   *     `iterator->p` to `NULL`.  For all following calls, simply use the\n+   *     same object again.\n+   *\n+   * @output:\n+   *   aglyph_index ::\n+   *     The glyph index of the current layer.\n+   *\n+   *   acolor_index ::\n+   *     The color index into the font face's color palette of the current\n+   *     layer.  The value 0xFFFF is special; it doesn't reference a palette\n+   *     entry but indicates that the text foreground color should be used\n+   *     instead (to be set up by the application outside of FreeType).\n+   *\n+   * @return:\n+   *   Value~1 if everything is OK.  If there are no more layers (or if there\n+   *   are no layers at all), value~0 gets returned.  In case of an error,\n+   *   value~0 is returned also.\n+   *\/\n+  typedef FT_Bool\n+  (*TT_Get_Colr_Layer_Func)( TT_Face            face,\n+                             FT_UInt            base_glyph,\n+                             FT_UInt           *aglyph_index,\n+                             FT_UInt           *acolor_index,\n+                             FT_LayerIterator*  iterator );\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   TT_Blend_Colr_Func\n+   *\n+   * @description:\n+   *   Blend the bitmap in `new_glyph` into `base_glyph` using the color\n+   *   specified by `color_index`.  If `color_index` is 0xFFFF, use\n+   *   `face->foreground_color` if `face->have_foreground_color` is set.\n+   *   Otherwise check `face->palette_data.palette_flags`: If present and\n+   *   @FT_PALETTE_FOR_DARK_BACKGROUND is set, use BGRA value 0xFFFFFFFF\n+   *   (white opaque).  Otherwise use BGRA value 0x000000FF (black opaque).\n+   *\n+   * @input:\n+   *   face ::\n+   *     The target face object.\n+   *\n+   *   color_index ::\n+   *     Color index from the COLR table.\n+   *\n+   *   base_glyph ::\n+   *     Slot for bitmap to be merged into.  The underlying bitmap may get\n+   *     reallocated.\n+   *\n+   *   new_glyph ::\n+   *     Slot to be incooperated into `base_glyph`.\n+   *\n+   * @return:\n+   *   FreeType error code.  0 means success.  Returns an error if\n+   *   color_index is invalid or reallocation fails.\n+   *\/\n+  typedef FT_Error\n+  (*TT_Blend_Colr_Func)( TT_Face       face,\n+                         FT_UInt       color_index,\n+                         FT_GlyphSlot  base_glyph,\n+                         FT_GlyphSlot  new_glyph );\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   TT_Get_Name_Func\n+   *\n+   * @description:\n+   *   From the 'name' table, return a given ENGLISH name record in ASCII.\n+   *\n+   * @input:\n+   *   face ::\n+   *     A handle to the source face object.\n+   *\n+   *   nameid ::\n+   *     The name id of the name record to return.\n+   *\n+   * @inout:\n+   *   name ::\n+   *     The address of an allocated string pointer.  `NULL` if no name is\n+   *     present.\n+   *\n+   * @return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -458,24 +594,28 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    TT_Get_Name_ID_Func                                                *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Search whether an ENGLISH version for a given name ID is in the    *\/\n-  \/*    `name' table.                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face     :: A handle to the source face object.                    *\/\n-  \/*                                                                       *\/\n-  \/*    nameid   :: The name id of the name record to return.              *\/\n-  \/*                                                                       *\/\n-  \/* <Out>                                                                 *\/\n-  \/*    win      :: If non-negative, an index into the `name' table with   *\/\n-  \/*                the corresponding (3,1) or (3,0) Windows entry.        *\/\n-  \/*                                                                       *\/\n-  \/*    apple    :: If non-negative, an index into the `name' table with   *\/\n-  \/*                the corresponding (1,0) Apple entry.                   *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    1 if there is either a win or apple entry (or both), 0 otheriwse.  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   TT_Get_Name_ID_Func\n+   *\n+   * @description:\n+   *   Search whether an ENGLISH version for a given name ID is in the 'name'\n+   *   table.\n+   *\n+   * @input:\n+   *   face ::\n+   *     A handle to the source face object.\n+   *\n+   *   nameid ::\n+   *     The name id of the name record to return.\n+   *\n+   * @output:\n+   *   win ::\n+   *     If non-negative, an index into the 'name' table with the\n+   *     corresponding (3,1) or (3,0) Windows entry.\n+   *\n+   *   apple ::\n+   *     If non-negative, an index into the 'name' table with the\n+   *     corresponding (1,0) Apple entry.\n+   *\n+   * @return:\n+   *   1 if there is either a win or apple entry (or both), 0 otheriwse.\n+   *\/\n@@ -489,20 +629,22 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    TT_Load_Table_Func                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Load a given TrueType table.                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face   :: A handle to the target face object.                      *\/\n-  \/*                                                                       *\/\n-  \/*    stream :: The input stream.                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The function uses `face->goto_table' to seek the stream to the     *\/\n-  \/*    start of the table, except while loading the font directory.       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   TT_Load_Table_Func\n+   *\n+   * @description:\n+   *   Load a given TrueType table.\n+   *\n+   * @input:\n+   *   face ::\n+   *     A handle to the target face object.\n+   *\n+   *   stream ::\n+   *     The input stream.\n+   *\n+   * @return:\n+   *   FreeType error code.  0 means success.\n+   *\n+   * @note:\n+   *   The function uses `face->goto_table` to seek the stream to the start\n+   *   of the table, except while loading the font directory.\n+   *\/\n@@ -514,11 +656,12 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    TT_Free_Table_Func                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Free a given TrueType table.                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face :: A handle to the target face object.                        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   TT_Free_Table_Func\n+   *\n+   * @description:\n+   *   Free a given TrueType table.\n+   *\n+   * @input:\n+   *   face ::\n+   *     A handle to the target face object.\n+   *\/\n@@ -537,3 +680,8 @@\n-   *    face        :: A handle to the source face object.\n-   *    left_glyph  :: The left glyph index.\n-   *    right_glyph :: The right glyph index.\n+   *    face ::\n+   *      A handle to the source face object.\n+   *\n+   *    left_glyph ::\n+   *      The left glyph index.\n+   *\n+   *    right_glyph ::\n+   *      The right glyph index.\n@@ -550,12 +698,12 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    SFNT_Interface                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This structure holds pointers to the functions used to load and    *\/\n-  \/*    free the basic tables that are required in a `sfnt' font file.     *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    Check the various xxx_Func() descriptions for details.             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   SFNT_Interface\n+   *\n+   * @description:\n+   *   This structure holds pointers to the functions used to load and free\n+   *   the basic tables that are required in a 'sfnt' font file.\n+   *\n+   * @fields:\n+   *   Check the various xxx_Func() descriptions for details.\n+   *\/\n@@ -619,0 +767,8 @@\n+    TT_Load_Table_Func           load_cpal;\n+    TT_Load_Table_Func           load_colr;\n+    TT_Free_Table_Func           free_cpal;\n+    TT_Free_Table_Func           free_colr;\n+    TT_Set_Palette_Func          set_palette;\n+    TT_Get_Colr_Layer_Func       get_colr_layer;\n+    TT_Blend_Colr_Func           colr_blend;\n+\n@@ -630,1 +786,0 @@\n-#ifndef FT_CONFIG_OPTION_PIC\n@@ -662,0 +817,7 @@\n+          load_cpal_,                    \\\n+          load_colr_,                    \\\n+          free_cpal_,                    \\\n+          free_colr_,                    \\\n+          set_palette_,                  \\\n+          get_colr_layer_,               \\\n+          colr_blend_,                   \\\n@@ -695,0 +857,7 @@\n+    load_cpal_,                          \\\n+    load_colr_,                          \\\n+    free_cpal_,                          \\\n+    free_colr_,                          \\\n+    set_palette_,                        \\\n+    get_colr_layer_,                     \\\n+    colr_blend_,                         \\\n@@ -700,78 +869,0 @@\n-#else \/* FT_CONFIG_OPTION_PIC *\/\n-\n-#define FT_INTERNAL( a, a_ )  \\\n-          clazz->a = a_;\n-\n-#define FT_DEFINE_SFNT_INTERFACE(                       \\\n-          class_,                                       \\\n-          goto_table_,                                  \\\n-          init_face_,                                   \\\n-          load_face_,                                   \\\n-          done_face_,                                   \\\n-          get_interface_,                               \\\n-          load_any_,                                    \\\n-          load_head_,                                   \\\n-          load_hhea_,                                   \\\n-          load_cmap_,                                   \\\n-          load_maxp_,                                   \\\n-          load_os2_,                                    \\\n-          load_post_,                                   \\\n-          load_name_,                                   \\\n-          free_name_,                                   \\\n-          load_kern_,                                   \\\n-          load_gasp_,                                   \\\n-          load_pclt_,                                   \\\n-          load_bhed_,                                   \\\n-          load_sbit_image_,                             \\\n-          get_psname_,                                  \\\n-          free_psnames_,                                \\\n-          get_kerning_,                                 \\\n-          load_font_dir_,                               \\\n-          load_hmtx_,                                   \\\n-          load_eblc_,                                   \\\n-          free_eblc_,                                   \\\n-          set_sbit_strike_,                             \\\n-          load_strike_metrics_,                         \\\n-          get_metrics_,                                 \\\n-          get_name_,                                    \\\n-          get_name_id_ )                                \\\n-  void                                                  \\\n-  FT_Init_Class_ ## class_( FT_Library       library,   \\\n-                            SFNT_Interface*  clazz )    \\\n-  {                                                     \\\n-    FT_UNUSED( library );                               \\\n-                                                        \\\n-    clazz->goto_table          = goto_table_;           \\\n-    clazz->init_face           = init_face_;            \\\n-    clazz->load_face           = load_face_;            \\\n-    clazz->done_face           = done_face_;            \\\n-    clazz->get_interface       = get_interface_;        \\\n-    clazz->load_any            = load_any_;             \\\n-    clazz->load_head           = load_head_;            \\\n-    clazz->load_hhea           = load_hhea_;            \\\n-    clazz->load_cmap           = load_cmap_;            \\\n-    clazz->load_maxp           = load_maxp_;            \\\n-    clazz->load_os2            = load_os2_;             \\\n-    clazz->load_post           = load_post_;            \\\n-    clazz->load_name           = load_name_;            \\\n-    clazz->free_name           = free_name_;            \\\n-    clazz->load_kern           = load_kern_;            \\\n-    clazz->load_gasp           = load_gasp_;            \\\n-    clazz->load_pclt           = load_pclt_;            \\\n-    clazz->load_bhed           = load_bhed_;            \\\n-    clazz->load_sbit_image     = load_sbit_image_;      \\\n-    clazz->get_psname          = get_psname_;           \\\n-    clazz->free_psnames        = free_psnames_;         \\\n-    clazz->get_kerning         = get_kerning_;          \\\n-    clazz->load_font_dir       = load_font_dir_;        \\\n-    clazz->load_hmtx           = load_hmtx_;            \\\n-    clazz->load_eblc           = load_eblc_;            \\\n-    clazz->free_eblc           = free_eblc_;            \\\n-    clazz->set_sbit_strike     = set_sbit_strike_;      \\\n-    clazz->load_strike_metrics = load_strike_metrics_;  \\\n-    clazz->get_metrics         = get_metrics_;          \\\n-    clazz->get_name            = get_name_;             \\\n-    clazz->get_name_id         = get_name_id_;          \\\n-  }\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/sfnt.h","additions":592,"deletions":501,"binary":false,"changes":1093,"status":"modified"},{"patch":"@@ -1,17 +1,17 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  t1types.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    Basic Type1\/Type2 type definitions and interface (specification      *\/\n-\/*    only).                                                               *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * t1types.h\n+ *\n+ *   Basic Type1\/Type2 type definitions and interface (specification\n+ *   only).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -48,22 +48,25 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    T1_EncodingRec                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure modeling a custom encoding.                            *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    num_chars  :: The number of character codes in the encoding.       *\/\n-  \/*                  Usually 256.                                         *\/\n-  \/*                                                                       *\/\n-  \/*    code_first :: The lowest valid character code in the encoding.     *\/\n-  \/*                                                                       *\/\n-  \/*    code_last  :: The highest valid character code in the encoding     *\/\n-  \/*                  + 1. When equal to code_first there are no valid     *\/\n-  \/*                  character codes.                                     *\/\n-  \/*                                                                       *\/\n-  \/*    char_index :: An array of corresponding glyph indices.             *\/\n-  \/*                                                                       *\/\n-  \/*    char_name  :: An array of corresponding glyph names.               *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   T1_EncodingRec\n+   *\n+   * @description:\n+   *   A structure modeling a custom encoding.\n+   *\n+   * @fields:\n+   *   num_chars ::\n+   *     The number of character codes in the encoding.  Usually 256.\n+   *\n+   *   code_first ::\n+   *     The lowest valid character code in the encoding.\n+   *\n+   *   code_last ::\n+   *     The highest valid character code in the encoding + 1. When equal to\n+   *     code_first there are no valid character codes.\n+   *\n+   *   char_index ::\n+   *     An array of corresponding glyph indices.\n+   *\n+   *   char_name ::\n+   *     An array of corresponding glyph names.\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/t1types.h","additions":42,"deletions":39,"binary":false,"changes":81,"status":"modified"},{"patch":"@@ -1,17 +1,17 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  tttypes.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    Basic SFNT\/TrueType type definitions and interface (specification    *\/\n-\/*    only).                                                               *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * tttypes.h\n+ *\n+ *   Basic SFNT\/TrueType type definitions and interface (specification\n+ *   only).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -27,0 +27,1 @@\n+#include FT_COLOR_H\n@@ -49,21 +50,24 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    TTC_HeaderRec                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    TrueType collection header.  This table contains the offsets of    *\/\n-  \/*    the font headers of each distinct TrueType face in the file.       *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    tag     :: Must be `ttc ' to indicate a TrueType collection.       *\/\n-  \/*                                                                       *\/\n-  \/*    version :: The version number.                                     *\/\n-  \/*                                                                       *\/\n-  \/*    count   :: The number of faces in the collection.  The             *\/\n-  \/*               specification says this should be an unsigned long, but *\/\n-  \/*               we use a signed long since we need the value -1 for     *\/\n-  \/*               specific purposes.                                      *\/\n-  \/*                                                                       *\/\n-  \/*    offsets :: The offsets of the font headers, one per face.          *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   TTC_HeaderRec\n+   *\n+   * @description:\n+   *   TrueType collection header.  This table contains the offsets of the\n+   *   font headers of each distinct TrueType face in the file.\n+   *\n+   * @fields:\n+   *   tag ::\n+   *     Must be 'ttc~' to indicate a TrueType collection.\n+   *\n+   *   version ::\n+   *     The version number.\n+   *\n+   *   count ::\n+   *     The number of faces in the collection.  The specification says this\n+   *     should be an unsigned long, but we use a signed long since we need\n+   *     the value -1 for specific purposes.\n+   *\n+   *   offsets ::\n+   *     The offsets of the font headers, one per face.\n+   *\/\n@@ -80,19 +84,24 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    SFNT_HeaderRec                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    SFNT file format header.                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    format_tag     :: The font format tag.                             *\/\n-  \/*                                                                       *\/\n-  \/*    num_tables     :: The number of tables in file.                    *\/\n-  \/*                                                                       *\/\n-  \/*    search_range   :: Must be `16 * (max power of 2 <= num_tables)'.   *\/\n-  \/*                                                                       *\/\n-  \/*    entry_selector :: Must be log2 of `search_range \/ 16'.             *\/\n-  \/*                                                                       *\/\n-  \/*    range_shift    :: Must be `num_tables * 16 - search_range'.        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   SFNT_HeaderRec\n+   *\n+   * @description:\n+   *   SFNT file format header.\n+   *\n+   * @fields:\n+   *   format_tag ::\n+   *     The font format tag.\n+   *\n+   *   num_tables ::\n+   *     The number of tables in file.\n+   *\n+   *   search_range ::\n+   *     Must be '16 * (max power of 2 <= num_tables)'.\n+   *\n+   *   entry_selector ::\n+   *     Must be log2 of 'search_range \/ 16'.\n+   *\n+   *   range_shift ::\n+   *     Must be 'num_tables * 16 - search_range'.\n+   *\/\n@@ -112,18 +121,22 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    TT_TableRec                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This structure describes a given table of a TrueType font.         *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    Tag      :: A four-bytes tag describing the table.                 *\/\n-  \/*                                                                       *\/\n-  \/*    CheckSum :: The table checksum.  This value can be ignored.        *\/\n-  \/*                                                                       *\/\n-  \/*    Offset   :: The offset of the table from the start of the TrueType *\/\n-  \/*                font in its resource.                                  *\/\n-  \/*                                                                       *\/\n-  \/*    Length   :: The table length (in bytes).                           *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   TT_TableRec\n+   *\n+   * @description:\n+   *   This structure describes a given table of a TrueType font.\n+   *\n+   * @fields:\n+   *   Tag ::\n+   *     A four-bytes tag describing the table.\n+   *\n+   *   CheckSum ::\n+   *     The table checksum.  This value can be ignored.\n+   *\n+   *   Offset ::\n+   *     The offset of the table from the start of the TrueType font in its\n+   *     resource.\n+   *\n+   *   Length ::\n+   *     The table length (in bytes).\n+   *\/\n@@ -140,13 +153,13 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    WOFF_HeaderRec                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    WOFF file format header.                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    See                                                                *\/\n-  \/*                                                                       *\/\n-  \/*      https:\/\/www.w3.org\/TR\/WOFF\/#WOFFHeader                           *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   WOFF_HeaderRec\n+   *\n+   * @description:\n+   *   WOFF file format header.\n+   *\n+   * @fields:\n+   *   See\n+   *\n+   *     https:\/\/www.w3.org\/TR\/WOFF\/#WOFFHeader\n+   *\/\n@@ -172,24 +185,30 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    WOFF_TableRec                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This structure describes a given table of a WOFF font.             *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    Tag        :: A four-bytes tag describing the table.               *\/\n-  \/*                                                                       *\/\n-  \/*    Offset     :: The offset of the table from the start of the WOFF   *\/\n-  \/*                  font in its resource.                                *\/\n-  \/*                                                                       *\/\n-  \/*    CompLength :: Compressed table length (in bytes).                  *\/\n-  \/*                                                                       *\/\n-  \/*    OrigLength :: Uncompressed table length (in bytes).                *\/\n-  \/*                                                                       *\/\n-  \/*    CheckSum   :: The table checksum.  This value can be ignored.      *\/\n-  \/*                                                                       *\/\n-  \/*    OrigOffset :: The uncompressed table file offset.  This value gets *\/\n-  \/*                  computed while constructing the (uncompressed) SFNT  *\/\n-  \/*                  header.  It is not contained in the WOFF file.       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   WOFF_TableRec\n+   *\n+   * @description:\n+   *   This structure describes a given table of a WOFF font.\n+   *\n+   * @fields:\n+   *   Tag ::\n+   *     A four-bytes tag describing the table.\n+   *\n+   *   Offset ::\n+   *     The offset of the table from the start of the WOFF font in its\n+   *     resource.\n+   *\n+   *   CompLength ::\n+   *     Compressed table length (in bytes).\n+   *\n+   *   OrigLength ::\n+   *     Uncompressed table length (in bytes).\n+   *\n+   *   CheckSum ::\n+   *     The table checksum.  This value can be ignored.\n+   *\n+   *   OrigOffset ::\n+   *     The uncompressed table file offset.  This value gets computed while\n+   *     constructing the (uncompressed) SFNT header.  It is not contained in\n+   *     the WOFF file.\n+   *\/\n@@ -209,14 +228,16 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    TT_LongMetricsRec                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure modeling the long metrics of the `hmtx' and `vmtx'     *\/\n-  \/*    TrueType tables.  The values are expressed in font units.          *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    advance :: The advance width or height for the glyph.              *\/\n-  \/*                                                                       *\/\n-  \/*    bearing :: The left-side or top-side bearing for the glyph.        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   TT_LongMetricsRec\n+   *\n+   * @description:\n+   *   A structure modeling the long metrics of the 'hmtx' and 'vmtx'\n+   *   TrueType tables.  The values are expressed in font units.\n+   *\n+   * @fields:\n+   *   advance ::\n+   *     The advance width or height for the glyph.\n+   *\n+   *   bearing ::\n+   *     The left-side or top-side bearing for the glyph.\n+   *\/\n@@ -231,9 +252,9 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    TT_ShortMetrics                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A simple type to model the short metrics of the `hmtx' and `vmtx'  *\/\n-  \/*    tables.                                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   TT_ShortMetrics\n+   *\n+   * @description:\n+   *   A simple type to model the short metrics of the 'hmtx' and 'vmtx'\n+   *   tables.\n+   *\/\n@@ -243,27 +264,33 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    TT_NameRec                                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure modeling TrueType name records.  Name records are used *\/\n-  \/*    to store important strings like family name, style name,           *\/\n-  \/*    copyright, etc. in _localized_ versions (i.e., language, encoding, *\/\n-  \/*    etc).                                                              *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    platformID   :: The ID of the name's encoding platform.            *\/\n-  \/*                                                                       *\/\n-  \/*    encodingID   :: The platform-specific ID for the name's encoding.  *\/\n-  \/*                                                                       *\/\n-  \/*    languageID   :: The platform-specific ID for the name's language.  *\/\n-  \/*                                                                       *\/\n-  \/*    nameID       :: The ID specifying what kind of name this is.       *\/\n-  \/*                                                                       *\/\n-  \/*    stringLength :: The length of the string in bytes.                 *\/\n-  \/*                                                                       *\/\n-  \/*    stringOffset :: The offset to the string in the `name' table.      *\/\n-  \/*                                                                       *\/\n-  \/*    string       :: A pointer to the string's bytes.  Note that these  *\/\n-  \/*                    are usually UTF-16 encoded characters.             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   TT_NameRec\n+   *\n+   * @description:\n+   *   A structure modeling TrueType name records.  Name records are used to\n+   *   store important strings like family name, style name, copyright,\n+   *   etc. in _localized_ versions (i.e., language, encoding, etc).\n+   *\n+   * @fields:\n+   *   platformID ::\n+   *     The ID of the name's encoding platform.\n+   *\n+   *   encodingID ::\n+   *     The platform-specific ID for the name's encoding.\n+   *\n+   *   languageID ::\n+   *     The platform-specific ID for the name's language.\n+   *\n+   *   nameID ::\n+   *     The ID specifying what kind of name this is.\n+   *\n+   *   stringLength ::\n+   *     The length of the string in bytes.\n+   *\n+   *   stringOffset ::\n+   *     The offset to the string in the 'name' table.\n+   *\n+   *   string ::\n+   *     A pointer to the string's bytes.  Note that these are usually UTF-16\n+   *     encoded characters.\n+   *\/\n@@ -287,17 +314,20 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    TT_LangTagRec                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure modeling language tag records in SFNT `name' tables,   *\/\n-  \/*    introduced in OpenType version 1.6.                                *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    stringLength :: The length of the string in bytes.                 *\/\n-  \/*                                                                       *\/\n-  \/*    stringOffset :: The offset to the string in the `name' table.      *\/\n-  \/*                                                                       *\/\n-  \/*    string       :: A pointer to the string's bytes.  Note that these  *\/\n-  \/*                    are UTF-16BE encoded characters.                   *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   TT_LangTagRec\n+   *\n+   * @description:\n+   *   A structure modeling language tag records in SFNT 'name' tables,\n+   *   introduced in OpenType version 1.6.\n+   *\n+   * @fields:\n+   *   stringLength ::\n+   *     The length of the string in bytes.\n+   *\n+   *   stringOffset ::\n+   *     The offset to the string in the 'name' table.\n+   *\n+   *   string ::\n+   *     A pointer to the string's bytes.  Note that these are UTF-16BE\n+   *     encoded characters.\n+   *\/\n@@ -317,24 +347,30 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    TT_NameTableRec                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure modeling the TrueType name table.                      *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    format            :: The format of the name table.                 *\/\n-  \/*                                                                       *\/\n-  \/*    numNameRecords    :: The number of names in table.                 *\/\n-  \/*                                                                       *\/\n-  \/*    storageOffset     :: The offset of the name table in the `name'    *\/\n-  \/*                         TrueType table.                               *\/\n-  \/*                                                                       *\/\n-  \/*    names             :: An array of name records.                     *\/\n-  \/*                                                                       *\/\n-  \/*    numLangTagRecords :: The number of language tags in table.         *\/\n-  \/*                                                                       *\/\n-  \/*    langTags          :: An array of language tag records.             *\/\n-  \/*                                                                       *\/\n-  \/*    stream            :: The file's input stream.                      *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   TT_NameTableRec\n+   *\n+   * @description:\n+   *   A structure modeling the TrueType name table.\n+   *\n+   * @fields:\n+   *   format ::\n+   *     The format of the name table.\n+   *\n+   *   numNameRecords ::\n+   *     The number of names in table.\n+   *\n+   *   storageOffset ::\n+   *     The offset of the name table in the 'name' TrueType table.\n+   *\n+   *   names ::\n+   *     An array of name records.\n+   *\n+   *   numLangTagRecords ::\n+   *     The number of language tags in table.\n+   *\n+   *   langTags ::\n+   *     An array of language tag records.\n+   *\n+   *   stream ::\n+   *     The file's input stream.\n+   *\/\n@@ -367,15 +403,17 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    TT_GaspRangeRec                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A tiny structure used to model a gasp range according to the       *\/\n-  \/*    TrueType specification.                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    maxPPEM  :: The maximum ppem value to which `gaspFlag' applies.    *\/\n-  \/*                                                                       *\/\n-  \/*    gaspFlag :: A flag describing the grid-fitting and anti-aliasing   *\/\n-  \/*                modes to be used.                                      *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   TT_GaspRangeRec\n+   *\n+   * @description:\n+   *   A tiny structure used to model a gasp range according to the TrueType\n+   *   specification.\n+   *\n+   * @fields:\n+   *   maxPPEM ::\n+   *     The maximum ppem value to which `gaspFlag` applies.\n+   *\n+   *   gaspFlag ::\n+   *     A flag describing the grid-fitting and anti-aliasing modes to be\n+   *     used.\n+   *\/\n@@ -394,16 +432,19 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    TT_GaspRec                                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure modeling the TrueType `gasp' table used to specify     *\/\n-  \/*    grid-fitting and anti-aliasing behaviour.                          *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    version    :: The version number.                                  *\/\n-  \/*                                                                       *\/\n-  \/*    numRanges  :: The number of gasp ranges in table.                  *\/\n-  \/*                                                                       *\/\n-  \/*    gaspRanges :: An array of gasp ranges.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   TT_GaspRec\n+   *\n+   * @description:\n+   *   A structure modeling the TrueType 'gasp' table used to specify\n+   *   grid-fitting and anti-aliasing behaviour.\n+   *\n+   * @fields:\n+   *   version ::\n+   *     The version number.\n+   *\n+   *   numRanges ::\n+   *     The number of gasp ranges in table.\n+   *\n+   *   gaspRanges ::\n+   *     An array of gasp ranges.\n+   *\/\n@@ -432,27 +473,35 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    TT_SBit_MetricsRec                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure used to hold the big metrics of a given glyph bitmap   *\/\n-  \/*    in a TrueType or OpenType font.  These are usually found in the    *\/\n-  \/*    `EBDT' (Microsoft) or `bloc' (Apple) table.                        *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    height       :: The glyph height in pixels.                        *\/\n-  \/*                                                                       *\/\n-  \/*    width        :: The glyph width in pixels.                         *\/\n-  \/*                                                                       *\/\n-  \/*    horiBearingX :: The horizontal left bearing.                       *\/\n-  \/*                                                                       *\/\n-  \/*    horiBearingY :: The horizontal top bearing.                        *\/\n-  \/*                                                                       *\/\n-  \/*    horiAdvance  :: The horizontal advance.                            *\/\n-  \/*                                                                       *\/\n-  \/*    vertBearingX :: The vertical left bearing.                         *\/\n-  \/*                                                                       *\/\n-  \/*    vertBearingY :: The vertical top bearing.                          *\/\n-  \/*                                                                       *\/\n-  \/*    vertAdvance  :: The vertical advance.                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   TT_SBit_MetricsRec\n+   *\n+   * @description:\n+   *   A structure used to hold the big metrics of a given glyph bitmap in a\n+   *   TrueType or OpenType font.  These are usually found in the 'EBDT'\n+   *   (Microsoft) or 'bloc' (Apple) table.\n+   *\n+   * @fields:\n+   *   height ::\n+   *     The glyph height in pixels.\n+   *\n+   *   width ::\n+   *     The glyph width in pixels.\n+   *\n+   *   horiBearingX ::\n+   *     The horizontal left bearing.\n+   *\n+   *   horiBearingY ::\n+   *     The horizontal top bearing.\n+   *\n+   *   horiAdvance ::\n+   *     The horizontal advance.\n+   *\n+   *   vertBearingX ::\n+   *     The vertical left bearing.\n+   *\n+   *   vertBearingY ::\n+   *     The vertical top bearing.\n+   *\n+   *   vertAdvance ::\n+   *     The vertical advance.\n+   *\/\n@@ -475,21 +524,26 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    TT_SBit_SmallMetricsRec                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure used to hold the small metrics of a given glyph bitmap *\/\n-  \/*    in a TrueType or OpenType font.  These are usually found in the    *\/\n-  \/*    `EBDT' (Microsoft) or the `bdat' (Apple) table.                    *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    height   :: The glyph height in pixels.                            *\/\n-  \/*                                                                       *\/\n-  \/*    width    :: The glyph width in pixels.                             *\/\n-  \/*                                                                       *\/\n-  \/*    bearingX :: The left-side bearing.                                 *\/\n-  \/*                                                                       *\/\n-  \/*    bearingY :: The top-side bearing.                                  *\/\n-  \/*                                                                       *\/\n-  \/*    advance  :: The advance width or height.                           *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   TT_SBit_SmallMetricsRec\n+   *\n+   * @description:\n+   *   A structure used to hold the small metrics of a given glyph bitmap in\n+   *   a TrueType or OpenType font.  These are usually found in the 'EBDT'\n+   *   (Microsoft) or the 'bdat' (Apple) table.\n+   *\n+   * @fields:\n+   *   height ::\n+   *     The glyph height in pixels.\n+   *\n+   *   width ::\n+   *     The glyph width in pixels.\n+   *\n+   *   bearingX ::\n+   *     The left-side bearing.\n+   *\n+   *   bearingY ::\n+   *     The top-side bearing.\n+   *\n+   *   advance ::\n+   *     The advance width or height.\n+   *\/\n@@ -508,51 +562,54 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    TT_SBit_LineMetricsRec                                             *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure used to describe the text line metrics of a given      *\/\n-  \/*    bitmap strike, for either a horizontal or vertical layout.         *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    ascender                :: The ascender in pixels.                 *\/\n-  \/*                                                                       *\/\n-  \/*    descender               :: The descender in pixels.                *\/\n-  \/*                                                                       *\/\n-  \/*    max_width               :: The maximum glyph width in pixels.      *\/\n-  \/*                                                                       *\/\n-  \/*    caret_slope_enumerator  :: Rise of the caret slope, typically set  *\/\n-  \/*                               to 1 for non-italic fonts.              *\/\n-  \/*                                                                       *\/\n-  \/*    caret_slope_denominator :: Rise of the caret slope, typically set  *\/\n-  \/*                               to 0 for non-italic fonts.              *\/\n-  \/*                                                                       *\/\n-  \/*    caret_offset            :: Offset in pixels to move the caret for  *\/\n-  \/*                               proper positioning.                     *\/\n-  \/*                                                                       *\/\n-  \/*    min_origin_SB           :: Minimum of horiBearingX (resp.          *\/\n-  \/*                               vertBearingY).                          *\/\n-  \/*    min_advance_SB          :: Minimum of                              *\/\n-  \/*                                                                       *\/\n-  \/*                                 horizontal advance -                  *\/\n-  \/*                                   ( horiBearingX + width )            *\/\n-  \/*                                                                       *\/\n-  \/*                               resp.                                   *\/\n-  \/*                                                                       *\/\n-  \/*                                 vertical advance -                    *\/\n-  \/*                                   ( vertBearingY + height )           *\/\n-  \/*                                                                       *\/\n-  \/*    max_before_BL           :: Maximum of horiBearingY (resp.          *\/\n-  \/*                               vertBearingY).                          *\/\n-  \/*                                                                       *\/\n-  \/*    min_after_BL            :: Minimum of                              *\/\n-  \/*                                                                       *\/\n-  \/*                                 horiBearingY - height                 *\/\n-  \/*                                                                       *\/\n-  \/*                               resp.                                   *\/\n-  \/*                                                                       *\/\n-  \/*                                 vertBearingX - width                  *\/\n-  \/*                                                                       *\/\n-  \/*    pads                    :: Unused (to make the size of the record  *\/\n-  \/*                               a multiple of 32 bits.                  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   TT_SBit_LineMetricsRec\n+   *\n+   * @description:\n+   *   A structure used to describe the text line metrics of a given bitmap\n+   *   strike, for either a horizontal or vertical layout.\n+   *\n+   * @fields:\n+   *   ascender ::\n+   *     The ascender in pixels.\n+   *\n+   *   descender ::\n+   *     The descender in pixels.\n+   *\n+   *   max_width ::\n+   *     The maximum glyph width in pixels.\n+   *\n+   *   caret_slope_enumerator ::\n+   *     Rise of the caret slope, typically set to 1 for non-italic fonts.\n+   *\n+   *   caret_slope_denominator ::\n+   *     Rise of the caret slope, typically set to 0 for non-italic fonts.\n+   *\n+   *   caret_offset ::\n+   *     Offset in pixels to move the caret for proper positioning.\n+   *\n+   *   min_origin_SB ::\n+   *     Minimum of horiBearingX (resp.  vertBearingY).\n+   *   min_advance_SB ::\n+   *     Minimum of\n+   *\n+   *     horizontal advance - ( horiBearingX + width )\n+   *\n+   *     resp.\n+   *\n+   *     vertical advance - ( vertBearingY + height )\n+   *\n+   *   max_before_BL ::\n+   *     Maximum of horiBearingY (resp.  vertBearingY).\n+   *\n+   *   min_after_BL ::\n+   *     Minimum of\n+   *\n+   *     horiBearingY - height\n+   *\n+   *     resp.\n+   *\n+   *     vertBearingX - width\n+   *\n+   *   pads ::\n+   *     Unused (to make the size of the record a multiple of 32 bits.\n+   *\/\n@@ -576,37 +633,47 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    TT_SBit_RangeRec                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A TrueType\/OpenType subIndexTable as defined in the `EBLC'         *\/\n-  \/*    (Microsoft) or `bloc' (Apple) tables.                              *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    first_glyph   :: The first glyph index in the range.               *\/\n-  \/*                                                                       *\/\n-  \/*    last_glyph    :: The last glyph index in the range.                *\/\n-  \/*                                                                       *\/\n-  \/*    index_format  :: The format of index table.  Valid values are 1    *\/\n-  \/*                     to 5.                                             *\/\n-  \/*                                                                       *\/\n-  \/*    image_format  :: The format of `EBDT' image data.                  *\/\n-  \/*                                                                       *\/\n-  \/*    image_offset  :: The offset to image data in `EBDT'.               *\/\n-  \/*                                                                       *\/\n-  \/*    image_size    :: For index formats 2 and 5.  This is the size in   *\/\n-  \/*                     bytes of each glyph bitmap.                       *\/\n-  \/*                                                                       *\/\n-  \/*    big_metrics   :: For index formats 2 and 5.  This is the big       *\/\n-  \/*                     metrics for each glyph bitmap.                    *\/\n-  \/*                                                                       *\/\n-  \/*    num_glyphs    :: For index formats 4 and 5.  This is the number of *\/\n-  \/*                     glyphs in the code array.                         *\/\n-  \/*                                                                       *\/\n-  \/*    glyph_offsets :: For index formats 1 and 3.                        *\/\n-  \/*                                                                       *\/\n-  \/*    glyph_codes   :: For index formats 4 and 5.                        *\/\n-  \/*                                                                       *\/\n-  \/*    table_offset  :: The offset of the index table in the `EBLC'       *\/\n-  \/*                     table.  Only used during strike loading.          *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   TT_SBit_RangeRec\n+   *\n+   * @description:\n+   *   A TrueType\/OpenType subIndexTable as defined in the 'EBLC' (Microsoft)\n+   *   or 'bloc' (Apple) tables.\n+   *\n+   * @fields:\n+   *   first_glyph ::\n+   *     The first glyph index in the range.\n+   *\n+   *   last_glyph ::\n+   *     The last glyph index in the range.\n+   *\n+   *   index_format ::\n+   *     The format of index table.  Valid values are 1 to 5.\n+   *\n+   *   image_format ::\n+   *     The format of 'EBDT' image data.\n+   *\n+   *   image_offset ::\n+   *     The offset to image data in 'EBDT'.\n+   *\n+   *   image_size ::\n+   *     For index formats 2 and 5.  This is the size in bytes of each glyph\n+   *     bitmap.\n+   *\n+   *   big_metrics ::\n+   *     For index formats 2 and 5.  This is the big metrics for each glyph\n+   *     bitmap.\n+   *\n+   *   num_glyphs ::\n+   *     For index formats 4 and 5.  This is the number of glyphs in the code\n+   *     array.\n+   *\n+   *   glyph_offsets ::\n+   *     For index formats 1 and 3.\n+   *\n+   *   glyph_codes ::\n+   *     For index formats 4 and 5.\n+   *\n+   *   table_offset ::\n+   *     The offset of the index table in the 'EBLC' table.  Only used during\n+   *     strike loading.\n+   *\/\n@@ -634,41 +701,49 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    TT_SBit_StrikeRec                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure used describe a given bitmap strike in the `EBLC'      *\/\n-  \/*    (Microsoft) or `bloc' (Apple) tables.                              *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*   num_index_ranges :: The number of index ranges.                     *\/\n-  \/*                                                                       *\/\n-  \/*   index_ranges     :: An array of glyph index ranges.                 *\/\n-  \/*                                                                       *\/\n-  \/*   color_ref        :: Unused.  `color_ref' is put in for future       *\/\n-  \/*                       enhancements, but these fields are already      *\/\n-  \/*                       in use by other platforms (e.g. Newton).        *\/\n-  \/*                       For details, please see                         *\/\n-  \/*                                                                       *\/\n-  \/*                         https:\/\/developer.apple.com\/fonts\/TrueType-Reference-Manual\/RM06\/Chap6bloc.html *\/\n-  \/*                                                                       *\/\n-  \/*   hori             :: The line metrics for horizontal layouts.        *\/\n-  \/*                                                                       *\/\n-  \/*   vert             :: The line metrics for vertical layouts.          *\/\n-  \/*                                                                       *\/\n-  \/*   start_glyph      :: The lowest glyph index for this strike.         *\/\n-  \/*                                                                       *\/\n-  \/*   end_glyph        :: The highest glyph index for this strike.        *\/\n-  \/*                                                                       *\/\n-  \/*   x_ppem           :: The number of horizontal pixels per EM.         *\/\n-  \/*                                                                       *\/\n-  \/*   y_ppem           :: The number of vertical pixels per EM.           *\/\n-  \/*                                                                       *\/\n-  \/*   bit_depth        :: The bit depth.  Valid values are 1, 2, 4,       *\/\n-  \/*                       and 8.                                          *\/\n-  \/*                                                                       *\/\n-  \/*   flags            :: Is this a vertical or horizontal strike?  For   *\/\n-  \/*                       details, please see                             *\/\n-  \/*                                                                       *\/\n-  \/*                         https:\/\/developer.apple.com\/fonts\/TrueType-Reference-Manual\/RM06\/Chap6bloc.html *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   TT_SBit_StrikeRec\n+   *\n+   * @description:\n+   *   A structure used describe a given bitmap strike in the 'EBLC'\n+   *   (Microsoft) or 'bloc' (Apple) tables.\n+   *\n+   * @fields:\n+   *  num_index_ranges ::\n+   *    The number of index ranges.\n+   *\n+   *  index_ranges ::\n+   *    An array of glyph index ranges.\n+   *\n+   *  color_ref ::\n+   *    Unused.  `color_ref` is put in for future enhancements, but these\n+   *    fields are already in use by other platforms (e.g. Newton).  For\n+   *    details, please see\n+   *\n+   *    https:\/\/developer.apple.com\/fonts\/TrueType-Reference-Manual\/RM06\/Chap6bloc.html\n+   *\n+   *  hori ::\n+   *    The line metrics for horizontal layouts.\n+   *\n+   *  vert ::\n+   *    The line metrics for vertical layouts.\n+   *\n+   *  start_glyph ::\n+   *    The lowest glyph index for this strike.\n+   *\n+   *  end_glyph ::\n+   *    The highest glyph index for this strike.\n+   *\n+   *  x_ppem ::\n+   *    The number of horizontal pixels per EM.\n+   *\n+   *  y_ppem ::\n+   *    The number of vertical pixels per EM.\n+   *\n+   *  bit_depth ::\n+   *    The bit depth.  Valid values are 1, 2, 4, and 8.\n+   *\n+   *  flags ::\n+   *    Is this a vertical or horizontal strike?  For details, please see\n+   *\n+   *    https:\/\/developer.apple.com\/fonts\/TrueType-Reference-Manual\/RM06\/Chap6bloc.html\n+   *\/\n@@ -698,15 +773,18 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    TT_SBit_ComponentRec                                               *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A simple structure to describe a compound sbit element.            *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    glyph_code :: The element's glyph index.                           *\/\n-  \/*                                                                       *\/\n-  \/*    x_offset   :: The element's left bearing.                          *\/\n-  \/*                                                                       *\/\n-  \/*    y_offset   :: The element's top bearing.                           *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   TT_SBit_ComponentRec\n+   *\n+   * @description:\n+   *   A simple structure to describe a compound sbit element.\n+   *\n+   * @fields:\n+   *   glyph_code ::\n+   *     The element's glyph index.\n+   *\n+   *   x_offset ::\n+   *     The element's left bearing.\n+   *\n+   *   y_offset ::\n+   *     The element's top bearing.\n+   *\/\n@@ -722,22 +800,28 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    TT_SBit_ScaleRec                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure used describe a given bitmap scaling table, as defined *\/\n-  \/*    in the `EBSC' table.                                               *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    hori              :: The horizontal line metrics.                  *\/\n-  \/*                                                                       *\/\n-  \/*    vert              :: The vertical line metrics.                    *\/\n-  \/*                                                                       *\/\n-  \/*    x_ppem            :: The number of horizontal pixels per EM.       *\/\n-  \/*                                                                       *\/\n-  \/*    y_ppem            :: The number of vertical pixels per EM.         *\/\n-  \/*                                                                       *\/\n-  \/*    x_ppem_substitute :: Substitution x_ppem value.                    *\/\n-  \/*                                                                       *\/\n-  \/*    y_ppem_substitute :: Substitution y_ppem value.                    *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   TT_SBit_ScaleRec\n+   *\n+   * @description:\n+   *   A structure used describe a given bitmap scaling table, as defined in\n+   *   the 'EBSC' table.\n+   *\n+   * @fields:\n+   *   hori ::\n+   *     The horizontal line metrics.\n+   *\n+   *   vert ::\n+   *     The vertical line metrics.\n+   *\n+   *   x_ppem ::\n+   *     The number of horizontal pixels per EM.\n+   *\n+   *   y_ppem ::\n+   *     The number of vertical pixels per EM.\n+   *\n+   *   x_ppem_substitute ::\n+   *     Substitution x_ppem value.\n+   *\n+   *   y_ppem_substitute ::\n+   *     Substitution y_ppem value.\n+   *\/\n@@ -771,18 +855,22 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    TT_Post_20Rec                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Postscript names sub-table, format 2.0.  Stores the PS name of     *\/\n-  \/*    each glyph in the font face.                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    num_glyphs    :: The number of named glyphs in the table.          *\/\n-  \/*                                                                       *\/\n-  \/*    num_names     :: The number of PS names stored in the table.       *\/\n-  \/*                                                                       *\/\n-  \/*    glyph_indices :: The indices of the glyphs in the names arrays.    *\/\n-  \/*                                                                       *\/\n-  \/*    glyph_names   :: The PS names not in Mac Encoding.                 *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   TT_Post_20Rec\n+   *\n+   * @description:\n+   *   Postscript names sub-table, format 2.0.  Stores the PS name of each\n+   *   glyph in the font face.\n+   *\n+   * @fields:\n+   *   num_glyphs ::\n+   *     The number of named glyphs in the table.\n+   *\n+   *   num_names ::\n+   *     The number of PS names stored in the table.\n+   *\n+   *   glyph_indices ::\n+   *     The indices of the glyphs in the names arrays.\n+   *\n+   *   glyph_names ::\n+   *     The PS names not in Mac Encoding.\n+   *\/\n@@ -799,15 +887,16 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    TT_Post_25Rec                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Postscript names sub-table, format 2.5.  Stores the PS name of     *\/\n-  \/*    each glyph in the font face.                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    num_glyphs :: The number of glyphs in the table.                   *\/\n-  \/*                                                                       *\/\n-  \/*    offsets    :: An array of signed offsets in a normal Mac           *\/\n-  \/*                  Postscript name encoding.                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   TT_Post_25Rec\n+   *\n+   * @description:\n+   *   Postscript names sub-table, format 2.5.  Stores the PS name of each\n+   *   glyph in the font face.\n+   *\n+   * @fields:\n+   *   num_glyphs ::\n+   *     The number of glyphs in the table.\n+   *\n+   *   offsets ::\n+   *     An array of signed offsets in a normal Mac Postscript name encoding.\n+   *\/\n@@ -822,15 +911,18 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    TT_Post_NamesRec                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Postscript names table, either format 2.0 or 2.5.                  *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    loaded    :: A flag to indicate whether the PS names are loaded.   *\/\n-  \/*                                                                       *\/\n-  \/*    format_20 :: The sub-table used for format 2.0.                    *\/\n-  \/*                                                                       *\/\n-  \/*    format_25 :: The sub-table used for format 2.5.                    *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   TT_Post_NamesRec\n+   *\n+   * @description:\n+   *   Postscript names table, either format 2.0 or 2.5.\n+   *\n+   * @fields:\n+   *   loaded ::\n+   *     A flag to indicate whether the PS names are loaded.\n+   *\n+   *   format_20 ::\n+   *     The sub-table used for format 2.0.\n+   *\n+   *   format_25 ::\n+   *     The sub-table used for format 2.5.\n+   *\/\n@@ -882,2 +974,2 @@\n-   * official TrueType specification.  It is mainly used in SFNT-based\n-   * bitmap fonts that were generated from a set of BDF fonts.\n+   * official TrueType specification.  It is mainly used in SFNT-based bitmap\n+   * fonts that were generated from a set of BDF fonts.\n@@ -887,3 +979,3 @@\n-   *   USHORT   version      `BDF ' table version number, should be 0x0001.\n-   *   USHORT   strikeCount  Number of strikes (bitmap sizes) in this table.\n-   *   ULONG    stringTable  Offset (from start of BDF table) to string\n+   *   USHORT version `BDF ' table version number, should be 0x0001.  USHORT\n+   *   strikeCount Number of strikes (bitmap sizes) in this table.  ULONG\n+   *   stringTable Offset (from start of BDF table) to string\n@@ -895,2 +987,2 @@\n-   *   USHORT   ppem         Vertical pixels per EM for this strike.\n-   *   USHORT   numItems     Number of items for this strike (properties and\n+   *   USHORT ppem Vertical pixels per EM for this strike.  USHORT numItems\n+   *   Number of items for this strike (properties and\n@@ -899,2 +991,2 @@\n-   * This array in turn is followed by `strikeCount' value sets.  Each\n-   * `value set' is an array of `numItems' items with the following format.\n+   * This array in turn is followed by `strikeCount' value sets.  Each `value\n+   * set' is an array of `numItems' items with the following format.\n@@ -948,9 +1040,9 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* This structure\/class is defined here because it is common to the      *\/\n-  \/* following formats: TTF, OpenType-TT, and OpenType-CFF.                *\/\n-  \/*                                                                       *\/\n-  \/* Note, however, that the classes TT_Size and TT_GlyphSlot are not      *\/\n-  \/* shared between font drivers, and are thus defined in `ttobjs.h'.      *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * This structure\/class is defined here because it is common to the\n+   * following formats: TTF, OpenType-TT, and OpenType-CFF.\n+   *\n+   * Note, however, that the classes TT_Size and TT_GlyphSlot are not shared\n+   * between font drivers, and are thus defined in `ttobjs.h`.\n+   *\n+   *\/\n@@ -959,14 +1051,13 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    TT_Face                                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A handle to a TrueType face\/font object.  A TT_Face encapsulates   *\/\n-  \/*    the resolution and scaling independent parts of a TrueType font    *\/\n-  \/*    resource.                                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The TT_Face structure is also used as a `parent class' for the     *\/\n-  \/*    OpenType-CFF class (T2_Face).                                      *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   TT_Face\n+   *\n+   * @description:\n+   *   A handle to a TrueType face\/font object.  A TT_Face encapsulates the\n+   *   resolution and scaling independent parts of a TrueType font resource.\n+   *\n+   * @note:\n+   *   The TT_Face structure is also used as a 'parent class' for the\n+   *   OpenType-CFF class (T2_Face).\n+   *\/\n@@ -984,25 +1075,28 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    TT_Loader_GotoTableFunc                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Seeks a stream to the start of a given TrueType table.             *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face   :: A handle to the target face object.                      *\/\n-  \/*                                                                       *\/\n-  \/*    tag    :: A 4-byte tag used to name the table.                     *\/\n-  \/*                                                                       *\/\n-  \/*    stream :: The input stream.                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    length :: The length of the table in bytes.  Set to 0 if not       *\/\n-  \/*              needed.                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The stream cursor must be at the font file's origin.               *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   TT_Loader_GotoTableFunc\n+   *\n+   * @description:\n+   *   Seeks a stream to the start of a given TrueType table.\n+   *\n+   * @input:\n+   *   face ::\n+   *     A handle to the target face object.\n+   *\n+   *   tag ::\n+   *     A 4-byte tag used to name the table.\n+   *\n+   *   stream ::\n+   *     The input stream.\n+   *\n+   * @output:\n+   *   length ::\n+   *     The length of the table in bytes.  Set to 0 if not needed.\n+   *\n+   * @return:\n+   *   FreeType error code.  0 means success.\n+   *\n+   * @note:\n+   *   The stream cursor must be at the font file's origin.\n+   *\/\n@@ -1016,28 +1110,30 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    TT_Loader_StartGlyphFunc                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Seeks a stream to the start of a given glyph element, and opens a  *\/\n-  \/*    frame for it.                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    loader      :: The current TrueType glyph loader object.           *\/\n-  \/*                                                                       *\/\n-  \/*    glyph index :: The index of the glyph to access.                   *\/\n-  \/*                                                                       *\/\n-  \/*    offset      :: The offset of the glyph according to the            *\/\n-  \/*                   `locations' table.                                  *\/\n-  \/*                                                                       *\/\n-  \/*    byte_count  :: The size of the frame in bytes.                     *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    This function is normally equivalent to FT_STREAM_SEEK(offset)     *\/\n-  \/*    followed by FT_FRAME_ENTER(byte_count) with the loader's stream,   *\/\n-  \/*    but alternative formats (e.g. compressed ones) might use something *\/\n-  \/*    different.                                                         *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   TT_Loader_StartGlyphFunc\n+   *\n+   * @description:\n+   *   Seeks a stream to the start of a given glyph element, and opens a\n+   *   frame for it.\n+   *\n+   * @input:\n+   *   loader ::\n+   *     The current TrueType glyph loader object.\n+   *\n+   *     glyph index :: The index of the glyph to access.\n+   *\n+   *   offset ::\n+   *     The offset of the glyph according to the 'locations' table.\n+   *\n+   *   byte_count ::\n+   *     The size of the frame in bytes.\n+   *\n+   * @return:\n+   *   FreeType error code.  0 means success.\n+   *\n+   * @note:\n+   *   This function is normally equivalent to FT_STREAM_SEEK(offset)\n+   *   followed by FT_FRAME_ENTER(byte_count) with the loader's stream, but\n+   *   alternative formats (e.g. compressed ones) might use something\n+   *   different.\n+   *\/\n@@ -1051,15 +1147,16 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    TT_Loader_ReadGlyphFunc                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Reads one glyph element (its header, a simple glyph, or a          *\/\n-  \/*    composite) from the loader's current stream frame.                 *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    loader :: The current TrueType glyph loader object.                *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   TT_Loader_ReadGlyphFunc\n+   *\n+   * @description:\n+   *   Reads one glyph element (its header, a simple glyph, or a composite)\n+   *   from the loader's current stream frame.\n+   *\n+   * @input:\n+   *   loader ::\n+   *     The current TrueType glyph loader object.\n+   *\n+   * @return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -1070,11 +1167,12 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <FuncType>                                                            *\/\n-  \/*    TT_Loader_EndGlyphFunc                                             *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Closes the current loader stream frame for the glyph.              *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    loader :: The current TrueType glyph loader object.                *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @functype:\n+   *   TT_Loader_EndGlyphFunc\n+   *\n+   * @description:\n+   *   Closes the current loader stream frame for the glyph.\n+   *\n+   * @input:\n+   *   loader ::\n+   *     The current TrueType glyph loader object.\n+   *\/\n@@ -1127,264 +1225,311 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*                         TrueType Face Type                            *\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    TT_Face                                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    The TrueType face class.  These objects model the resolution and   *\/\n-  \/*    point-size independent data found in a TrueType font file.         *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    root                 :: The base FT_Face structure, managed by the *\/\n-  \/*                            base layer.                                *\/\n-  \/*                                                                       *\/\n-  \/*    ttc_header           :: The TrueType collection header, used when  *\/\n-  \/*                            the file is a `ttc' rather than a `ttf'.   *\/\n-  \/*                            For ordinary font files, the field         *\/\n-  \/*                            `ttc_header.count' is set to 0.            *\/\n-  \/*                                                                       *\/\n-  \/*    format_tag           :: The font format tag.                       *\/\n-  \/*                                                                       *\/\n-  \/*    num_tables           :: The number of TrueType tables in this font *\/\n-  \/*                            file.                                      *\/\n-  \/*                                                                       *\/\n-  \/*    dir_tables           :: The directory of TrueType tables for this  *\/\n-  \/*                            font file.                                 *\/\n-  \/*                                                                       *\/\n-  \/*    header               :: The font's font header (`head' table).     *\/\n-  \/*                            Read on font opening.                      *\/\n-  \/*                                                                       *\/\n-  \/*    horizontal           :: The font's horizontal header (`hhea'       *\/\n-  \/*                            table).  This field also contains the      *\/\n-  \/*                            associated horizontal metrics table        *\/\n-  \/*                            (`hmtx').                                  *\/\n-  \/*                                                                       *\/\n-  \/*    max_profile          :: The font's maximum profile table.  Read on *\/\n-  \/*                            font opening.  Note that some maximum      *\/\n-  \/*                            values cannot be taken directly from this  *\/\n-  \/*                            table.  We thus define additional fields   *\/\n-  \/*                            below to hold the computed maxima.         *\/\n-  \/*                                                                       *\/\n-  \/*    vertical_info        :: A boolean which is set when the font file  *\/\n-  \/*                            contains vertical metrics.  If not, the    *\/\n-  \/*                            value of the `vertical' field is           *\/\n-  \/*                            undefined.                                 *\/\n-  \/*                                                                       *\/\n-  \/*    vertical             :: The font's vertical header (`vhea' table). *\/\n-  \/*                            This field also contains the associated    *\/\n-  \/*                            vertical metrics table (`vmtx'), if found. *\/\n-  \/*                            IMPORTANT: The contents of this field is   *\/\n-  \/*                            undefined if the `vertical_info' field is  *\/\n-  \/*                            unset.                                     *\/\n-  \/*                                                                       *\/\n-  \/*    num_names            :: The number of name records within this     *\/\n-  \/*                            TrueType font.                             *\/\n-  \/*                                                                       *\/\n-  \/*    name_table           :: The table of name records (`name').        *\/\n-  \/*                                                                       *\/\n-  \/*    os2                  :: The font's OS\/2 table (`OS\/2').            *\/\n-  \/*                                                                       *\/\n-  \/*    postscript           :: The font's PostScript table (`post'        *\/\n-  \/*                            table).  The PostScript glyph names are    *\/\n-  \/*                            not loaded by the driver on face opening.  *\/\n-  \/*                            See the `ttpost' module for more details.  *\/\n-  \/*                                                                       *\/\n-  \/*    cmap_table           :: Address of the face's `cmap' SFNT table    *\/\n-  \/*                            in memory (it's an extracted frame).       *\/\n-  \/*                                                                       *\/\n-  \/*    cmap_size            :: The size in bytes of the `cmap_table'      *\/\n-  \/*                            described above.                           *\/\n-  \/*                                                                       *\/\n-  \/*    goto_table           :: A function called by each TrueType table   *\/\n-  \/*                            loader to position a stream's cursor to    *\/\n-  \/*                            the start of a given table according to    *\/\n-  \/*                            its tag.  It defaults to TT_Goto_Face but  *\/\n-  \/*                            can be different for strange formats (e.g. *\/\n-  \/*                            Type 42).                                  *\/\n-  \/*                                                                       *\/\n-  \/*    access_glyph_frame   :: A function used to access the frame of a   *\/\n-  \/*                            given glyph within the face's font file.   *\/\n-  \/*                                                                       *\/\n-  \/*    forget_glyph_frame   :: A function used to forget the frame of a   *\/\n-  \/*                            given glyph when all data has been loaded. *\/\n-  \/*                                                                       *\/\n-  \/*    read_glyph_header    :: A function used to read a glyph header.    *\/\n-  \/*                            It must be called between an `access' and  *\/\n-  \/*                            `forget'.                                  *\/\n-  \/*                                                                       *\/\n-  \/*    read_simple_glyph    :: A function used to read a simple glyph.    *\/\n-  \/*                            It must be called after the header was     *\/\n-  \/*                            read, and before the `forget'.             *\/\n-  \/*                                                                       *\/\n-  \/*    read_composite_glyph :: A function used to read a composite glyph. *\/\n-  \/*                            It must be called after the header was     *\/\n-  \/*                            read, and before the `forget'.             *\/\n-  \/*                                                                       *\/\n-  \/*    sfnt                 :: A pointer to the SFNT service.             *\/\n-  \/*                                                                       *\/\n-  \/*    psnames              :: A pointer to the PostScript names service. *\/\n-  \/*                                                                       *\/\n-  \/*    mm                   :: A pointer to the Multiple Masters service. *\/\n-  \/*                                                                       *\/\n-  \/*    var                  :: A pointer to the Metrics Variations        *\/\n-  \/*                            service.                                   *\/\n-  \/*                                                                       *\/\n-  \/*    hdmx                 :: The face's horizontal device metrics       *\/\n-  \/*                            (`hdmx' table).  This table is optional in *\/\n-  \/*                            TrueType\/OpenType fonts.                   *\/\n-  \/*                                                                       *\/\n-  \/*    gasp                 :: The grid-fitting and scaling properties    *\/\n-  \/*                            table (`gasp').  This table is optional in *\/\n-  \/*                            TrueType\/OpenType fonts.                   *\/\n-  \/*                                                                       *\/\n-  \/*    pclt                 :: The `pclt' SFNT table.                     *\/\n-  \/*                                                                       *\/\n-  \/*    num_sbit_scales      :: The number of sbit scales for this font.   *\/\n-  \/*                                                                       *\/\n-  \/*    sbit_scales          :: Array of sbit scales embedded in this      *\/\n-  \/*                            font.  This table is optional in a         *\/\n-  \/*                            TrueType\/OpenType font.                    *\/\n-  \/*                                                                       *\/\n-  \/*    postscript_names     :: A table used to store the Postscript names *\/\n-  \/*                            of  the glyphs for this font.  See the     *\/\n-  \/*                            file  `ttconfig.h' for comments on the     *\/\n-  \/*                            TT_CONFIG_OPTION_POSTSCRIPT_NAMES option.  *\/\n-  \/*                                                                       *\/\n-  \/*    font_program_size    :: Size in bytecodes of the face's font       *\/\n-  \/*                            program.  0 if none defined.  Ignored for  *\/\n-  \/*                            Type 2 fonts.                              *\/\n-  \/*                                                                       *\/\n-  \/*    font_program         :: The face's font program (bytecode stream)  *\/\n-  \/*                            executed at load time, also used during    *\/\n-  \/*                            glyph rendering.  Comes from the `fpgm'    *\/\n-  \/*                            table.  Ignored for Type 2 font fonts.     *\/\n-  \/*                                                                       *\/\n-  \/*    cvt_program_size     :: The size in bytecodes of the face's cvt    *\/\n-  \/*                            program.  Ignored for Type 2 fonts.        *\/\n-  \/*                                                                       *\/\n-  \/*    cvt_program          :: The face's cvt program (bytecode stream)   *\/\n-  \/*                            executed each time an instance\/size is     *\/\n-  \/*                            changed\/reset.  Comes from the `prep'      *\/\n-  \/*                            table.  Ignored for Type 2 fonts.          *\/\n-  \/*                                                                       *\/\n-  \/*    cvt_size             :: Size of the control value table (in        *\/\n-  \/*                            entries).   Ignored for Type 2 fonts.      *\/\n-  \/*                                                                       *\/\n-  \/*    cvt                  :: The face's original control value table.   *\/\n-  \/*                            Coordinates are expressed in unscaled font *\/\n-  \/*                            units.  Comes from the `cvt ' table.       *\/\n-  \/*                            Ignored for Type 2 fonts.                  *\/\n-  \/*                                                                       *\/\n-  \/*    interpreter          :: A pointer to the TrueType bytecode         *\/\n-  \/*                            interpreters field is also used to hook    *\/\n-  \/*                            the debugger in `ttdebug'.                 *\/\n-  \/*                                                                       *\/\n-  \/*    extra                :: Reserved for third-party font drivers.     *\/\n-  \/*                                                                       *\/\n-  \/*    postscript_name      :: The PS name of the font.  Used by the      *\/\n-  \/*                            postscript name service.                   *\/\n-  \/*                                                                       *\/\n-  \/*    glyf_len             :: The length of the `glyf' table.  Needed    *\/\n-  \/*                            for malformed `loca' tables.               *\/\n-  \/*                                                                       *\/\n-  \/*    glyf_offset          :: The file offset of the `glyf' table.       *\/\n-  \/*                                                                       *\/\n-  \/*    is_cff2              :: Set if the font format is CFF2.            *\/\n-  \/*                                                                       *\/\n-  \/*    doblend              :: A boolean which is set if the font should  *\/\n-  \/*                            be blended (this is for GX var).           *\/\n-  \/*                                                                       *\/\n-  \/*    blend                :: Contains the data needed to control GX     *\/\n-  \/*                            variation tables (rather like Multiple     *\/\n-  \/*                            Master data).                              *\/\n-  \/*                                                                       *\/\n-  \/*    variation_support    :: Flags that indicate which OpenType         *\/\n-  \/*                            functionality related to font variation    *\/\n-  \/*                            support is present, valid, and usable.     *\/\n-  \/*                            For example, TT_FACE_FLAG_VAR_FVAR is only *\/\n-  \/*                            set if we have at least one design axis.   *\/\n-  \/*                                                                       *\/\n-  \/*    var_postscript_prefix ::                                           *\/\n-  \/*                            The PostScript name prefix needed for      *\/\n-  \/*                            constructing a variation font instance's   *\/\n-  \/*                            PS name .                                  *\/\n-  \/*                                                                       *\/\n-  \/*    var_postscript_prefix_len ::                                       *\/\n-  \/*                            The length of the `var_postscript_prefix'  *\/\n-  \/*                            string.                                    *\/\n-  \/*                                                                       *\/\n-  \/*    horz_metrics_size    :: The size of the `hmtx' table.              *\/\n-  \/*                                                                       *\/\n-  \/*    vert_metrics_size    :: The size of the `vmtx' table.              *\/\n-  \/*                                                                       *\/\n-  \/*    num_locations        :: The number of glyph locations in this      *\/\n-  \/*                            TrueType file.  This should be             *\/\n-  \/*                            identical to the number of glyphs.         *\/\n-  \/*                            Ignored for Type 2 fonts.                  *\/\n-  \/*                                                                       *\/\n-  \/*    glyph_locations      :: An array of longs.  These are offsets to   *\/\n-  \/*                            glyph data within the `glyf' table.        *\/\n-  \/*                            Ignored for Type 2 font faces.             *\/\n-  \/*                                                                       *\/\n-  \/*    hdmx_table           :: A pointer to the `hdmx' table.             *\/\n-  \/*                                                                       *\/\n-  \/*    hdmx_table_size      :: The size of the `hdmx' table.              *\/\n-  \/*                                                                       *\/\n-  \/*    hdmx_record_count    :: The number of hdmx records.                *\/\n-  \/*                                                                       *\/\n-  \/*    hdmx_record_size     :: The size of a single hdmx record.          *\/\n-  \/*                                                                       *\/\n-  \/*    hdmx_record_sizes    :: An array holding the ppem sizes available  *\/\n-  \/*                            in the `hdmx' table.                       *\/\n-  \/*                                                                       *\/\n-  \/*    sbit_table           :: A pointer to the font's embedded bitmap    *\/\n-  \/*                            location table.                            *\/\n-  \/*                                                                       *\/\n-  \/*    sbit_table_size      :: The size of `sbit_table'.                  *\/\n-  \/*                                                                       *\/\n-  \/*    sbit_table_type      :: The sbit table type (CBLC, sbix, etc.).    *\/\n-  \/*                                                                       *\/\n-  \/*    sbit_num_strikes     :: The number of sbit strikes exposed by      *\/\n-  \/*                            FreeType's API, omitting invalid strikes.  *\/\n-  \/*                                                                       *\/\n-  \/*    sbit_strike_map      :: A mapping between the strike indices       *\/\n-  \/*                            exposed by the API and the indices used in *\/\n-  \/*                            the font's sbit table.                     *\/\n-  \/*                                                                       *\/\n-  \/*    kern_table           :: A pointer to the `kern' table.             *\/\n-  \/*                                                                       *\/\n-  \/*    kern_table_size      :: The size of the `kern' table.              *\/\n-  \/*                                                                       *\/\n-  \/*    num_kern_tables      :: The number of supported kern subtables     *\/\n-  \/*                            (up to 32; FreeType recognizes only        *\/\n-  \/*                            horizontal ones with format 0).            *\/\n-  \/*                                                                       *\/\n-  \/*    kern_avail_bits      :: The availability status of kern subtables; *\/\n-  \/*                            if bit n is set, table n is available.     *\/\n-  \/*                                                                       *\/\n-  \/*    kern_order_bits      :: The sortedness status of kern subtables;   *\/\n-  \/*                            if bit n is set, table n is sorted.        *\/\n-  \/*                                                                       *\/\n-  \/*    bdf                  :: Data related to an SFNT font's `bdf'       *\/\n-  \/*                            table; see `tttypes.h'.                    *\/\n-  \/*                                                                       *\/\n-  \/*    horz_metrics_offset  :: The file offset of the `hmtx' table.       *\/\n-  \/*                                                                       *\/\n-  \/*    vert_metrics_offset  :: The file offset of the `vmtx' table.       *\/\n-  \/*                                                                       *\/\n-  \/*    sph_found_func_flags :: Flags identifying special bytecode         *\/\n-  \/*                            functions (used by the v38 implementation  *\/\n-  \/*                            of the bytecode interpreter).              *\/\n-  \/*                                                                       *\/\n-  \/*    sph_compatibility_mode ::                                          *\/\n-  \/*                            This flag is set if we are in ClearType    *\/\n-  \/*                            backward compatibility mode (used by the   *\/\n-  \/*                            v38 implementation of the bytecode         *\/\n-  \/*                            interpreter).                              *\/\n-  \/*                                                                       *\/\n-  \/*    ebdt_start           :: The file offset of the sbit data table     *\/\n-  \/*                            (CBDT, bdat, etc.).                        *\/\n-  \/*                                                                       *\/\n-  \/*    ebdt_size            :: The size of the sbit data table.           *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   *                        TrueType Face Type\n+   *\n+   * @struct:\n+   *   TT_Face\n+   *\n+   * @description:\n+   *   The TrueType face class.  These objects model the resolution and\n+   *   point-size independent data found in a TrueType font file.\n+   *\n+   * @fields:\n+   *   root ::\n+   *     The base FT_Face structure, managed by the base layer.\n+   *\n+   *   ttc_header ::\n+   *     The TrueType collection header, used when the file is a 'ttc' rather\n+   *     than a 'ttf'.  For ordinary font files, the field `ttc_header.count`\n+   *     is set to 0.\n+   *\n+   *   format_tag ::\n+   *     The font format tag.\n+   *\n+   *   num_tables ::\n+   *     The number of TrueType tables in this font file.\n+   *\n+   *   dir_tables ::\n+   *     The directory of TrueType tables for this font file.\n+   *\n+   *   header ::\n+   *     The font's font header ('head' table).  Read on font opening.\n+   *\n+   *   horizontal ::\n+   *     The font's horizontal header ('hhea' table).  This field also\n+   *     contains the associated horizontal metrics table ('hmtx').\n+   *\n+   *   max_profile ::\n+   *     The font's maximum profile table.  Read on font opening.  Note that\n+   *     some maximum values cannot be taken directly from this table.  We\n+   *     thus define additional fields below to hold the computed maxima.\n+   *\n+   *   vertical_info ::\n+   *     A boolean which is set when the font file contains vertical metrics.\n+   *     If not, the value of the 'vertical' field is undefined.\n+   *\n+   *   vertical ::\n+   *     The font's vertical header ('vhea' table).  This field also contains\n+   *     the associated vertical metrics table ('vmtx'), if found.\n+   *     IMPORTANT: The contents of this field is undefined if the\n+   *     `vertical_info` field is unset.\n+   *\n+   *   num_names ::\n+   *     The number of name records within this TrueType font.\n+   *\n+   *   name_table ::\n+   *     The table of name records ('name').\n+   *\n+   *   os2 ::\n+   *     The font's OS\/2 table ('OS\/2').\n+   *\n+   *   postscript ::\n+   *     The font's PostScript table ('post' table).  The PostScript glyph\n+   *     names are not loaded by the driver on face opening.  See the\n+   *     'ttpost' module for more details.\n+   *\n+   *   cmap_table ::\n+   *     Address of the face's 'cmap' SFNT table in memory (it's an extracted\n+   *     frame).\n+   *\n+   *   cmap_size ::\n+   *     The size in bytes of the `cmap_table` described above.\n+   *\n+   *   goto_table ::\n+   *     A function called by each TrueType table loader to position a\n+   *     stream's cursor to the start of a given table according to its tag.\n+   *     It defaults to TT_Goto_Face but can be different for strange formats\n+   *     (e.g.  Type 42).\n+   *\n+   *   access_glyph_frame ::\n+   *     A function used to access the frame of a given glyph within the\n+   *     face's font file.\n+   *\n+   *   forget_glyph_frame ::\n+   *     A function used to forget the frame of a given glyph when all data\n+   *     has been loaded.\n+   *\n+   *   read_glyph_header ::\n+   *     A function used to read a glyph header.  It must be called between\n+   *     an 'access' and 'forget'.\n+   *\n+   *   read_simple_glyph ::\n+   *     A function used to read a simple glyph.  It must be called after the\n+   *     header was read, and before the 'forget'.\n+   *\n+   *   read_composite_glyph ::\n+   *     A function used to read a composite glyph.  It must be called after\n+   *     the header was read, and before the 'forget'.\n+   *\n+   *   sfnt ::\n+   *     A pointer to the SFNT service.\n+   *\n+   *   psnames ::\n+   *     A pointer to the PostScript names service.\n+   *\n+   *   mm ::\n+   *     A pointer to the Multiple Masters service.\n+   *\n+   *   var ::\n+   *     A pointer to the Metrics Variations service.\n+   *\n+   *   hdmx ::\n+   *     The face's horizontal device metrics ('hdmx' table).  This table is\n+   *     optional in TrueType\/OpenType fonts.\n+   *\n+   *   gasp ::\n+   *     The grid-fitting and scaling properties table ('gasp').  This table\n+   *     is optional in TrueType\/OpenType fonts.\n+   *\n+   *   pclt ::\n+   *     The 'pclt' SFNT table.\n+   *\n+   *   num_sbit_scales ::\n+   *     The number of sbit scales for this font.\n+   *\n+   *   sbit_scales ::\n+   *     Array of sbit scales embedded in this font.  This table is optional\n+   *     in a TrueType\/OpenType font.\n+   *\n+   *   postscript_names ::\n+   *     A table used to store the Postscript names of the glyphs for this\n+   *     font.  See the file `ttconfig.h` for comments on the\n+   *     TT_CONFIG_OPTION_POSTSCRIPT_NAMES option.\n+   *\n+   *   palette_data ::\n+   *     Some fields from the 'CPAL' table that are directly indexed.\n+   *\n+   *   palette_index ::\n+   *     The current palette index, as set by @FT_Palette_Select.\n+   *\n+   *   palette ::\n+   *     An array containing the current palette's colors.\n+   *\n+   *   have_foreground_color ::\n+   *     There was a call to @FT_Palette_Set_Foreground_Color.\n+   *\n+   *   foreground_color ::\n+   *     The current foreground color corresponding to 'CPAL' color index\n+   *     0xFFFF.  Only valid if `have_foreground_color` is set.\n+   *\n+   *   font_program_size ::\n+   *     Size in bytecodes of the face's font program.  0 if none defined.\n+   *     Ignored for Type 2 fonts.\n+   *\n+   *   font_program ::\n+   *     The face's font program (bytecode stream) executed at load time,\n+   *     also used during glyph rendering.  Comes from the 'fpgm' table.\n+   *     Ignored for Type 2 font fonts.\n+   *\n+   *   cvt_program_size ::\n+   *     The size in bytecodes of the face's cvt program.  Ignored for Type 2\n+   *     fonts.\n+   *\n+   *   cvt_program ::\n+   *     The face's cvt program (bytecode stream) executed each time an\n+   *     instance\/size is changed\/reset.  Comes from the 'prep' table.\n+   *     Ignored for Type 2 fonts.\n+   *\n+   *   cvt_size ::\n+   *     Size of the control value table (in entries).  Ignored for Type 2\n+   *     fonts.\n+   *\n+   *   cvt ::\n+   *     The face's original control value table.  Coordinates are expressed\n+   *     in unscaled font units.  Comes from the 'cvt~' table.  Ignored for\n+   *     Type 2 fonts.\n+   *\n+   *   interpreter ::\n+   *     A pointer to the TrueType bytecode interpreters field is also used\n+   *     to hook the debugger in 'ttdebug'.\n+   *\n+   *   extra ::\n+   *     Reserved for third-party font drivers.\n+   *\n+   *   postscript_name ::\n+   *     The PS name of the font.  Used by the postscript name service.\n+   *\n+   *   glyf_len ::\n+   *     The length of the 'glyf' table.  Needed for malformed 'loca' tables.\n+   *\n+   *   glyf_offset ::\n+   *     The file offset of the 'glyf' table.\n+   *\n+   *   is_cff2 ::\n+   *     Set if the font format is CFF2.\n+   *\n+   *   doblend ::\n+   *     A boolean which is set if the font should be blended (this is for GX\n+   *     var).\n+   *\n+   *   blend ::\n+   *     Contains the data needed to control GX variation tables (rather like\n+   *     Multiple Master data).\n+   *\n+   *   variation_support ::\n+   *     Flags that indicate which OpenType functionality related to font\n+   *     variation support is present, valid, and usable.  For example,\n+   *     TT_FACE_FLAG_VAR_FVAR is only set if we have at least one design\n+   *     axis.\n+   *\n+   *   var_postscript_prefix ::\n+   *     The PostScript name prefix needed for constructing a variation font\n+   *     instance's PS name .\n+   *\n+   *   var_postscript_prefix_len ::\n+   *     The length of the `var_postscript_prefix` string.\n+   *\n+   *   horz_metrics_size ::\n+   *     The size of the 'hmtx' table.\n+   *\n+   *   vert_metrics_size ::\n+   *     The size of the 'vmtx' table.\n+   *\n+   *   num_locations ::\n+   *     The number of glyph locations in this TrueType file.  This should be\n+   *     identical to the number of glyphs.  Ignored for Type 2 fonts.\n+   *\n+   *   glyph_locations ::\n+   *     An array of longs.  These are offsets to glyph data within the\n+   *     'glyf' table.  Ignored for Type 2 font faces.\n+   *\n+   *   hdmx_table ::\n+   *     A pointer to the 'hdmx' table.\n+   *\n+   *   hdmx_table_size ::\n+   *     The size of the 'hdmx' table.\n+   *\n+   *   hdmx_record_count ::\n+   *     The number of hdmx records.\n+   *\n+   *   hdmx_record_size ::\n+   *     The size of a single hdmx record.\n+   *\n+   *   hdmx_record_sizes ::\n+   *     An array holding the ppem sizes available in the 'hdmx' table.\n+   *\n+   *   sbit_table ::\n+   *     A pointer to the font's embedded bitmap location table.\n+   *\n+   *   sbit_table_size ::\n+   *     The size of `sbit_table`.\n+   *\n+   *   sbit_table_type ::\n+   *     The sbit table type (CBLC, sbix, etc.).\n+   *\n+   *   sbit_num_strikes ::\n+   *     The number of sbit strikes exposed by FreeType's API, omitting\n+   *     invalid strikes.\n+   *\n+   *   sbit_strike_map ::\n+   *     A mapping between the strike indices exposed by the API and the\n+   *     indices used in the font's sbit table.\n+   *\n+   *   cpal ::\n+   *     A pointer to data related to the 'CPAL' table.  `NULL` if the table\n+   *     is not available.\n+   *\n+   *   colr ::\n+   *     A pointer to data related to the 'COLR' table.  `NULL` if the table\n+   *     is not available.\n+   *\n+   *   kern_table ::\n+   *     A pointer to the 'kern' table.\n+   *\n+   *   kern_table_size ::\n+   *     The size of the 'kern' table.\n+   *\n+   *   num_kern_tables ::\n+   *     The number of supported kern subtables (up to 32; FreeType\n+   *     recognizes only horizontal ones with format 0).\n+   *\n+   *   kern_avail_bits ::\n+   *     The availability status of kern subtables; if bit n is set, table n\n+   *     is available.\n+   *\n+   *   kern_order_bits ::\n+   *     The sortedness status of kern subtables; if bit n is set, table n is\n+   *     sorted.\n+   *\n+   *   bdf ::\n+   *     Data related to an SFNT font's 'bdf' table; see `tttypes.h`.\n+   *\n+   *   horz_metrics_offset ::\n+   *     The file offset of the 'hmtx' table.\n+   *\n+   *   vert_metrics_offset ::\n+   *     The file offset of the 'vmtx' table.\n+   *\n+   *   sph_found_func_flags ::\n+   *     Flags identifying special bytecode functions (used by the v38\n+   *     implementation of the bytecode interpreter).\n+   *\n+   *   sph_compatibility_mode ::\n+   *     This flag is set if we are in ClearType backward compatibility mode\n+   *     (used by the v38 implementation of the bytecode interpreter).\n+   *\n+   *   ebdt_start ::\n+   *     The file offset of the sbit data table (CBDT, bdat, etc.).\n+   *\n+   *   ebdt_size ::\n+   *     The size of the sbit data table.\n+   *\/\n@@ -1448,5 +1593,5 @@\n-    \/***********************************************************************\/\n-    \/*                                                                     *\/\n-    \/* Optional TrueType\/OpenType tables                                   *\/\n-    \/*                                                                     *\/\n-    \/***********************************************************************\/\n+    \/************************************************************************\n+     *\n+     * Optional TrueType\/OpenType tables\n+     *\n+     *\/\n@@ -1467,0 +1612,7 @@\n+    \/* glyph colors *\/\n+    FT_Palette_Data       palette_data;         \/* since 2.10 *\/\n+    FT_UShort             palette_index;\n+    FT_Color*             palette;\n+    FT_Bool               have_foreground_color;\n+    FT_Color              foreground_color;\n+\n@@ -1468,5 +1620,5 @@\n-    \/***********************************************************************\/\n-    \/*                                                                     *\/\n-    \/* TrueType-specific fields (ignored by the CFF driver)                *\/\n-    \/*                                                                     *\/\n-    \/***********************************************************************\/\n+    \/************************************************************************\n+     *\n+     * TrueType-specific fields (ignored by the CFF driver)\n+     *\n+     *\/\n@@ -1491,6 +1643,6 @@\n-    \/***********************************************************************\/\n-    \/*                                                                     *\/\n-    \/* Other tables or fields. This is used by derivative formats like     *\/\n-    \/* OpenType.                                                           *\/\n-    \/*                                                                     *\/\n-    \/***********************************************************************\/\n+    \/************************************************************************\n+     *\n+     * Other tables or fields. This is used by derivative formats like\n+     * OpenType.\n+     *\n+     *\/\n@@ -1565,0 +1717,4 @@\n+    \/* since 2.10 *\/\n+    void*                 cpal;\n+    void*                 colr;\n+\n@@ -1568,31 +1724,40 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*  <Struct>                                                             *\/\n-  \/*     TT_GlyphZoneRec                                                   *\/\n-  \/*                                                                       *\/\n-  \/*  <Description>                                                        *\/\n-  \/*     A glyph zone is used to load, scale and hint glyph outline        *\/\n-  \/*     coordinates.                                                      *\/\n-  \/*                                                                       *\/\n-  \/*  <Fields>                                                             *\/\n-  \/*     memory       :: A handle to the memory manager.                   *\/\n-  \/*                                                                       *\/\n-  \/*     max_points   :: The maximum size in points of the zone.           *\/\n-  \/*                                                                       *\/\n-  \/*     max_contours :: Max size in links contours of the zone.           *\/\n-  \/*                                                                       *\/\n-  \/*     n_points     :: The current number of points in the zone.         *\/\n-  \/*                                                                       *\/\n-  \/*     n_contours   :: The current number of contours in the zone.       *\/\n-  \/*                                                                       *\/\n-  \/*     org          :: The original glyph coordinates (font              *\/\n-  \/*                     units\/scaled).                                    *\/\n-  \/*                                                                       *\/\n-  \/*     cur          :: The current glyph coordinates (scaled\/hinted).    *\/\n-  \/*                                                                       *\/\n-  \/*     tags         :: The point control tags.                           *\/\n-  \/*                                                                       *\/\n-  \/*     contours     :: The contours end points.                          *\/\n-  \/*                                                                       *\/\n-  \/*     first_point  :: Offset of the current subglyph's first point.     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *    TT_GlyphZoneRec\n+   *\n+   * @description:\n+   *   A glyph zone is used to load, scale and hint glyph outline\n+   *   coordinates.\n+   *\n+   * @fields:\n+   *   memory ::\n+   *     A handle to the memory manager.\n+   *\n+   *   max_points ::\n+   *     The maximum size in points of the zone.\n+   *\n+   *   max_contours ::\n+   *     Max size in links contours of the zone.\n+   *\n+   *   n_points ::\n+   *     The current number of points in the zone.\n+   *\n+   *   n_contours ::\n+   *     The current number of contours in the zone.\n+   *\n+   *   org ::\n+   *     The original glyph coordinates (font units\/scaled).\n+   *\n+   *   cur ::\n+   *     The current glyph coordinates (scaled\/hinted).\n+   *\n+   *   tags ::\n+   *     The point control tags.\n+   *\n+   *   contours ::\n+   *     The contours end points.\n+   *\n+   *   first_point ::\n+   *     Offset of the current subglyph's first point.\n+   *\/\n@@ -1623,8 +1788,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    TT_Size                                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A handle to a TrueType size object.                                *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @type:\n+   *   TT_Size\n+   *\n+   * @description:\n+   *   A handle to a TrueType size object.\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/internal\/tttypes.h","additions":1091,"deletions":926,"binary":false,"changes":2017,"status":"modified"},{"patch":"@@ -1,17 +1,17 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  t1tables.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    Basic Type 1\/Type 2 tables definitions and interface (specification  *\/\n-\/*    only).                                                               *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * t1tables.h\n+ *\n+ *   Basic Type 1\/Type 2 tables definitions and interface (specification\n+ *   only).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -37,36 +37,36 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Section>                                                             *\/\n-  \/*    type1_tables                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Title>                                                               *\/\n-  \/*    Type 1 Tables                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Abstract>                                                            *\/\n-  \/*    Type~1 (PostScript) specific font tables.                          *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This section contains the definition of Type 1-specific tables,    *\/\n-  \/*    including structures related to other PostScript font formats.     *\/\n-  \/*                                                                       *\/\n-  \/* <Order>                                                               *\/\n-  \/*    PS_FontInfoRec                                                     *\/\n-  \/*    PS_FontInfo                                                        *\/\n-  \/*    PS_PrivateRec                                                      *\/\n-  \/*    PS_Private                                                         *\/\n-  \/*                                                                       *\/\n-  \/*    CID_FaceDictRec                                                    *\/\n-  \/*    CID_FaceDict                                                       *\/\n-  \/*    CID_FaceInfoRec                                                    *\/\n-  \/*    CID_FaceInfo                                                       *\/\n-  \/*                                                                       *\/\n-  \/*    FT_Has_PS_Glyph_Names                                              *\/\n-  \/*    FT_Get_PS_Font_Info                                                *\/\n-  \/*    FT_Get_PS_Font_Private                                             *\/\n-  \/*    FT_Get_PS_Font_Value                                               *\/\n-  \/*                                                                       *\/\n-  \/*    T1_Blend_Flags                                                     *\/\n-  \/*    T1_EncodingType                                                    *\/\n-  \/*    PS_Dict_Keys                                                       *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   type1_tables\n+   *\n+   * @title:\n+   *   Type 1 Tables\n+   *\n+   * @abstract:\n+   *   Type~1-specific font tables.\n+   *\n+   * @description:\n+   *   This section contains the definition of Type~1-specific tables,\n+   *   including structures related to other PostScript font formats.\n+   *\n+   * @order:\n+   *   PS_FontInfoRec\n+   *   PS_FontInfo\n+   *   PS_PrivateRec\n+   *   PS_Private\n+   *\n+   *   CID_FaceDictRec\n+   *   CID_FaceDict\n+   *   CID_FaceInfoRec\n+   *   CID_FaceInfo\n+   *\n+   *   FT_Has_PS_Glyph_Names\n+   *   FT_Get_PS_Font_Info\n+   *   FT_Get_PS_Font_Private\n+   *   FT_Get_PS_Font_Value\n+   *\n+   *   T1_Blend_Flags\n+   *   T1_EncodingType\n+   *   PS_Dict_Keys\n+   *\n+   *\/\n@@ -79,10 +79,10 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    PS_FontInfoRec                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure used to model a Type~1 or Type~2 FontInfo dictionary.  *\/\n-  \/*    Note that for Multiple Master fonts, each instance has its own     *\/\n-  \/*    FontInfo dictionary.                                               *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   PS_FontInfoRec\n+   *\n+   * @description:\n+   *   A structure used to model a Type~1 or Type~2 FontInfo dictionary.\n+   *   Note that for Multiple Master fonts, each instance has its own\n+   *   FontInfo dictionary.\n+   *\/\n@@ -104,8 +104,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    PS_FontInfo                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A handle to a @PS_FontInfoRec structure.                           *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   PS_FontInfo\n+   *\n+   * @description:\n+   *   A handle to a @PS_FontInfoRec structure.\n+   *\/\n@@ -115,10 +115,9 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    T1_FontInfo                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This type is equivalent to @PS_FontInfoRec.  It is deprecated but  *\/\n-  \/*    kept to maintain source compatibility between various versions of  *\/\n-  \/*    FreeType.                                                          *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   T1_FontInfo\n+   *\n+   * @description:\n+   *   This type is equivalent to @PS_FontInfoRec.  It is deprecated but kept\n+   *   to maintain source compatibility between various versions of FreeType.\n+   *\/\n@@ -128,10 +127,10 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    PS_PrivateRec                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure used to model a Type~1 or Type~2 private dictionary.   *\/\n-  \/*    Note that for Multiple Master fonts, each instance has its own     *\/\n-  \/*    Private dictionary.                                                *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   PS_PrivateRec\n+   *\n+   * @description:\n+   *   A structure used to model a Type~1 or Type~2 private dictionary.  Note\n+   *   that for Multiple Master fonts, each instance has its own Private\n+   *   dictionary.\n+   *\/\n@@ -179,8 +178,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    PS_Private                                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A handle to a @PS_PrivateRec structure.                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   PS_Private\n+   *\n+   * @description:\n+   *   A handle to a @PS_PrivateRec structure.\n+   *\/\n@@ -190,10 +189,9 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    T1_Private                                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*   This type is equivalent to @PS_PrivateRec.  It is deprecated but    *\/\n-  \/*   kept to maintain source compatibility between various versions of   *\/\n-  \/*   FreeType.                                                           *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   T1_Private\n+   *\n+   * @description:\n+   *  This type is equivalent to @PS_PrivateRec.  It is deprecated but kept\n+   *  to maintain source compatibility between various versions of FreeType.\n+   *\/\n@@ -203,26 +201,26 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Enum>                                                                *\/\n-  \/*    T1_Blend_Flags                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A set of flags used to indicate which fields are present in a      *\/\n-  \/*    given blend dictionary (font info or private).  Used to support    *\/\n-  \/*    Multiple Masters fonts.                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Values>                                                              *\/\n-  \/*    T1_BLEND_UNDERLINE_POSITION ::                                     *\/\n-  \/*    T1_BLEND_UNDERLINE_THICKNESS ::                                    *\/\n-  \/*    T1_BLEND_ITALIC_ANGLE ::                                           *\/\n-  \/*    T1_BLEND_BLUE_VALUES ::                                            *\/\n-  \/*    T1_BLEND_OTHER_BLUES ::                                            *\/\n-  \/*    T1_BLEND_STANDARD_WIDTH ::                                         *\/\n-  \/*    T1_BLEND_STANDARD_HEIGHT ::                                        *\/\n-  \/*    T1_BLEND_STEM_SNAP_WIDTHS ::                                       *\/\n-  \/*    T1_BLEND_STEM_SNAP_HEIGHTS ::                                      *\/\n-  \/*    T1_BLEND_BLUE_SCALE ::                                             *\/\n-  \/*    T1_BLEND_BLUE_SHIFT ::                                             *\/\n-  \/*    T1_BLEND_FAMILY_BLUES ::                                           *\/\n-  \/*    T1_BLEND_FAMILY_OTHER_BLUES ::                                     *\/\n-  \/*    T1_BLEND_FORCE_BOLD ::                                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @enum:\n+   *   T1_Blend_Flags\n+   *\n+   * @description:\n+   *   A set of flags used to indicate which fields are present in a given\n+   *   blend dictionary (font info or private).  Used to support Multiple\n+   *   Masters fonts.\n+   *\n+   * @values:\n+   *   T1_BLEND_UNDERLINE_POSITION ::\n+   *   T1_BLEND_UNDERLINE_THICKNESS ::\n+   *   T1_BLEND_ITALIC_ANGLE ::\n+   *   T1_BLEND_BLUE_VALUES ::\n+   *   T1_BLEND_OTHER_BLUES ::\n+   *   T1_BLEND_STANDARD_WIDTH ::\n+   *   T1_BLEND_STANDARD_HEIGHT ::\n+   *   T1_BLEND_STEM_SNAP_WIDTHS ::\n+   *   T1_BLEND_STEM_SNAP_HEIGHTS ::\n+   *   T1_BLEND_BLUE_SCALE ::\n+   *   T1_BLEND_BLUE_SHIFT ::\n+   *   T1_BLEND_FAMILY_BLUES ::\n+   *   T1_BLEND_FAMILY_OTHER_BLUES ::\n+   *   T1_BLEND_FORCE_BOLD ::\n+   *\/\n@@ -255,1 +253,1 @@\n-  \/* `T1_Blend_Flags' values instead                       *\/\n+  \/* `T1_Blend_Flags` values instead                       *\/\n@@ -333,8 +331,17 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    CID_FaceDictRec                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure used to represent data in a CID top-level dictionary.  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   CID_FaceDictRec\n+   *\n+   * @description:\n+   *   A structure used to represent data in a CID top-level dictionary.  In\n+   *   most cases, they are part of the font's '\/FDArray' array.  Within a\n+   *   CID font file, such (internal) subfont dictionaries are enclosed by\n+   *   '%ADOBeginFontDict' and '%ADOEndFontDict' comments.\n+   *\n+   *   Note that `CID_FaceDictRec` misses a field for the '\/FontName'\n+   *   keyword, specifying the subfont's name (the top-level font name is\n+   *   given by the '\/CIDFontName' keyword).  This is an oversight, but it\n+   *   doesn't limit the 'cid' font module's functionality because FreeType\n+   *   neither needs this entry nor gives access to CID subfonts.\n+   *\/\n@@ -348,2 +355,2 @@\n-    FT_Fixed       expansion_factor;\n-\n+    FT_Fixed       expansion_factor;   \/* this is a duplicate of           *\/\n+                                       \/* `private_dict->expansion_factor' *\/\n@@ -362,8 +369,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    CID_FaceDict                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A handle to a @CID_FaceDictRec structure.                          *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   CID_FaceDict\n+   *\n+   * @description:\n+   *   A handle to a @CID_FaceDictRec structure.\n+   *\/\n@@ -373,10 +380,10 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    CID_FontDict                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This type is equivalent to @CID_FaceDictRec.  It is deprecated but *\/\n-  \/*    kept to maintain source compatibility between various versions of  *\/\n-  \/*    FreeType.                                                          *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   CID_FontDict\n+   *\n+   * @description:\n+   *   This type is equivalent to @CID_FaceDictRec.  It is deprecated but\n+   *   kept to maintain source compatibility between various versions of\n+   *   FreeType.\n+   *\/\n@@ -386,8 +393,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    CID_FaceInfoRec                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure used to represent CID Face information.                *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   CID_FaceInfoRec\n+   *\n+   * @description:\n+   *   A structure used to represent CID Face information.\n+   *\/\n@@ -424,8 +431,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    CID_FaceInfo                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A handle to a @CID_FaceInfoRec structure.                          *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   CID_FaceInfo\n+   *\n+   * @description:\n+   *   A handle to a @CID_FaceInfoRec structure.\n+   *\/\n@@ -435,10 +442,9 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    CID_Info                                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*   This type is equivalent to @CID_FaceInfoRec.  It is deprecated but  *\/\n-  \/*   kept to maintain source compatibility between various versions of   *\/\n-  \/*   FreeType.                                                           *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   CID_Info\n+   *\n+   * @description:\n+   *  This type is equivalent to @CID_FaceInfoRec.  It is deprecated but kept\n+   *  to maintain source compatibility between various versions of FreeType.\n+   *\/\n@@ -448,1 +454,1 @@\n-  \/************************************************************************\n+  \/**************************************************************************\n@@ -454,4 +460,3 @@\n-   *    Return true if a given face provides reliable PostScript glyph\n-   *    names.  This is similar to using the @FT_HAS_GLYPH_NAMES macro,\n-   *    except that certain fonts (mostly TrueType) contain incorrect\n-   *    glyph name tables.\n+   *    Return true if a given face provides reliable PostScript glyph names.\n+   *    This is similar to using the @FT_HAS_GLYPH_NAMES macro, except that\n+   *    certain fonts (mostly TrueType) contain incorrect glyph name tables.\n@@ -464,1 +469,1 @@\n-   *       face handle\n+   *      face handle\n@@ -474,1 +479,1 @@\n-  \/************************************************************************\n+  \/**************************************************************************\n@@ -485,1 +490,1 @@\n-   *       PostScript face handle.\n+   *      PostScript face handle.\n@@ -489,1 +494,1 @@\n-   *       Output font info structure pointer.\n+   *      Output font info structure pointer.\n@@ -495,3 +500,3 @@\n-   *    String pointers within the @PS_FontInfoRec structure are owned by\n-   *    the face and don't need to be freed by the caller.  Missing entries\n-   *    in the font's FontInfo dictionary are represented by NULL pointers.\n+   *    String pointers within the @PS_FontInfoRec structure are owned by the\n+   *    face and don't need to be freed by the caller.  Missing entries in\n+   *    the font's FontInfo dictionary are represented by `NULL` pointers.\n@@ -500,1 +505,1 @@\n-   *    return the `FT_Err_Invalid_Argument' error code.\n+   *    return the `FT_Err_Invalid_Argument` error code.\n@@ -508,1 +513,1 @@\n-  \/************************************************************************\n+  \/**************************************************************************\n@@ -519,1 +524,1 @@\n-   *       PostScript face handle.\n+   *      PostScript face handle.\n@@ -523,1 +528,1 @@\n-   *       Output private dictionary structure pointer.\n+   *      Output private dictionary structure pointer.\n@@ -533,1 +538,1 @@\n-   *    the `FT_Err_Invalid_Argument' error code.\n+   *    the `FT_Err_Invalid_Argument` error code.\n@@ -541,19 +546,18 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Enum>                                                                *\/\n-  \/*    T1_EncodingType                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    An enumeration describing the `Encoding' entry in a Type 1         *\/\n-  \/*    dictionary.                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Values>                                                              *\/\n-  \/*    T1_ENCODING_TYPE_NONE ::                                           *\/\n-  \/*    T1_ENCODING_TYPE_ARRAY ::                                          *\/\n-  \/*    T1_ENCODING_TYPE_STANDARD ::                                       *\/\n-  \/*    T1_ENCODING_TYPE_ISOLATIN1 ::                                      *\/\n-  \/*    T1_ENCODING_TYPE_EXPERT ::                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Since>                                                               *\/\n-  \/*    2.4.8                                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @enum:\n+   *   T1_EncodingType\n+   *\n+   * @description:\n+   *   An enumeration describing the 'Encoding' entry in a Type 1 dictionary.\n+   *\n+   * @values:\n+   *   T1_ENCODING_TYPE_NONE ::\n+   *   T1_ENCODING_TYPE_ARRAY ::\n+   *   T1_ENCODING_TYPE_STANDARD ::\n+   *   T1_ENCODING_TYPE_ISOLATIN1 ::\n+   *   T1_ENCODING_TYPE_EXPERT ::\n+   *\n+   * @since:\n+   *   2.4.8\n+   *\/\n@@ -571,60 +575,60 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Enum>                                                                *\/\n-  \/*    PS_Dict_Keys                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    An enumeration used in calls to @FT_Get_PS_Font_Value to identify  *\/\n-  \/*    the Type~1 dictionary entry to retrieve.                           *\/\n-  \/*                                                                       *\/\n-  \/* <Values>                                                              *\/\n-  \/*    PS_DICT_FONT_TYPE ::                                               *\/\n-  \/*    PS_DICT_FONT_MATRIX ::                                             *\/\n-  \/*    PS_DICT_FONT_BBOX ::                                               *\/\n-  \/*    PS_DICT_PAINT_TYPE ::                                              *\/\n-  \/*    PS_DICT_FONT_NAME ::                                               *\/\n-  \/*    PS_DICT_UNIQUE_ID ::                                               *\/\n-  \/*    PS_DICT_NUM_CHAR_STRINGS ::                                        *\/\n-  \/*    PS_DICT_CHAR_STRING_KEY ::                                         *\/\n-  \/*    PS_DICT_CHAR_STRING ::                                             *\/\n-  \/*    PS_DICT_ENCODING_TYPE ::                                           *\/\n-  \/*    PS_DICT_ENCODING_ENTRY ::                                          *\/\n-  \/*    PS_DICT_NUM_SUBRS ::                                               *\/\n-  \/*    PS_DICT_SUBR ::                                                    *\/\n-  \/*    PS_DICT_STD_HW ::                                                  *\/\n-  \/*    PS_DICT_STD_VW ::                                                  *\/\n-  \/*    PS_DICT_NUM_BLUE_VALUES ::                                         *\/\n-  \/*    PS_DICT_BLUE_VALUE ::                                              *\/\n-  \/*    PS_DICT_BLUE_FUZZ ::                                               *\/\n-  \/*    PS_DICT_NUM_OTHER_BLUES ::                                         *\/\n-  \/*    PS_DICT_OTHER_BLUE ::                                              *\/\n-  \/*    PS_DICT_NUM_FAMILY_BLUES ::                                        *\/\n-  \/*    PS_DICT_FAMILY_BLUE ::                                             *\/\n-  \/*    PS_DICT_NUM_FAMILY_OTHER_BLUES ::                                  *\/\n-  \/*    PS_DICT_FAMILY_OTHER_BLUE ::                                       *\/\n-  \/*    PS_DICT_BLUE_SCALE ::                                              *\/\n-  \/*    PS_DICT_BLUE_SHIFT ::                                              *\/\n-  \/*    PS_DICT_NUM_STEM_SNAP_H ::                                         *\/\n-  \/*    PS_DICT_STEM_SNAP_H ::                                             *\/\n-  \/*    PS_DICT_NUM_STEM_SNAP_V ::                                         *\/\n-  \/*    PS_DICT_STEM_SNAP_V ::                                             *\/\n-  \/*    PS_DICT_FORCE_BOLD ::                                              *\/\n-  \/*    PS_DICT_RND_STEM_UP ::                                             *\/\n-  \/*    PS_DICT_MIN_FEATURE ::                                             *\/\n-  \/*    PS_DICT_LEN_IV ::                                                  *\/\n-  \/*    PS_DICT_PASSWORD ::                                                *\/\n-  \/*    PS_DICT_LANGUAGE_GROUP ::                                          *\/\n-  \/*    PS_DICT_VERSION ::                                                 *\/\n-  \/*    PS_DICT_NOTICE ::                                                  *\/\n-  \/*    PS_DICT_FULL_NAME ::                                               *\/\n-  \/*    PS_DICT_FAMILY_NAME ::                                             *\/\n-  \/*    PS_DICT_WEIGHT ::                                                  *\/\n-  \/*    PS_DICT_IS_FIXED_PITCH ::                                          *\/\n-  \/*    PS_DICT_UNDERLINE_POSITION ::                                      *\/\n-  \/*    PS_DICT_UNDERLINE_THICKNESS ::                                     *\/\n-  \/*    PS_DICT_FS_TYPE ::                                                 *\/\n-  \/*    PS_DICT_ITALIC_ANGLE ::                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Since>                                                               *\/\n-  \/*    2.4.8                                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @enum:\n+   *   PS_Dict_Keys\n+   *\n+   * @description:\n+   *   An enumeration used in calls to @FT_Get_PS_Font_Value to identify the\n+   *   Type~1 dictionary entry to retrieve.\n+   *\n+   * @values:\n+   *   PS_DICT_FONT_TYPE ::\n+   *   PS_DICT_FONT_MATRIX ::\n+   *   PS_DICT_FONT_BBOX ::\n+   *   PS_DICT_PAINT_TYPE ::\n+   *   PS_DICT_FONT_NAME ::\n+   *   PS_DICT_UNIQUE_ID ::\n+   *   PS_DICT_NUM_CHAR_STRINGS ::\n+   *   PS_DICT_CHAR_STRING_KEY ::\n+   *   PS_DICT_CHAR_STRING ::\n+   *   PS_DICT_ENCODING_TYPE ::\n+   *   PS_DICT_ENCODING_ENTRY ::\n+   *   PS_DICT_NUM_SUBRS ::\n+   *   PS_DICT_SUBR ::\n+   *   PS_DICT_STD_HW ::\n+   *   PS_DICT_STD_VW ::\n+   *   PS_DICT_NUM_BLUE_VALUES ::\n+   *   PS_DICT_BLUE_VALUE ::\n+   *   PS_DICT_BLUE_FUZZ ::\n+   *   PS_DICT_NUM_OTHER_BLUES ::\n+   *   PS_DICT_OTHER_BLUE ::\n+   *   PS_DICT_NUM_FAMILY_BLUES ::\n+   *   PS_DICT_FAMILY_BLUE ::\n+   *   PS_DICT_NUM_FAMILY_OTHER_BLUES ::\n+   *   PS_DICT_FAMILY_OTHER_BLUE ::\n+   *   PS_DICT_BLUE_SCALE ::\n+   *   PS_DICT_BLUE_SHIFT ::\n+   *   PS_DICT_NUM_STEM_SNAP_H ::\n+   *   PS_DICT_STEM_SNAP_H ::\n+   *   PS_DICT_NUM_STEM_SNAP_V ::\n+   *   PS_DICT_STEM_SNAP_V ::\n+   *   PS_DICT_FORCE_BOLD ::\n+   *   PS_DICT_RND_STEM_UP ::\n+   *   PS_DICT_MIN_FEATURE ::\n+   *   PS_DICT_LEN_IV ::\n+   *   PS_DICT_PASSWORD ::\n+   *   PS_DICT_LANGUAGE_GROUP ::\n+   *   PS_DICT_VERSION ::\n+   *   PS_DICT_NOTICE ::\n+   *   PS_DICT_FULL_NAME ::\n+   *   PS_DICT_FAMILY_NAME ::\n+   *   PS_DICT_WEIGHT ::\n+   *   PS_DICT_IS_FIXED_PITCH ::\n+   *   PS_DICT_UNDERLINE_POSITION ::\n+   *   PS_DICT_UNDERLINE_THICKNESS ::\n+   *   PS_DICT_FS_TYPE ::\n+   *   PS_DICT_ITALIC_ANGLE ::\n+   *\n+   * @since:\n+   *   2.4.8\n+   *\/\n@@ -690,1 +694,1 @@\n-  \/************************************************************************\n+  \/**************************************************************************\n@@ -700,1 +704,1 @@\n-   *       PostScript face handle.\n+   *      PostScript face handle.\n@@ -703,1 +707,1 @@\n-   *       An enumeration value representing the dictionary key to retrieve.\n+   *      An enumeration value representing the dictionary key to retrieve.\n@@ -706,1 +710,1 @@\n-   *       For array values, this specifies the index to be returned.\n+   *      For array values, this specifies the index to be returned.\n@@ -709,1 +713,1 @@\n-   *       A pointer to memory into which to write the value.\n+   *      A pointer to memory into which to write the value.\n@@ -712,1 +716,1 @@\n-   *       The size, in bytes, of the memory supplied for the value.\n+   *      The size, in bytes, of the memory supplied for the value.\n@@ -716,1 +720,1 @@\n-   *       The value matching the above key, if it exists.\n+   *      The value matching the above key, if it exists.\n@@ -719,2 +723,2 @@\n-   *    The amount of memory (in bytes) required to hold the requested\n-   *    value (if it exists, -1 otherwise).\n+   *    The amount of memory (in bytes) required to hold the requested value\n+   *    (if it exists, -1 otherwise).\n@@ -724,1 +728,1 @@\n-   *    the face, but are `fresh' copies, so that the memory containing them\n+   *    the face, but are 'fresh' copies, so that the memory containing them\n@@ -726,1 +730,1 @@\n-   *    `read-only' nature of these values, i.e., this function cannot be\n+   *    'read-only' nature of these values, i.e., this function cannot be\n@@ -729,1 +733,1 @@\n-   *    `value' is a void pointer because the values returned can be of\n+   *    `value` is a void pointer because the values returned can be of\n@@ -732,1 +736,1 @@\n-   *    If either `value' is NULL or `value_len' is too small, just the\n+   *    If either `value` is `NULL` or `value_len` is too small, just the\n@@ -735,1 +739,1 @@\n-   *    The `idx' parameter is used, not only to retrieve elements of, for\n+   *    The `idx` parameter is used, not only to retrieve elements of, for\n@@ -740,3 +744,3 @@\n-   *    PS_DICT_BLUE_SCALE returns a value that is scaled up by 1000.  To\n-   *    get the value as in the font stream, you need to divide by\n-   *    65536000.0 (to remove the FT_Fixed scale, and the x1000 scale).\n+   *    `PS_DICT_BLUE_SCALE` returns a value that is scaled up by 1000.  To\n+   *    get the value as in the font stream, you need to divide by 65536000.0\n+   *    (to remove the FT_Fixed scale, and the x1000 scale).\n@@ -745,2 +749,2 @@\n-   *    be retrieved.  So, for example, PostScript procedures such as NP,\n-   *    ND, and RD are not available.  Arbitrary keys are, obviously, not be\n+   *    be retrieved.  So, for example, PostScript procedures such as NP, ND,\n+   *    and RD are not available.  Arbitrary keys are, obviously, not be\n@@ -750,1 +754,1 @@\n-   *    the `FT_Err_Invalid_Argument' error code.\n+   *    the `FT_Err_Invalid_Argument` error code.\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/t1tables.h","additions":310,"deletions":306,"binary":false,"changes":616,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ttnameid.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    TrueType name ID definitions (specification only).                   *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ttnameid.h\n+ *\n+ *   TrueType name ID definitions (specification only).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -29,5 +29,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Section>                                                             *\/\n-  \/*    truetype_tables                                                    *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   truetype_tables\n+   *\/\n@@ -36,6 +36,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Possible values for the `platform' identifier code in the name        *\/\n-  \/* records of an SFNT `name' table.                                      *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * Possible values for the 'platform' identifier code in the name records\n+   * of an SFNT 'name' table.\n+   *\n+   *\/\n@@ -44,1 +44,1 @@\n-  \/***********************************************************************\n+  \/**************************************************************************\n@@ -50,1 +50,1 @@\n-   *   A list of valid values for the `platform_id' identifier code in\n+   *   A list of valid values for the `platform_id` identifier code in\n@@ -56,1 +56,1 @@\n-   *     See @TT_APPLE_ID_XXX for corresponding `encoding_id' values.  Note\n+   *     See @TT_APPLE_ID_XXX for corresponding `encoding_id` values.  Note\n@@ -61,4 +61,5 @@\n-   *     Used by Apple to indicate a MacOS-specific charmap and\/or name entry.\n-   *     See @TT_MAC_ID_XXX for corresponding `encoding_id' values.  Note that\n-   *     most TrueType fonts contain an Apple roman charmap to be usable on\n-   *     MacOS systems (even if they contain a Microsoft charmap as well).\n+   *     Used by Apple to indicate a MacOS-specific charmap and\/or name\n+   *     entry.  See @TT_MAC_ID_XXX for corresponding `encoding_id` values.\n+   *     Note that most TrueType fonts contain an Apple roman charmap to be\n+   *     usable on MacOS systems (even if they contain a Microsoft charmap as\n+   *     well).\n@@ -67,3 +68,3 @@\n-   *     This value was used to specify ISO\/IEC 10646 charmaps.  It is however\n-   *     now deprecated.  See @TT_ISO_ID_XXX for a list of corresponding\n-   *     `encoding_id' values.\n+   *     This value was used to specify ISO\/IEC 10646 charmaps.  It is\n+   *     however now deprecated.  See @TT_ISO_ID_XXX for a list of\n+   *     corresponding `encoding_id` values.\n@@ -73,1 +74,1 @@\n-   *     @TT_MS_ID_XXX for a list of corresponding `encoding_id' values.\n+   *     @TT_MS_ID_XXX for a list of corresponding `encoding_id` values.\n@@ -75,1 +76,1 @@\n-   *     (TT_PLATFORM_MICROSOFT, @TT_MS_ID_UNICODE_CS).\n+   *     (`TT_PLATFORM_MICROSOFT`, @TT_MS_ID_UNICODE_CS).\n@@ -94,1 +95,1 @@\n-  \/***********************************************************************\n+  \/**************************************************************************\n@@ -100,1 +101,1 @@\n-   *   A list of valid values for the `encoding_id' for\n+   *   A list of valid values for the `encoding_id` for\n@@ -120,2 +121,2 @@\n-   *     From Adobe, not Apple.  Not a normal cmap.  Specifies variations\n-   *     on a real cmap.\n+   *     From Adobe, not Apple.  Not a normal cmap.  Specifies variations on\n+   *     a real cmap.\n@@ -137,1 +138,1 @@\n-  \/***********************************************************************\n+  \/**************************************************************************\n@@ -143,1 +144,1 @@\n-   *   A list of valid values for the `encoding_id' for\n+   *   A list of valid values for the `encoding_id` for\n@@ -183,1 +184,1 @@\n-  \/***********************************************************************\n+  \/**************************************************************************\n@@ -189,2 +190,2 @@\n-   *   A list of valid values for the `encoding_id' for\n-   *   @TT_PLATFORM_ISO charmaps and name entries.\n+   *   A list of valid values for the `encoding_id` for @TT_PLATFORM_ISO\n+   *   charmaps and name entries.\n@@ -208,1 +209,1 @@\n-  \/***********************************************************************\n+  \/**************************************************************************\n@@ -214,1 +215,1 @@\n-   *   A list of valid values for the `encoding_id' for\n+   *   A list of valid values for the `encoding_id` for\n@@ -222,2 +223,1 @@\n-   *     Microsoft WGL4 charmap, matching Unicode.  See\n-   *     @FT_ENCODING_UNICODE.\n+   *     Microsoft WGL4 charmap, matching Unicode.  See @FT_ENCODING_UNICODE.\n@@ -230,2 +230,2 @@\n-   *     This means the encodings GB~2312 and its supersets GBK and\n-   *     GB~18030.  See @FT_ENCODING_PRC.\n+   *     This means the encodings GB~2312 and its supersets GBK and GB~18030.\n+   *     See @FT_ENCODING_PRC.\n@@ -261,1 +261,1 @@\n-  \/***********************************************************************\n+  \/**************************************************************************\n@@ -267,2 +267,2 @@\n-   *   A list of valid values for the `encoding_id' for\n-   *   @TT_PLATFORM_ADOBE charmaps.  This is a FreeType-specific extension!\n+   *   A list of valid values for the `encoding_id` for @TT_PLATFORM_ADOBE\n+   *   charmaps.  This is a FreeType-specific extension!\n@@ -287,1 +287,1 @@\n-  \/***********************************************************************\n+  \/**************************************************************************\n@@ -294,1 +294,1 @@\n-   *   of the SFNT `name' table if the `platform' identifier code is\n+   *   of the SFNT 'name' table if the 'platform' identifier code is\n@@ -427,1 +427,1 @@\n-  \/***********************************************************************\n+  \/**************************************************************************\n@@ -434,1 +434,1 @@\n-   *   of the SFNT `name' table if the `platform' identifier code is\n+   *   of the SFNT 'name' table if the 'platform' identifier code is\n@@ -440,1 +440,1 @@\n-   *     https:\/\/www.microsoft.com\/globaldev\/reference\/lcid-all.mspx ,\n+   *     https:\/\/docs.microsoft.com\/en-us\/windows\/desktop\/Intl\/language-identifier-constants-and-strings ,\n@@ -444,1 +444,1 @@\n-   *   LCIDs (language code identifiers), and format~1 of the `name' table\n+   *   LCIDs (language code identifiers), and format~1 of the 'name' table\n@@ -783,1 +783,1 @@\n-  \/***********************************************************************\n+  \/**************************************************************************\n@@ -789,2 +789,2 @@\n-   *   Possible values of the `name' identifier field in the name records of\n-   *   an SFNT `name' table.  These values are platform independent.\n+   *   Possible values of the 'name' identifier field in the name records of\n+   *   an SFNT 'name' table.  These values are platform independent.\n@@ -837,1 +837,1 @@\n-  \/***********************************************************************\n+  \/**************************************************************************\n@@ -843,2 +843,2 @@\n-   *   Possible bit mask values for the `ulUnicodeRangeX' fields in an SFNT\n-   *   `OS\/2' table.\n+   *   Possible bit mask values for the `ulUnicodeRangeX` fields in an SFNT\n+   *   'OS\/2' table.\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/ttnameid.h","additions":69,"deletions":69,"binary":false,"changes":138,"status":"modified"},{"patch":"@@ -1,17 +1,17 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  tttables.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    Basic SFNT\/TrueType tables definitions and interface                 *\/\n-\/*    (specification only).                                                *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * tttables.h\n+ *\n+ *   Basic SFNT\/TrueType tables definitions and interface\n+ *   (specification only).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -36,47 +36,49 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Section>                                                             *\/\n-  \/*    truetype_tables                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Title>                                                               *\/\n-  \/*    TrueType Tables                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Abstract>                                                            *\/\n-  \/*    TrueType specific table types and functions.                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This section contains definitions of some basic tables specific to *\/\n-  \/*    TrueType and OpenType as well as some routines used to access and  *\/\n-  \/*    process them.                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Order>                                                               *\/\n-  \/*    TT_Header                                                          *\/\n-  \/*    TT_HoriHeader                                                      *\/\n-  \/*    TT_VertHeader                                                      *\/\n-  \/*    TT_OS2                                                             *\/\n-  \/*    TT_Postscript                                                      *\/\n-  \/*    TT_PCLT                                                            *\/\n-  \/*    TT_MaxProfile                                                      *\/\n-  \/*                                                                       *\/\n-  \/*    FT_Sfnt_Tag                                                        *\/\n-  \/*    FT_Get_Sfnt_Table                                                  *\/\n-  \/*    FT_Load_Sfnt_Table                                                 *\/\n-  \/*    FT_Sfnt_Table_Info                                                 *\/\n-  \/*                                                                       *\/\n-  \/*    FT_Get_CMap_Language_ID                                            *\/\n-  \/*    FT_Get_CMap_Format                                                 *\/\n-  \/*                                                                       *\/\n-  \/*    FT_PARAM_TAG_UNPATENTED_HINTING                                    *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    TT_Header                                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure to model a TrueType font header table.  All fields     *\/\n-  \/*    follow the OpenType specification.                                 *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   truetype_tables\n+   *\n+   * @title:\n+   *   TrueType Tables\n+   *\n+   * @abstract:\n+   *   TrueType-specific table types and functions.\n+   *\n+   * @description:\n+   *   This section contains definitions of some basic tables specific to\n+   *   TrueType and OpenType as well as some routines used to access and\n+   *   process them.\n+   *\n+   * @order:\n+   *   TT_Header\n+   *   TT_HoriHeader\n+   *   TT_VertHeader\n+   *   TT_OS2\n+   *   TT_Postscript\n+   *   TT_PCLT\n+   *   TT_MaxProfile\n+   *\n+   *   FT_Sfnt_Tag\n+   *   FT_Get_Sfnt_Table\n+   *   FT_Load_Sfnt_Table\n+   *   FT_Sfnt_Table_Info\n+   *\n+   *   FT_Get_CMap_Language_ID\n+   *   FT_Get_CMap_Format\n+   *\n+   *   FT_PARAM_TAG_UNPATENTED_HINTING\n+   *\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   TT_Header\n+   *\n+   * @description:\n+   *   A structure to model a TrueType font header table.  All fields follow\n+   *   the OpenType specification.  The 64-bit timestamps are stored in\n+   *   two-element arrays `Created` and `Modified`, first the upper then\n+   *   the lower 32~bits.\n+   *\/\n@@ -94,2 +96,2 @@\n-    FT_Long    Created [2];\n-    FT_Long    Modified[2];\n+    FT_ULong   Created [2];\n+    FT_ULong   Modified[2];\n@@ -112,87 +114,87 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    TT_HoriHeader                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure to model a TrueType horizontal header, the `hhea'      *\/\n-  \/*    table, as well as the corresponding horizontal metrics table,      *\/\n-  \/*    `hmtx'.                                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    Version                :: The table version.                       *\/\n-  \/*                                                                       *\/\n-  \/*    Ascender               :: The font's ascender, i.e., the distance  *\/\n-  \/*                              from the baseline to the top-most of all *\/\n-  \/*                              glyph points found in the font.          *\/\n-  \/*                                                                       *\/\n-  \/*                              This value is invalid in many fonts, as  *\/\n-  \/*                              it is usually set by the font designer,  *\/\n-  \/*                              and often reflects only a portion of the *\/\n-  \/*                              glyphs found in the font (maybe ASCII).  *\/\n-  \/*                                                                       *\/\n-  \/*                              You should use the `sTypoAscender' field *\/\n-  \/*                              of the `OS\/2' table instead if you want  *\/\n-  \/*                              the correct one.                         *\/\n-  \/*                                                                       *\/\n-  \/*    Descender              :: The font's descender, i.e., the distance *\/\n-  \/*                              from the baseline to the bottom-most of  *\/\n-  \/*                              all glyph points found in the font.  It  *\/\n-  \/*                              is negative.                             *\/\n-  \/*                                                                       *\/\n-  \/*                              This value is invalid in many fonts, as  *\/\n-  \/*                              it is usually set by the font designer,  *\/\n-  \/*                              and often reflects only a portion of the *\/\n-  \/*                              glyphs found in the font (maybe ASCII).  *\/\n-  \/*                                                                       *\/\n-  \/*                              You should use the `sTypoDescender'      *\/\n-  \/*                              field of the `OS\/2' table instead if you *\/\n-  \/*                              want the correct one.                    *\/\n-  \/*                                                                       *\/\n-  \/*    Line_Gap               :: The font's line gap, i.e., the distance  *\/\n-  \/*                              to add to the ascender and descender to  *\/\n-  \/*                              get the BTB, i.e., the                   *\/\n-  \/*                              baseline-to-baseline distance for the    *\/\n-  \/*                              font.                                    *\/\n-  \/*                                                                       *\/\n-  \/*    advance_Width_Max      :: This field is the maximum of all advance *\/\n-  \/*                              widths found in the font.  It can be     *\/\n-  \/*                              used to compute the maximum width of an  *\/\n-  \/*                              arbitrary string of text.                *\/\n-  \/*                                                                       *\/\n-  \/*    min_Left_Side_Bearing  :: The minimum left side bearing of all     *\/\n-  \/*                              glyphs within the font.                  *\/\n-  \/*                                                                       *\/\n-  \/*    min_Right_Side_Bearing :: The minimum right side bearing of all    *\/\n-  \/*                              glyphs within the font.                  *\/\n-  \/*                                                                       *\/\n-  \/*    xMax_Extent            :: The maximum horizontal extent (i.e., the *\/\n-  \/*                              `width' of a glyph's bounding box) for   *\/\n-  \/*                              all glyphs in the font.                  *\/\n-  \/*                                                                       *\/\n-  \/*    caret_Slope_Rise       :: The rise coefficient of the cursor's     *\/\n-  \/*                              slope of the cursor (slope=rise\/run).    *\/\n-  \/*                                                                       *\/\n-  \/*    caret_Slope_Run        :: The run coefficient of the cursor's      *\/\n-  \/*                              slope.                                   *\/\n-  \/*                                                                       *\/\n-  \/*    caret_Offset           :: The cursor's offset for slanted fonts.   *\/\n-  \/*                                                                       *\/\n-  \/*    Reserved               :: 8~reserved bytes.                        *\/\n-  \/*                                                                       *\/\n-  \/*    metric_Data_Format     :: Always~0.                                *\/\n-  \/*                                                                       *\/\n-  \/*    number_Of_HMetrics     :: Number of HMetrics entries in the `hmtx' *\/\n-  \/*                              table -- this value can be smaller than  *\/\n-  \/*                              the total number of glyphs in the font.  *\/\n-  \/*                                                                       *\/\n-  \/*    long_metrics           :: A pointer into the `hmtx' table.         *\/\n-  \/*                                                                       *\/\n-  \/*    short_metrics          :: A pointer into the `hmtx' table.         *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    For an OpenType variation font, the values of the following fields *\/\n-  \/*    can change after a call to @FT_Set_Var_Design_Coordinates (and     *\/\n-  \/*    friends) if the font contains an `MVAR' table: `caret_Slope_Rise', *\/\n-  \/*    `caret_Slope_Run', and `caret_Offset'.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   TT_HoriHeader\n+   *\n+   * @description:\n+   *   A structure to model a TrueType horizontal header, the 'hhea' table,\n+   *   as well as the corresponding horizontal metrics table, 'hmtx'.\n+   *\n+   * @fields:\n+   *   Version ::\n+   *     The table version.\n+   *\n+   *   Ascender ::\n+   *     The font's ascender, i.e., the distance from the baseline to the\n+   *     top-most of all glyph points found in the font.\n+   *\n+   *     This value is invalid in many fonts, as it is usually set by the\n+   *     font designer, and often reflects only a portion of the glyphs found\n+   *     in the font (maybe ASCII).\n+   *\n+   *     You should use the `sTypoAscender` field of the 'OS\/2' table instead\n+   *     if you want the correct one.\n+   *\n+   *   Descender ::\n+   *     The font's descender, i.e., the distance from the baseline to the\n+   *     bottom-most of all glyph points found in the font.  It is negative.\n+   *\n+   *     This value is invalid in many fonts, as it is usually set by the\n+   *     font designer, and often reflects only a portion of the glyphs found\n+   *     in the font (maybe ASCII).\n+   *\n+   *     You should use the `sTypoDescender` field of the 'OS\/2' table\n+   *     instead if you want the correct one.\n+   *\n+   *   Line_Gap ::\n+   *     The font's line gap, i.e., the distance to add to the ascender and\n+   *     descender to get the BTB, i.e., the baseline-to-baseline distance\n+   *     for the font.\n+   *\n+   *   advance_Width_Max ::\n+   *     This field is the maximum of all advance widths found in the font.\n+   *     It can be used to compute the maximum width of an arbitrary string\n+   *     of text.\n+   *\n+   *   min_Left_Side_Bearing ::\n+   *     The minimum left side bearing of all glyphs within the font.\n+   *\n+   *   min_Right_Side_Bearing ::\n+   *     The minimum right side bearing of all glyphs within the font.\n+   *\n+   *   xMax_Extent ::\n+   *     The maximum horizontal extent (i.e., the 'width' of a glyph's\n+   *     bounding box) for all glyphs in the font.\n+   *\n+   *   caret_Slope_Rise ::\n+   *     The rise coefficient of the cursor's slope of the cursor\n+   *     (slope=rise\/run).\n+   *\n+   *   caret_Slope_Run ::\n+   *     The run coefficient of the cursor's slope.\n+   *\n+   *   caret_Offset ::\n+   *     The cursor's offset for slanted fonts.\n+   *\n+   *   Reserved ::\n+   *     8~reserved bytes.\n+   *\n+   *   metric_Data_Format ::\n+   *     Always~0.\n+   *\n+   *   number_Of_HMetrics ::\n+   *     Number of HMetrics entries in the 'hmtx' table -- this value can be\n+   *     smaller than the total number of glyphs in the font.\n+   *\n+   *   long_metrics ::\n+   *     A pointer into the 'hmtx' table.\n+   *\n+   *   short_metrics ::\n+   *     A pointer into the 'hmtx' table.\n+   *\n+   * @note:\n+   *   For an OpenType variation font, the values of the following fields can\n+   *   change after a call to @FT_Set_Var_Design_Coordinates (and friends) if\n+   *   the font contains an 'MVAR' table: `caret_Slope_Rise`,\n+   *   `caret_Slope_Run`, and `caret_Offset`.\n+   *\/\n@@ -222,1 +224,1 @@\n-    \/* `hmtx' table.                                                      *\/\n+    \/* 'hmtx' table.                                                      *\/\n@@ -230,91 +232,87 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    TT_VertHeader                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure used to model a TrueType vertical header, the `vhea'   *\/\n-  \/*    table, as well as the corresponding vertical metrics table,        *\/\n-  \/*    `vmtx'.                                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    Version                 :: The table version.                      *\/\n-  \/*                                                                       *\/\n-  \/*    Ascender                :: The font's ascender, i.e., the distance *\/\n-  \/*                               from the baseline to the top-most of    *\/\n-  \/*                               all glyph points found in the font.     *\/\n-  \/*                                                                       *\/\n-  \/*                               This value is invalid in many fonts, as *\/\n-  \/*                               it is usually set by the font designer, *\/\n-  \/*                               and often reflects only a portion of    *\/\n-  \/*                               the glyphs found in the font (maybe     *\/\n-  \/*                               ASCII).                                 *\/\n-  \/*                                                                       *\/\n-  \/*                               You should use the `sTypoAscender'      *\/\n-  \/*                               field of the `OS\/2' table instead if    *\/\n-  \/*                               you want the correct one.               *\/\n-  \/*                                                                       *\/\n-  \/*    Descender               :: The font's descender, i.e., the         *\/\n-  \/*                               distance from the baseline to the       *\/\n-  \/*                               bottom-most of all glyph points found   *\/\n-  \/*                               in the font.  It is negative.           *\/\n-  \/*                                                                       *\/\n-  \/*                               This value is invalid in many fonts, as *\/\n-  \/*                               it is usually set by the font designer, *\/\n-  \/*                               and often reflects only a portion of    *\/\n-  \/*                               the glyphs found in the font (maybe     *\/\n-  \/*                               ASCII).                                 *\/\n-  \/*                                                                       *\/\n-  \/*                               You should use the `sTypoDescender'     *\/\n-  \/*                               field of the `OS\/2' table instead if    *\/\n-  \/*                               you want the correct one.               *\/\n-  \/*                                                                       *\/\n-  \/*    Line_Gap                :: The font's line gap, i.e., the distance *\/\n-  \/*                               to add to the ascender and descender to *\/\n-  \/*                               get the BTB, i.e., the                  *\/\n-  \/*                               baseline-to-baseline distance for the   *\/\n-  \/*                               font.                                   *\/\n-  \/*                                                                       *\/\n-  \/*    advance_Height_Max      :: This field is the maximum of all        *\/\n-  \/*                               advance heights found in the font.  It  *\/\n-  \/*                               can be used to compute the maximum      *\/\n-  \/*                               height of an arbitrary string of text.  *\/\n-  \/*                                                                       *\/\n-  \/*    min_Top_Side_Bearing    :: The minimum top side bearing of all     *\/\n-  \/*                               glyphs within the font.                 *\/\n-  \/*                                                                       *\/\n-  \/*    min_Bottom_Side_Bearing :: The minimum bottom side bearing of all  *\/\n-  \/*                               glyphs within the font.                 *\/\n-  \/*                                                                       *\/\n-  \/*    yMax_Extent             :: The maximum vertical extent (i.e., the  *\/\n-  \/*                               `height' of a glyph's bounding box) for *\/\n-  \/*                               all glyphs in the font.                 *\/\n-  \/*                                                                       *\/\n-  \/*    caret_Slope_Rise        :: The rise coefficient of the cursor's    *\/\n-  \/*                               slope of the cursor (slope=rise\/run).   *\/\n-  \/*                                                                       *\/\n-  \/*    caret_Slope_Run         :: The run coefficient of the cursor's     *\/\n-  \/*                               slope.                                  *\/\n-  \/*                                                                       *\/\n-  \/*    caret_Offset            :: The cursor's offset for slanted fonts.  *\/\n-  \/*                                                                       *\/\n-  \/*    Reserved                :: 8~reserved bytes.                       *\/\n-  \/*                                                                       *\/\n-  \/*    metric_Data_Format      :: Always~0.                               *\/\n-  \/*                                                                       *\/\n-  \/*    number_Of_VMetrics      :: Number of VMetrics entries in the       *\/\n-  \/*                               `vmtx' table -- this value can be       *\/\n-  \/*                               smaller than the total number of glyphs *\/\n-  \/*                               in the font.                            *\/\n-  \/*                                                                       *\/\n-  \/*    long_metrics            :: A pointer into the `vmtx' table.        *\/\n-  \/*                                                                       *\/\n-  \/*    short_metrics           :: A pointer into the `vmtx' table.        *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    For an OpenType variation font, the values of the following fields *\/\n-  \/*    can change after a call to @FT_Set_Var_Design_Coordinates (and     *\/\n-  \/*    friends) if the font contains an `MVAR' table: `Ascender',         *\/\n-  \/*    `Descender', `Line_Gap', `caret_Slope_Rise', `caret_Slope_Run',    *\/\n-  \/*    and `caret_Offset'.                                                *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   TT_VertHeader\n+   *\n+   * @description:\n+   *   A structure used to model a TrueType vertical header, the 'vhea'\n+   *   table, as well as the corresponding vertical metrics table, 'vmtx'.\n+   *\n+   * @fields:\n+   *   Version ::\n+   *     The table version.\n+   *\n+   *   Ascender ::\n+   *     The font's ascender, i.e., the distance from the baseline to the\n+   *     top-most of all glyph points found in the font.\n+   *\n+   *     This value is invalid in many fonts, as it is usually set by the\n+   *     font designer, and often reflects only a portion of the glyphs found\n+   *     in the font (maybe ASCII).\n+   *\n+   *     You should use the `sTypoAscender` field of the 'OS\/2' table instead\n+   *     if you want the correct one.\n+   *\n+   *   Descender ::\n+   *     The font's descender, i.e., the distance from the baseline to the\n+   *     bottom-most of all glyph points found in the font.  It is negative.\n+   *\n+   *     This value is invalid in many fonts, as it is usually set by the\n+   *     font designer, and often reflects only a portion of the glyphs found\n+   *     in the font (maybe ASCII).\n+   *\n+   *     You should use the `sTypoDescender` field of the 'OS\/2' table\n+   *     instead if you want the correct one.\n+   *\n+   *   Line_Gap ::\n+   *     The font's line gap, i.e., the distance to add to the ascender and\n+   *     descender to get the BTB, i.e., the baseline-to-baseline distance\n+   *     for the font.\n+   *\n+   *   advance_Height_Max ::\n+   *     This field is the maximum of all advance heights found in the font.\n+   *     It can be used to compute the maximum height of an arbitrary string\n+   *     of text.\n+   *\n+   *   min_Top_Side_Bearing ::\n+   *     The minimum top side bearing of all glyphs within the font.\n+   *\n+   *   min_Bottom_Side_Bearing ::\n+   *     The minimum bottom side bearing of all glyphs within the font.\n+   *\n+   *   yMax_Extent ::\n+   *     The maximum vertical extent (i.e., the 'height' of a glyph's\n+   *     bounding box) for all glyphs in the font.\n+   *\n+   *   caret_Slope_Rise ::\n+   *     The rise coefficient of the cursor's slope of the cursor\n+   *     (slope=rise\/run).\n+   *\n+   *   caret_Slope_Run ::\n+   *     The run coefficient of the cursor's slope.\n+   *\n+   *   caret_Offset ::\n+   *     The cursor's offset for slanted fonts.\n+   *\n+   *   Reserved ::\n+   *     8~reserved bytes.\n+   *\n+   *   metric_Data_Format ::\n+   *     Always~0.\n+   *\n+   *   number_Of_VMetrics ::\n+   *     Number of VMetrics entries in the 'vmtx' table -- this value can be\n+   *     smaller than the total number of glyphs in the font.\n+   *\n+   *   long_metrics ::\n+   *     A pointer into the 'vmtx' table.\n+   *\n+   *   short_metrics ::\n+   *     A pointer into the 'vmtx' table.\n+   *\n+   * @note:\n+   *   For an OpenType variation font, the values of the following fields can\n+   *   change after a call to @FT_Set_Var_Design_Coordinates (and friends) if\n+   *   the font contains an 'MVAR' table: `Ascender`, `Descender`,\n+   *   `Line_Gap`, `caret_Slope_Rise`, `caret_Slope_Run`, and `caret_Offset`.\n+   *\/\n@@ -344,1 +342,1 @@\n-    \/* `vmtx' table.                                                      *\/\n+    \/* 'vmtx' table.                                                      *\/\n@@ -352,27 +350,25 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    TT_OS2                                                             *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure to model a TrueType `OS\/2' table.  All fields comply   *\/\n-  \/*    to the OpenType specification.                                     *\/\n-  \/*                                                                       *\/\n-  \/*    Note that we now support old Mac fonts that do not include an      *\/\n-  \/*    `OS\/2' table.  In this case, the `version' field is always set to  *\/\n-  \/*    0xFFFF.                                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    For an OpenType variation font, the values of the following fields *\/\n-  \/*    can change after a call to @FT_Set_Var_Design_Coordinates (and     *\/\n-  \/*    friends) if the font contains an `MVAR' table: `sCapHeight',       *\/\n-  \/*    `sTypoAscender', `sTypoDescender', `sTypoLineGap', `sxHeight',     *\/\n-  \/*    `usWinAscent', `usWinDescent', `yStrikeoutPosition',               *\/\n-  \/*    `yStrikeoutSize', `ySubscriptXOffset', `ySubScriptXSize',          *\/\n-  \/*    `ySubscriptYOffset', `ySubscriptYSize', `ySuperscriptXOffset',     *\/\n-  \/*    `ySuperscriptXSize', `ySuperscriptYOffset', and                    *\/\n-  \/*    `ySuperscriptYSize'.                                               *\/\n-  \/*                                                                       *\/\n-  \/*    Possible values for bits in the `ulUnicodeRangeX' fields are given *\/\n-  \/*    by the @TT_UCR_XXX macros.                                         *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   TT_OS2\n+   *\n+   * @description:\n+   *   A structure to model a TrueType 'OS\/2' table.  All fields comply to\n+   *   the OpenType specification.\n+   *\n+   *   Note that we now support old Mac fonts that do not include an 'OS\/2'\n+   *   table.  In this case, the `version` field is always set to 0xFFFF.\n+   *\n+   * @note:\n+   *   For an OpenType variation font, the values of the following fields can\n+   *   change after a call to @FT_Set_Var_Design_Coordinates (and friends) if\n+   *   the font contains an 'MVAR' table: `sCapHeight`, `sTypoAscender`,\n+   *   `sTypoDescender`, `sTypoLineGap`, `sxHeight`, `usWinAscent`,\n+   *   `usWinDescent`, `yStrikeoutPosition`, `yStrikeoutSize`,\n+   *   `ySubscriptXOffset`, `ySubScriptXSize`, `ySubscriptYOffset`,\n+   *   `ySubscriptYSize`, `ySuperscriptXOffset`, `ySuperscriptXSize`,\n+   *   `ySuperscriptYOffset`, and `ySuperscriptYSize`.\n+   *\n+   *   Possible values for bits in the `ulUnicodeRangeX` fields are given by\n+   *   the @TT_UCR_XXX macros.\n+   *\/\n@@ -438,17 +434,17 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    TT_Postscript                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure to model a TrueType `post' table.  All fields comply   *\/\n-  \/*    to the OpenType specification.  This structure does not reference  *\/\n-  \/*    a font's PostScript glyph names; use @FT_Get_Glyph_Name to         *\/\n-  \/*    retrieve them.                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    For an OpenType variation font, the values of the following fields *\/\n-  \/*    can change after a call to @FT_Set_Var_Design_Coordinates (and     *\/\n-  \/*    friends) if the font contains an `MVAR' table: `underlinePosition' *\/\n-  \/*    and `underlineThickness'.                                          *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   TT_Postscript\n+   *\n+   * @description:\n+   *   A structure to model a TrueType 'post' table.  All fields comply to\n+   *   the OpenType specification.  This structure does not reference a\n+   *   font's PostScript glyph names; use @FT_Get_Glyph_Name to retrieve\n+   *   them.\n+   *\n+   * @note:\n+   *   For an OpenType variation font, the values of the following fields can\n+   *   change after a call to @FT_Set_Var_Design_Coordinates (and friends) if\n+   *   the font contains an 'MVAR' table: `underlinePosition` and\n+   *   `underlineThickness`.\n+   *\/\n@@ -467,1 +463,1 @@\n-    \/* Glyph names follow in the `post' table, but we don't *\/\n+    \/* Glyph names follow in the 'post' table, but we don't *\/\n@@ -473,9 +469,9 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    TT_PCLT                                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A structure to model a TrueType `PCLT' table.  All fields comply   *\/\n-  \/*    to the OpenType specification.                                     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   TT_PCLT\n+   *\n+   * @description:\n+   *   A structure to model a TrueType 'PCLT' table.  All fields comply to\n+   *   the OpenType specification.\n+   *\/\n@@ -503,64 +499,69 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    TT_MaxProfile                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    The maximum profile (`maxp') table contains many max values, which *\/\n-  \/*    can be used to pre-allocate arrays for speeding up glyph loading   *\/\n-  \/*    and hinting.                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    version               :: The version number.                       *\/\n-  \/*                                                                       *\/\n-  \/*    numGlyphs             :: The number of glyphs in this TrueType     *\/\n-  \/*                             font.                                     *\/\n-  \/*                                                                       *\/\n-  \/*    maxPoints             :: The maximum number of points in a         *\/\n-  \/*                             non-composite TrueType glyph.  See also   *\/\n-  \/*                             `maxCompositePoints'.                     *\/\n-  \/*                                                                       *\/\n-  \/*    maxContours           :: The maximum number of contours in a       *\/\n-  \/*                             non-composite TrueType glyph.  See also   *\/\n-  \/*                             `maxCompositeContours'.                   *\/\n-  \/*                                                                       *\/\n-  \/*    maxCompositePoints    :: The maximum number of points in a         *\/\n-  \/*                             composite TrueType glyph.  See also       *\/\n-  \/*                             `maxPoints'.                              *\/\n-  \/*                                                                       *\/\n-  \/*    maxCompositeContours  :: The maximum number of contours in a       *\/\n-  \/*                             composite TrueType glyph.  See also       *\/\n-  \/*                             `maxContours'.                            *\/\n-  \/*                                                                       *\/\n-  \/*    maxZones              :: The maximum number of zones used for      *\/\n-  \/*                             glyph hinting.                            *\/\n-  \/*                                                                       *\/\n-  \/*    maxTwilightPoints     :: The maximum number of points in the       *\/\n-  \/*                             twilight zone used for glyph hinting.     *\/\n-  \/*                                                                       *\/\n-  \/*    maxStorage            :: The maximum number of elements in the     *\/\n-  \/*                             storage area used for glyph hinting.      *\/\n-  \/*                                                                       *\/\n-  \/*    maxFunctionDefs       :: The maximum number of function            *\/\n-  \/*                             definitions in the TrueType bytecode for  *\/\n-  \/*                             this font.                                *\/\n-  \/*                                                                       *\/\n-  \/*    maxInstructionDefs    :: The maximum number of instruction         *\/\n-  \/*                             definitions in the TrueType bytecode for  *\/\n-  \/*                             this font.                                *\/\n-  \/*                                                                       *\/\n-  \/*    maxStackElements      :: The maximum number of stack elements used *\/\n-  \/*                             during bytecode interpretation.           *\/\n-  \/*                                                                       *\/\n-  \/*    maxSizeOfInstructions :: The maximum number of TrueType opcodes    *\/\n-  \/*                             used for glyph hinting.                   *\/\n-  \/*                                                                       *\/\n-  \/*    maxComponentElements  :: The maximum number of simple (i.e., non-  *\/\n-  \/*                             composite) glyphs in a composite glyph.   *\/\n-  \/*                                                                       *\/\n-  \/*    maxComponentDepth     :: The maximum nesting depth of composite    *\/\n-  \/*                             glyphs.                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    This structure is only used during font loading.                   *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @struct:\n+   *   TT_MaxProfile\n+   *\n+   * @description:\n+   *   The maximum profile ('maxp') table contains many max values, which can\n+   *   be used to pre-allocate arrays for speeding up glyph loading and\n+   *   hinting.\n+   *\n+   * @fields:\n+   *   version ::\n+   *     The version number.\n+   *\n+   *   numGlyphs ::\n+   *     The number of glyphs in this TrueType font.\n+   *\n+   *   maxPoints ::\n+   *     The maximum number of points in a non-composite TrueType glyph.  See\n+   *     also `maxCompositePoints`.\n+   *\n+   *   maxContours ::\n+   *     The maximum number of contours in a non-composite TrueType glyph.\n+   *     See also `maxCompositeContours`.\n+   *\n+   *   maxCompositePoints ::\n+   *     The maximum number of points in a composite TrueType glyph.  See\n+   *     also `maxPoints`.\n+   *\n+   *   maxCompositeContours ::\n+   *     The maximum number of contours in a composite TrueType glyph.  See\n+   *     also `maxContours`.\n+   *\n+   *   maxZones ::\n+   *     The maximum number of zones used for glyph hinting.\n+   *\n+   *   maxTwilightPoints ::\n+   *     The maximum number of points in the twilight zone used for glyph\n+   *     hinting.\n+   *\n+   *   maxStorage ::\n+   *     The maximum number of elements in the storage area used for glyph\n+   *     hinting.\n+   *\n+   *   maxFunctionDefs ::\n+   *     The maximum number of function definitions in the TrueType bytecode\n+   *     for this font.\n+   *\n+   *   maxInstructionDefs ::\n+   *     The maximum number of instruction definitions in the TrueType\n+   *     bytecode for this font.\n+   *\n+   *   maxStackElements ::\n+   *     The maximum number of stack elements used during bytecode\n+   *     interpretation.\n+   *\n+   *   maxSizeOfInstructions ::\n+   *     The maximum number of TrueType opcodes used for glyph hinting.\n+   *\n+   *   maxComponentElements ::\n+   *     The maximum number of simple (i.e., non-composite) glyphs in a\n+   *     composite glyph.\n+   *\n+   *   maxComponentDepth ::\n+   *     The maximum nesting depth of composite glyphs.\n+   *\n+   * @note:\n+   *   This structure is only used during font loading.\n+   *\/\n@@ -588,25 +589,32 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Enum>                                                                *\/\n-  \/*    FT_Sfnt_Tag                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    An enumeration to specify indices of SFNT tables loaded and parsed *\/\n-  \/*    by FreeType during initialization of an SFNT font.  Used in the    *\/\n-  \/*    @FT_Get_Sfnt_Table API function.                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Values>                                                              *\/\n-  \/*    FT_SFNT_HEAD :: To access the font's @TT_Header structure.         *\/\n-  \/*                                                                       *\/\n-  \/*    FT_SFNT_MAXP :: To access the font's @TT_MaxProfile structure.     *\/\n-  \/*                                                                       *\/\n-  \/*    FT_SFNT_OS2  :: To access the font's @TT_OS2 structure.            *\/\n-  \/*                                                                       *\/\n-  \/*    FT_SFNT_HHEA :: To access the font's @TT_HoriHeader structure.     *\/\n-  \/*                                                                       *\/\n-  \/*    FT_SFNT_VHEA :: To access the font's @TT_VertHeader structure.     *\/\n-  \/*                                                                       *\/\n-  \/*    FT_SFNT_POST :: To access the font's @TT_Postscript structure.     *\/\n-  \/*                                                                       *\/\n-  \/*    FT_SFNT_PCLT :: To access the font's @TT_PCLT structure.           *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @enum:\n+   *   FT_Sfnt_Tag\n+   *\n+   * @description:\n+   *   An enumeration to specify indices of SFNT tables loaded and parsed by\n+   *   FreeType during initialization of an SFNT font.  Used in the\n+   *   @FT_Get_Sfnt_Table API function.\n+   *\n+   * @values:\n+   *   FT_SFNT_HEAD ::\n+   *     To access the font's @TT_Header structure.\n+   *\n+   *   FT_SFNT_MAXP ::\n+   *     To access the font's @TT_MaxProfile structure.\n+   *\n+   *   FT_SFNT_OS2 ::\n+   *     To access the font's @TT_OS2 structure.\n+   *\n+   *   FT_SFNT_HHEA ::\n+   *     To access the font's @TT_HoriHeader structure.\n+   *\n+   *   FT_SFNT_VHEA ::\n+   *     To access the font's @TT_VertHeader structure.\n+   *\n+   *   FT_SFNT_POST ::\n+   *     To access the font's @TT_Postscript structure.\n+   *\n+   *   FT_SFNT_PCLT ::\n+   *     To access the font's @TT_PCLT structure.\n+   *\/\n@@ -627,1 +635,1 @@\n-  \/* these constants are deprecated; use the corresponding `FT_Sfnt_Tag' *\/\n+  \/* these constants are deprecated; use the corresponding `FT_Sfnt_Tag` *\/\n@@ -638,38 +646,40 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Get_Sfnt_Table                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Return a pointer to a given SFNT table stored within a face.       *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face :: A handle to the source.                                    *\/\n-  \/*                                                                       *\/\n-  \/*    tag  :: The index of the SFNT table.                               *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    A type-less pointer to the table.  This will be NULL in case of    *\/\n-  \/*    error, or if the corresponding table was not found *OR* loaded     *\/\n-  \/*    from the file.                                                     *\/\n-  \/*                                                                       *\/\n-  \/*    Use a typecast according to `tag' to access the structure          *\/\n-  \/*    elements.                                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The table is owned by the face object and disappears with it.      *\/\n-  \/*                                                                       *\/\n-  \/*    This function is only useful to access SFNT tables that are loaded *\/\n-  \/*    by the sfnt, truetype, and opentype drivers.  See @FT_Sfnt_Tag for *\/\n-  \/*    a list.                                                            *\/\n-  \/*                                                                       *\/\n-  \/*    Here an example how to access the `vhea' table:                    *\/\n-  \/*                                                                       *\/\n-  \/*    {                                                                  *\/\n-  \/*      TT_VertHeader*  vert_header;                                     *\/\n-  \/*                                                                       *\/\n-  \/*                                                                       *\/\n-  \/*      vert_header =                                                    *\/\n-  \/*        (TT_VertHeader*)FT_Get_Sfnt_Table( face, FT_SFNT_VHEA );       *\/\n-  \/*    }                                                                  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Get_Sfnt_Table\n+   *\n+   * @description:\n+   *   Return a pointer to a given SFNT table stored within a face.\n+   *\n+   * @input:\n+   *   face ::\n+   *     A handle to the source.\n+   *\n+   *   tag ::\n+   *     The index of the SFNT table.\n+   *\n+   * @return:\n+   *   A type-less pointer to the table.  This will be `NULL` in case of\n+   *   error, or if the corresponding table was not found **OR** loaded from\n+   *   the file.\n+   *\n+   *   Use a typecast according to `tag` to access the structure elements.\n+   *\n+   * @note:\n+   *   The table is owned by the face object and disappears with it.\n+   *\n+   *   This function is only useful to access SFNT tables that are loaded by\n+   *   the sfnt, truetype, and opentype drivers.  See @FT_Sfnt_Tag for a\n+   *   list.\n+   *\n+   * @example:\n+   *   Here is an example demonstrating access to the 'vhea' table.\n+   *\n+   *   ```\n+   *     TT_VertHeader*  vert_header;\n+   *\n+   *\n+   *     vert_header =\n+   *       (TT_VertHeader*)FT_Get_Sfnt_Table( face, FT_SFNT_VHEA );\n+   *   ```\n+   *\/\n@@ -694,2 +704,2 @@\n-   *     The four-byte tag of the table to load.  Use value~0 if you want\n-   *     to access the whole font file.  Otherwise, you can use one of the\n+   *     The four-byte tag of the table to load.  Use value~0 if you want to\n+   *     access the whole font file.  Otherwise, you can use one of the\n@@ -709,1 +719,1 @@\n-   *     If the `length' parameter is NULL, try to load the whole table.\n+   *     If the `length` parameter is `NULL`, try to load the whole table.\n@@ -712,1 +722,1 @@\n-   *     Else, if `*length' is~0, exit immediately while returning the\n+   *     Else, if `*length` is~0, exit immediately while returning the\n@@ -723,1 +733,1 @@\n-   *   function with `*length' set to~0, as in the following example:\n+   *   function with `*length` set to~0, as in the following example:\n@@ -725,2 +735,2 @@\n-   *     {\n-   *       FT_ULong  length = 0;\n+   *   ```\n+   *     FT_ULong  length = 0;\n@@ -729,2 +739,2 @@\n-   *       error = FT_Load_Sfnt_Table( face, tag, 0, NULL, &length );\n-   *       if ( error ) { ... table does not exist ... }\n+   *     error = FT_Load_Sfnt_Table( face, tag, 0, NULL, &length );\n+   *     if ( error ) { ... table does not exist ... }\n@@ -732,2 +742,2 @@\n-   *       buffer = malloc( length );\n-   *       if ( buffer == NULL ) { ... not enough memory ... }\n+   *     buffer = malloc( length );\n+   *     if ( buffer == NULL ) { ... not enough memory ... }\n@@ -735,3 +745,3 @@\n-   *       error = FT_Load_Sfnt_Table( face, tag, 0, buffer, &length );\n-   *       if ( error ) { ... could not load table ... }\n-   *     }\n+   *     error = FT_Load_Sfnt_Table( face, tag, 0, buffer, &length );\n+   *     if ( error ) { ... could not load table ... }\n+   *   ```\n@@ -771,3 +781,3 @@\n-   *     The name tag of the SFNT table.  If the value is NULL, `table_index'\n-   *     is ignored, and `length' returns the number of SFNT tables in the\n-   *     font.\n+   *     The name tag of the SFNT table.  If the value is `NULL`,\n+   *     `table_index` is ignored, and `length` returns the number of SFNT\n+   *     tables in the font.\n@@ -777,2 +787,2 @@\n-   *     The length of the SFNT table (or the number of SFNT tables, depending\n-   *     on `tag').\n+   *     The length of the SFNT table (or the number of SFNT tables,\n+   *     depending on `tag`).\n@@ -795,20 +805,20 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Get_CMap_Language_ID                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Return cmap language ID as specified in the OpenType standard.     *\/\n-  \/*    Definitions of language ID values are in file @FT_TRUETYPE_IDS_H.  *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    charmap ::                                                         *\/\n-  \/*      The target charmap.                                              *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    The language ID of `charmap'.  If `charmap' doesn't belong to an   *\/\n-  \/*    SFNT face, just return~0 as the default value.                     *\/\n-  \/*                                                                       *\/\n-  \/*    For a format~14 cmap (to access Unicode IVS), the return value is  *\/\n-  \/*    0xFFFFFFFF.                                                        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Get_CMap_Language_ID\n+   *\n+   * @description:\n+   *   Return cmap language ID as specified in the OpenType standard.\n+   *   Definitions of language ID values are in file @FT_TRUETYPE_IDS_H.\n+   *\n+   * @input:\n+   *   charmap ::\n+   *     The target charmap.\n+   *\n+   * @return:\n+   *   The language ID of `charmap`.  If `charmap` doesn't belong to an SFNT\n+   *   face, just return~0 as the default value.\n+   *\n+   *   For a format~14 cmap (to access Unicode IVS), the return value is\n+   *   0xFFFFFFFF.\n+   *\/\n@@ -819,16 +829,16 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Get_CMap_Format                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Return the format of an SFNT `cmap' table.                         *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    charmap ::                                                         *\/\n-  \/*      The target charmap.                                              *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    The format of `charmap'.  If `charmap' doesn't belong to an SFNT   *\/\n-  \/*    face, return -1.                                                   *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Get_CMap_Format\n+   *\n+   * @description:\n+   *   Return the format of an SFNT 'cmap' table.\n+   *\n+   * @input:\n+   *   charmap ::\n+   *     The target charmap.\n+   *\n+   * @return:\n+   *   The format of `charmap`.  If `charmap` doesn't belong to an SFNT face,\n+   *   return -1.\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/tttables.h","additions":493,"deletions":483,"binary":false,"changes":976,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  tttags.h                                                               *\/\n-\/*                                                                         *\/\n-\/*    Tags for TrueType and OpenType tables (specification only).          *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * tttags.h\n+ *\n+ *   Tags for TrueType and OpenType tables (specification only).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -49,0 +49,2 @@\n+#define TTAG_COLR  FT_MAKE_TAG( 'C', 'O', 'L', 'R' )\n+#define TTAG_CPAL  FT_MAKE_TAG( 'C', 'P', 'A', 'L' )\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/freetype\/tttags.h","additions":18,"deletions":16,"binary":false,"changes":34,"status":"modified"},{"patch":"@@ -1,31 +1,33 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ft2build.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    FreeType 2 build and setup macros.                                   *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* This is the `entry point' for FreeType header file inclusions.  It is *\/\n-  \/* the only header file which should be included directly; all other     *\/\n-  \/* FreeType header files should be accessed with macro names (after      *\/\n-  \/* including `ft2build.h').                                              *\/\n-  \/*                                                                       *\/\n-  \/* A typical example is                                                  *\/\n-  \/*                                                                       *\/\n-  \/*   #include <ft2build.h>                                               *\/\n-  \/*   #include FT_FREETYPE_H                                              *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ft2build.h\n+ *\n+ *   FreeType 2 build and setup macros.\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * This is the 'entry point' for FreeType header file inclusions.  It is\n+   * the only header file which should be included directly; all other\n+   * FreeType header files should be accessed with macro names (after\n+   * including `ft2build.h`).\n+   *\n+   * A typical example is\n+   *\n+   * ```\n+   *   #include <ft2build.h>\n+   *   #include FT_FREETYPE_H\n+   * ```\n+   *\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/include\/ft2build.h","additions":33,"deletions":31,"binary":false,"changes":64,"status":"modified"},{"patch":"@@ -1,17 +1,17 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  afangles.c                                                             *\/\n-\/*                                                                         *\/\n-\/*    Routines used to compute vector angles with limited accuracy         *\/\n-\/*    and very high speed.  It also contains sorting routines (body).      *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2003-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * afangles.c\n+ *\n+ *   Routines used to compute vector angles with limited accuracy\n+ *   and very high speed.  It also contains sorting routines (body).\n+ *\n+ * Copyright (C) 2003-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -24,2 +24,2 @@\n-   *  We are not using `af_angle_atan' anymore, but we keep the source\n-   *  code below just in case...\n+   * We are not using `af_angle_atan' anymore, but we keep the source\n+   * code below just in case...\n@@ -33,4 +33,4 @@\n-   *  The trick here is to realize that we don't need a very accurate angle\n-   *  approximation.  We are going to use the result of `af_angle_atan' to\n-   *  only compare the sign of angle differences, or check whether its\n-   *  magnitude is very small.\n+   * The trick here is to realize that we don't need a very accurate angle\n+   * approximation.  We are going to use the result of `af_angle_atan' to\n+   * only compare the sign of angle differences, or check whether its\n+   * magnitude is very small.\n@@ -38,1 +38,1 @@\n-   *  The approximation\n+   * The approximation\n@@ -40,1 +40,1 @@\n-   *    dy * PI \/ (|dx|+|dy|)\n+   *   dy * PI \/ (|dx|+|dy|)\n@@ -42,1 +42,1 @@\n-   *  should be enough, and much faster to compute.\n+   * should be enough, and much faster to compute.\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/autofit\/afangles.c","additions":26,"deletions":26,"binary":false,"changes":52,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- *  afangles.h\n+ * afangles.h\n@@ -4,2 +4,2 @@\n- *  This is a dummy file, used to please the build system.  It is never\n- *  included by the auto-fitter sources.\n+ * This is a dummy file, used to please the build system.  It is never\n+ * included by the auto-fitter sources.\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/autofit\/afangles.h","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -4,16 +4,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  afblue.c                                                               *\/\n-\/*                                                                         *\/\n-\/*    Auto-fitter data for blue strings (body).                            *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2013-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * afblue.c\n+ *\n+ *   Auto-fitter data for blue strings (body).\n+ *\n+ * Copyright (C) 2013-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -169,0 +169,4 @@\n+    '\\xE1', '\\xB2', '\\x9C', ' ', '\\xE1', '\\xB2', '\\x9F', ' ', '\\xE1', '\\xB2', '\\xB3', ' ', '\\xE1', '\\xB2', '\\xB8', ' ', '\\xE1', '\\xB2', '\\x92', ' ', '\\xE1', '\\xB2', '\\x94', ' ', '\\xE1', '\\xB2', '\\x9D', ' ', '\\xE1', '\\xB2', '\\xB4',  \/*         *\/\n+    '\\0',\n+    '\\xE1', '\\xB2', '\\x98', ' ', '\\xE1', '\\xB2', '\\xB2', ' ', '\\xE1', '\\xB2', '\\x9D', ' ', '\\xE1', '\\xB2', '\\xA9', ' ', '\\xE1', '\\xB2', '\\x9B', ' ', '\\xE1', '\\xB2', '\\xA8', ' ', '\\xE1', '\\xB2', '\\xAF', ' ', '\\xE1', '\\xB2', '\\xBD',  \/*         *\/\n+    '\\0',\n@@ -542,0 +546,2 @@\n+    { AF_BLUE_STRING_GEORGIAN_MTAVRULI_TOP,        AF_BLUE_PROPERTY_LATIN_TOP        },\n+    { AF_BLUE_STRING_GEORGIAN_MTAVRULI_BOTTOM,     0                                 },\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/autofit\/afblue.c","additions":22,"deletions":16,"binary":false,"changes":38,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  afblue.c                                                               *\/\n-\/*                                                                         *\/\n-\/*    Auto-fitter data for blue strings (body).                            *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2013-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * afblue.c\n+ *\n+ *   Auto-fitter data for blue strings (body).\n+ *\n+ * Copyright (C) 2013-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/autofit\/afblue.cin","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,1 +1,1 @@\n-\/\/  afblue.dat\n+\/\/ afblue.dat\n@@ -3,1 +3,1 @@\n-\/\/    Auto-fitter data for blue strings.\n+\/\/   Auto-fitter data for blue strings.\n@@ -5,2 +5,2 @@\n-\/\/  Copyright 2013-2018 by\n-\/\/  David Turner, Robert Wilhelm, and Werner Lemberg.\n+\/\/ Copyright (C) 2013-2019 by\n+\/\/ David Turner, Robert Wilhelm, and Werner Lemberg.\n@@ -8,5 +8,5 @@\n-\/\/  This file is part of the FreeType project, and may only be used,\n-\/\/  modified, and distributed under the terms of the FreeType project\n-\/\/  license, LICENSE.TXT.  By continuing to use, modify, or distribute\n-\/\/  this file you indicate that you have read the license and\n-\/\/  understand and accept it fully.\n+\/\/ This file is part of the FreeType project, and may only be used,\n+\/\/ modified, and distributed under the terms of the FreeType project\n+\/\/ license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+\/\/ this file you indicate that you have read the license and\n+\/\/ understand and accept it fully.\n@@ -245,0 +245,5 @@\n+  AF_BLUE_STRING_GEORGIAN_MTAVRULI_TOP\n+    \"       \"\n+  AF_BLUE_STRING_GEORGIAN_MTAVRULI_BOTTOM\n+    \"       \"\n+\n@@ -798,1 +803,0 @@\n-  \/\/ blue zones for Mtavruli are missing (not yet defined in Unicode)\n@@ -805,0 +809,2 @@\n+    { AF_BLUE_STRING_GEORGIAN_MTAVRULI_TOP,        AF_BLUE_PROPERTY_LATIN_TOP        }\n+    { AF_BLUE_STRING_GEORGIAN_MTAVRULI_BOTTOM,     0                                 }\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/autofit\/afblue.dat","additions":16,"deletions":10,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -4,16 +4,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  afblue.h                                                               *\/\n-\/*                                                                         *\/\n-\/*    Auto-fitter data for blue strings (specification).                   *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2013-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * afblue.h\n+ *\n+ *   Auto-fitter data for blue strings (specification).\n+ *\n+ * Copyright (C) 2013-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -150,113 +150,115 @@\n-    AF_BLUE_STRING_GLAGOLITIC_CAPITAL_TOP = 1909,\n-    AF_BLUE_STRING_GLAGOLITIC_CAPITAL_BOTTOM = 1941,\n-    AF_BLUE_STRING_GLAGOLITIC_SMALL_TOP = 1973,\n-    AF_BLUE_STRING_GLAGOLITIC_SMALL_BOTTOM = 2005,\n-    AF_BLUE_STRING_GOTHIC_TOP = 2037,\n-    AF_BLUE_STRING_GOTHIC_BOTTOM = 2077,\n-    AF_BLUE_STRING_GREEK_CAPITAL_TOP = 2097,\n-    AF_BLUE_STRING_GREEK_CAPITAL_BOTTOM = 2118,\n-    AF_BLUE_STRING_GREEK_SMALL_BETA_TOP = 2136,\n-    AF_BLUE_STRING_GREEK_SMALL = 2154,\n-    AF_BLUE_STRING_GREEK_SMALL_DESCENDER = 2178,\n-    AF_BLUE_STRING_GUJARATI_TOP = 2202,\n-    AF_BLUE_STRING_GUJARATI_BOTTOM = 2234,\n-    AF_BLUE_STRING_GUJARATI_ASCENDER = 2266,\n-    AF_BLUE_STRING_GUJARATI_DESCENDER = 2316,\n-    AF_BLUE_STRING_GUJARATI_DIGIT_TOP = 2349,\n-    AF_BLUE_STRING_GURMUKHI_BASE = 2369,\n-    AF_BLUE_STRING_GURMUKHI_HEAD = 2401,\n-    AF_BLUE_STRING_GURMUKHI_TOP = 2433,\n-    AF_BLUE_STRING_GURMUKHI_BOTTOM = 2465,\n-    AF_BLUE_STRING_GURMUKHI_DIGIT_TOP = 2497,\n-    AF_BLUE_STRING_HEBREW_TOP = 2517,\n-    AF_BLUE_STRING_HEBREW_BOTTOM = 2541,\n-    AF_BLUE_STRING_HEBREW_DESCENDER = 2559,\n-    AF_BLUE_STRING_KANNADA_TOP = 2574,\n-    AF_BLUE_STRING_KANNADA_BOTTOM = 2618,\n-    AF_BLUE_STRING_KAYAH_LI_TOP = 2650,\n-    AF_BLUE_STRING_KAYAH_LI_BOTTOM = 2674,\n-    AF_BLUE_STRING_KAYAH_LI_ASCENDER = 2694,\n-    AF_BLUE_STRING_KAYAH_LI_DESCENDER = 2702,\n-    AF_BLUE_STRING_KAYAH_LI_LARGE_DESCENDER = 2714,\n-    AF_BLUE_STRING_KHMER_TOP = 2735,\n-    AF_BLUE_STRING_KHMER_SUBSCRIPT_TOP = 2759,\n-    AF_BLUE_STRING_KHMER_BOTTOM = 2799,\n-    AF_BLUE_STRING_KHMER_DESCENDER = 2831,\n-    AF_BLUE_STRING_KHMER_LARGE_DESCENDER = 2865,\n-    AF_BLUE_STRING_KHMER_SYMBOLS_WAXING_TOP = 2952,\n-    AF_BLUE_STRING_KHMER_SYMBOLS_WANING_BOTTOM = 2960,\n-    AF_BLUE_STRING_LAO_TOP = 2968,\n-    AF_BLUE_STRING_LAO_BOTTOM = 3000,\n-    AF_BLUE_STRING_LAO_ASCENDER = 3032,\n-    AF_BLUE_STRING_LAO_LARGE_ASCENDER = 3048,\n-    AF_BLUE_STRING_LAO_DESCENDER = 3060,\n-    AF_BLUE_STRING_LATIN_CAPITAL_TOP = 3084,\n-    AF_BLUE_STRING_LATIN_CAPITAL_BOTTOM = 3100,\n-    AF_BLUE_STRING_LATIN_SMALL_F_TOP = 3116,\n-    AF_BLUE_STRING_LATIN_SMALL_TOP = 3130,\n-    AF_BLUE_STRING_LATIN_SMALL_BOTTOM = 3146,\n-    AF_BLUE_STRING_LATIN_SMALL_DESCENDER = 3162,\n-    AF_BLUE_STRING_LATIN_SUBS_CAPITAL_TOP = 3172,\n-    AF_BLUE_STRING_LATIN_SUBS_CAPITAL_BOTTOM = 3192,\n-    AF_BLUE_STRING_LATIN_SUBS_SMALL_F_TOP = 3212,\n-    AF_BLUE_STRING_LATIN_SUBS_SMALL = 3232,\n-    AF_BLUE_STRING_LATIN_SUBS_SMALL_DESCENDER = 3268,\n-    AF_BLUE_STRING_LATIN_SUPS_CAPITAL_TOP = 3288,\n-    AF_BLUE_STRING_LATIN_SUPS_CAPITAL_BOTTOM = 3319,\n-    AF_BLUE_STRING_LATIN_SUPS_SMALL_F_TOP = 3348,\n-    AF_BLUE_STRING_LATIN_SUPS_SMALL = 3374,\n-    AF_BLUE_STRING_LATIN_SUPS_SMALL_DESCENDER = 3399,\n-    AF_BLUE_STRING_LISU_TOP = 3410,\n-    AF_BLUE_STRING_LISU_BOTTOM = 3442,\n-    AF_BLUE_STRING_MALAYALAM_TOP = 3474,\n-    AF_BLUE_STRING_MALAYALAM_BOTTOM = 3518,\n-    AF_BLUE_STRING_MYANMAR_TOP = 3550,\n-    AF_BLUE_STRING_MYANMAR_BOTTOM = 3582,\n-    AF_BLUE_STRING_MYANMAR_ASCENDER = 3614,\n-    AF_BLUE_STRING_MYANMAR_DESCENDER = 3642,\n-    AF_BLUE_STRING_NKO_TOP = 3674,\n-    AF_BLUE_STRING_NKO_BOTTOM = 3698,\n-    AF_BLUE_STRING_NKO_SMALL_TOP = 3713,\n-    AF_BLUE_STRING_NKO_SMALL_BOTTOM = 3722,\n-    AF_BLUE_STRING_OL_CHIKI = 3734,\n-    AF_BLUE_STRING_OLD_TURKIC_TOP = 3758,\n-    AF_BLUE_STRING_OLD_TURKIC_BOTTOM = 3773,\n-    AF_BLUE_STRING_OSAGE_CAPITAL_TOP = 3793,\n-    AF_BLUE_STRING_OSAGE_CAPITAL_BOTTOM = 3833,\n-    AF_BLUE_STRING_OSAGE_CAPITAL_DESCENDER = 3863,\n-    AF_BLUE_STRING_OSAGE_SMALL_TOP = 3878,\n-    AF_BLUE_STRING_OSAGE_SMALL_BOTTOM = 3918,\n-    AF_BLUE_STRING_OSAGE_SMALL_ASCENDER = 3958,\n-    AF_BLUE_STRING_OSAGE_SMALL_DESCENDER = 3983,\n-    AF_BLUE_STRING_OSMANYA_TOP = 3998,\n-    AF_BLUE_STRING_OSMANYA_BOTTOM = 4038,\n-    AF_BLUE_STRING_SAURASHTRA_TOP = 4078,\n-    AF_BLUE_STRING_SAURASHTRA_BOTTOM = 4110,\n-    AF_BLUE_STRING_SHAVIAN_TOP = 4130,\n-    AF_BLUE_STRING_SHAVIAN_BOTTOM = 4140,\n-    AF_BLUE_STRING_SHAVIAN_DESCENDER = 4165,\n-    AF_BLUE_STRING_SHAVIAN_SMALL_TOP = 4175,\n-    AF_BLUE_STRING_SHAVIAN_SMALL_BOTTOM = 4210,\n-    AF_BLUE_STRING_SINHALA_TOP = 4225,\n-    AF_BLUE_STRING_SINHALA_BOTTOM = 4257,\n-    AF_BLUE_STRING_SINHALA_DESCENDER = 4289,\n-    AF_BLUE_STRING_SUNDANESE_TOP = 4333,\n-    AF_BLUE_STRING_SUNDANESE_BOTTOM = 4357,\n-    AF_BLUE_STRING_SUNDANESE_DESCENDER = 4389,\n-    AF_BLUE_STRING_TAI_VIET_TOP = 4397,\n-    AF_BLUE_STRING_TAI_VIET_BOTTOM = 4417,\n-    AF_BLUE_STRING_TAMIL_TOP = 4429,\n-    AF_BLUE_STRING_TAMIL_BOTTOM = 4461,\n-    AF_BLUE_STRING_TELUGU_TOP = 4493,\n-    AF_BLUE_STRING_TELUGU_BOTTOM = 4521,\n-    AF_BLUE_STRING_THAI_TOP = 4549,\n-    AF_BLUE_STRING_THAI_BOTTOM = 4573,\n-    AF_BLUE_STRING_THAI_ASCENDER = 4601,\n-    AF_BLUE_STRING_THAI_LARGE_ASCENDER = 4613,\n-    AF_BLUE_STRING_THAI_DESCENDER = 4625,\n-    AF_BLUE_STRING_THAI_LARGE_DESCENDER = 4641,\n-    AF_BLUE_STRING_THAI_DIGIT_TOP = 4649,\n-    AF_BLUE_STRING_TIFINAGH = 4661,\n-    AF_BLUE_STRING_VAI_TOP = 4693,\n-    AF_BLUE_STRING_VAI_BOTTOM = 4725,\n-    af_blue_1_1 = 4756,\n+    AF_BLUE_STRING_GEORGIAN_MTAVRULI_TOP = 1909,\n+    AF_BLUE_STRING_GEORGIAN_MTAVRULI_BOTTOM = 1941,\n+    AF_BLUE_STRING_GLAGOLITIC_CAPITAL_TOP = 1973,\n+    AF_BLUE_STRING_GLAGOLITIC_CAPITAL_BOTTOM = 2005,\n+    AF_BLUE_STRING_GLAGOLITIC_SMALL_TOP = 2037,\n+    AF_BLUE_STRING_GLAGOLITIC_SMALL_BOTTOM = 2069,\n+    AF_BLUE_STRING_GOTHIC_TOP = 2101,\n+    AF_BLUE_STRING_GOTHIC_BOTTOM = 2141,\n+    AF_BLUE_STRING_GREEK_CAPITAL_TOP = 2161,\n+    AF_BLUE_STRING_GREEK_CAPITAL_BOTTOM = 2182,\n+    AF_BLUE_STRING_GREEK_SMALL_BETA_TOP = 2200,\n+    AF_BLUE_STRING_GREEK_SMALL = 2218,\n+    AF_BLUE_STRING_GREEK_SMALL_DESCENDER = 2242,\n+    AF_BLUE_STRING_GUJARATI_TOP = 2266,\n+    AF_BLUE_STRING_GUJARATI_BOTTOM = 2298,\n+    AF_BLUE_STRING_GUJARATI_ASCENDER = 2330,\n+    AF_BLUE_STRING_GUJARATI_DESCENDER = 2380,\n+    AF_BLUE_STRING_GUJARATI_DIGIT_TOP = 2413,\n+    AF_BLUE_STRING_GURMUKHI_BASE = 2433,\n+    AF_BLUE_STRING_GURMUKHI_HEAD = 2465,\n+    AF_BLUE_STRING_GURMUKHI_TOP = 2497,\n+    AF_BLUE_STRING_GURMUKHI_BOTTOM = 2529,\n+    AF_BLUE_STRING_GURMUKHI_DIGIT_TOP = 2561,\n+    AF_BLUE_STRING_HEBREW_TOP = 2581,\n+    AF_BLUE_STRING_HEBREW_BOTTOM = 2605,\n+    AF_BLUE_STRING_HEBREW_DESCENDER = 2623,\n+    AF_BLUE_STRING_KANNADA_TOP = 2638,\n+    AF_BLUE_STRING_KANNADA_BOTTOM = 2682,\n+    AF_BLUE_STRING_KAYAH_LI_TOP = 2714,\n+    AF_BLUE_STRING_KAYAH_LI_BOTTOM = 2738,\n+    AF_BLUE_STRING_KAYAH_LI_ASCENDER = 2758,\n+    AF_BLUE_STRING_KAYAH_LI_DESCENDER = 2766,\n+    AF_BLUE_STRING_KAYAH_LI_LARGE_DESCENDER = 2778,\n+    AF_BLUE_STRING_KHMER_TOP = 2799,\n+    AF_BLUE_STRING_KHMER_SUBSCRIPT_TOP = 2823,\n+    AF_BLUE_STRING_KHMER_BOTTOM = 2863,\n+    AF_BLUE_STRING_KHMER_DESCENDER = 2895,\n+    AF_BLUE_STRING_KHMER_LARGE_DESCENDER = 2929,\n+    AF_BLUE_STRING_KHMER_SYMBOLS_WAXING_TOP = 3016,\n+    AF_BLUE_STRING_KHMER_SYMBOLS_WANING_BOTTOM = 3024,\n+    AF_BLUE_STRING_LAO_TOP = 3032,\n+    AF_BLUE_STRING_LAO_BOTTOM = 3064,\n+    AF_BLUE_STRING_LAO_ASCENDER = 3096,\n+    AF_BLUE_STRING_LAO_LARGE_ASCENDER = 3112,\n+    AF_BLUE_STRING_LAO_DESCENDER = 3124,\n+    AF_BLUE_STRING_LATIN_CAPITAL_TOP = 3148,\n+    AF_BLUE_STRING_LATIN_CAPITAL_BOTTOM = 3164,\n+    AF_BLUE_STRING_LATIN_SMALL_F_TOP = 3180,\n+    AF_BLUE_STRING_LATIN_SMALL_TOP = 3194,\n+    AF_BLUE_STRING_LATIN_SMALL_BOTTOM = 3210,\n+    AF_BLUE_STRING_LATIN_SMALL_DESCENDER = 3226,\n+    AF_BLUE_STRING_LATIN_SUBS_CAPITAL_TOP = 3236,\n+    AF_BLUE_STRING_LATIN_SUBS_CAPITAL_BOTTOM = 3256,\n+    AF_BLUE_STRING_LATIN_SUBS_SMALL_F_TOP = 3276,\n+    AF_BLUE_STRING_LATIN_SUBS_SMALL = 3296,\n+    AF_BLUE_STRING_LATIN_SUBS_SMALL_DESCENDER = 3332,\n+    AF_BLUE_STRING_LATIN_SUPS_CAPITAL_TOP = 3352,\n+    AF_BLUE_STRING_LATIN_SUPS_CAPITAL_BOTTOM = 3383,\n+    AF_BLUE_STRING_LATIN_SUPS_SMALL_F_TOP = 3412,\n+    AF_BLUE_STRING_LATIN_SUPS_SMALL = 3438,\n+    AF_BLUE_STRING_LATIN_SUPS_SMALL_DESCENDER = 3463,\n+    AF_BLUE_STRING_LISU_TOP = 3474,\n+    AF_BLUE_STRING_LISU_BOTTOM = 3506,\n+    AF_BLUE_STRING_MALAYALAM_TOP = 3538,\n+    AF_BLUE_STRING_MALAYALAM_BOTTOM = 3582,\n+    AF_BLUE_STRING_MYANMAR_TOP = 3614,\n+    AF_BLUE_STRING_MYANMAR_BOTTOM = 3646,\n+    AF_BLUE_STRING_MYANMAR_ASCENDER = 3678,\n+    AF_BLUE_STRING_MYANMAR_DESCENDER = 3706,\n+    AF_BLUE_STRING_NKO_TOP = 3738,\n+    AF_BLUE_STRING_NKO_BOTTOM = 3762,\n+    AF_BLUE_STRING_NKO_SMALL_TOP = 3777,\n+    AF_BLUE_STRING_NKO_SMALL_BOTTOM = 3786,\n+    AF_BLUE_STRING_OL_CHIKI = 3798,\n+    AF_BLUE_STRING_OLD_TURKIC_TOP = 3822,\n+    AF_BLUE_STRING_OLD_TURKIC_BOTTOM = 3837,\n+    AF_BLUE_STRING_OSAGE_CAPITAL_TOP = 3857,\n+    AF_BLUE_STRING_OSAGE_CAPITAL_BOTTOM = 3897,\n+    AF_BLUE_STRING_OSAGE_CAPITAL_DESCENDER = 3927,\n+    AF_BLUE_STRING_OSAGE_SMALL_TOP = 3942,\n+    AF_BLUE_STRING_OSAGE_SMALL_BOTTOM = 3982,\n+    AF_BLUE_STRING_OSAGE_SMALL_ASCENDER = 4022,\n+    AF_BLUE_STRING_OSAGE_SMALL_DESCENDER = 4047,\n+    AF_BLUE_STRING_OSMANYA_TOP = 4062,\n+    AF_BLUE_STRING_OSMANYA_BOTTOM = 4102,\n+    AF_BLUE_STRING_SAURASHTRA_TOP = 4142,\n+    AF_BLUE_STRING_SAURASHTRA_BOTTOM = 4174,\n+    AF_BLUE_STRING_SHAVIAN_TOP = 4194,\n+    AF_BLUE_STRING_SHAVIAN_BOTTOM = 4204,\n+    AF_BLUE_STRING_SHAVIAN_DESCENDER = 4229,\n+    AF_BLUE_STRING_SHAVIAN_SMALL_TOP = 4239,\n+    AF_BLUE_STRING_SHAVIAN_SMALL_BOTTOM = 4274,\n+    AF_BLUE_STRING_SINHALA_TOP = 4289,\n+    AF_BLUE_STRING_SINHALA_BOTTOM = 4321,\n+    AF_BLUE_STRING_SINHALA_DESCENDER = 4353,\n+    AF_BLUE_STRING_SUNDANESE_TOP = 4397,\n+    AF_BLUE_STRING_SUNDANESE_BOTTOM = 4421,\n+    AF_BLUE_STRING_SUNDANESE_DESCENDER = 4453,\n+    AF_BLUE_STRING_TAI_VIET_TOP = 4461,\n+    AF_BLUE_STRING_TAI_VIET_BOTTOM = 4481,\n+    AF_BLUE_STRING_TAMIL_TOP = 4493,\n+    AF_BLUE_STRING_TAMIL_BOTTOM = 4525,\n+    AF_BLUE_STRING_TELUGU_TOP = 4557,\n+    AF_BLUE_STRING_TELUGU_BOTTOM = 4585,\n+    AF_BLUE_STRING_THAI_TOP = 4613,\n+    AF_BLUE_STRING_THAI_BOTTOM = 4637,\n+    AF_BLUE_STRING_THAI_ASCENDER = 4665,\n+    AF_BLUE_STRING_THAI_LARGE_ASCENDER = 4677,\n+    AF_BLUE_STRING_THAI_DESCENDER = 4689,\n+    AF_BLUE_STRING_THAI_LARGE_DESCENDER = 4705,\n+    AF_BLUE_STRING_THAI_DIGIT_TOP = 4713,\n+    AF_BLUE_STRING_TIFINAGH = 4725,\n+    AF_BLUE_STRING_VAI_TOP = 4757,\n+    AF_BLUE_STRING_VAI_BOTTOM = 4789,\n+    af_blue_1_1 = 4820,\n@@ -339,35 +341,35 @@\n-    AF_BLUE_STRINGSET_GEOK = 88,\n-    AF_BLUE_STRINGSET_GLAG = 95,\n-    AF_BLUE_STRINGSET_GOTH = 100,\n-    AF_BLUE_STRINGSET_GREK = 103,\n-    AF_BLUE_STRINGSET_GUJR = 110,\n-    AF_BLUE_STRINGSET_GURU = 116,\n-    AF_BLUE_STRINGSET_HEBR = 122,\n-    AF_BLUE_STRINGSET_KALI = 126,\n-    AF_BLUE_STRINGSET_KHMR = 132,\n-    AF_BLUE_STRINGSET_KHMS = 138,\n-    AF_BLUE_STRINGSET_KNDA = 141,\n-    AF_BLUE_STRINGSET_LAO = 144,\n-    AF_BLUE_STRINGSET_LATN = 150,\n-    AF_BLUE_STRINGSET_LATB = 157,\n-    AF_BLUE_STRINGSET_LATP = 164,\n-    AF_BLUE_STRINGSET_LISU = 171,\n-    AF_BLUE_STRINGSET_MLYM = 174,\n-    AF_BLUE_STRINGSET_MYMR = 177,\n-    AF_BLUE_STRINGSET_NKOO = 182,\n-    AF_BLUE_STRINGSET_NONE = 187,\n-    AF_BLUE_STRINGSET_OLCK = 188,\n-    AF_BLUE_STRINGSET_ORKH = 191,\n-    AF_BLUE_STRINGSET_OSGE = 194,\n-    AF_BLUE_STRINGSET_OSMA = 202,\n-    AF_BLUE_STRINGSET_SAUR = 205,\n-    AF_BLUE_STRINGSET_SHAW = 208,\n-    AF_BLUE_STRINGSET_SINH = 214,\n-    AF_BLUE_STRINGSET_SUND = 218,\n-    AF_BLUE_STRINGSET_TAML = 222,\n-    AF_BLUE_STRINGSET_TAVT = 225,\n-    AF_BLUE_STRINGSET_TELU = 228,\n-    AF_BLUE_STRINGSET_TFNG = 231,\n-    AF_BLUE_STRINGSET_THAI = 234,\n-    AF_BLUE_STRINGSET_VAII = 242,\n-    af_blue_2_1 = 245,\n+    AF_BLUE_STRINGSET_GEOK = 90,\n+    AF_BLUE_STRINGSET_GLAG = 97,\n+    AF_BLUE_STRINGSET_GOTH = 102,\n+    AF_BLUE_STRINGSET_GREK = 105,\n+    AF_BLUE_STRINGSET_GUJR = 112,\n+    AF_BLUE_STRINGSET_GURU = 118,\n+    AF_BLUE_STRINGSET_HEBR = 124,\n+    AF_BLUE_STRINGSET_KALI = 128,\n+    AF_BLUE_STRINGSET_KHMR = 134,\n+    AF_BLUE_STRINGSET_KHMS = 140,\n+    AF_BLUE_STRINGSET_KNDA = 143,\n+    AF_BLUE_STRINGSET_LAO = 146,\n+    AF_BLUE_STRINGSET_LATN = 152,\n+    AF_BLUE_STRINGSET_LATB = 159,\n+    AF_BLUE_STRINGSET_LATP = 166,\n+    AF_BLUE_STRINGSET_LISU = 173,\n+    AF_BLUE_STRINGSET_MLYM = 176,\n+    AF_BLUE_STRINGSET_MYMR = 179,\n+    AF_BLUE_STRINGSET_NKOO = 184,\n+    AF_BLUE_STRINGSET_NONE = 189,\n+    AF_BLUE_STRINGSET_OLCK = 190,\n+    AF_BLUE_STRINGSET_ORKH = 193,\n+    AF_BLUE_STRINGSET_OSGE = 196,\n+    AF_BLUE_STRINGSET_OSMA = 204,\n+    AF_BLUE_STRINGSET_SAUR = 207,\n+    AF_BLUE_STRINGSET_SHAW = 210,\n+    AF_BLUE_STRINGSET_SINH = 216,\n+    AF_BLUE_STRINGSET_SUND = 220,\n+    AF_BLUE_STRINGSET_TAML = 224,\n+    AF_BLUE_STRINGSET_TAVT = 227,\n+    AF_BLUE_STRINGSET_TELU = 230,\n+    AF_BLUE_STRINGSET_TFNG = 233,\n+    AF_BLUE_STRINGSET_THAI = 236,\n+    AF_BLUE_STRINGSET_VAII = 244,\n+    af_blue_2_1 = 247,\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/autofit\/afblue.h","additions":166,"deletions":164,"binary":false,"changes":330,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  afblue.h                                                               *\/\n-\/*                                                                         *\/\n-\/*    Auto-fitter data for blue strings (specification).                   *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2013-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * afblue.h\n+ *\n+ *   Auto-fitter data for blue strings (specification).\n+ *\n+ * Copyright (C) 2013-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/autofit\/afblue.hin","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  afcjk.c                                                                *\/\n-\/*                                                                         *\/\n-\/*    Auto-fitter hinting routines for CJK writing system (body).          *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2006-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * afcjk.c\n+ *\n+ *   Auto-fitter hinting routines for CJK writing system (body).\n+ *\n+ * Copyright (C) 2006-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -19,1 +19,1 @@\n-   *  The algorithm is based on akito's autohint patch, archived at\n+   * The algorithm is based on akito's autohint patch, archived at\n@@ -21,1 +21,1 @@\n-   *  https:\/\/web.archive.org\/web\/20051219160454\/http:\/\/www.kde.gr.jp:80\/~akito\/patch\/freetype2\/2.1.7\/\n+   * https:\/\/web.archive.org\/web\/20051219160454\/http:\/\/www.kde.gr.jp:80\/~akito\/patch\/freetype2\/2.1.7\/\n@@ -30,1 +30,0 @@\n-#include \"afpic.h\"\n@@ -47,6 +46,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -54,1 +53,1 @@\n-#define FT_COMPONENT  trace_afcjk\n+#define FT_COMPONENT  afcjk\n@@ -95,4 +94,0 @@\n-#ifdef FT_CONFIG_OPTION_PIC\n-      AF_FaceGlobals  globals = metrics->root.globals;\n-#endif\n-\n@@ -100,2 +95,10 @@\n-      AF_ScriptClass  script_class = AF_SCRIPT_CLASSES_GET\n-                                       [style_class->script];\n+      AF_ScriptClass  script_class = af_script_classes[style_class->script];\n+\n+      \/* If HarfBuzz is not available, we need a pointer to a single *\/\n+      \/* unsigned long value.                                        *\/\n+#ifdef FT_CONFIG_OPTION_USE_HARFBUZZ\n+      void*     shaper_buf;\n+#else\n+      FT_ULong  shaper_buf_;\n+      void*     shaper_buf = &shaper_buf_;\n+#endif\n@@ -103,1 +106,0 @@\n-      void*        shaper_buf;\n@@ -110,1 +112,3 @@\n-      p          = script_class->standard_charstring;\n+      p = script_class->standard_charstring;\n+\n+#ifdef FT_CONFIG_OPTION_USE_HARFBUZZ\n@@ -112,0 +116,1 @@\n+#endif\n@@ -196,4 +201,4 @@\n-         *  We assume that the glyphs selected for the stem width\n-         *  computation are `featureless' enough so that the linking\n-         *  algorithm works fine without adjustments of its scoring\n-         *  function.\n+         * We assume that the glyphs selected for the stem width\n+         * computation are `featureless' enough so that the linking\n+         * algorithm works fine without adjustments of its scoring\n+         * function.\n@@ -299,1 +304,8 @@\n-    void*  shaper_buf;\n+    \/* If HarfBuzz is not available, we need a pointer to a single *\/\n+    \/* unsigned long value.                                        *\/\n+#ifdef FT_CONFIG_OPTION_USE_HARFBUZZ\n+    void*     shaper_buf;\n+#else\n+    FT_ULong  shaper_buf_;\n+    void*     shaper_buf = &shaper_buf_;\n+#endif\n@@ -310,0 +322,1 @@\n+#ifdef FT_CONFIG_OPTION_USE_HARFBUZZ\n@@ -311,0 +324,1 @@\n+#endif\n@@ -486,2 +500,2 @@\n-         *  we couldn't find a single glyph to compute this blue zone,\n-         *  we will simply ignore it then\n+         * we couldn't find a single glyph to compute this blue zone,\n+         * we will simply ignore it then\n@@ -568,1 +582,8 @@\n-    void*  shaper_buf;\n+    \/* If HarfBuzz is not available, we need a pointer to a single *\/\n+    \/* unsigned long value.                                        *\/\n+#ifdef FT_CONFIG_OPTION_USE_HARFBUZZ\n+    void*     shaper_buf;\n+#else\n+    FT_ULong  shaper_buf_;\n+    void*     shaper_buf = &shaper_buf_;\n+#endif\n@@ -575,1 +596,3 @@\n-    p          = digits;\n+    p = digits;\n+\n+#ifdef FT_CONFIG_OPTION_USE_HARFBUZZ\n@@ -577,0 +600,1 @@\n+#endif\n@@ -893,1 +917,1 @@\n-     *  now compute the `serif' segments\n+     * now compute the `serif' segments\n@@ -895,3 +919,3 @@\n-     *  In Hanzi, some strokes are wider on one or both of the ends.\n-     *  We either identify the stems on the ends as serifs or remove\n-     *  the linkage, depending on the length of the stems.\n+     * In Hanzi, some strokes are wider on one or both of the ends.\n+     * We either identify the stems on the ends as serifs or remove\n+     * the linkage, depending on the length of the stems.\n@@ -1003,15 +1027,15 @@\n-    \/*********************************************************************\/\n-    \/*                                                                   *\/\n-    \/* We begin by generating a sorted table of edges for the current    *\/\n-    \/* direction.  To do so, we simply scan each segment and try to find *\/\n-    \/* an edge in our table that corresponds to its position.            *\/\n-    \/*                                                                   *\/\n-    \/* If no edge is found, we create and insert a new edge in the       *\/\n-    \/* sorted table.  Otherwise, we simply add the segment to the edge's *\/\n-    \/* list which is then processed in the second step to compute the    *\/\n-    \/* edge's properties.                                                *\/\n-    \/*                                                                   *\/\n-    \/* Note that the edges table is sorted along the segment\/edge        *\/\n-    \/* position.                                                         *\/\n-    \/*                                                                   *\/\n-    \/*********************************************************************\/\n+    \/**********************************************************************\n+     *\n+     * We begin by generating a sorted table of edges for the current\n+     * direction.  To do so, we simply scan each segment and try to find\n+     * an edge in our table that corresponds to its position.\n+     *\n+     * If no edge is found, we create and insert a new edge in the\n+     * sorted table.  Otherwise, we simply add the segment to the edge's\n+     * list which is then processed in the second step to compute the\n+     * edge's properties.\n+     *\n+     * Note that the edges table is sorted along the segment\/edge\n+     * position.\n+     *\n+     *\/\n@@ -1117,11 +1141,11 @@\n-    \/******************************************************************\/\n-    \/*                                                                *\/\n-    \/* Good, we now compute each edge's properties according to the   *\/\n-    \/* segments found on its position.  Basically, these are          *\/\n-    \/*                                                                *\/\n-    \/*  - the edge's main direction                                   *\/\n-    \/*  - stem edge, serif edge or both (which defaults to stem then) *\/\n-    \/*  - rounded edge, straight or both (which defaults to straight) *\/\n-    \/*  - link for edge                                               *\/\n-    \/*                                                                *\/\n-    \/******************************************************************\/\n+    \/*******************************************************************\n+     *\n+     * Good, we now compute each edge's properties according to the\n+     * segments found on its position.  Basically, these are\n+     *\n+     * - the edge's main direction\n+     * - stem edge, serif edge or both (which defaults to stem then)\n+     * - rounded edge, straight or both (which defaults to straight)\n+     * - link for edge\n+     *\n+     *\/\n@@ -1177,1 +1201,1 @@\n-          is_serif = (FT_Bool)( seg->serif && seg->serif->edge != edge );\n+          is_serif = FT_BOOL( seg->serif && seg->serif->edge != edge );\n@@ -1367,2 +1391,2 @@\n-     *  correct x_scale and y_scale when needed, since they may have\n-     *  been modified af_cjk_scale_dim above\n+     * correct x_scale and y_scale when needed, since they may have\n+     * been modified af_cjk_scale_dim above\n@@ -1387,2 +1411,2 @@\n-     *  We snap the width of vertical stems for the monochrome and\n-     *  horizontal LCD rendering targets only.\n+     * We snap the width of vertical stems for the monochrome and\n+     * horizontal LCD rendering targets only.\n@@ -1394,2 +1418,2 @@\n-     *  We snap the width of horizontal stems for the monochrome and\n-     *  vertical LCD rendering targets only.\n+     * We snap the width of horizontal stems for the monochrome and\n+     * vertical LCD rendering targets only.\n@@ -1401,1 +1425,1 @@\n-     *  We adjust stems to full pixels unless in `light' or `lcd' mode.\n+     * We adjust stems to full pixels unless in `light' or `lcd' mode.\n@@ -2097,2 +2121,2 @@\n-     *  now hint the remaining edges (serifs and single) in order\n-     *  to complete our processing\n+     * now hint the remaining edges (serifs and single) in order\n+     * to complete our processing\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/autofit\/afcjk.c","additions":107,"deletions":83,"binary":false,"changes":190,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  afcjk.h                                                                *\/\n-\/*                                                                         *\/\n-\/*    Auto-fitter hinting routines for CJK writing system (specification). *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2006-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * afcjk.h\n+ *\n+ *   Auto-fitter hinting routines for CJK writing system (specification).\n+ *\n+ * Copyright (C) 2006-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -44,3 +44,3 @@\n-   *  CJK glyphs tend to fill the square.  So we have both vertical and\n-   *  horizontal blue zones.  But some glyphs have flat bounding strokes that\n-   *  leave some space between neighbour glyphs.\n+   * CJK glyphs tend to fill the square.  So we have both vertical and\n+   * horizontal blue zones.  But some glyphs have flat bounding strokes that\n+   * leave some space between neighbour glyphs.\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/autofit\/afcjk.h","additions":19,"deletions":19,"binary":false,"changes":38,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  afcover.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    Auto-fitter coverages (specification only).                          *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2013-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * afcover.h\n+ *\n+ *   Auto-fitter coverages (specification only).\n+ *\n+ * Copyright (C) 2013-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/autofit\/afcover.h","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,17 +1,17 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  afdummy.c                                                              *\/\n-\/*                                                                         *\/\n-\/*    Auto-fitter dummy routines to be used if no hinting should be        *\/\n-\/*    performed (body).                                                    *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2003-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * afdummy.c\n+ *\n+ *   Auto-fitter dummy routines to be used if no hinting should be\n+ *   performed (body).\n+ *\n+ * Copyright (C) 2003-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -41,3 +41,4 @@\n-  af_dummy_hints_apply( FT_UInt        glyph_index,\n-                        AF_GlyphHints  hints,\n-                        FT_Outline*    outline )\n+  af_dummy_hints_apply( FT_UInt          glyph_index,\n+                        AF_GlyphHints    hints,\n+                        FT_Outline*      outline,\n+                        AF_StyleMetrics  metrics )\n@@ -48,0 +49,1 @@\n+    FT_UNUSED( metrics );\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/autofit\/afdummy.c","additions":22,"deletions":20,"binary":false,"changes":42,"status":"modified"},{"patch":"@@ -1,17 +1,17 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  afdummy.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    Auto-fitter dummy routines to be used if no hinting should be        *\/\n-\/*    performed (specification).                                           *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2003-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * afdummy.h\n+ *\n+ *   Auto-fitter dummy routines to be used if no hinting should be\n+ *   performed (specification).\n+ *\n+ * Copyright (C) 2003-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/autofit\/afdummy.h","additions":17,"deletions":17,"binary":false,"changes":34,"status":"modified"},{"patch":"@@ -1,24 +1,24 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  aferrors.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    Autofitter error codes (specification only).                         *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2005-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* This file is used to define the Autofitter error enumeration          *\/\n-  \/* constants.                                                            *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * aferrors.h\n+ *\n+ *   Autofitter error codes (specification only).\n+ *\n+ * Copyright (C) 2005-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * This file is used to define the Autofitter error enumeration\n+   * constants.\n+   *\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/autofit\/aferrors.h","additions":24,"deletions":24,"binary":false,"changes":48,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  afglobal.c                                                             *\/\n-\/*                                                                         *\/\n-\/*    Auto-fitter routines to compute global hinting values (body).        *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2003-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * afglobal.c\n+ *\n+ *   Auto-fitter routines to compute global hinting values (body).\n+ *\n+ * Copyright (C) 2003-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -25,6 +25,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -32,1 +32,1 @@\n-#define FT_COMPONENT  trace_afglobal\n+#define FT_COMPONENT  afglobal\n@@ -41,1 +41,0 @@\n-#include \"afpic.h\"\n@@ -70,2 +69,0 @@\n-#ifndef FT_CONFIG_OPTION_PIC\n-\n@@ -113,2 +110,0 @@\n-#endif \/* !FT_CONFIG_OPTION_PIC *\/\n-\n@@ -162,1 +157,1 @@\n-    for ( ss = 0; AF_STYLE_CLASSES_GET[ss]; ss++ )\n+    for ( ss = 0; af_style_classes[ss]; ss++ )\n@@ -165,1 +160,1 @@\n-                            AF_STYLE_CLASSES_GET[ss];\n+                            af_style_classes[ss];\n@@ -167,1 +162,1 @@\n-                            AF_SCRIPT_CLASSES_GET[style_class->script];\n+                            af_script_classes[style_class->script];\n@@ -175,2 +170,2 @@\n-       *  Scan all Unicode points in the range and set the corresponding\n-       *  glyph style index.\n+       * Scan all Unicode points in the range and set the corresponding\n+       * glyph style index.\n@@ -249,1 +244,1 @@\n-    for ( ss = 0; AF_STYLE_CLASSES_GET[ss]; ss++ )\n+    for ( ss = 0; af_style_classes[ss]; ss++ )\n@@ -251,1 +246,1 @@\n-      AF_StyleClass  style_class = AF_STYLE_CLASSES_GET[ss];\n+      AF_StyleClass  style_class = af_style_classes[ss];\n@@ -259,1 +254,1 @@\n-    af_shaper_get_coverage( globals, AF_STYLE_CLASSES_GET[dflt], gstyles, 1 );\n+    af_shaper_get_coverage( globals, af_style_classes[dflt], gstyles, 1 );\n@@ -273,2 +268,2 @@\n-     *  By default, all uncovered glyphs are set to the fallback style.\n-     *  XXX: Shouldn't we disable hinting or do something similar?\n+     * By default, all uncovered glyphs are set to the fallback style.\n+     * XXX: Shouldn't we disable hinting or do something similar?\n@@ -298,1 +293,1 @@\n-    for ( ss = 0; AF_STYLE_CLASSES_GET[ss]; ss++ )\n+    for ( ss = 0; af_style_classes[ss]; ss++ )\n@@ -300,1 +295,1 @@\n-      AF_StyleClass  style_class = AF_STYLE_CLASSES_GET[ss];\n+      AF_StyleClass  style_class = af_style_classes[ss];\n@@ -400,1 +395,1 @@\n-            AF_STYLE_CLASSES_GET[nn];\n+            af_style_classes[nn];\n@@ -402,1 +397,1 @@\n-            AF_WRITING_SYSTEM_CLASSES_GET[style_class->writing_system];\n+            af_writing_system_classes[style_class->writing_system];\n@@ -451,2 +446,2 @@\n-    style_class          = AF_STYLE_CLASSES_GET[style];\n-    writing_system_class = AF_WRITING_SYSTEM_CLASSES_GET\n+    style_class          = af_style_classes[style];\n+    writing_system_class = af_writing_system_classes\n@@ -497,1 +492,1 @@\n-      return (FT_Bool)( globals->glyph_styles[gindex] & AF_DIGIT );\n+      return FT_BOOL( globals->glyph_styles[gindex] & AF_DIGIT );\n@@ -499,1 +494,1 @@\n-    return (FT_Bool)0;\n+    return FT_BOOL( 0 );\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/autofit\/afglobal.c","additions":41,"deletions":46,"binary":false,"changes":87,"status":"modified"},{"patch":"@@ -1,17 +1,17 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  afglobal.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    Auto-fitter routines to compute global hinting values                *\/\n-\/*    (specification).                                                     *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2003-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * afglobal.h\n+ *\n+ *   Auto-fitter routines to compute global hinting values\n+ *   (specification).\n+ *\n+ * Copyright (C) 2003-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -63,2 +63,2 @@\n-   *  Default values and flags for both autofitter globals (found in\n-   *  AF_ModuleRec) and face globals (in AF_FaceGlobalsRec).\n+   * Default values and flags for both autofitter globals (found in\n+   * AF_ModuleRec) and face globals (in AF_FaceGlobalsRec).\n@@ -101,2 +101,2 @@\n-   *  Note that glyph_styles[] maps each glyph to an index into the\n-   *  `af_style_classes' array.\n+   * Note that glyph_styles[] maps each glyph to an index into the\n+   * `af_style_classes' array.\n@@ -143,2 +143,2 @@\n-   *  model the global hints data for a given face, decomposed into\n-   *  style-specific items\n+   * model the global hints data for a given face, decomposed into\n+   * style-specific items\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/autofit\/afglobal.h","additions":23,"deletions":23,"binary":false,"changes":46,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  afhints.c                                                              *\/\n-\/*                                                                         *\/\n-\/*    Auto-fitter hinting routines (body).                                 *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2003-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * afhints.c\n+ *\n+ *   Auto-fitter hinting routines (body).\n+ *\n+ * Copyright (C) 2003-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -25,6 +25,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -32,1 +32,1 @@\n-#define FT_COMPONENT  trace_afhints\n+#define FT_COMPONENT  afhints\n@@ -300,0 +300,13 @@\n+  static int\n+  af_get_strong_edge_index( AF_GlyphHints  hints,\n+                            AF_Edge*       strong_edges,\n+                            int            dimension )\n+  {\n+    AF_AxisHints  axis  = &hints->axis[dimension];\n+    AF_Edge       edges = axis->edges;\n+\n+\n+    return AF_INDEX_NUM( strong_edges[dimension], edges );\n+  }\n+\n+\n@@ -320,1 +333,1 @@\n-                \"  xorg  yorg  xscale  yscale   xfit    yfit\" ));\n+                \"  xorg  yorg  xscale  yscale   xfit    yfit \"\n@@ -322,0 +335,2 @@\n+                \"  hbef  haft  vbef  vaft\" ));\n+             \/* \" XXXXX XXXXX XXXXX XXXXX\" *\/\n@@ -333,0 +348,1 @@\n+      char  buf5[16], buf6[16], buf7[16], buf8[16];\n@@ -343,1 +359,2 @@\n-                \" %5d %5d %7.2f %7.2f %7.2f %7.2f\\n\",\n+                \" %5d %5d %7.2f %7.2f %7.2f %7.2f\"\n+                \" %5s %5s %5s %5s\\n\",\n@@ -362,1 +379,14 @@\n-                point->y \/ 64.0 ));\n+                point->y \/ 64.0,\n+\n+                af_print_idx( buf5, af_get_strong_edge_index( hints,\n+                                                              point->before,\n+                                                              1 ) ),\n+                af_print_idx( buf6, af_get_strong_edge_index( hints,\n+                                                              point->after,\n+                                                              1 ) ),\n+                af_print_idx( buf7, af_get_strong_edge_index( hints,\n+                                                              point->before,\n+                                                              0 ) ),\n+                af_print_idx( buf8, af_get_strong_edge_index( hints,\n+                                                              point->after,\n+                                                              0 ) ) ));\n@@ -522,1 +552,1 @@\n-      *is_blue = (FT_Bool)( seg->edge->blue_edge != 0 );\n+      *is_blue = FT_BOOL( seg->edge->blue_edge );\n@@ -561,2 +591,2 @@\n-       *  note: AF_DIMENSION_HORZ corresponds to _vertical_ edges\n-       *        since they have a constant X coordinate.\n+       * note: AF_DIMENSION_HORZ corresponds to _vertical_ edges\n+       *       since they have a constant X coordinate.\n@@ -684,2 +714,2 @@\n-     *  note that we don't need to free the segment and edge\n-     *  buffers since they are really within the hints->points array\n+     * note that we don't need to free the segment and edge\n+     * buffers since they are really within the hints->points array\n@@ -779,3 +809,3 @@\n-     *  then reallocate the points arrays if necessary --\n-     *  note that we reserve two additional point positions, used to\n-     *  hint metrics appropriately\n+     * then reallocate the points arrays if necessary --\n+     * note that we reserve two additional point positions, used to\n+     * hint metrics appropriately\n@@ -901,0 +931,8 @@\n+\n+#ifdef FT_DEBUG_AUTOFIT\n+          point->before[0] = NULL;\n+          point->before[1] = NULL;\n+          point->after[0]  = NULL;\n+          point->after[1]  = NULL;\n+#endif\n+\n@@ -921,1 +959,1 @@\n-         *  Compute directions of `in' and `out' vectors.\n+         * Compute directions of `in' and `out' vectors.\n@@ -923,7 +961,7 @@\n-         *  Note that distances between points that are very near to each\n-         *  other are accumulated.  In other words, the auto-hinter either\n-         *  prepends the small vectors between near points to the first\n-         *  non-near vector, or the sum of small vector lengths exceeds a\n-         *  threshold, thus `grouping' the small vectors.  All intermediate\n-         *  points are tagged as weak; the directions are adjusted also to\n-         *  be equal to the accumulated one.\n+         * Note that distances between points that are very near to each\n+         * other are accumulated.  In other words, the auto-hinter either\n+         * prepends the small vectors between near points to the first\n+         * non-near vector, or the sum of small vector lengths exceeds a\n+         * threshold, thus `grouping' the small vectors.  All intermediate\n+         * points are tagged as weak; the directions are adjusted also to\n+         * be equal to the accumulated one.\n@@ -959,1 +997,1 @@\n-             *  We use Taxicab metrics to measure the vector length.\n+             * We use Taxicab metrics to measure the vector length.\n@@ -961,4 +999,4 @@\n-             *  Note that the accumulated distances so far could have the\n-             *  opposite direction of the distance measured here.  For this\n-             *  reason we use `near_limit2' for the comparison to get a\n-             *  non-near point even in the worst case.\n+             * Note that the accumulated distances so far could have the\n+             * opposite direction of the distance measured here.  For this\n+             * reason we use `near_limit2' for the comparison to get a\n+             * non-near point even in the worst case.\n@@ -982,2 +1020,2 @@\n-           *  We abuse the `u' and `v' fields to store index deltas to the\n-           *  next and previous non-near point, respectively.\n+           * We abuse the `u' and `v' fields to store index deltas to the\n+           * next and previous non-near point, respectively.\n@@ -985,2 +1023,2 @@\n-           *  To avoid problems with not having non-near points, we point to\n-           *  `first' by default as the next non-near point.\n+           * To avoid problems with not having non-near points, we point to\n+           * `first' by default as the next non-near point.\n@@ -1038,6 +1076,6 @@\n-         *  The next step is to `simplify' an outline's topology so that we\n-         *  can identify local extrema more reliably: A series of\n-         *  non-horizontal or non-vertical vectors pointing into the same\n-         *  quadrant are handled as a single, long vector.  From a\n-         *  topological point of the view, the intermediate points are of no\n-         *  interest and thus tagged as weak.\n+         * The next step is to `simplify' an outline's topology so that we\n+         * can identify local extrema more reliably: A series of\n+         * non-horizontal or non-vertical vectors pointing into the same\n+         * quadrant are handled as a single, long vector.  From a\n+         * topological point of the view, the intermediate points are of no\n+         * interest and thus tagged as weak.\n@@ -1083,3 +1121,3 @@\n-         *  Finally, check for remaining weak points.  Everything else not\n-         *  collected in edges so far is then implicitly classified as strong\n-         *  points.\n+         * Finally, check for remaining weak points.  Everything else not\n+         * collected in edges so far is then implicitly classified as strong\n+         * points.\n@@ -1312,0 +1350,6 @@\n+\n+#ifdef FT_DEBUG_AUTOFIT\n+          point->before[dim] = edge;\n+          point->after[dim]  = NULL;\n+#endif\n+\n@@ -1321,0 +1365,6 @@\n+\n+#ifdef FT_DEBUG_AUTOFIT\n+          point->before[dim] = NULL;\n+          point->after[dim]  = edge;\n+#endif\n+\n@@ -1367,0 +1417,6 @@\n+\n+#ifdef FT_DEBUG_AUTOFIT\n+              point->before[dim] = NULL;\n+              point->after[dim]  = NULL;\n+#endif\n+\n@@ -1377,0 +1433,5 @@\n+#ifdef FT_DEBUG_AUTOFIT\n+            point->before[dim] = before;\n+            point->after[dim]  = after;\n+#endif\n+\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/autofit\/afhints.c","additions":121,"deletions":60,"binary":false,"changes":181,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  afhints.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    Auto-fitter hinting routines (specification).                        *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2003-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * afhints.h\n+ *\n+ *   Auto-fitter hinting routines (specification).\n+ *\n+ * Copyright (C) 2003-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -29,2 +29,2 @@\n-   *  The definition of outline glyph hints.  These are shared by all\n-   *  writing system analysis routines (until now).\n+   * The definition of outline glyph hints.  These are shared by all\n+   * writing system analysis routines (until now).\n@@ -59,1 +59,1 @@\n-   *  The following explanations are mostly taken from the article\n+   * The following explanations are mostly taken from the article\n@@ -61,1 +61,1 @@\n-   *    Real-Time Grid Fitting of Typographic Outlines\n+   *   Real-Time Grid Fitting of Typographic Outlines\n@@ -63,1 +63,1 @@\n-   *  by David Turner and Werner Lemberg\n+   * by David Turner and Werner Lemberg\n@@ -65,1 +65,1 @@\n-   *    https:\/\/www.tug.org\/TUGboat\/Articles\/tb24-3\/lemberg.pdf\n+   *   https:\/\/www.tug.org\/TUGboat\/Articles\/tb24-3\/lemberg.pdf\n@@ -67,1 +67,1 @@\n-   *  with appropriate updates.\n+   * with appropriate updates.\n@@ -70,1 +70,1 @@\n-   *  Segments\n+   * Segments\n@@ -72,2 +72,2 @@\n-   *    `af_{cjk,latin,...}_hints_compute_segments' are the functions to\n-   *    find segments in an outline.\n+   *   `af_{cjk,latin,...}_hints_compute_segments' are the functions to\n+   *   find segments in an outline.\n@@ -75,3 +75,3 @@\n-   *    A segment is a series of at least two consecutive points that are\n-   *    approximately aligned along a coordinate axis.  The analysis to do\n-   *    so is specific to a writing system.\n+   *   A segment is a series of at least two consecutive points that are\n+   *   approximately aligned along a coordinate axis.  The analysis to do\n+   *   so is specific to a writing system.\n@@ -80,1 +80,1 @@\n-   *  Edges\n+   * Edges\n@@ -82,2 +82,2 @@\n-   *    `af_{cjk,latin,...}_hints_compute_edges' are the functions to find\n-   *    edges.\n+   *   `af_{cjk,latin,...}_hints_compute_edges' are the functions to find\n+   *   edges.\n@@ -85,4 +85,4 @@\n-   *    As soon as segments are defined, the auto-hinter groups them into\n-   *    edges.  An edge corresponds to a single position on the main\n-   *    dimension that collects one or more segments (allowing for a small\n-   *    threshold).\n+   *   As soon as segments are defined, the auto-hinter groups them into\n+   *   edges.  An edge corresponds to a single position on the main\n+   *   dimension that collects one or more segments (allowing for a small\n+   *   threshold).\n@@ -90,3 +90,3 @@\n-   *    As an example, the `latin' writing system first tries to grid-fit\n-   *    edges, then to align segments on the edges unless it detects that\n-   *    they form a serif.\n+   *   As an example, the `latin' writing system first tries to grid-fit\n+   *   edges, then to align segments on the edges unless it detects that\n+   *   they form a serif.\n@@ -95,12 +95,12 @@\n-   *                      A          H\n-   *                       |        |\n-   *                       |        |\n-   *                       |        |\n-   *                       |        |\n-   *         C             |        |             F\n-   *          +------<-----+        +-----<------+\n-   *          |             B      G             |\n-   *          |                                  |\n-   *          |                                  |\n-   *          +--------------->------------------+\n-   *         D                                    E\n+   *                     A          H\n+   *                      |        |\n+   *                      |        |\n+   *                      |        |\n+   *                      |        |\n+   *        C             |        |             F\n+   *         +------<-----+        +-----<------+\n+   *         |             B      G             |\n+   *         |                                  |\n+   *         |                                  |\n+   *         +--------------->------------------+\n+   *        D                                    E\n@@ -109,1 +109,1 @@\n-   *  Stems\n+   * Stems\n@@ -111,1 +111,1 @@\n-   *    Stems are detected by `af_{cjk,latin,...}_hint_edges'.\n+   *   Stems are detected by `af_{cjk,latin,...}_hint_edges'.\n@@ -113,5 +113,5 @@\n-   *    Segments need to be `linked' to other ones in order to detect stems.\n-   *    A stem is made of two segments that face each other in opposite\n-   *    directions and that are sufficiently close to each other.  Using\n-   *    vocabulary from the TrueType specification, stem segments form a\n-   *    `black distance'.\n+   *   Segments need to be `linked' to other ones in order to detect stems.\n+   *   A stem is made of two segments that face each other in opposite\n+   *   directions and that are sufficiently close to each other.  Using\n+   *   vocabulary from the TrueType specification, stem segments form a\n+   *   `black distance'.\n@@ -119,2 +119,2 @@\n-   *    In the above ASCII drawing, the horizontal segments are BC, DE, and\n-   *    FG; the vertical segments are AB, CD, EF, and GH.\n+   *   In the above ASCII drawing, the horizontal segments are BC, DE, and\n+   *   FG; the vertical segments are AB, CD, EF, and GH.\n@@ -122,3 +122,3 @@\n-   *    Each segment has at most one `best' candidate to form a black\n-   *    distance, or no candidate at all.  Notice that two distinct segments\n-   *    can have the same candidate, which frequently means a serif.\n+   *   Each segment has at most one `best' candidate to form a black\n+   *   distance, or no candidate at all.  Notice that two distinct segments\n+   *   can have the same candidate, which frequently means a serif.\n@@ -126,1 +126,1 @@\n-   *    A stem is recognized by the following condition:\n+   *   A stem is recognized by the following condition:\n@@ -128,1 +128,1 @@\n-   *      best segment_1 = segment_2 && best segment_2 = segment_1\n+   *     best segment_1 = segment_2 && best segment_2 = segment_1\n@@ -130,2 +130,2 @@\n-   *    The best candidate is stored in field `link' in structure\n-   *    `AF_Segment'.\n+   *   The best candidate is stored in field `link' in structure\n+   *   `AF_Segment'.\n@@ -133,4 +133,4 @@\n-   *    In the above ASCII drawing, the best candidate for both AB and CD is\n-   *    GH, while the best candidate for GH is AB.  Similarly, the best\n-   *    candidate for EF and GH is AB, while the best candidate for AB is\n-   *    GH.\n+   *   In the above ASCII drawing, the best candidate for both AB and CD is\n+   *   GH, while the best candidate for GH is AB.  Similarly, the best\n+   *   candidate for EF and GH is AB, while the best candidate for AB is\n+   *   GH.\n@@ -138,2 +138,2 @@\n-   *    The detection and handling of stems is dependent on the writing\n-   *    system.\n+   *   The detection and handling of stems is dependent on the writing\n+   *   system.\n@@ -142,1 +142,1 @@\n-   *  Serifs\n+   * Serifs\n@@ -144,1 +144,1 @@\n-   *    Serifs are detected by `af_{cjk,latin,...}_hint_edges'.\n+   *   Serifs are detected by `af_{cjk,latin,...}_hint_edges'.\n@@ -146,2 +146,2 @@\n-   *    In comparison to a stem, a serif (as handled by the auto-hinter\n-   *    module that takes care of the `latin' writing system) has\n+   *   In comparison to a stem, a serif (as handled by the auto-hinter\n+   *   module that takes care of the `latin' writing system) has\n@@ -149,1 +149,1 @@\n-   *      best segment_1 = segment_2 && best segment_2 != segment_1\n+   *     best segment_1 = segment_2 && best segment_2 != segment_1\n@@ -151,2 +151,2 @@\n-   *    where segment_1 corresponds to the serif segment (CD and EF in the\n-   *    above ASCII drawing).\n+   *   where segment_1 corresponds to the serif segment (CD and EF in the\n+   *   above ASCII drawing).\n@@ -154,2 +154,2 @@\n-   *    The best candidate is stored in field `serif' in structure\n-   *    `AF_Segment' (and `link' is set to NULL).\n+   *   The best candidate is stored in field `serif' in structure\n+   *   `AF_Segment' (and `link' is set to NULL).\n@@ -158,1 +158,1 @@\n-   *  Touched points\n+   * Touched points\n@@ -160,4 +160,4 @@\n-   *    A point is called `touched' if it has been processed somehow by the\n-   *    auto-hinter.  It basically means that it shouldn't be moved again\n-   *    (or moved only under certain constraints to preserve the already\n-   *    applied processing).\n+   *   A point is called `touched' if it has been processed somehow by the\n+   *   auto-hinter.  It basically means that it shouldn't be moved again\n+   *   (or moved only under certain constraints to preserve the already\n+   *   applied processing).\n@@ -166,1 +166,1 @@\n-   *  Flat and round segments\n+   * Flat and round segments\n@@ -168,5 +168,5 @@\n-   *    Segments are `round' or `flat', depending on the series of points\n-   *    that define them.  A segment is round if the next and previous point\n-   *    of an extremum (which can be either a single point or sequence of\n-   *    points) are both conic or cubic control points.  Otherwise, a\n-   *    segment with an extremum is flat.\n+   *   Segments are `round' or `flat', depending on the series of points\n+   *   that define them.  A segment is round if the next and previous point\n+   *   of an extremum (which can be either a single point or sequence of\n+   *   points) are both conic or cubic control points.  Otherwise, a\n+   *   segment with an extremum is flat.\n@@ -175,1 +175,1 @@\n-   *  Strong Points\n+   * Strong Points\n@@ -177,4 +177,4 @@\n-   *    Experience has shown that points not part of an edge need to be\n-   *    interpolated linearly between their two closest edges, even if these\n-   *    are not part of the contour of those particular points.  Typical\n-   *    candidates for this are\n+   *   Experience has shown that points not part of an edge need to be\n+   *   interpolated linearly between their two closest edges, even if these\n+   *   are not part of the contour of those particular points.  Typical\n+   *   candidates for this are\n@@ -182,2 +182,2 @@\n-   *    - angle points (i.e., points where the `in' and `out' direction\n-   *      differ greatly)\n+   *   - angle points (i.e., points where the `in' and `out' direction\n+   *     differ greatly)\n@@ -185,3 +185,3 @@\n-   *    - inflection points (i.e., where the `in' and `out' angles are the\n-   *      same, but the curvature changes sign) [currently, such points\n-   *      aren't handled specially in the auto-hinter]\n+   *   - inflection points (i.e., where the `in' and `out' angles are the\n+   *     same, but the curvature changes sign) [currently, such points\n+   *     aren't handled specially in the auto-hinter]\n@@ -189,3 +189,3 @@\n-   *    `af_glyph_hints_align_strong_points' is the function that takes\n-   *    care of such situations; it is equivalent to the TrueType `IP'\n-   *    hinting instruction.\n+   *   `af_glyph_hints_align_strong_points' is the function that takes\n+   *   care of such situations; it is equivalent to the TrueType `IP'\n+   *   hinting instruction.\n@@ -194,1 +194,1 @@\n-   *  Weak Points\n+   * Weak Points\n@@ -196,6 +196,6 @@\n-   *    Other points in the outline must be interpolated using the\n-   *    coordinates of their previous and next unfitted contour neighbours.\n-   *    These are called `weak points' and are touched by the function\n-   *    `af_glyph_hints_align_weak_points', equivalent to the TrueType `IUP'\n-   *    hinting instruction.  Typical candidates are control points and\n-   *    points on the contour without a major direction.\n+   *   Other points in the outline must be interpolated using the\n+   *   coordinates of their previous and next unfitted contour neighbours.\n+   *   These are called `weak points' and are touched by the function\n+   *   `af_glyph_hints_align_weak_points', equivalent to the TrueType `IUP'\n+   *   hinting instruction.  Typical candidates are control points and\n+   *   points on the contour without a major direction.\n@@ -203,3 +203,3 @@\n-   *    The major effect is to reduce possible distortion caused by\n-   *    alignment of edges and strong points, thus weak points are processed\n-   *    after strong points.\n+   *   The major effect is to reduce possible distortion caused by\n+   *   alignment of edges and strong points, thus weak points are processed\n+   *   after strong points.\n@@ -255,0 +255,6 @@\n+#ifdef FT_DEBUG_AUTOFIT\n+    \/* track `before' and `after' edges for strong points *\/\n+    AF_Edge    before[2];\n+    AF_Edge    after[2];\n+#endif\n+\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/autofit\/afhints.h","additions":122,"deletions":116,"binary":false,"changes":238,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  afindic.c                                                              *\/\n-\/*                                                                         *\/\n-\/*    Auto-fitter hinting routines for Indic writing system (body).        *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2007-2018 by                                                 *\/\n-\/*  Rahul Bhalerao <rahul.bhalerao@redhat.com>, <b.rahul.pm@gmail.com>.    *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * afindic.c\n+ *\n+ *   Auto-fitter hinting routines for Indic writing system (body).\n+ *\n+ * Copyright (C) 2007-2019 by\n+ * Rahul Bhalerao <rahul.bhalerao@redhat.com>, <b.rahul.pm@gmail.com>.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/autofit\/afindic.c","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,17 +1,17 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  afindic.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    Auto-fitter hinting routines for Indic writing system                *\/\n-\/*    (specification).                                                     *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2007-2018 by                                                 *\/\n-\/*  Rahul Bhalerao <rahul.bhalerao@redhat.com>, <b.rahul.pm@gmail.com>.    *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * afindic.h\n+ *\n+ *   Auto-fitter hinting routines for Indic writing system\n+ *   (specification).\n+ *\n+ * Copyright (C) 2007-2019 by\n+ * Rahul Bhalerao <rahul.bhalerao@redhat.com>, <b.rahul.pm@gmail.com>.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/autofit\/afindic.h","additions":17,"deletions":17,"binary":false,"changes":34,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  aflatin.c                                                              *\/\n-\/*                                                                         *\/\n-\/*    Auto-fitter hinting routines for latin writing system (body).        *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2003-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * aflatin.c\n+ *\n+ *   Auto-fitter hinting routines for latin writing system (body).\n+ *\n+ * Copyright (C) 2003-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -24,1 +24,0 @@\n-#include \"afpic.h\"\n@@ -34,6 +33,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -41,1 +40,1 @@\n-#define FT_COMPONENT  trace_aflatin\n+#define FT_COMPONENT  aflatin\n@@ -86,4 +85,0 @@\n-#ifdef FT_CONFIG_OPTION_PIC\n-      AF_FaceGlobals  globals = metrics->root.globals;\n-#endif\n-\n@@ -91,2 +86,10 @@\n-      AF_ScriptClass  script_class = AF_SCRIPT_CLASSES_GET\n-                                       [style_class->script];\n+      AF_ScriptClass  script_class = af_script_classes[style_class->script];\n+\n+      \/* If HarfBuzz is not available, we need a pointer to a single *\/\n+      \/* unsigned long value.                                        *\/\n+#ifdef FT_CONFIG_OPTION_USE_HARFBUZZ\n+      void*     shaper_buf;\n+#else\n+      FT_ULong  shaper_buf_;\n+      void*     shaper_buf = &shaper_buf_;\n+#endif\n@@ -94,1 +97,0 @@\n-      void*        shaper_buf;\n@@ -101,2 +103,0 @@\n-      p          = script_class->standard_charstring;\n-      shaper_buf = af_shaper_buf_create( face );\n@@ -104,0 +104,5 @@\n+      p = script_class->standard_charstring;\n+\n+#ifdef FT_CONFIG_OPTION_USE_HARFBUZZ\n+      shaper_buf = af_shaper_buf_create( face );\n+#endif\n@@ -189,4 +194,4 @@\n-         *  We assume that the glyphs selected for the stem width\n-         *  computation are `featureless' enough so that the linking\n-         *  algorithm works fine without adjustments of its scoring\n-         *  function.\n+         * We assume that the glyphs selected for the stem width\n+         * computation are `featureless' enough so that the linking\n+         * algorithm works fine without adjustments of its scoring\n+         * function.\n@@ -332,1 +337,8 @@\n-    void*  shaper_buf;\n+    \/* If HarfBuzz is not available, we need a pointer to a single *\/\n+    \/* unsigned long value.                                        *\/\n+#ifdef FT_CONFIG_OPTION_USE_HARFBUZZ\n+    void*     shaper_buf;\n+#else\n+    FT_ULong  shaper_buf_;\n+    void*     shaper_buf = &shaper_buf_;\n+#endif\n@@ -342,0 +354,1 @@\n+#ifdef FT_CONFIG_OPTION_USE_HARFBUZZ\n@@ -343,0 +356,1 @@\n+#endif\n@@ -887,2 +901,2 @@\n-         *  we couldn't find a single glyph to compute this blue zone,\n-         *  we will simply ignore it then\n+         * we couldn't find a single glyph to compute this blue zone,\n+         * we will simply ignore it then\n@@ -1039,1 +1053,8 @@\n-    void*  shaper_buf;\n+    \/* If HarfBuzz is not available, we need a pointer to a single *\/\n+    \/* unsigned long value.                                        *\/\n+#ifdef FT_CONFIG_OPTION_USE_HARFBUZZ\n+    void*     shaper_buf;\n+#else\n+    FT_ULong  shaper_buf_;\n+    void*     shaper_buf = &shaper_buf_;\n+#endif\n@@ -1046,1 +1067,3 @@\n-    p          = digits;\n+    p = digits;\n+\n+#ifdef FT_CONFIG_OPTION_USE_HARFBUZZ\n@@ -1048,0 +1071,1 @@\n+#endif\n@@ -1286,1 +1310,1 @@\n-      (FT_Bool)( FT_MulFix( axis->standard_width, scale ) < 32 + 8 );\n+      FT_BOOL( FT_MulFix( axis->standard_width, scale ) < 32 + 8 );\n@@ -1970,3 +1994,3 @@\n-             *  The score is the sum of two demerits indicating the\n-             *  `badness' of a fit, measured along the segments' main axis\n-             *  and orthogonal to it, respectively.\n+             * The score is the sum of two demerits indicating the\n+             * `badness' of a fit, measured along the segments' main axis\n+             * and orthogonal to it, respectively.\n@@ -1974,2 +1998,2 @@\n-             *  o The less overlapping along the main axis, the worse it\n-             *    is, causing a larger demerit.\n+             * - The less overlapping along the main axis, the worse it\n+             *   is, causing a larger demerit.\n@@ -1977,4 +2001,4 @@\n-             *  o The nearer the orthogonal distance to a stem width, the\n-             *    better it is, causing a smaller demerit.  For simplicity,\n-             *    however, we only increase the demerit for values that\n-             *    exceed the largest stem width.\n+             * - The nearer the orthogonal distance to a stem width, the\n+             *   better it is, causing a smaller demerit.  For simplicity,\n+             *   however, we only increase the demerit for values that\n+             *   exceed the largest stem width.\n@@ -2052,4 +2076,0 @@\n-#ifdef FT_CONFIG_OPTION_PIC\n-    AF_FaceGlobals  globals = hints->metrics->globals;\n-#endif\n-\n@@ -2057,2 +2077,1 @@\n-    AF_ScriptClass  script_class = AF_SCRIPT_CLASSES_GET\n-                                     [style_class->script];\n+    AF_ScriptClass  script_class = af_script_classes[style_class->script];\n@@ -2089,3 +2108,3 @@\n-     *  We ignore all segments that are less than 1 pixel in length\n-     *  to avoid many problems with serif fonts.  We compute the\n-     *  corresponding threshold in font units.\n+     * We ignore all segments that are less than 1 pixel in length\n+     * to avoid many problems with serif fonts.  We compute the\n+     * corresponding threshold in font units.\n@@ -2099,2 +2118,2 @@\n-     *  Similarly, we ignore segments that have a width delta\n-     *  larger than 0.5px (i.e., a width larger than 1px).\n+     * Similarly, we ignore segments that have a width delta\n+     * larger than 0.5px (i.e., a width larger than 1px).\n@@ -2104,15 +2123,15 @@\n-    \/*********************************************************************\/\n-    \/*                                                                   *\/\n-    \/* We begin by generating a sorted table of edges for the current    *\/\n-    \/* direction.  To do so, we simply scan each segment and try to find *\/\n-    \/* an edge in our table that corresponds to its position.            *\/\n-    \/*                                                                   *\/\n-    \/* If no edge is found, we create and insert a new edge in the       *\/\n-    \/* sorted table.  Otherwise, we simply add the segment to the edge's *\/\n-    \/* list which gets processed in the second step to compute the       *\/\n-    \/* edge's properties.                                                *\/\n-    \/*                                                                   *\/\n-    \/* Note that the table of edges is sorted along the segment\/edge     *\/\n-    \/* position.                                                         *\/\n-    \/*                                                                   *\/\n-    \/*********************************************************************\/\n+    \/**********************************************************************\n+     *\n+     * We begin by generating a sorted table of edges for the current\n+     * direction.  To do so, we simply scan each segment and try to find\n+     * an edge in our table that corresponds to its position.\n+     *\n+     * If no edge is found, we create and insert a new edge in the\n+     * sorted table.  Otherwise, we simply add the segment to the edge's\n+     * list which gets processed in the second step to compute the\n+     * edge's properties.\n+     *\n+     * Note that the table of edges is sorted along the segment\/edge\n+     * position.\n+     *\n+     *\/\n@@ -2240,11 +2259,11 @@\n-    \/******************************************************************\/\n-    \/*                                                                *\/\n-    \/* Good, we now compute each edge's properties according to the   *\/\n-    \/* segments found on its position.  Basically, these are          *\/\n-    \/*                                                                *\/\n-    \/*  - the edge's main direction                                   *\/\n-    \/*  - stem edge, serif edge or both (which defaults to stem then) *\/\n-    \/*  - rounded edge, straight or both (which defaults to straight) *\/\n-    \/*  - link for edge                                               *\/\n-    \/*                                                                *\/\n-    \/******************************************************************\/\n+    \/*******************************************************************\n+     *\n+     * Good, we now compute each edge's properties according to the\n+     * segments found on its position.  Basically, these are\n+     *\n+     * - the edge's main direction\n+     * - stem edge, serif edge or both (which defaults to stem then)\n+     * - rounded edge, straight or both (which defaults to straight)\n+     * - link for edge\n+     *\n+     *\/\n@@ -2312,3 +2331,3 @@\n-          is_serif = (FT_Bool)( seg->serif               &&\n-                                seg->serif->edge         &&\n-                                seg->serif->edge != edge );\n+          is_serif = FT_BOOL( seg->serif               &&\n+                              seg->serif->edge         &&\n+                              seg->serif->edge != edge );\n@@ -2549,2 +2568,2 @@\n-     *  correct x_scale and y_scale if needed, since they may have\n-     *  been modified by `af_latin_metrics_scale_dim' above\n+     * correct x_scale and y_scale if needed, since they may have\n+     * been modified by `af_latin_metrics_scale_dim' above\n@@ -2569,2 +2588,2 @@\n-     *  We snap the width of vertical stems for the monochrome and\n-     *  horizontal LCD rendering targets only.\n+     * We snap the width of vertical stems for the monochrome and\n+     * horizontal LCD rendering targets only.\n@@ -2576,2 +2595,2 @@\n-     *  We snap the width of horizontal stems for the monochrome and\n-     *  vertical LCD rendering targets only.\n+     * We snap the width of horizontal stems for the monochrome and\n+     * vertical LCD rendering targets only.\n@@ -2583,1 +2602,1 @@\n-     *  We adjust stems to full pixels unless in `light' or `lcd' mode.\n+     * We adjust stems to full pixels unless in `light' or `lcd' mode.\n@@ -2592,2 +2611,2 @@\n-     *  In `light' or `lcd' mode we disable horizontal hinting completely.\n-     *  We also do it if the face is italic.\n+     * In `light' or `lcd' mode we disable horizontal hinting completely.\n+     * We also do it if the face is italic.\n@@ -2595,2 +2614,2 @@\n-     *  However, if warping is enabled (which only works in `light' hinting\n-     *  mode), advance widths get adjusted, too.\n+     * However, if warping is enabled (which only works in `light' hinting\n+     * mode), advance widths get adjusted, too.\n@@ -2939,4 +2958,0 @@\n-#ifdef FT_CONFIG_OPTION_PIC\n-    AF_FaceGlobals  globals = hints->metrics->globals;\n-#endif\n-\n@@ -2944,2 +2959,1 @@\n-    AF_ScriptClass  script_class = AF_SCRIPT_CLASSES_GET\n-                                     [style_class->script];\n+    AF_ScriptClass  script_class = af_script_classes[style_class->script];\n@@ -2979,4 +2993,4 @@\n-         *  If a stem contains both a neutral and a non-neutral blue zone,\n-         *  skip the neutral one.  Otherwise, outlines with different\n-         *  directions might be incorrectly aligned at the same vertical\n-         *  position.\n+         * If a stem contains both a neutral and a non-neutral blue zone,\n+         * skip the neutral one.  Otherwise, outlines with different\n+         * directions might be incorrectly aligned at the same vertical\n+         * position.\n@@ -2984,1 +2998,1 @@\n-         *  If we have two neutral blue zones, skip one of them.\n+         * If we have two neutral blue zones, skip one of them.\n@@ -3347,2 +3361,2 @@\n-       *  now hint the remaining edges (serifs and single) in order\n-       *  to complete our processing\n+       * now hint the remaining edges (serifs and single) in order\n+       * to complete our processing\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/autofit\/aflatin.c","additions":130,"deletions":116,"binary":false,"changes":246,"status":"modified"},{"patch":"@@ -1,17 +1,17 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  aflatin.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    Auto-fitter hinting routines for latin writing system                *\/\n-\/*    (specification).                                                     *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2003-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * aflatin.h\n+ *\n+ *   Auto-fitter hinting routines for latin writing system\n+ *   (specification).\n+ *\n+ * Copyright (C) 2003-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -48,3 +48,3 @@\n-   *  The following declarations could be embedded in the file `aflatin.c';\n-   *  they have been made semi-public to allow alternate writing system\n-   *  hinters to re-use some of them.\n+   * The following declarations could be embedded in the file `aflatin.c';\n+   * they have been made semi-public to allow alternate writing system\n+   * hinters to re-use some of them.\n@@ -164,2 +164,2 @@\n-   *  The next functions shouldn't normally be exported.  However, other\n-   *  writing systems might like to use these functions as-is.\n+   * The next functions shouldn't normally be exported.  However, other\n+   * writing systems might like to use these functions as-is.\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/autofit\/aflatin.h","additions":22,"deletions":22,"binary":false,"changes":44,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  afloader.c                                                             *\/\n-\/*                                                                         *\/\n-\/*    Auto-fitter glyph loading routines (body).                           *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2003-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * afloader.c\n+ *\n+ *   Auto-fitter glyph loading routines (body).\n+ *\n+ * Copyright (C) 2003-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -24,1 +24,0 @@\n-#include \"afpic.h\"\n@@ -122,3 +121,3 @@\n-     *  We depend on the writing system (script analyzers) to supply\n-     *  standard widths for the script of the glyph we are looking at.  If\n-     *  it can't deliver, stem darkening is disabled.\n+     * We depend on the writing system (script analyzers) to supply\n+     * standard widths for the script of the glyph we are looking at.  If\n+     * it can't deliver, stem darkening is disabled.\n@@ -127,1 +126,1 @@\n-      AF_WRITING_SYSTEM_CLASSES_GET[style_metrics->style_class->writing_system];\n+      af_writing_system_classes[style_metrics->style_class->writing_system];\n@@ -177,4 +176,4 @@\n-       *  Scale outlines down on the Y-axis to keep them inside their blue\n-       *  zones.  The stronger the emboldening, the stronger the downscaling\n-       *  (plus heuristical padding to prevent outlines still falling out\n-       *  their zones due to rounding).\n+       * Scale outlines down on the Y-axis to keep them inside their blue\n+       * zones.  The stronger the emboldening, the stronger the downscaling\n+       * (plus heuristical padding to prevent outlines still falling out\n+       * their zones due to rounding).\n@@ -182,7 +181,7 @@\n-       *  Reason: `FT_Outline_Embolden' works by shifting the rightmost\n-       *  points of stems farther to the right, and topmost points farther\n-       *  up.  This positions points on the Y-axis outside their\n-       *  pre-computed blue zones and leads to distortion when applying the\n-       *  hints in the code further below.  Code outside this emboldening\n-       *  block doesn't know we are presenting it with modified outlines the\n-       *  analyzer didn't see!\n+       * Reason: `FT_Outline_Embolden' works by shifting the rightmost\n+       * points of stems farther to the right, and topmost points farther\n+       * up.  This positions points on the Y-axis outside their\n+       * pre-computed blue zones and leads to distortion when applying the\n+       * hints in the code further below.  Code outside this emboldening\n+       * block doesn't know we are presenting it with modified outlines the\n+       * analyzer didn't see!\n@@ -190,3 +189,3 @@\n-       *  An unfortunate side effect of downscaling is that the emboldening\n-       *  effect is slightly decreased.  The loss becomes more pronounced\n-       *  versus the CFF driver at smaller sizes, e.g., at 9ppem and below.\n+       * An unfortunate side effect of downscaling is that the emboldening\n+       * effect is slightly decreased.  The loss becomes more pronounced\n+       * versus the CFF driver at smaller sizes, e.g., at 9ppem and below.\n@@ -235,4 +234,0 @@\n-#ifdef FT_CONFIG_OPTION_PIC\n-    AF_FaceGlobals  globals = loader->globals;\n-#endif\n-\n@@ -285,7 +280,7 @@\n-     *  TODO: This code currently doesn't support fractional advance widths,\n-     *  i.e., placing hinted glyphs at anything other than integer\n-     *  x-positions.  This is only relevant for the warper code, which\n-     *  scales and shifts glyphs to optimize blackness of stems (hinting on\n-     *  the x-axis by nature places things on pixel integers, hinting on the\n-     *  y-axis only, i.e., LIGHT mode, doesn't touch the x-axis).  The delta\n-     *  values of the scaler would need to be adjusted.\n+     * TODO: This code currently doesn't support fractional advance widths,\n+     * i.e., placing hinted glyphs at anything other than integer\n+     * x-positions.  This is only relevant for the warper code, which\n+     * scales and shifts glyphs to optimize blackness of stems (hinting on\n+     * the x-axis by nature places things on pixel integers, hinting on the\n+     * y-axis only, i.e., LIGHT mode, doesn't touch the x-axis).  The delta\n+     * values of the scaler would need to be adjusted.\n@@ -315,4 +310,4 @@\n-     *  Glyphs (really code points) are assigned to scripts.  Script\n-     *  analysis is done lazily: For each glyph that passes through here,\n-     *  the corresponding script analyzer is called, but returns immediately\n-     *  if it has been run already.\n+     * Glyphs (really code points) are assigned to scripts.  Script\n+     * analysis is done lazily: For each glyph that passes through here,\n+     * the corresponding script analyzer is called, but returns immediately\n+     * if it has been run already.\n@@ -327,1 +322,1 @@\n-      AF_WRITING_SYSTEM_CLASSES_GET[style_class->writing_system];\n+      af_writing_system_classes[style_class->writing_system];\n@@ -345,5 +340,5 @@\n-     *  Do the main work of `af_loader_load_glyph'.  Note that we never have\n-     *  to deal with composite glyphs as those get loaded into\n-     *  FT_GLYPH_FORMAT_OUTLINE by the recursed `FT_Load_Glyph' function.\n-     *  In the rare cases where FT_LOAD_NO_RECURSE is set, it implies\n-     *  FT_LOAD_NO_SCALE and as such the auto-hinter is never called.\n+     * Do the main work of `af_loader_load_glyph'.  Note that we never have\n+     * to deal with composite glyphs as those get loaded into\n+     * FT_GLYPH_FORMAT_OUTLINE by the recursed `FT_Load_Glyph' function.\n+     * In the rare cases where FT_LOAD_NO_RECURSE is set, it implies\n+     * FT_LOAD_NO_SCALE and as such the auto-hinter is never called.\n@@ -361,4 +356,4 @@\n-     *  Apply stem darkening (emboldening) here before hints are applied to\n-     *  the outline.  Glyphs are scaled down proportionally to the\n-     *  emboldening so that curve points don't fall outside their\n-     *  precomputed blue zones.\n+     * Apply stem darkening (emboldening) here before hints are applied to\n+     * the outline.  Glyphs are scaled down proportionally to the\n+     * emboldening so that curve points don't fall outside their\n+     * precomputed blue zones.\n@@ -366,6 +361,6 @@\n-     *  Any emboldening done by the font driver (e.g., the CFF driver)\n-     *  doesn't reach here because the autohinter loads the unprocessed\n-     *  glyphs in font units for analysis (functions `af_*_metrics_init_*')\n-     *  and then above to prepare it for the rasterizers by itself,\n-     *  independently of the font driver.  So emboldening must be done here,\n-     *  within the autohinter.\n+     * Any emboldening done by the font driver (e.g., the CFF driver)\n+     * doesn't reach here because the autohinter loads the unprocessed\n+     * glyphs in font units for analysis (functions `af_*_metrics_init_*')\n+     * and then above to prepare it for the rasterizers by itself,\n+     * independently of the font driver.  So emboldening must be done here,\n+     * within the autohinter.\n@@ -373,6 +368,6 @@\n-     *  All glyphs to be autohinted pass through here one by one.  The\n-     *  standard widths can therefore change from one glyph to the next,\n-     *  depending on what script a glyph is assigned to (each script has its\n-     *  own set of standard widths and other metrics).  The darkening amount\n-     *  must therefore be recomputed for each size and\n-     *  `standard_{vertical,horizontal}_width' change.\n+     * All glyphs to be autohinted pass through here one by one.  The\n+     * standard widths can therefore change from one glyph to the next,\n+     * depending on what script a glyph is assigned to (each script has its\n+     * own set of standard widths and other metrics).  The darkening amount\n+     * must therefore be recomputed for each size and\n+     * `standard_{vertical,horizontal}_width' change.\n@@ -380,1 +375,1 @@\n-     *  Ignore errors and carry on without emboldening.\n+     * Ignore errors and carry on without emboldening.\n@@ -429,4 +424,9 @@\n-        writing_system_class->style_hints_apply( glyph_index,\n-                                                 hints,\n-                                                 &gloader->base.outline,\n-                                                 style_metrics );\n+      {\n+        error = writing_system_class->style_hints_apply(\n+                  glyph_index,\n+                  hints,\n+                  &gloader->base.outline,\n+                  style_metrics );\n+        if ( error )\n+          goto Exit;\n+      }\n@@ -438,3 +438,0 @@\n-        FT_Pos  old_rsb, old_lsb, new_lsb;\n-        FT_Pos  pp1x_uh, pp2x_uh;\n-\n@@ -442,3 +439,0 @@\n-        AF_Edge       edge1 = axis->edges;         \/* leftmost edge  *\/\n-        AF_Edge       edge2 = edge1 +\n-                              axis->num_edges - 1; \/* rightmost edge *\/\n@@ -449,1 +443,5 @@\n-          old_rsb = loader->pp2.x - edge2->opos;\n+          AF_Edge  edge1 = axis->edges;         \/* leftmost edge  *\/\n+          AF_Edge  edge2 = edge1 +\n+                           axis->num_edges - 1; \/* rightmost edge *\/\n+\n+          FT_Pos  old_rsb = loader->pp2.x - edge2->opos;\n@@ -451,2 +449,2 @@\n-          old_lsb = edge1->opos \/* - loader->pp1.x *\/;\n-          new_lsb = edge1->pos;\n+          FT_Pos  old_lsb = edge1->opos;     \/* - loader->pp1.x *\/\n+          FT_Pos  new_lsb = edge1->pos;\n@@ -456,2 +454,3 @@\n-          pp1x_uh = new_lsb    - old_lsb;\n-          pp2x_uh = edge2->pos + old_rsb;\n+          FT_Pos  pp1x_uh = new_lsb    - old_lsb;\n+          FT_Pos  pp2x_uh = edge2->pos + old_rsb;\n+\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/autofit\/afloader.c","additions":87,"deletions":88,"binary":false,"changes":175,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  afloader.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    Auto-fitter glyph loading routines (specification).                  *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2003-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * afloader.h\n+ *\n+ *   Auto-fitter glyph loading routines (specification).\n+ *\n+ * Copyright (C) 2003-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -30,5 +30,5 @@\n-   *  The autofitter module's (global) data structure to communicate with\n-   *  actual fonts.  If necessary, `local' data like the current face, the\n-   *  current face's auto-hint data, or the current glyph's parameters\n-   *  relevant to auto-hinting are `swapped in'.  Cf. functions like\n-   *  `af_loader_reset' and `af_loader_load_g'.\n+   * The autofitter module's (global) data structure to communicate with\n+   * actual fonts.  If necessary, `local' data like the current face, the\n+   * current face's auto-hint data, or the current glyph's parameters\n+   * relevant to auto-hinting are `swapped in'.  Cf. functions like\n+   * `af_loader_reset' and `af_loader_load_g'.\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/autofit\/afloader.h","additions":21,"deletions":21,"binary":false,"changes":42,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  afmodule.c                                                             *\/\n-\/*                                                                         *\/\n-\/*    Auto-fitter module implementation (body).                            *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2003-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * afmodule.c\n+ *\n+ *   Auto-fitter module implementation (body).\n+ *\n+ * Copyright (C) 2003-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -23,1 +23,0 @@\n-#include \"afpic.h\"\n@@ -63,6 +62,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -70,1 +69,1 @@\n-#define FT_COMPONENT  trace_afmodule\n+#define FT_COMPONENT  afmodule\n@@ -107,13 +106,0 @@\n-#ifdef FT_CONFIG_OPTION_PIC\n-\n-#undef  AF_SCRIPT_CLASSES_GET\n-#define AF_SCRIPT_CLASSES_GET  \\\n-          ( GET_PIC( ft_module->library )->af_script_classes )\n-\n-#undef  AF_STYLE_CLASSES_GET\n-#define AF_STYLE_CLASSES_GET  \\\n-          ( GET_PIC( ft_module->library )->af_style_classes )\n-\n-#endif\n-\n-\n@@ -150,1 +136,1 @@\n-      for ( ss = 0; AF_STYLE_CLASSES_GET[ss]; ss++ )\n+      for ( ss = 0; af_style_classes[ss]; ss++ )\n@@ -152,1 +138,1 @@\n-        AF_StyleClass  style_class = AF_STYLE_CLASSES_GET[ss];\n+        AF_StyleClass  style_class = af_style_classes[ss];\n@@ -163,1 +149,1 @@\n-      if ( !AF_STYLE_CLASSES_GET[ss] )\n+      if ( !af_style_classes[ss] )\n@@ -360,1 +346,1 @@\n-      AF_StyleClass  style_class = AF_STYLE_CLASSES_GET[fallback_style];\n+      AF_StyleClass  style_class = af_style_classes[fallback_style];\n@@ -443,1 +429,1 @@\n-    FT_SERVICE_ID_PROPERTIES, &AF_SERVICE_PROPERTIES_GET )\n+    FT_SERVICE_ID_PROPERTIES, &af_service_properties )\n@@ -450,11 +436,0 @@\n-    \/* AF_SERVICES_GET dereferences `library' in PIC mode *\/\n-#ifdef FT_CONFIG_OPTION_PIC\n-    FT_Library  library;\n-\n-\n-    if ( !module )\n-      return NULL;\n-    library = module->library;\n-    if ( !library )\n-      return NULL;\n-#else\n@@ -462,1 +437,0 @@\n-#endif\n@@ -464,1 +438,1 @@\n-    return ft_service_list_lookup( AF_SERVICES_GET, module_interface );\n+    return ft_service_list_lookup( af_services, module_interface );\n@@ -536,1 +510,1 @@\n-    if ( ft_trace_levels[FT_COMPONENT] )\n+    if ( ft_trace_levels[FT_TRACE_COMP( FT_COMPONENT )] )\n@@ -592,1 +566,1 @@\n-    (const void*)&AF_INTERFACE_GET,\n+    (const void*)&af_autofitter_interface,\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/autofit\/afmodule.c","additions":31,"deletions":57,"binary":false,"changes":88,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  afmodule.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    Auto-fitter module implementation (specification).                   *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2003-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * afmodule.h\n+ *\n+ *   Auto-fitter module implementation (specification).\n+ *\n+ * Copyright (C) 2003-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -31,2 +31,2 @@\n-   *  This is the `extended' FT_Module structure that holds the\n-   *  autofitter's global data.\n+   * This is the `extended' FT_Module structure that holds the\n+   * autofitter's global data.\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/autofit\/afmodule.h","additions":18,"deletions":18,"binary":false,"changes":36,"status":"modified"},{"patch":"@@ -1,152 +0,0 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  afpic.c                                                                *\/\n-\/*                                                                         *\/\n-\/*    The FreeType position independent code services for autofit module.  *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2009-2018 by                                                 *\/\n-\/*  Oran Agra and Mickey Gabel.                                            *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-#include <ft2build.h>\n-#include FT_FREETYPE_H\n-#include FT_INTERNAL_OBJECTS_H\n-#include \"afpic.h\"\n-#include \"afglobal.h\"\n-#include \"aferrors.h\"\n-\n-\n-#ifdef FT_CONFIG_OPTION_PIC\n-\n-  \/* forward declaration of PIC init functions from afmodule.c *\/\n-  FT_Error\n-  FT_Create_Class_af_services( FT_Library           library,\n-                               FT_ServiceDescRec**  output_class );\n-\n-  void\n-  FT_Destroy_Class_af_services( FT_Library          library,\n-                                FT_ServiceDescRec*  clazz );\n-\n-  void\n-  FT_Init_Class_af_service_properties( FT_Service_PropertiesRec*  clazz );\n-\n-  void FT_Init_Class_af_autofitter_interface(\n-    FT_Library                   library,\n-    FT_AutoHinter_InterfaceRec*  clazz );\n-\n-\n-  \/* forward declaration of PIC init functions from writing system classes *\/\n-#undef  WRITING_SYSTEM\n-#define WRITING_SYSTEM( ws, WS )  \/* empty *\/\n-\n-#include \"afwrtsys.h\"\n-\n-\n-  void\n-  autofit_module_class_pic_free( FT_Library  library )\n-  {\n-    FT_PIC_Container*  pic_container = &library->pic_container;\n-    FT_Memory          memory        = library->memory;\n-\n-\n-    if ( pic_container->autofit )\n-    {\n-      AFModulePIC*  container = (AFModulePIC*)pic_container->autofit;\n-\n-\n-      if ( container->af_services )\n-        FT_Destroy_Class_af_services( library,\n-                                      container->af_services );\n-      container->af_services = NULL;\n-\n-      FT_FREE( container );\n-      pic_container->autofit = NULL;\n-    }\n-  }\n-\n-\n-  FT_Error\n-  autofit_module_class_pic_init( FT_Library  library )\n-  {\n-    FT_PIC_Container*  pic_container = &library->pic_container;\n-    FT_UInt            ss;\n-    FT_Error           error         = FT_Err_Ok;\n-    AFModulePIC*       container     = NULL;\n-    FT_Memory          memory        = library->memory;\n-\n-\n-    \/* allocate pointer, clear and set global container pointer *\/\n-    if ( FT_ALLOC ( container, sizeof ( *container ) ) )\n-      return error;\n-    FT_MEM_SET( container, 0, sizeof ( *container ) );\n-    pic_container->autofit = container;\n-\n-    \/* initialize pointer table -                       *\/\n-    \/* this is how the module usually expects this data *\/\n-    error = FT_Create_Class_af_services( library,\n-                                         &container->af_services );\n-    if ( error )\n-      goto Exit;\n-\n-    FT_Init_Class_af_service_properties( &container->af_service_properties );\n-\n-    for ( ss = 0; ss < AF_WRITING_SYSTEM_MAX; ss++ )\n-      container->af_writing_system_classes[ss] =\n-        &container->af_writing_system_classes_rec[ss];\n-    container->af_writing_system_classes[AF_WRITING_SYSTEM_MAX] = NULL;\n-\n-    for ( ss = 0; ss < AF_SCRIPT_MAX; ss++ )\n-      container->af_script_classes[ss] =\n-        &container->af_script_classes_rec[ss];\n-    container->af_script_classes[AF_SCRIPT_MAX] = NULL;\n-\n-    for ( ss = 0; ss < AF_STYLE_MAX; ss++ )\n-      container->af_style_classes[ss] =\n-        &container->af_style_classes_rec[ss];\n-    container->af_style_classes[AF_STYLE_MAX] = NULL;\n-\n-#undef  WRITING_SYSTEM\n-#define WRITING_SYSTEM( ws, WS )                             \\\n-        FT_Init_Class_af_ ## ws ## _writing_system_class(    \\\n-          &container->af_writing_system_classes_rec[ss++] );\n-\n-    ss = 0;\n-#include \"afwrtsys.h\"\n-\n-#undef  SCRIPT\n-#define SCRIPT( s, S, d, h, H, sss )                 \\\n-        FT_Init_Class_af_ ## s ## _script_class(     \\\n-          &container->af_script_classes_rec[ss++] );\n-\n-    ss = 0;\n-#include \"afscript.h\"\n-\n-#undef  STYLE\n-#define STYLE( s, S, d, ws, sc, bss, c )            \\\n-        FT_Init_Class_af_ ## s ## _style_class(     \\\n-          &container->af_style_classes_rec[ss++] );\n-\n-    ss = 0;\n-#include \"afstyles.h\"\n-\n-    FT_Init_Class_af_autofitter_interface(\n-      library, &container->af_autofitter_interface );\n-\n-  Exit:\n-    if ( error )\n-      autofit_module_class_pic_free( library );\n-    return error;\n-  }\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n-\n-\/* END *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/autofit\/afpic.c","additions":0,"deletions":152,"binary":false,"changes":152,"status":"deleted"},{"patch":"@@ -1,105 +0,0 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  afpic.h                                                                *\/\n-\/*                                                                         *\/\n-\/*    The FreeType position independent code services for autofit module.  *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2009-2018 by                                                 *\/\n-\/*  Oran Agra and Mickey Gabel.                                            *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-#ifndef AFPIC_H_\n-#define AFPIC_H_\n-\n-\n-#include FT_INTERNAL_PIC_H\n-\n-\n-#ifndef FT_CONFIG_OPTION_PIC\n-\n-#define AF_SERVICES_GET                af_services\n-#define AF_SERVICE_PROPERTIES_GET      af_service_properties\n-\n-#define AF_WRITING_SYSTEM_CLASSES_GET  af_writing_system_classes\n-#define AF_SCRIPT_CLASSES_GET          af_script_classes\n-#define AF_STYLE_CLASSES_GET           af_style_classes\n-#define AF_INTERFACE_GET               af_autofitter_interface\n-\n-#else \/* FT_CONFIG_OPTION_PIC *\/\n-\n-  \/* some include files required for members of AFModulePIC *\/\n-#include FT_SERVICE_PROPERTIES_H\n-\n-#include \"aftypes.h\"\n-\n-\n-FT_BEGIN_HEADER\n-\n-  typedef struct  AFModulePIC_\n-  {\n-    FT_ServiceDescRec*          af_services;\n-    FT_Service_PropertiesRec    af_service_properties;\n-\n-    AF_WritingSystemClass       af_writing_system_classes\n-                                  [AF_WRITING_SYSTEM_MAX + 1];\n-    AF_WritingSystemClassRec    af_writing_system_classes_rec\n-                                  [AF_WRITING_SYSTEM_MAX];\n-\n-    AF_ScriptClass              af_script_classes\n-                                  [AF_SCRIPT_MAX + 1];\n-    AF_ScriptClassRec           af_script_classes_rec\n-                                  [AF_SCRIPT_MAX];\n-\n-    AF_StyleClass               af_style_classes\n-                                  [AF_STYLE_MAX + 1];\n-    AF_StyleClassRec            af_style_classes_rec\n-                                  [AF_STYLE_MAX];\n-\n-    FT_AutoHinter_InterfaceRec  af_autofitter_interface;\n-\n-  } AFModulePIC;\n-\n-\n-#define GET_PIC( lib )  \\\n-          ( (AFModulePIC*)( (lib)->pic_container.autofit ) )\n-\n-#define AF_SERVICES_GET  \\\n-          ( GET_PIC( library )->af_services )\n-#define AF_SERVICE_PROPERTIES_GET  \\\n-          ( GET_PIC( library )->af_service_properties )\n-\n-#define AF_WRITING_SYSTEM_CLASSES_GET  \\\n-          ( GET_PIC( FT_FACE_LIBRARY( globals->face ) )->af_writing_system_classes )\n-#define AF_SCRIPT_CLASSES_GET  \\\n-          ( GET_PIC( FT_FACE_LIBRARY( globals->face ) )->af_script_classes )\n-#define AF_STYLE_CLASSES_GET  \\\n-          ( GET_PIC( FT_FACE_LIBRARY( globals->face ) )->af_style_classes )\n-#define AF_INTERFACE_GET  \\\n-          ( GET_PIC( library )->af_autofitter_interface )\n-\n-\n-  \/* see afpic.c for the implementation *\/\n-  void\n-  autofit_module_class_pic_free( FT_Library  library );\n-\n-  FT_Error\n-  autofit_module_class_pic_init( FT_Library  library );\n-\n-FT_END_HEADER\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n- \/* *\/\n-\n-#endif \/* AFPIC_H_ *\/\n-\n-\n-\/* END *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/autofit\/afpic.h","additions":0,"deletions":105,"binary":false,"changes":105,"status":"deleted"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  afranges.c                                                             *\/\n-\/*                                                                         *\/\n-\/*    Auto-fitter Unicode script ranges (body).                            *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2013-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * afranges.c\n+ *\n+ *   Auto-fitter Unicode script ranges (body).\n+ *\n+ * Copyright (C) 2013-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -94,1 +94,1 @@\n-    AF_UNIRANGE_REC(  0x08E3,  0x08FF ),\n+    AF_UNIRANGE_REC(  0x08D3,  0x08FF ),\n@@ -166,0 +166,1 @@\n+    AF_UNIRANGE_REC(  0x09FE,  0x09FE ),\n@@ -193,0 +194,1 @@\n+    AF_UNIRANGE_REC( 0x11146, 0x11146 ),\n@@ -307,0 +309,1 @@\n+    AF_UNIRANGE_REC(  0xA8FF,  0xA8FF ),\n@@ -341,5 +344,2 @@\n-    AF_UNIRANGE_REC(  0x10D0,  0x10FF ),  \/* Georgian (Mkhedruli) *\/\n-#if 0\n-    \/* the following range is proposed for inclusion in Unicode *\/\n-    AF_UNIRANGE_REC(  0x1C90,  0x1CBF ),  \/* Georgian (Mtavruli)  *\/\n-#endif\n+    AF_UNIRANGE_REC(  0x10D0,  0x10FF ),  \/* Georgian (Mkhedruli)          *\/\n+    AF_UNIRANGE_REC(  0x1C90,  0x1CBF ),  \/* Georgian Extended (Mtavruli)  *\/\n@@ -358,2 +358,2 @@\n-    AF_UNIRANGE_REC(  0x10A0,  0x10CD ),  \/* Georgian (Asomtavruli) *\/\n-    AF_UNIRANGE_REC(  0x2D00,  0x2D2D ),  \/* Georgian (Nuskhuri)    *\/\n+    AF_UNIRANGE_REC(  0x10A0,  0x10CD ),  \/* Georgian (Asomtavruli)         *\/\n+    AF_UNIRANGE_REC(  0x2D00,  0x2D2D ),  \/* Georgian Supplement (Nuskhuri) *\/\n@@ -428,0 +428,1 @@\n+    AF_UNIRANGE_REC(  0x0AFA,  0x0AFF ),\n@@ -658,1 +659,2 @@\n-    AF_UNIRANGE_REC(  0x0D01,  0x0D01 ),\n+    AF_UNIRANGE_REC(  0x0D00,  0x0D01 ),\n+    AF_UNIRANGE_REC(  0x0D3B,  0x0D3C ),\n@@ -700,0 +702,1 @@\n+    AF_UNIRANGE_REC(  0x07FD,  0x07FD ),\n@@ -859,0 +862,1 @@\n+    AF_UNIRANGE_REC(  0x0C04,  0x0C04 ),\n@@ -1009,0 +1013,1 @@\n+    AF_UNIRANGE_REC( 0x1B100, 0x1B12F ),  \/* Kana Extended-A                         *\/\n@@ -1013,0 +1018,2 @@\n+    AF_UNIRANGE_REC( 0x2B820, 0x2CEAF ),  \/* CJK Unified Ideographs Extension E      *\/\n+    AF_UNIRANGE_REC( 0x2CEB0, 0x2EBEF ),  \/* CJK Unified Ideographs Extension F      *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/autofit\/afranges.c","additions":32,"deletions":25,"binary":false,"changes":57,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  afranges.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    Auto-fitter Unicode script ranges (specification).                   *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2013-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * afranges.h\n+ *\n+ *   Auto-fitter Unicode script ranges (specification).\n+ *\n+ * Copyright (C) 2013-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/autofit\/afranges.h","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  afscript.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    Auto-fitter scripts (specification only).                            *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2013-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * afscript.h\n+ *\n+ *   Auto-fitter scripts (specification only).\n+ *\n+ * Copyright (C) 2013-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -140,1 +140,1 @@\n-          \"\\xE1\\x83\\x98 \\xE1\\x83\\x94 \\xE1\\x83\\x90\" ) \/*    *\/\n+          \"\\xE1\\x83\\x98 \\xE1\\x83\\x94 \\xE1\\x83\\x90 \\xE1\\xB2\\xBF\" ) \/*     *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/autofit\/afscript.h","additions":17,"deletions":17,"binary":false,"changes":34,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  afshaper.c                                                             *\/\n-\/*                                                                         *\/\n-\/*    HarfBuzz interface for accessing OpenType features (body).           *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2013-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * afshaper.c\n+ *\n+ *   HarfBuzz interface for accessing OpenType features (body).\n+ *\n+ * Copyright (C) 2013-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -29,6 +29,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -36,1 +36,1 @@\n-#define FT_COMPONENT  trace_afshaper\n+#define FT_COMPONENT  afshaper\n@@ -594,6 +594,1 @@\n-    FT_Error   error;\n-    FT_Memory  memory = face->memory;\n-    FT_ULong*  buf;\n-\n-\n-    FT_MEM_ALLOC( buf, sizeof ( FT_ULong ) );\n+    FT_UNUSED( face );\n@@ -601,1 +596,1 @@\n-    return (void*)buf;\n+    return NULL;\n@@ -609,4 +604,2 @@\n-    FT_Memory  memory = face->memory;\n-\n-\n-    FT_FREE( buf );\n+    FT_UNUSED( face );\n+    FT_UNUSED( buf );\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/autofit\/afshaper.c","additions":27,"deletions":34,"binary":false,"changes":61,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  afshaper.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    HarfBuzz interface for accessing OpenType features (specification).  *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2013-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * afshaper.h\n+ *\n+ *   HarfBuzz interface for accessing OpenType features (specification).\n+ *\n+ * Copyright (C) 2013-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/autofit\/afshaper.h","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  afstyles.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    Auto-fitter styles (specification only).                             *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2013-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * afstyles.h\n+ *\n+ *   Auto-fitter styles (specification only).\n+ *\n+ * Copyright (C) 2013-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/autofit\/afstyles.h","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  aftypes.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    Auto-fitter types (specification only).                              *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2003-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * aftypes.h\n+ *\n+ *   Auto-fitter types (specification only).\n+ *\n+ * Copyright (C) 2003-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -21,3 +21,3 @@\n-   *  The auto-fitter is a complete rewrite of the old auto-hinter.\n-   *  Its main feature is the ability to differentiate between different\n-   *  writing systems and scripts in order to apply specific rules.\n+   * The auto-fitter is a complete rewrite of the old auto-hinter.\n+   * Its main feature is the ability to differentiate between different\n+   * writing systems and scripts in order to apply specific rules.\n@@ -25,3 +25,3 @@\n-   *  The code has also been compartmentalized into several entities that\n-   *  should make algorithmic experimentation easier than with the old\n-   *  code.\n+   * The code has also been compartmentalized into several entities that\n+   * should make algorithmic experimentation easier than with the old\n+   * code.\n@@ -79,3 +79,3 @@\n-    FT_Pos  org;  \/* original position\/width in font units              *\/\n-    FT_Pos  cur;  \/* current\/scaled position\/width in device sub-pixels *\/\n-    FT_Pos  fit;  \/* current\/fitted position\/width in device sub-pixels *\/\n+    FT_Pos  org;  \/* original position\/width in font units             *\/\n+    FT_Pos  cur;  \/* current\/scaled position\/width in device subpixels *\/\n+    FT_Pos  fit;  \/* current\/fitted position\/width in device subpixels *\/\n@@ -105,3 +105,3 @@\n-   *  The auto-fitter doesn't need a very high angular accuracy;\n-   *  this allows us to speed up some computations considerably with a\n-   *  light Cordic algorithm (see afangles.c).\n+   * The auto-fitter doesn't need a very high angular accuracy;\n+   * this allows us to speed up some computations considerably with a\n+   * light Cordic algorithm (see afangles.c).\n@@ -121,1 +121,1 @@\n-   *  compute the angle of a given 2-D vector\n+   * compute the angle of a given 2-D vector\n@@ -129,2 +129,2 @@\n-   *  compute `angle2 - angle1'; the result is always within\n-   *  the range [-AF_ANGLE_PI .. AF_ANGLE_PI - 1]\n+   * compute `angle2 - angle1'; the result is always within\n+   * the range [-AF_ANGLE_PI .. AF_ANGLE_PI - 1]\n@@ -153,2 +153,3 @@\n-  \/*  opaque handle to glyph-specific hints -- see `afhints.h' for more\n-   *  details\n+  \/*\n+   * opaque handle to glyph-specific hints -- see `afhints.h' for more\n+   * details\n@@ -168,2 +169,2 @@\n-   *  A scaler models the target pixel device that will receive the\n-   *  auto-hinted glyph image.\n+   * A scaler models the target pixel device that will receive the\n+   * auto-hinted glyph image.\n@@ -200,2 +201,3 @@\n-  \/*  This function parses an FT_Face to compute global metrics for\n-   *  a specific style.\n+  \/*\n+   * This function parses an FT_Face to compute global metrics for\n+   * a specific style.\n@@ -240,6 +242,6 @@\n-   *  For the auto-hinter, a writing system consists of multiple scripts that\n-   *  can be handled similarly *in a typographical way*; the relationship is\n-   *  not based on history.  For example, both the Greek and the unrelated\n-   *  Armenian scripts share the same features like ascender, descender,\n-   *  x-height, etc.  Essentially, a writing system is covered by a\n-   *  submodule of the auto-fitter; it contains\n+   * For the auto-hinter, a writing system consists of multiple scripts that\n+   * can be handled similarly *in a typographical way*; the relationship is\n+   * not based on history.  For example, both the Greek and the unrelated\n+   * Armenian scripts share the same features like ascender, descender,\n+   * x-height, etc.  Essentially, a writing system is covered by a\n+   * submodule of the auto-fitter; it contains\n@@ -247,3 +249,3 @@\n-   *  - a specific global analyzer that computes global metrics specific to\n-   *    the script (based on script-specific characters to identify ascender\n-   *    height, x-height, etc.),\n+   * - a specific global analyzer that computes global metrics specific to\n+   *   the script (based on script-specific characters to identify ascender\n+   *   height, x-height, etc.),\n@@ -251,2 +253,2 @@\n-   *  - a specific glyph analyzer that computes segments and edges for each\n-   *    glyph covered by the script,\n+   * - a specific glyph analyzer that computes segments and edges for each\n+   *   glyph covered by the script,\n@@ -254,2 +256,2 @@\n-   *  - a specific grid-fitting algorithm that distorts the scaled glyph\n-   *    outline according to the results of the glyph analyzer.\n+   * - a specific grid-fitting algorithm that distorts the scaled glyph\n+   *   outline according to the results of the glyph analyzer.\n@@ -303,3 +305,3 @@\n-   *  Each script is associated with two sets of Unicode ranges to test\n-   *  whether the font face supports the script, and which non-base\n-   *  characters the script contains.\n+   * Each script is associated with two sets of Unicode ranges to test\n+   * whether the font face supports the script, and which non-base\n+   * characters the script contains.\n@@ -307,2 +309,2 @@\n-   *  We use four-letter script tags from the OpenType specification,\n-   *  extended by `NONE', which indicates `no script'.\n+   * We use four-letter script tags from the OpenType specification,\n+   * extended by `NONE', which indicates `no script'.\n@@ -364,2 +366,2 @@\n-   *  Usually, a font contains more glyphs than can be addressed by its\n-   *  character map.\n+   * Usually, a font contains more glyphs than can be addressed by its\n+   * character map.\n@@ -367,5 +369,5 @@\n-   *  In the PostScript font world, encoding vectors specific to a given\n-   *  task are used to select such glyphs, and these glyphs can be often\n-   *  recognized by having a suffix in its glyph names.  For example, a\n-   *  superscript glyph `A' might be called `A.sup'.  Unfortunately, this\n-   *  naming scheme is not standardized and thus unusable for us.\n+   * In the PostScript font world, encoding vectors specific to a given\n+   * task are used to select such glyphs, and these glyphs can be often\n+   * recognized by having a suffix in its glyph names.  For example, a\n+   * superscript glyph `A' might be called `A.sup'.  Unfortunately, this\n+   * naming scheme is not standardized and thus unusable for us.\n@@ -373,10 +375,10 @@\n-   *  In the OpenType world, a better solution was invented, namely\n-   *  `features', which cleanly separate a character's input encoding from\n-   *  the corresponding glyph's appearance, and which don't use glyph names\n-   *  at all.  For our purposes, and slightly generalized, an OpenType\n-   *  feature is a name of a mapping that maps character codes to\n-   *  non-standard glyph indices (features get used for other things also).\n-   *  For example, the `sups' feature provides superscript glyphs, thus\n-   *  mapping character codes like `A' or `B' to superscript glyph\n-   *  representation forms.  How this mapping happens is completely\n-   *  uninteresting to us.\n+   * In the OpenType world, a better solution was invented, namely\n+   * `features', which cleanly separate a character's input encoding from\n+   * the corresponding glyph's appearance, and which don't use glyph names\n+   * at all.  For our purposes, and slightly generalized, an OpenType\n+   * feature is a name of a mapping that maps character codes to\n+   * non-standard glyph indices (features get used for other things also).\n+   * For example, the `sups' feature provides superscript glyphs, thus\n+   * mapping character codes like `A' or `B' to superscript glyph\n+   * representation forms.  How this mapping happens is completely\n+   * uninteresting to us.\n@@ -384,5 +386,5 @@\n-   *  For the auto-hinter, a `coverage' represents all glyphs of an OpenType\n-   *  feature collected in a set (as listed below) that can be hinted\n-   *  together.  To continue the above example, superscript glyphs must not\n-   *  be hinted together with normal glyphs because the blue zones\n-   *  completely differ.\n+   * For the auto-hinter, a `coverage' represents all glyphs of an OpenType\n+   * feature collected in a set (as listed below) that can be hinted\n+   * together.  To continue the above example, superscript glyphs must not\n+   * be hinted together with normal glyphs because the blue zones\n+   * completely differ.\n@@ -390,4 +392,4 @@\n-   *  Note that FreeType itself doesn't compute coverages; it only provides\n-   *  the glyphs addressable by the default Unicode character map.  Instead,\n-   *  we use the HarfBuzz library (if available), which has many functions\n-   *  exactly for this purpose.\n+   * Note that FreeType itself doesn't compute coverages; it only provides\n+   * the glyphs addressable by the default Unicode character map.  Instead,\n+   * we use the HarfBuzz library (if available), which has many functions\n+   * exactly for this purpose.\n@@ -395,4 +397,4 @@\n-   *  AF_COVERAGE_DEFAULT is special: It should cover everything that isn't\n-   *  listed separately (including the glyphs addressable by the character\n-   *  map).  In case HarfBuzz isn't available, it exactly covers the glyphs\n-   *  addressable by the character map.\n+   * AF_COVERAGE_DEFAULT is special: It should cover everything that isn't\n+   * listed separately (including the glyphs addressable by the character\n+   * map).  In case HarfBuzz isn't available, it exactly covers the glyphs\n+   * addressable by the character map.\n@@ -426,2 +428,2 @@\n-   *  The topmost structure for modelling the auto-hinter glyph input data\n-   *  is a `style class', grouping everything together.\n+   * The topmost structure for modelling the auto-hinter glyph input data\n+   * is a `style class', grouping everything together.\n@@ -489,2 +491,0 @@\n-#ifndef FT_CONFIG_OPTION_PIC\n-\n@@ -565,79 +565,0 @@\n-#else \/* FT_CONFIG_OPTION_PIC *\/\n-\n-#define AF_DECLARE_WRITING_SYSTEM_CLASS( writing_system_class )            \\\n-  FT_LOCAL( void )                                                         \\\n-  FT_Init_Class_ ## writing_system_class( AF_WritingSystemClassRec*  ac );\n-\n-#define AF_DEFINE_WRITING_SYSTEM_CLASS(                                   \\\n-          writing_system_class,                                           \\\n-          system,                                                         \\\n-          m_size,                                                         \\\n-          m_init,                                                         \\\n-          m_scale,                                                        \\\n-          m_done,                                                         \\\n-          m_stdw,                                                         \\\n-          h_init,                                                         \\\n-          h_apply )                                                       \\\n-  FT_LOCAL_DEF( void )                                                    \\\n-  FT_Init_Class_ ## writing_system_class( AF_WritingSystemClassRec*  ac ) \\\n-  {                                                                       \\\n-    ac->writing_system        = system;                                   \\\n-                                                                          \\\n-    ac->style_metrics_size    = m_size;                                   \\\n-                                                                          \\\n-    ac->style_metrics_init    = m_init;                                   \\\n-    ac->style_metrics_scale   = m_scale;                                  \\\n-    ac->style_metrics_done    = m_done;                                   \\\n-    ac->style_metrics_getstdw = m_stdw;                                   \\\n-                                                                          \\\n-    ac->style_hints_init      = h_init;                                   \\\n-    ac->style_hints_apply     = h_apply;                                  \\\n-  }\n-\n-\n-#define AF_DECLARE_SCRIPT_CLASS( script_class )             \\\n-  FT_LOCAL( void )                                          \\\n-  FT_Init_Class_ ## script_class( AF_ScriptClassRec*  ac );\n-\n-#define AF_DEFINE_SCRIPT_CLASS(                            \\\n-          script_class,                                    \\\n-          script_,                                         \\\n-          ranges,                                          \\\n-          nonbase_ranges,                                  \\\n-          top_to_bottom,                                   \\\n-          std_charstring )                                 \\\n-  FT_LOCAL_DEF( void )                                     \\\n-  FT_Init_Class_ ## script_class( AF_ScriptClassRec*  ac ) \\\n-  {                                                        \\\n-    ac->script                    = script_;               \\\n-    ac->script_uni_ranges         = ranges;                \\\n-    ac->script_uni_nonbase_ranges = nonbase_ranges;        \\\n-    ac->top_to_bottom_hinting     = top_to_bottom;         \\\n-    ac->standard_charstring       = std_charstring;        \\\n-  }\n-\n-\n-#define AF_DECLARE_STYLE_CLASS( style_class )             \\\n-  FT_LOCAL( void )                                        \\\n-  FT_Init_Class_ ## style_class( AF_StyleClassRec*  ac );\n-\n-#define AF_DEFINE_STYLE_CLASS(                           \\\n-          style_class,                                   \\\n-          style_,                                        \\\n-          writing_system_,                               \\\n-          script_,                                       \\\n-          blue_stringset_,                               \\\n-          coverage_ )                                    \\\n-  FT_LOCAL_DEF( void )                                   \\\n-  FT_Init_Class_ ## style_class( AF_StyleClassRec*  ac ) \\\n-  {                                                      \\\n-    ac->style          = style_;                         \\\n-    ac->writing_system = writing_system_;                \\\n-    ac->script         = script_;                        \\\n-    ac->blue_stringset = blue_stringset_;                \\\n-    ac->coverage       = coverage_;                      \\\n-  }\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n-\n@@ -646,0 +567,1 @@\n+\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/autofit\/aftypes.h","additions":90,"deletions":168,"binary":false,"changes":258,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  afwarp.c                                                               *\/\n-\/*                                                                         *\/\n-\/*    Auto-fitter warping algorithm (body).                                *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2006-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * afwarp.c\n+ *\n+ *   Auto-fitter warping algorithm (body).\n+ *\n+ * Copyright (C) 2006-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -20,4 +20,4 @@\n-   *  The idea of the warping code is to slightly scale and shift a glyph\n-   *  within a single dimension so that as much of its segments are aligned\n-   *  (more or less) on the grid.  To find out the optimal scaling and\n-   *  shifting value, various parameter combinations are tried and scored.\n+   * The idea of the warping code is to slightly scale and shift a glyph\n+   * within a single dimension so that as much of its segments are aligned\n+   * (more or less) on the grid.  To find out the optimal scaling and\n+   * shifting value, various parameter combinations are tried and scored.\n@@ -30,6 +30,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -37,1 +37,1 @@\n-#define FT_COMPONENT  trace_afwarp\n+#define FT_COMPONENT  afwarp\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/autofit\/afwarp.c","additions":27,"deletions":27,"binary":false,"changes":54,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  afwarp.h                                                               *\/\n-\/*                                                                         *\/\n-\/*    Auto-fitter warping algorithm (specification).                       *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2006-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * afwarp.h\n+ *\n+ *   Auto-fitter warping algorithm (specification).\n+ *\n+ * Copyright (C) 2006-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -50,0 +50,1 @@\n+#ifdef AF_CONFIG_OPTION_USE_WARPER\n@@ -55,1 +56,2 @@\n-                     FT_Fixed      *a_delta );\n+                     FT_Pos        *a_delta );\n+#endif\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/autofit\/afwarp.h","additions":19,"deletions":17,"binary":false,"changes":36,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  afwrtsys.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    Auto-fitter writing systems (specification only).                    *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2013-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * afwrtsys.h\n+ *\n+ *   Auto-fitter writing systems (specification only).\n+ *\n+ * Copyright (C) 2013-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/autofit\/afwrtsys.h","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,108 +0,0 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  basepic.c                                                              *\/\n-\/*                                                                         *\/\n-\/*    The FreeType position independent code services for base.            *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2009-2018 by                                                 *\/\n-\/*  Oran Agra and Mickey Gabel.                                            *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-#include <ft2build.h>\n-#include FT_FREETYPE_H\n-#include FT_INTERNAL_OBJECTS_H\n-#include \"basepic.h\"\n-\n-\n-#ifdef FT_CONFIG_OPTION_PIC\n-\n-  \/* forward declaration of PIC init functions from ftglyph.c *\/\n-  void\n-  FT_Init_Class_ft_outline_glyph_class( FT_Glyph_Class*  clazz );\n-\n-  void\n-  FT_Init_Class_ft_bitmap_glyph_class( FT_Glyph_Class*  clazz );\n-\n-#ifdef FT_CONFIG_OPTION_MAC_FONTS\n-  \/* forward declaration of PIC init function from ftrfork.c *\/\n-  \/* (not modularized)                                       *\/\n-  void\n-  FT_Init_Table_ft_raccess_guess_table( ft_raccess_guess_rec*  record );\n-#endif\n-\n-  \/* forward declaration of PIC init functions from ftinit.c *\/\n-  FT_Error\n-  ft_create_default_module_classes( FT_Library  library );\n-\n-  void\n-  ft_destroy_default_module_classes( FT_Library  library );\n-\n-\n-  void\n-  ft_base_pic_free( FT_Library  library )\n-  {\n-    FT_PIC_Container*  pic_container = &library->pic_container;\n-    FT_Memory          memory        = library->memory;\n-\n-\n-    if ( pic_container->base )\n-    {\n-      \/* destroy default module classes            *\/\n-      \/* (in case FT_Add_Default_Modules was used) *\/\n-      ft_destroy_default_module_classes( library );\n-\n-      FT_FREE( pic_container->base );\n-      pic_container->base = NULL;\n-    }\n-  }\n-\n-\n-  FT_Error\n-  ft_base_pic_init( FT_Library  library )\n-  {\n-    FT_PIC_Container*  pic_container = &library->pic_container;\n-    FT_Error           error         = FT_Err_Ok;\n-    BasePIC*           container     = NULL;\n-    FT_Memory          memory        = library->memory;\n-\n-\n-    \/* allocate pointer, clear and set global container pointer *\/\n-    if ( FT_ALLOC( container, sizeof ( *container ) ) )\n-      return error;\n-    FT_MEM_SET( container, 0, sizeof ( *container ) );\n-    pic_container->base = container;\n-\n-    \/* initialize default modules list and pointers *\/\n-    error = ft_create_default_module_classes( library );\n-    if ( error )\n-      goto Exit;\n-\n-    \/* initialize pointer table -                       *\/\n-    \/* this is how the module usually expects this data *\/\n-    FT_Init_Class_ft_outline_glyph_class(\n-      &container->ft_outline_glyph_class );\n-    FT_Init_Class_ft_bitmap_glyph_class(\n-      &container->ft_bitmap_glyph_class );\n-#ifdef FT_CONFIG_OPTION_MAC_FONTS\n-    FT_Init_Table_ft_raccess_guess_table(\n-      (ft_raccess_guess_rec*)&container->ft_raccess_guess_table );\n-#endif\n-\n-  Exit:\n-    if ( error )\n-      ft_base_pic_free( library );\n-    return error;\n-  }\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n-\n-\/* END *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/base\/basepic.c","additions":0,"deletions":108,"binary":false,"changes":108,"status":"deleted"},{"patch":"@@ -1,91 +0,0 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  basepic.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    The FreeType position independent code services for base.            *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2009-2018 by                                                 *\/\n-\/*  Oran Agra and Mickey Gabel.                                            *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-#ifndef BASEPIC_H_\n-#define BASEPIC_H_\n-\n-\n-#include FT_INTERNAL_PIC_H\n-\n-\n-#ifndef FT_CONFIG_OPTION_PIC\n-\n-#define FT_OUTLINE_GLYPH_CLASS_GET  &ft_outline_glyph_class\n-#define FT_BITMAP_GLYPH_CLASS_GET   &ft_bitmap_glyph_class\n-#define FT_DEFAULT_MODULES_GET      ft_default_modules\n-\n-#ifdef FT_CONFIG_OPTION_GUESSING_EMBEDDED_RFORK\n-#define FT_RACCESS_GUESS_TABLE_GET  ft_raccess_guess_table\n-#endif\n-\n-#else \/* FT_CONFIG_OPTION_PIC *\/\n-\n-#include FT_GLYPH_H\n-\n-#ifdef FT_CONFIG_OPTION_GUESSING_EMBEDDED_RFORK\n-#include FT_INTERNAL_RFORK_H\n-#endif\n-\n-\n-FT_BEGIN_HEADER\n-\n-  typedef struct  BasePIC_\n-  {\n-    FT_Module_Class**  default_module_classes;\n-    FT_Glyph_Class     ft_outline_glyph_class;\n-    FT_Glyph_Class     ft_bitmap_glyph_class;\n-\n-#ifdef FT_CONFIG_OPTION_GUESSING_EMBEDDED_RFORK\n-    ft_raccess_guess_rec  ft_raccess_guess_table[FT_RACCESS_N_RULES];\n-#endif\n-\n-  } BasePIC;\n-\n-\n-#define GET_PIC( lib )  ( (BasePIC*)( (lib)->pic_container.base ) )\n-\n-#define FT_OUTLINE_GLYPH_CLASS_GET                      \\\n-          ( &GET_PIC( library )->ft_outline_glyph_class )\n-#define FT_BITMAP_GLYPH_CLASS_GET                        \\\n-          ( &GET_PIC( library )->ft_bitmap_glyph_class )\n-#define FT_DEFAULT_MODULES_GET                           \\\n-          ( GET_PIC( library )->default_module_classes )\n-\n-#ifdef FT_CONFIG_OPTION_GUESSING_EMBEDDED_RFORK\n-#define FT_RACCESS_GUESS_TABLE_GET                       \\\n-          ( GET_PIC( library )->ft_raccess_guess_table )\n-#endif\n-\n-\n-  \/* see basepic.c for the implementation *\/\n-  void\n-  ft_base_pic_free( FT_Library  library );\n-\n-  FT_Error\n-  ft_base_pic_init( FT_Library  library );\n-\n-FT_END_HEADER\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n-  \/* *\/\n-\n-#endif \/* BASEPIC_H_ *\/\n-\n-\n-\/* END *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/base\/basepic.h","additions":0,"deletions":91,"binary":false,"changes":91,"status":"deleted"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftadvanc.c                                                             *\/\n-\/*                                                                         *\/\n-\/*    Quick computation of advance widths (body).                          *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2008-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftadvanc.c\n+ *\n+ *   Quick computation of advance widths (body).\n+ *\n+ * Copyright (C) 2008-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/base\/ftadvanc.c","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,121 +0,0 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftapi.c                                                                *\/\n-\/*                                                                         *\/\n-\/*    The FreeType compatibility functions (body).                         *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2002-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-#include <ft2build.h>\n-#include FT_LIST_H\n-#include FT_OUTLINE_H\n-#include FT_INTERNAL_OBJECTS_H\n-#include FT_INTERNAL_DEBUG_H\n-#include FT_INTERNAL_STREAM_H\n-#include FT_TRUETYPE_TABLES_H\n-#include FT_OUTLINE_H\n-\n-\n-  \/*************************************************************************\/\n-  \/*************************************************************************\/\n-  \/*************************************************************************\/\n-  \/****                                                                 ****\/\n-  \/****                                                                 ****\/\n-  \/****                 C O M P A T I B I L I T Y                       ****\/\n-  \/****                                                                 ****\/\n-  \/****                                                                 ****\/\n-  \/*************************************************************************\/\n-  \/*************************************************************************\/\n-  \/*************************************************************************\/\n-\n-  \/* backward compatibility API *\/\n-\n-  FT_BASE_DEF( void )\n-  FT_New_Memory_Stream( FT_Library  library,\n-                        FT_Byte*    base,\n-                        FT_ULong    size,\n-                        FT_Stream   stream )\n-  {\n-    FT_UNUSED( library );\n-\n-    FT_Stream_OpenMemory( stream, base, size );\n-  }\n-\n-\n-  FT_BASE_DEF( FT_Error )\n-  FT_Seek_Stream( FT_Stream  stream,\n-                  FT_ULong   pos )\n-  {\n-    return FT_Stream_Seek( stream, pos );\n-  }\n-\n-\n-  FT_BASE_DEF( FT_Error )\n-  FT_Skip_Stream( FT_Stream  stream,\n-                  FT_Long    distance )\n-  {\n-    return FT_Stream_Skip( stream, distance );\n-  }\n-\n-\n-  FT_BASE_DEF( FT_Error )\n-  FT_Read_Stream( FT_Stream  stream,\n-                  FT_Byte*   buffer,\n-                  FT_ULong   count )\n-  {\n-    return FT_Stream_Read( stream, buffer, count );\n-  }\n-\n-\n-  FT_BASE_DEF( FT_Error )\n-  FT_Read_Stream_At( FT_Stream  stream,\n-                     FT_ULong   pos,\n-                     FT_Byte*   buffer,\n-                     FT_ULong   count )\n-  {\n-    return FT_Stream_ReadAt( stream, pos, buffer, count );\n-  }\n-\n-\n-  FT_BASE_DEF( FT_Error )\n-  FT_Extract_Frame( FT_Stream  stream,\n-                    FT_ULong   count,\n-                    FT_Byte**  pbytes )\n-  {\n-    return FT_Stream_ExtractFrame( stream, count, pbytes );\n-  }\n-\n-\n-  FT_BASE_DEF( void )\n-  FT_Release_Frame( FT_Stream  stream,\n-                    FT_Byte**  pbytes )\n-  {\n-    FT_Stream_ReleaseFrame( stream, pbytes );\n-  }\n-\n-  FT_BASE_DEF( FT_Error )\n-  FT_Access_Frame( FT_Stream  stream,\n-                   FT_ULong   count )\n-  {\n-    return FT_Stream_EnterFrame( stream, count );\n-  }\n-\n-\n-  FT_BASE_DEF( void )\n-  FT_Forget_Frame( FT_Stream  stream )\n-  {\n-    FT_Stream_ExitFrame( stream );\n-  }\n-\n-\n-\/* END *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/base\/ftapi.c","additions":0,"deletions":121,"binary":false,"changes":121,"status":"deleted"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftbase.h                                                               *\/\n-\/*                                                                         *\/\n-\/*    Private functions used in the `base' module (specification).         *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2008-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, Werner Lemberg, and suzuki toshiya.      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftbase.h\n+ *\n+ *   Private functions used in the `base' module (specification).\n+ *\n+ * Copyright (C) 2008-2019 by\n+ * David Turner, Robert Wilhelm, Werner Lemberg, and suzuki toshiya.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/base\/ftbase.h","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,24 +1,24 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftbbox.c                                                               *\/\n-\/*                                                                         *\/\n-\/*    FreeType bbox computation (body).                                    *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used        *\/\n-\/*  modified and distributed under the terms of the FreeType project       *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* This component has a _single_ role: to compute exact outline bounding *\/\n-  \/* boxes.                                                                *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftbbox.c\n+ *\n+ *   FreeType bbox computation (body).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used\n+ * modified and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * This component has a _single_ role: to compute exact outline bounding\n+   * boxes.\n+   *\n+   *\/\n@@ -64,20 +64,22 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    BBox_Move_To                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This function is used as a `move_to' emitter during                *\/\n-  \/*    FT_Outline_Decompose().  It simply records the destination point   *\/\n-  \/*    in `user->last'. We also update bbox in case contour starts with   *\/\n-  \/*    an implicit `on' point.                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    to   :: A pointer to the destination vector.                       *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    user :: A pointer to the current walk context.                     *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    Always 0.  Needed for the interface only.                          *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   BBox_Move_To\n+   *\n+   * @Description:\n+   *   This function is used as a `move_to' emitter during\n+   *   FT_Outline_Decompose().  It simply records the destination point\n+   *   in `user->last'. We also update bbox in case contour starts with\n+   *   an implicit `on' point.\n+   *\n+   * @Input:\n+   *   to ::\n+   *     A pointer to the destination vector.\n+   *\n+   * @InOut:\n+   *   user ::\n+   *     A pointer to the current walk context.\n+   *\n+   * @Return:\n+   *   Always 0.  Needed for the interface only.\n+   *\/\n@@ -96,20 +98,22 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    BBox_Line_To                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This function is used as a `line_to' emitter during                *\/\n-  \/*    FT_Outline_Decompose().  It simply records the destination point   *\/\n-  \/*    in `user->last'; no further computations are necessary because     *\/\n-  \/*    bbox already contains both explicit ends of the line segment.      *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    to   :: A pointer to the destination vector.                       *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    user :: A pointer to the current walk context.                     *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    Always 0.  Needed for the interface only.                          *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   BBox_Line_To\n+   *\n+   * @Description:\n+   *   This function is used as a `line_to' emitter during\n+   *   FT_Outline_Decompose().  It simply records the destination point\n+   *   in `user->last'; no further computations are necessary because\n+   *   bbox already contains both explicit ends of the line segment.\n+   *\n+   * @Input:\n+   *   to ::\n+   *     A pointer to the destination vector.\n+   *\n+   * @InOut:\n+   *   user ::\n+   *     A pointer to the current walk context.\n+   *\n+   * @Return:\n+   *   Always 0.  Needed for the interface only.\n+   *\/\n@@ -126,22 +130,27 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    BBox_Conic_Check                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Find the extrema of a 1-dimensional conic Bezier curve and update  *\/\n-  \/*    a bounding range.  This version uses direct computation, as it     *\/\n-  \/*    doesn't need square roots.                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    y1  :: The start coordinate.                                       *\/\n-  \/*                                                                       *\/\n-  \/*    y2  :: The coordinate of the control point.                        *\/\n-  \/*                                                                       *\/\n-  \/*    y3  :: The end coordinate.                                         *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    min :: The address of the current minimum.                         *\/\n-  \/*                                                                       *\/\n-  \/*    max :: The address of the current maximum.                         *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   BBox_Conic_Check\n+   *\n+   * @Description:\n+   *   Find the extrema of a 1-dimensional conic Bezier curve and update\n+   *   a bounding range.  This version uses direct computation, as it\n+   *   doesn't need square roots.\n+   *\n+   * @Input:\n+   *   y1 ::\n+   *     The start coordinate.\n+   *\n+   *   y2 ::\n+   *     The coordinate of the control point.\n+   *\n+   *   y3 ::\n+   *     The end coordinate.\n+   *\n+   * @InOut:\n+   *   min ::\n+   *     The address of the current minimum.\n+   *\n+   *   max ::\n+   *     The address of the current maximum.\n+   *\/\n@@ -171,26 +180,29 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    BBox_Conic_To                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This function is used as a `conic_to' emitter during               *\/\n-  \/*    FT_Outline_Decompose().  It checks a conic Bezier curve with the   *\/\n-  \/*    current bounding box, and computes its extrema if necessary to     *\/\n-  \/*    update it.                                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    control :: A pointer to a control point.                           *\/\n-  \/*                                                                       *\/\n-  \/*    to      :: A pointer to the destination vector.                    *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    user    :: The address of the current walk context.                *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    Always 0.  Needed for the interface only.                          *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    In the case of a non-monotonous arc, we compute directly the       *\/\n-  \/*    extremum coordinates, as it is sufficiently fast.                  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   BBox_Conic_To\n+   *\n+   * @Description:\n+   *   This function is used as a `conic_to' emitter during\n+   *   FT_Outline_Decompose().  It checks a conic Bezier curve with the\n+   *   current bounding box, and computes its extrema if necessary to\n+   *   update it.\n+   *\n+   * @Input:\n+   *   control ::\n+   *     A pointer to a control point.\n+   *\n+   *   to ::\n+   *     A pointer to the destination vector.\n+   *\n+   * @InOut:\n+   *   user ::\n+   *     The address of the current walk context.\n+   *\n+   * @Return:\n+   *   Always 0.  Needed for the interface only.\n+   *\n+   * @Note:\n+   *   In the case of a non-monotonous arc, we compute directly the\n+   *   extremum coordinates, as it is sufficiently fast.\n+   *\/\n@@ -225,24 +237,30 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    BBox_Cubic_Check                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Find the extrema of a 1-dimensional cubic Bezier curve and         *\/\n-  \/*    update a bounding range.  This version uses iterative splitting    *\/\n-  \/*    because it is faster than the exact solution with square roots.    *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    p1  :: The start coordinate.                                       *\/\n-  \/*                                                                       *\/\n-  \/*    p2  :: The coordinate of the first control point.                  *\/\n-  \/*                                                                       *\/\n-  \/*    p3  :: The coordinate of the second control point.                 *\/\n-  \/*                                                                       *\/\n-  \/*    p4  :: The end coordinate.                                         *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    min :: The address of the current minimum.                         *\/\n-  \/*                                                                       *\/\n-  \/*    max :: The address of the current maximum.                         *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   BBox_Cubic_Check\n+   *\n+   * @Description:\n+   *   Find the extrema of a 1-dimensional cubic Bezier curve and\n+   *   update a bounding range.  This version uses iterative splitting\n+   *   because it is faster than the exact solution with square roots.\n+   *\n+   * @Input:\n+   *   p1 ::\n+   *     The start coordinate.\n+   *\n+   *   p2 ::\n+   *     The coordinate of the first control point.\n+   *\n+   *   p3 ::\n+   *     The coordinate of the second control point.\n+   *\n+   *   p4 ::\n+   *     The end coordinate.\n+   *\n+   * @InOut:\n+   *   min ::\n+   *     The address of the current minimum.\n+   *\n+   *   max ::\n+   *     The address of the current maximum.\n+   *\/\n@@ -364,28 +382,32 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    BBox_Cubic_To                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This function is used as a `cubic_to' emitter during               *\/\n-  \/*    FT_Outline_Decompose().  It checks a cubic Bezier curve with the   *\/\n-  \/*    current bounding box, and computes its extrema if necessary to     *\/\n-  \/*    update it.                                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    control1 :: A pointer to the first control point.                  *\/\n-  \/*                                                                       *\/\n-  \/*    control2 :: A pointer to the second control point.                 *\/\n-  \/*                                                                       *\/\n-  \/*    to       :: A pointer to the destination vector.                   *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    user     :: The address of the current walk context.               *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    Always 0.  Needed for the interface only.                          *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    In the case of a non-monotonous arc, we don't compute directly     *\/\n-  \/*    extremum coordinates, we subdivide instead.                        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   BBox_Cubic_To\n+   *\n+   * @Description:\n+   *   This function is used as a `cubic_to' emitter during\n+   *   FT_Outline_Decompose().  It checks a cubic Bezier curve with the\n+   *   current bounding box, and computes its extrema if necessary to\n+   *   update it.\n+   *\n+   * @Input:\n+   *   control1 ::\n+   *     A pointer to the first control point.\n+   *\n+   *   control2 ::\n+   *     A pointer to the second control point.\n+   *\n+   *   to ::\n+   *     A pointer to the destination vector.\n+   *\n+   * @InOut:\n+   *   user ::\n+   *     The address of the current walk context.\n+   *\n+   * @Return:\n+   *   Always 0.  Needed for the interface only.\n+   *\n+   * @Note:\n+   *   In the case of a non-monotonous arc, we don't compute directly\n+   *   extremum coordinates, we subdivide instead.\n+   *\/\n@@ -493,6 +515,0 @@\n-#ifdef FT_CONFIG_OPTION_PIC\n-      FT_Outline_Funcs  bbox_interface;\n-\n-\n-      Init_Class_bbox_interface( &bbox_interface );\n-#endif\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/base\/ftbbox.c","additions":186,"deletions":170,"binary":false,"changes":356,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftbitmap.c                                                             *\/\n-\/*                                                                         *\/\n-\/*    FreeType utility functions for bitmaps (body).                       *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2004-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftbitmap.c\n+ *\n+ *   FreeType utility functions for bitmaps (body).\n+ *\n+ * Copyright (C) 2004-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -27,0 +27,10 @@\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n+#undef  FT_COMPONENT\n+#define FT_COMPONENT  bitmap\n+\n+\n@@ -28,1 +38,1 @@\n-  const FT_Bitmap  null_bitmap = { 0, 0, 0, 0, 0, 0, 0, 0 };\n+  const FT_Bitmap  null_bitmap = { 0, 0, 0, NULL, 0, 0, 0, NULL };\n@@ -240,1 +250,1 @@\n-      unsigned int    delta = new_pitch - pitch;\n+      unsigned int    delta = new_pitch - len;\n@@ -250,1 +260,1 @@\n-        out += pitch;\n+        out += len;\n@@ -252,0 +262,2 @@\n+        \/* we use FT_QALLOC_MULT, which doesn't zero out the buffer;      *\/\n+        \/* consequently, we have to manually zero out the remaining bytes *\/\n@@ -264,1 +276,1 @@\n-      unsigned int    delta = new_pitch - pitch;\n+      unsigned int    delta = new_pitch - len;\n@@ -271,1 +283,1 @@\n-        out += pitch;\n+        out += len;\n@@ -784,0 +796,325 @@\n+  \/* documentation is in ftbitmap.h *\/\n+\n+  FT_EXPORT_DEF( FT_Error )\n+  FT_Bitmap_Blend( FT_Library        library,\n+                   const FT_Bitmap*  source_,\n+                   const FT_Vector   source_offset_,\n+                   FT_Bitmap*        target,\n+                   FT_Vector        *atarget_offset,\n+                   FT_Color          color )\n+  {\n+    FT_Error   error = FT_Err_Ok;\n+    FT_Memory  memory;\n+\n+    FT_Bitmap         source_bitmap;\n+    const FT_Bitmap*  source;\n+\n+    FT_Vector  source_offset;\n+    FT_Vector  target_offset;\n+\n+    FT_Bool  free_source_bitmap          = 0;\n+    FT_Bool  free_target_bitmap_on_error = 0;\n+\n+    FT_Pos  source_llx, source_lly, source_urx, source_ury;\n+    FT_Pos  target_llx, target_lly, target_urx, target_ury;\n+    FT_Pos  final_llx, final_lly, final_urx, final_ury;\n+\n+    unsigned int  final_rows, final_width;\n+    long          x, y;\n+\n+\n+    if ( !library || !target || !source_ || !atarget_offset )\n+      return FT_THROW( Invalid_Argument );\n+\n+    memory = library->memory;\n+\n+    if ( !( target->pixel_mode == FT_PIXEL_MODE_NONE     ||\n+            ( target->pixel_mode == FT_PIXEL_MODE_BGRA &&\n+              target->buffer                           ) ) )\n+      return FT_THROW( Invalid_Argument );\n+\n+    if ( source_->pixel_mode == FT_PIXEL_MODE_NONE )\n+      return FT_Err_Ok;               \/* nothing to do *\/\n+\n+    \/* pitches must have the same sign *\/\n+    if ( target->pixel_mode == FT_PIXEL_MODE_BGRA &&\n+         ( source_->pitch ^ target->pitch ) < 0   )\n+      return FT_THROW( Invalid_Argument );\n+\n+    if ( !( source_->width && source_->rows ) )\n+      return FT_Err_Ok;               \/* nothing to do *\/\n+\n+    \/* assure integer pixel offsets *\/\n+    source_offset.x = FT_PIX_FLOOR( source_offset_.x );\n+    source_offset.y = FT_PIX_FLOOR( source_offset_.y );\n+    target_offset.x = FT_PIX_FLOOR( atarget_offset->x );\n+    target_offset.y = FT_PIX_FLOOR( atarget_offset->y );\n+\n+    \/* get source bitmap dimensions *\/\n+    source_llx = source_offset.x;\n+    if ( FT_LONG_MIN + (FT_Pos)( source_->rows << 6 ) + 64 > source_offset.y )\n+    {\n+      FT_TRACE5((\n+        \"FT_Bitmap_Blend: y coordinate overflow in source bitmap\\n\" ));\n+      return FT_THROW( Invalid_Argument );\n+    }\n+    source_lly = source_offset.y - ( source_->rows << 6 );\n+\n+    if ( FT_LONG_MAX - (FT_Pos)( source_->width << 6 ) - 64 < source_llx )\n+    {\n+      FT_TRACE5((\n+        \"FT_Bitmap_Blend: x coordinate overflow in source bitmap\\n\" ));\n+      return FT_THROW( Invalid_Argument );\n+    }\n+    source_urx = source_llx + ( source_->width << 6 );\n+    source_ury = source_offset.y;\n+\n+    \/* get target bitmap dimensions *\/\n+    if ( target->width && target->rows )\n+    {\n+      target_llx = target_offset.x;\n+      if ( FT_LONG_MIN + (FT_Pos)( target->rows << 6 ) > target_offset.y )\n+      {\n+        FT_TRACE5((\n+          \"FT_Bitmap_Blend: y coordinate overflow in target bitmap\\n\" ));\n+        return FT_THROW( Invalid_Argument );\n+      }\n+      target_lly = target_offset.y - ( target->rows << 6 );\n+\n+      if ( FT_LONG_MAX - (FT_Pos)( target->width << 6 ) < target_llx )\n+      {\n+        FT_TRACE5((\n+          \"FT_Bitmap_Blend: x coordinate overflow in target bitmap\\n\" ));\n+        return FT_THROW( Invalid_Argument );\n+      }\n+      target_urx = target_llx + ( target->width << 6 );\n+      target_ury = target_offset.y;\n+    }\n+    else\n+    {\n+      target_llx = FT_LONG_MAX;\n+      target_lly = FT_LONG_MAX;\n+      target_urx = FT_LONG_MIN;\n+      target_ury = FT_LONG_MIN;\n+    }\n+\n+    \/* compute final bitmap dimensions *\/\n+    final_llx = FT_MIN( source_llx, target_llx );\n+    final_lly = FT_MIN( source_lly, target_lly );\n+    final_urx = FT_MAX( source_urx, target_urx );\n+    final_ury = FT_MAX( source_ury, target_ury );\n+\n+    final_width = ( final_urx - final_llx ) >> 6;\n+    final_rows  = ( final_ury - final_lly ) >> 6;\n+\n+#ifdef FT_DEBUG_LEVEL_TRACE\n+    FT_TRACE5(( \"FT_Bitmap_Blend:\\n\"\n+                \"  source bitmap: (%d, %d) -- (%d, %d); %d x %d\\n\",\n+      source_llx \/ 64, source_lly \/ 64,\n+      source_urx \/ 64, source_ury \/ 64,\n+      source_->width, source_->rows ));\n+\n+    if ( target->width && target->rows )\n+      FT_TRACE5(( \"  target bitmap: (%d, %d) -- (%d, %d); %d x %d\\n\",\n+        target_llx \/ 64, target_lly \/ 64,\n+        target_urx \/ 64, target_ury \/ 64,\n+        target->width, target->rows ));\n+    else\n+      FT_TRACE5(( \"  target bitmap: empty\\n\" ));\n+\n+    FT_TRACE5(( \"  final bitmap: (%d, %d) -- (%d, %d); %d x %d\\n\",\n+      final_llx \/ 64, final_lly \/ 64,\n+      final_urx \/ 64, final_ury \/ 64,\n+      final_width, final_rows ));\n+#endif \/* FT_DEBUG_LEVEL_TRACE *\/\n+\n+    \/* for blending, set offset vector of final bitmap *\/\n+    \/* temporarily to (0,0)                            *\/\n+    source_llx -= final_llx;\n+    source_lly -= final_lly;\n+\n+    if ( target->width && target->rows )\n+    {\n+      target_llx -= final_llx;\n+      target_lly -= final_lly;\n+    }\n+\n+    \/* set up target bitmap *\/\n+    if ( target->pixel_mode == FT_PIXEL_MODE_NONE )\n+    {\n+      \/* create new empty bitmap *\/\n+      target->width      = final_width;\n+      target->rows       = final_rows;\n+      target->pixel_mode = FT_PIXEL_MODE_BGRA;\n+      target->pitch      = (int)final_width * 4;\n+      target->num_grays  = 256;\n+\n+      if ( FT_LONG_MAX \/ target->pitch < (int)target->rows )\n+      {\n+        FT_TRACE5(( \"FT_Blend_Bitmap: target bitmap too large (%d x %d)\\n\",\n+                     final_width, final_rows ));\n+        return FT_THROW( Invalid_Argument );\n+      }\n+\n+      if ( FT_ALLOC( target->buffer, target->pitch * (int)target->rows ) )\n+        return error;\n+\n+      free_target_bitmap_on_error = 1;\n+    }\n+    else if ( target->width != final_width ||\n+              target->rows  != final_rows  )\n+    {\n+      \/* adjust old bitmap to enlarged size *\/\n+      int  pitch, new_pitch;\n+\n+      unsigned char*  buffer = NULL;\n+\n+\n+      pitch = target->pitch;\n+      if ( pitch < 0 )\n+        pitch = -pitch;\n+\n+      new_pitch = (int)final_width * 4;\n+\n+      if ( FT_LONG_MAX \/ new_pitch < (int)final_rows )\n+      {\n+        FT_TRACE5(( \"FT_Blend_Bitmap: target bitmap too large (%d x %d)\\n\",\n+                     final_width, final_rows ));\n+        return FT_THROW( Invalid_Argument );\n+      }\n+\n+      \/* TODO: provide an in-buffer solution for large bitmaps *\/\n+      \/*       to avoid allocation of a new buffer             *\/\n+      if ( FT_ALLOC( buffer, new_pitch * (int)final_rows ) )\n+        goto Error;\n+\n+      \/* copy data to new buffer *\/\n+      x = target_llx >> 6;\n+      y = target_lly >> 6;\n+\n+      \/* the bitmap flow is from top to bottom, *\/\n+      \/* but y is measured from bottom to top   *\/\n+      if ( target->pitch < 0 )\n+      {\n+        \/* XXX *\/\n+      }\n+      else\n+      {\n+        unsigned char*  p =\n+          target->buffer;\n+        unsigned char*  q =\n+          buffer +\n+          ( final_rows - y - target->rows ) * new_pitch +\n+          x * 4;\n+        unsigned char*  limit_p =\n+          p + pitch * (int)target->rows;\n+\n+\n+        while ( p < limit_p )\n+        {\n+          FT_MEM_COPY( q, p, pitch );\n+\n+          p += pitch;\n+          q += new_pitch;\n+        }\n+      }\n+\n+      FT_FREE( target->buffer );\n+\n+      target->width = final_width;\n+      target->rows  = final_rows;\n+\n+      if ( target->pitch < 0 )\n+        target->pitch = -new_pitch;\n+      else\n+        target->pitch = new_pitch;\n+\n+      target->buffer = buffer;\n+    }\n+\n+    \/* adjust source bitmap if necessary *\/\n+    if ( source_->pixel_mode != FT_PIXEL_MODE_GRAY )\n+    {\n+      FT_Bitmap_Init( &source_bitmap );\n+      error = FT_Bitmap_Convert( library, source_, &source_bitmap, 1 );\n+      if ( error )\n+        goto Error;\n+\n+      source             = &source_bitmap;\n+      free_source_bitmap = 1;\n+    }\n+    else\n+      source = source_;\n+\n+    \/* do blending; the code below returns pre-multiplied channels, *\/\n+    \/* similar to what FreeType gets from `CBDT' tables             *\/\n+    x = source_llx >> 6;\n+    y = source_lly >> 6;\n+\n+    \/* the bitmap flow is from top to bottom, *\/\n+    \/* but y is measured from bottom to top   *\/\n+    if ( target->pitch < 0 )\n+    {\n+      \/* XXX *\/\n+    }\n+    else\n+    {\n+      unsigned char*  p =\n+        source->buffer;\n+      unsigned char*  q =\n+        target->buffer +\n+        ( target->rows - y - source->rows ) * target->pitch +\n+        x * 4;\n+      unsigned char*  limit_p =\n+        p + source->pitch * (int)source->rows;\n+\n+\n+      while ( p < limit_p )\n+      {\n+        unsigned char*  r       = p;\n+        unsigned char*  s       = q;\n+        unsigned char*  limit_r = r + source->width;\n+\n+\n+        while ( r < limit_r )\n+        {\n+          int  aa = *r++;\n+          int  fa = color.alpha * aa \/ 255;\n+\n+          int  fb = color.blue * fa \/ 255;\n+          int  fg = color.green * fa \/ 255;\n+          int  fr = color.red * fa \/ 255;\n+\n+          int  ba2 = 255 - fa;\n+\n+          int  bb = s[0];\n+          int  bg = s[1];\n+          int  br = s[2];\n+          int  ba = s[3];\n+\n+\n+          *s++ = (unsigned char)( bb * ba2 \/ 255 + fb );\n+          *s++ = (unsigned char)( bg * ba2 \/ 255 + fg );\n+          *s++ = (unsigned char)( br * ba2 \/ 255 + fr );\n+          *s++ = (unsigned char)( ba * ba2 \/ 255 + fa );\n+        }\n+\n+        p += source->pitch;\n+        q += target->pitch;\n+      }\n+    }\n+\n+    atarget_offset->x = final_llx;\n+    atarget_offset->y = final_lly + ( final_rows << 6 );\n+\n+  Error:\n+    if ( error && free_target_bitmap_on_error )\n+      FT_Bitmap_Done( library, target );\n+\n+    if ( free_source_bitmap )\n+      FT_Bitmap_Done( library, &source_bitmap );\n+\n+    return error;\n+  }\n+\n+\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/base\/ftbitmap.c","additions":358,"deletions":21,"binary":false,"changes":379,"status":"modified"},{"patch":"@@ -1,32 +1,32 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftcalc.c                                                               *\/\n-\/*                                                                         *\/\n-\/*    Arithmetic computations (body).                                      *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Support for 1-complement arithmetic has been totally dropped in this  *\/\n-  \/* release.  You can still write your own code if you need it.           *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Implementing basic computation routines.                              *\/\n-  \/*                                                                       *\/\n-  \/* FT_MulDiv(), FT_MulFix(), FT_DivFix(), FT_RoundFix(), FT_CeilFix(),   *\/\n-  \/* and FT_FloorFix() are declared in freetype.h.                         *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftcalc.c\n+ *\n+ *   Arithmetic computations (body).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+  \/**************************************************************************\n+   *\n+   * Support for 1-complement arithmetic has been totally dropped in this\n+   * release.  You can still write your own code if you need it.\n+   *\n+   *\/\n+\n+  \/**************************************************************************\n+   *\n+   * Implementing basic computation routines.\n+   *\n+   * FT_MulDiv(), FT_MulFix(), FT_DivFix(), FT_RoundFix(), FT_CeilFix(),\n+   * and FT_FloorFix() are declared in freetype.h.\n+   *\n+   *\/\n@@ -61,6 +61,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -68,1 +68,1 @@\n-#define FT_COMPONENT  trace_calc\n+#define FT_COMPONENT  calc\n@@ -519,1 +519,1 @@\n-     *  This code is nonportable.  See comment below.\n+     * This code is nonportable.  See comment below.\n@@ -521,2 +521,2 @@\n-     *  However, on a platform where right-shift of a signed quantity fills\n-     *  the leftmost bits by copying the sign bit, it might be faster.\n+     * However, on a platform where right-shift of a signed quantity fills\n+     * the leftmost bits by copying the sign bit, it might be faster.\n@@ -530,4 +530,4 @@\n-     *  This is a clever way of converting a signed number `a' into its\n-     *  absolute value (stored back into `a') and its sign.  The sign is\n-     *  stored in `sa'; 0 means `a' was positive or zero, and -1 means `a'\n-     *  was negative.  (Similarly for `b' and `sb').\n+     * This is a clever way of converting a signed number `a' into its\n+     * absolute value (stored back into `a') and its sign.  The sign is\n+     * stored in `sa'; 0 means `a' was positive or zero, and -1 means `a'\n+     * was negative.  (Similarly for `b' and `sb').\n@@ -535,1 +535,1 @@\n-     *  Unfortunately, it doesn't work (at least not portably).\n+     * Unfortunately, it doesn't work (at least not portably).\n@@ -537,9 +537,9 @@\n-     *  It makes the assumption that right-shift on a negative signed value\n-     *  fills the leftmost bits by copying the sign bit.  This is wrong.\n-     *  According to K&R 2nd ed, section `A7.8 Shift Operators' on page 206,\n-     *  the result of right-shift of a negative signed value is\n-     *  implementation-defined.  At least one implementation fills the\n-     *  leftmost bits with 0s (i.e., it is exactly the same as an unsigned\n-     *  right shift).  This means that when `a' is negative, `sa' ends up\n-     *  with the value 1 rather than -1.  After that, everything else goes\n-     *  wrong.\n+     * It makes the assumption that right-shift on a negative signed value\n+     * fills the leftmost bits by copying the sign bit.  This is wrong.\n+     * According to K&R 2nd ed, section `A7.8 Shift Operators' on page 206,\n+     * the result of right-shift of a negative signed value is\n+     * implementation-defined.  At least one implementation fills the\n+     * leftmost bits with 0s (i.e., it is exactly the same as an unsigned\n+     * right shift).  This means that when `a' is negative, `sa' ends up\n+     * with the value 1 rather than -1.  After that, everything else goes\n+     * wrong.\n@@ -704,2 +704,2 @@\n-    matrix->xy = - FT_DivFix( matrix->xy, delta );\n-    matrix->yx = - FT_DivFix( matrix->yx, delta );\n+    matrix->xy = -FT_DivFix( matrix->xy, delta );\n+    matrix->yx = -FT_DivFix( matrix->yx, delta );\n@@ -748,0 +748,70 @@\n+  \/* documentation is in ftcalc.h *\/\n+\n+  FT_BASE_DEF( FT_Bool )\n+  FT_Matrix_Check( const FT_Matrix*  matrix )\n+  {\n+    FT_Matrix  m;\n+    FT_Fixed   val[4];\n+    FT_Fixed   nonzero_minval, maxval;\n+    FT_Fixed   temp1, temp2;\n+    FT_UInt    i;\n+\n+\n+    if ( !matrix )\n+      return 0;\n+\n+    val[0] = FT_ABS( matrix->xx );\n+    val[1] = FT_ABS( matrix->xy );\n+    val[2] = FT_ABS( matrix->yx );\n+    val[3] = FT_ABS( matrix->yy );\n+\n+    \/*\n+     * To avoid overflow, we ensure that each value is not larger than\n+     *\n+     *   int(sqrt(2^31 \/ 4)) = 23170  ;\n+     *\n+     * we also check that no value becomes zero if we have to scale.\n+     *\/\n+\n+    maxval         = 0;\n+    nonzero_minval = FT_LONG_MAX;\n+\n+    for ( i = 0; i < 4; i++ )\n+    {\n+      if ( val[i] > maxval )\n+        maxval = val[i];\n+      if ( val[i] && val[i] < nonzero_minval )\n+        nonzero_minval = val[i];\n+    }\n+\n+    \/* we only handle 32bit values *\/\n+    if ( maxval > 0x7FFFFFFFL )\n+      return 0;\n+\n+    if ( maxval > 23170 )\n+    {\n+      FT_Fixed  scale = FT_DivFix( maxval, 23170 );\n+\n+\n+      if ( !FT_DivFix( nonzero_minval, scale ) )\n+        return 0;    \/* value range too large *\/\n+\n+      m.xx = FT_DivFix( matrix->xx, scale );\n+      m.xy = FT_DivFix( matrix->xy, scale );\n+      m.yx = FT_DivFix( matrix->yx, scale );\n+      m.yy = FT_DivFix( matrix->yy, scale );\n+    }\n+    else\n+      m = *matrix;\n+\n+    temp1 = FT_ABS( m.xx * m.yy - m.xy * m.yx );\n+    temp2 = m.xx * m.xx + m.xy * m.xy + m.yx * m.yx + m.yy * m.yy;\n+\n+    if ( temp1 == 0         ||\n+         temp2 \/ temp1 > 50 )\n+      return 0;\n+\n+    return 1;\n+  }\n+\n+\n@@ -916,0 +986,3 @@\n+    \/* we silently ignore overflow errors since such large values *\/\n+    \/* lead to even more (harmless) rendering errors later on     *\/\n+\n@@ -918,1 +991,2 @@\n-    FT_Int64  delta = (FT_Int64)in_x * out_y - (FT_Int64)in_y * out_x;\n+    FT_Int64  delta = SUB_INT64( MUL_INT64( in_x, out_y ),\n+                                 MUL_INT64( in_y, out_x ) );\n@@ -928,2 +1002,0 @@\n-    \/* we silently ignore overflow errors, since such large values *\/\n-    \/* lead to even more (harmless) rendering errors later on      *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/base\/ftcalc.c","additions":133,"deletions":61,"binary":false,"changes":194,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftcid.c                                                                *\/\n-\/*                                                                         *\/\n-\/*    FreeType API for accessing CID font information.                     *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2007-2018 by                                                 *\/\n-\/*  Derek Clegg and Michael Toftdal.                                       *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftcid.c\n+ *\n+ *   FreeType API for accessing CID font information.\n+ *\n+ * Copyright (C) 2007-2019 by\n+ * Derek Clegg and Michael Toftdal.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/base\/ftcid.c","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftdbgmem.c                                                             *\/\n-\/*                                                                         *\/\n-\/*    Memory debugger (body).                                              *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2001-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftdbgmem.c\n+ *\n+ *   Memory debugger (body).\n+ *\n+ * Copyright (C) 2001-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -53,3 +53,3 @@\n-   *  This structure holds statistics for a single allocation\/release\n-   *  site.  This is useful to know where memory operations happen the\n-   *  most.\n+   * This structure holds statistics for a single allocation\/release\n+   * site.  This is useful to know where memory operations happen the\n+   * most.\n@@ -79,2 +79,2 @@\n-   *  We don't need a resizable array for the memory sources because\n-   *  their number is pretty limited within FreeType.\n+   * We don't need a resizable array for the memory sources because\n+   * their number is pretty limited within FreeType.\n@@ -85,5 +85,5 @@\n-   *  This structure holds information related to a single allocated\n-   *  memory block.  If KEEPALIVE is defined, blocks that are freed by\n-   *  FreeType are never released to the system.  Instead, their `size'\n-   *  field is set to `-size'.  This is mainly useful to detect double\n-   *  frees, at the price of a large memory footprint during execution.\n+   * This structure holds information related to a single allocated\n+   * memory block.  If KEEPALIVE is defined, blocks that are freed by\n+   * FreeType are never released to the system.  Instead, their `size'\n+   * field is set to `-size'.  This is mainly useful to detect double\n+   * frees, at the price of a large memory footprint during execution.\n@@ -109,2 +109,2 @@\n-   *  The global structure, containing compound statistics and all hash\n-   *  tables.\n+   * The global structure, containing compound statistics and all hash\n+   * tables.\n@@ -149,2 +149,2 @@\n-   *  Prime numbers are ugly to handle.  It would be better to implement\n-   *  L-Hashing, which is 10% faster and doesn't require divisions.\n+   * Prime numbers are ugly to handle.  It would be better to implement\n+   * L-Hashing, which is 10% faster and doesn't require divisions.\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/base\/ftdbgmem.c","additions":30,"deletions":30,"binary":false,"changes":60,"status":"modified"},{"patch":"@@ -1,41 +1,41 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftdebug.c                                                              *\/\n-\/*                                                                         *\/\n-\/*    Debugging and logging component (body).                              *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* This component contains various macros and functions used to ease the *\/\n-  \/* debugging of the FreeType engine.  Its main purpose is in assertion   *\/\n-  \/* checking, tracing, and error detection.                               *\/\n-  \/*                                                                       *\/\n-  \/* There are now three debugging modes:                                  *\/\n-  \/*                                                                       *\/\n-  \/* - trace mode                                                          *\/\n-  \/*                                                                       *\/\n-  \/*   Error and trace messages are sent to the log file (which can be the *\/\n-  \/*   standard error output).                                             *\/\n-  \/*                                                                       *\/\n-  \/* - error mode                                                          *\/\n-  \/*                                                                       *\/\n-  \/*   Only error messages are generated.                                  *\/\n-  \/*                                                                       *\/\n-  \/* - release mode:                                                       *\/\n-  \/*                                                                       *\/\n-  \/*   No error message is sent or generated.  The code is free from any   *\/\n-  \/*   debugging parts.                                                    *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftdebug.c\n+ *\n+ *   Debugging and logging component (body).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * This component contains various macros and functions used to ease the\n+   * debugging of the FreeType engine.  Its main purpose is in assertion\n+   * checking, tracing, and error detection.\n+   *\n+   * There are now three debugging modes:\n+   *\n+   * - trace mode\n+   *\n+   *   Error and trace messages are sent to the log file (which can be the\n+   *   standard error output).\n+   *\n+   * - error mode\n+   *\n+   *   Only error messages are generated.\n+   *\n+   * - release mode:\n+   *\n+   *   No error message is sent or generated.  The code is free from any\n+   *   debugging parts.\n+   *\n+   *\/\n@@ -90,0 +90,9 @@\n+#if 0\n+    \/* activating the code in this block makes FreeType very chatty *\/\n+    fprintf( stderr,\n+             \"%s:%d: error 0x%02x: %s\\n\",\n+             file,\n+             line,\n+             error,\n+             FT_Error_String( error ) );\n+#else\n@@ -93,0 +102,1 @@\n+#endif\n@@ -103,2 +113,3 @@\n-  \/* array of trace levels, initialized to 0 *\/\n-  int  ft_trace_levels[trace_count];\n+  \/* array of trace levels, initialized to 0; *\/\n+  \/* this gets adjusted at run-time           *\/\n+  static int  ft_trace_levels_enabled[trace_count];\n@@ -106,0 +117,6 @@\n+  \/* array of trace levels, always initialized to 0 *\/\n+  static int  ft_trace_levels_disabled[trace_count];\n+\n+  \/* a pointer to either `ft_trace_levels_enabled' *\/\n+  \/* or `ft_trace_levels_disabled'                 *\/\n+  int*  ft_trace_levels;\n@@ -143,18 +160,36 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Initialize the tracing sub-system.  This is done by retrieving the    *\/\n-  \/* value of the `FT2_DEBUG' environment variable.  It must be a list of  *\/\n-  \/* toggles, separated by spaces, `;', or `,'.  Example:                  *\/\n-  \/*                                                                       *\/\n-  \/*    export FT2_DEBUG=\"any:3 memory:7 stream:5\"                         *\/\n-  \/*                                                                       *\/\n-  \/* This requests that all levels be set to 3, except the trace level for *\/\n-  \/* the memory and stream components which are set to 7 and 5,            *\/\n-  \/* respectively.                                                         *\/\n-  \/*                                                                       *\/\n-  \/* See the file `include\/freetype\/internal\/fttrace.h' for details of     *\/\n-  \/* the available toggle names.                                           *\/\n-  \/*                                                                       *\/\n-  \/* The level must be between 0 and 7; 0 means quiet (except for serious  *\/\n-  \/* runtime errors), and 7 means _very_ verbose.                          *\/\n-  \/*                                                                       *\/\n+  \/* documentation is in ftdebug.h *\/\n+\n+  FT_BASE_DEF( void )\n+  FT_Trace_Disable( void )\n+  {\n+    ft_trace_levels = ft_trace_levels_disabled;\n+  }\n+\n+\n+  \/* documentation is in ftdebug.h *\/\n+\n+  FT_BASE_DEF( void )\n+  FT_Trace_Enable( void )\n+  {\n+    ft_trace_levels = ft_trace_levels_enabled;\n+  }\n+\n+\n+  \/**************************************************************************\n+   *\n+   * Initialize the tracing sub-system.  This is done by retrieving the\n+   * value of the `FT2_DEBUG' environment variable.  It must be a list of\n+   * toggles, separated by spaces, `;', or `,'.  Example:\n+   *\n+   *   export FT2_DEBUG=\"any:3 memory:7 stream:5\"\n+   *\n+   * This requests that all levels be set to 3, except the trace level for\n+   * the memory and stream components which are set to 7 and 5,\n+   * respectively.\n+   *\n+   * See the file `include\/freetype\/internal\/fttrace.h' for details of\n+   * the available toggle names.\n+   *\n+   * The level must be between 0 and 7; 0 means quiet (except for serious\n+   * runtime errors), and 7 means _very_ verbose.\n+   *\/\n@@ -226,1 +261,1 @@\n-                ft_trace_levels[n] = level;\n+                ft_trace_levels_enabled[n] = level;\n@@ -229,1 +264,1 @@\n-              ft_trace_levels[found] = level;\n+              ft_trace_levels_enabled[found] = level;\n@@ -234,0 +269,2 @@\n+\n+    ft_trace_levels = ft_trace_levels_enabled;\n@@ -263,0 +300,16 @@\n+  FT_BASE_DEF( void )\n+  FT_Trace_Disable( void )\n+  {\n+    \/* nothing *\/\n+  }\n+\n+\n+  \/* documentation is in ftdebug.h *\/\n+\n+  FT_BASE_DEF( void )\n+  FT_Trace_Enable( void )\n+  {\n+    \/* nothing *\/\n+  }\n+\n+\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/base\/ftdebug.c","additions":116,"deletions":63,"binary":false,"changes":179,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftfntfmt.c                                                             *\/\n-\/*                                                                         *\/\n-\/*    FreeType utility file for font formats (body).                       *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2002-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftfntfmt.c\n+ *\n+ *   FreeType utility file for font formats (body).\n+ *\n+ * Copyright (C) 2002-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/base\/ftfntfmt.c","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftfstype.c                                                             *\/\n-\/*                                                                         *\/\n-\/*    FreeType utility file to access FSType data (body).                  *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2008-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftfstype.c\n+ *\n+ *   FreeType utility file to access FSType data (body).\n+ *\n+ * Copyright (C) 2008-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/base\/ftfstype.c","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftgasp.c                                                               *\/\n-\/*                                                                         *\/\n-\/*    Access of TrueType's `gasp' table (body).                            *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2007-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftgasp.c\n+ *\n+ *   Access of TrueType's `gasp' table (body).\n+ *\n+ * Copyright (C) 2007-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/base\/ftgasp.c","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftgloadr.c                                                             *\/\n-\/*                                                                         *\/\n-\/*    The FreeType glyph loader (body).                                    *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2002-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg                       *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftgloadr.c\n+ *\n+ *   The FreeType glyph loader (body).\n+ *\n+ * Copyright (C) 2002-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -26,1 +26,1 @@\n-#define FT_COMPONENT  trace_gloader\n+#define FT_COMPONENT  gloader\n@@ -41,25 +41,25 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The glyph loader is a simple object which is used to load a set of    *\/\n-  \/* glyphs easily.  It is critical for the correct loading of composites. *\/\n-  \/*                                                                       *\/\n-  \/* Ideally, one can see it as a stack of abstract `glyph' objects.       *\/\n-  \/*                                                                       *\/\n-  \/*   loader.base     Is really the bottom of the stack.  It describes a  *\/\n-  \/*                   single glyph image made of the juxtaposition of     *\/\n-  \/*                   several glyphs (those `in the stack').              *\/\n-  \/*                                                                       *\/\n-  \/*   loader.current  Describes the top of the stack, on which a new      *\/\n-  \/*                   glyph can be loaded.                                *\/\n-  \/*                                                                       *\/\n-  \/*   Rewind          Clears the stack.                                   *\/\n-  \/*   Prepare         Set up `loader.current' for addition of a new glyph *\/\n-  \/*                   image.                                              *\/\n-  \/*   Add             Add the `current' glyph image to the `base' one,    *\/\n-  \/*                   and prepare for another one.                        *\/\n-  \/*                                                                       *\/\n-  \/* The glyph loader is now a base object.  Each driver used to           *\/\n-  \/* re-implement it in one way or the other, which wasted code and        *\/\n-  \/* energy.                                                               *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * The glyph loader is a simple object which is used to load a set of\n+   * glyphs easily.  It is critical for the correct loading of composites.\n+   *\n+   * Ideally, one can see it as a stack of abstract `glyph' objects.\n+   *\n+   *   loader.base     Is really the bottom of the stack.  It describes a\n+   *                   single glyph image made of the juxtaposition of\n+   *                   several glyphs (those `in the stack').\n+   *\n+   *   loader.current  Describes the top of the stack, on which a new\n+   *                   glyph can be loaded.\n+   *\n+   *   Rewind          Clears the stack.\n+   *   Prepare         Set up `loader.current' for addition of a new glyph\n+   *                   image.\n+   *   Add             Add the `current' glyph image to the `base' one,\n+   *                   and prepare for another one.\n+   *\n+   * The glyph loader is now a base object.  Each driver used to\n+   * re-implement it in one way or the other, which wasted code and\n+   * energy.\n+   *\n+   *\/\n@@ -102,2 +102,2 @@\n-  \/* reset the glyph loader, frees all allocated tables *\/\n-  \/* and starts from zero                               *\/\n+  \/* reset glyph loader, free all allocated tables, *\/\n+  \/* and start from zero                            *\/\n@@ -107,1 +107,1 @@\n-    FT_Memory memory = loader->memory;\n+    FT_Memory  memory = loader->memory;\n@@ -132,1 +132,1 @@\n-      FT_Memory memory = loader->memory;\n+      FT_Memory  memory = loader->memory;\n@@ -364,42 +364,0 @@\n-  FT_BASE_DEF( FT_Error )\n-  FT_GlyphLoader_CopyPoints( FT_GlyphLoader  target,\n-                             FT_GlyphLoader  source )\n-  {\n-    FT_Error  error;\n-    FT_UInt   num_points   = (FT_UInt)source->base.outline.n_points;\n-    FT_UInt   num_contours = (FT_UInt)source->base.outline.n_contours;\n-\n-\n-    error = FT_GlyphLoader_CheckPoints( target, num_points, num_contours );\n-    if ( !error )\n-    {\n-      FT_Outline*  out = &target->base.outline;\n-      FT_Outline*  in  = &source->base.outline;\n-\n-\n-      FT_ARRAY_COPY( out->points, in->points,\n-                     num_points );\n-      FT_ARRAY_COPY( out->tags, in->tags,\n-                     num_points );\n-      FT_ARRAY_COPY( out->contours, in->contours,\n-                     num_contours );\n-\n-      \/* do we need to copy the extra points? *\/\n-      if ( target->use_extra && source->use_extra )\n-      {\n-        FT_ARRAY_COPY( target->base.extra_points, source->base.extra_points,\n-                       num_points );\n-        FT_ARRAY_COPY( target->base.extra_points2, source->base.extra_points2,\n-                       num_points );\n-      }\n-\n-      out->n_points   = (short)num_points;\n-      out->n_contours = (short)num_contours;\n-\n-      FT_GlyphLoader_Adjust_Points( target );\n-    }\n-\n-    return error;\n-  }\n-\n-\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/base\/ftgloadr.c","additions":46,"deletions":88,"binary":false,"changes":134,"status":"modified"},{"patch":"@@ -1,28 +1,28 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftglyph.c                                                              *\/\n-\/*                                                                         *\/\n-\/*    FreeType convenience functions to handle glyphs (body).              *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*  This file contains the definition of several convenience functions   *\/\n-  \/*  that can be used by client applications to easily retrieve glyph     *\/\n-  \/*  bitmaps and outlines from a given face.                              *\/\n-  \/*                                                                       *\/\n-  \/*  These functions should be optional if you are writing a font server  *\/\n-  \/*  or text layout engine on top of FreeType.  However, they are pretty  *\/\n-  \/*  handy for many other simple uses of the library.                     *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftglyph.c\n+ *\n+ *   FreeType convenience functions to handle glyphs (body).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+  \/**************************************************************************\n+   *\n+   * This file contains the definition of several convenience functions\n+   * that can be used by client applications to easily retrieve glyph\n+   * bitmaps and outlines from a given face.\n+   *\n+   * These functions should be optional if you are writing a font server\n+   * or text layout engine on top of FreeType.  However, they are pretty\n+   * handy for many other simple uses of the library.\n+   *\n+   *\/\n@@ -39,1 +39,0 @@\n-#include \"basepic.h\"\n@@ -41,6 +40,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -48,1 +47,1 @@\n-#define FT_COMPONENT  trace_glyph\n+#define FT_COMPONENT  glyph\n@@ -80,1 +79,1 @@\n-      glyph->bitmap = slot->bitmap;\n+      glyph->bitmap          = slot->bitmap;\n@@ -362,3 +361,4 @@\n-  FT_EXPORT_DEF( FT_Error )\n-  FT_Get_Glyph( FT_GlyphSlot  slot,\n-                FT_Glyph     *aglyph )\n+  FT_EXPORT( FT_Error )\n+  FT_New_Glyph( FT_Library       library,\n+                FT_Glyph_Format  format,\n+                FT_Glyph        *aglyph )\n@@ -366,4 +366,0 @@\n-    FT_Library  library;\n-    FT_Error    error;\n-    FT_Glyph    glyph;\n-\n@@ -372,7 +368,1 @@\n-\n-    if ( !slot )\n-      return FT_THROW( Invalid_Slot_Handle );\n-\n-    library = slot->library;\n-\n-    if ( !aglyph )\n+    if ( !library || !aglyph )\n@@ -382,2 +372,2 @@\n-    if ( slot->format == FT_GLYPH_FORMAT_BITMAP )\n-      clazz = FT_BITMAP_GLYPH_CLASS_GET;\n+    if ( format == FT_GLYPH_FORMAT_BITMAP )\n+      clazz = &ft_bitmap_glyph_class;\n@@ -386,2 +376,2 @@\n-    else if ( slot->format == FT_GLYPH_FORMAT_OUTLINE )\n-      clazz = FT_OUTLINE_GLYPH_CLASS_GET;\n+    else if ( format == FT_GLYPH_FORMAT_OUTLINE )\n+      clazz = &ft_outline_glyph_class;\n@@ -392,1 +382,1 @@\n-      FT_Renderer  render = FT_Lookup_Renderer( library, slot->format, 0 );\n+      FT_Renderer  render = FT_Lookup_Renderer( library, format, 0 );\n@@ -400,4 +390,22 @@\n-    {\n-      error = FT_THROW( Invalid_Glyph_Format );\n-      goto Exit;\n-    }\n+      return FT_THROW( Invalid_Glyph_Format );\n+\n+    \/* create FT_Glyph object *\/\n+    return ft_new_glyph( library, clazz, aglyph );\n+  }\n+\n+\n+  \/* documentation is in ftglyph.h *\/\n+\n+  FT_EXPORT_DEF( FT_Error )\n+  FT_Get_Glyph( FT_GlyphSlot  slot,\n+                FT_Glyph     *aglyph )\n+  {\n+    FT_Error  error;\n+    FT_Glyph  glyph;\n+\n+\n+    if ( !slot )\n+      return FT_THROW( Invalid_Slot_Handle );\n+\n+    if ( !aglyph )\n+      return FT_THROW( Invalid_Argument );\n@@ -406,1 +414,1 @@\n-    error = ft_new_glyph( library, clazz, &glyph );\n+    error = FT_New_Glyph( slot->library, slot->format, &glyph );\n@@ -430,1 +438,1 @@\n-    error = clazz->glyph_init( glyph, slot );\n+    error = glyph->clazz->glyph_init( glyph, slot );\n@@ -508,2 +516,2 @@\n-      acbox->xMax = FT_PIX_CEIL( acbox->xMax );\n-      acbox->yMax = FT_PIX_CEIL( acbox->yMax );\n+      acbox->xMax = FT_PIX_CEIL_LONG( acbox->xMax );\n+      acbox->yMax = FT_PIX_CEIL_LONG( acbox->yMax );\n@@ -539,1 +547,0 @@\n-    \/* FT_BITMAP_GLYPH_CLASS_GET dereferences `library' in PIC mode *\/\n@@ -556,1 +563,1 @@\n-    if ( clazz == FT_BITMAP_GLYPH_CLASS_GET )\n+    if ( clazz == &ft_bitmap_glyph_class )\n@@ -572,1 +579,1 @@\n-    error = ft_new_glyph( library, FT_BITMAP_GLYPH_CLASS_GET, &b );\n+    error = ft_new_glyph( library, &ft_bitmap_glyph_class, &b );\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/base\/ftglyph.c","additions":74,"deletions":67,"binary":false,"changes":141,"status":"modified"},{"patch":"@@ -1,7 +1,7 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  fthash.c                                                               *\/\n-\/*                                                                         *\/\n-\/*    Hashing functions (body).                                            *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * fthash.c\n+ *\n+ *   Hashing functions (body).\n+ *\n+ *\/\n@@ -33,7 +33,7 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*  This file is based on code from bdf.c,v 1.22 2000\/03\/16 20:08:50     *\/\n-  \/*                                                                       *\/\n-  \/*  taken from Mark Leisher's xmbdfed package                            *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * This file is based on code from bdf.c,v 1.22 2000\/03\/16 20:08:50\n+   *\n+   * taken from Mark Leisher's xmbdfed package\n+   *\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/base\/fthash.c","additions":14,"deletions":14,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -1,37 +1,37 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftinit.c                                                               *\/\n-\/*                                                                         *\/\n-\/*    FreeType initialization layer (body).                                *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*  The purpose of this file is to implement the following two           *\/\n-  \/*  functions:                                                           *\/\n-  \/*                                                                       *\/\n-  \/*  FT_Add_Default_Modules():                                            *\/\n-  \/*     This function is used to add the set of default modules to a      *\/\n-  \/*     fresh new library object.  The set is taken from the header file  *\/\n-  \/*     `freetype\/config\/ftmodule.h'.  See the document `FreeType 2.0     *\/\n-  \/*     Build System' for more information.                               *\/\n-  \/*                                                                       *\/\n-  \/*  FT_Init_FreeType():                                                  *\/\n-  \/*     This function creates a system object for the current platform,   *\/\n-  \/*     builds a library out of it, then calls FT_Default_Drivers().      *\/\n-  \/*                                                                       *\/\n-  \/*  Note that even if FT_Init_FreeType() uses the implementation of the  *\/\n-  \/*  system object defined at build time, client applications are still   *\/\n-  \/*  able to provide their own `ftsystem.c'.                              *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftinit.c\n+ *\n+ *   FreeType initialization layer (body).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+  \/**************************************************************************\n+   *\n+   * The purpose of this file is to implement the following two\n+   * functions:\n+   *\n+   * FT_Add_Default_Modules():\n+   *   This function is used to add the set of default modules to a\n+   *   fresh new library object.  The set is taken from the header file\n+   *   `freetype\/config\/ftmodule.h'.  See the document `FreeType 2.0\n+   *   Build System' for more information.\n+   *\n+   * FT_Init_FreeType():\n+   *   This function creates a system object for the current platform,\n+   *   builds a library out of it, then calls FT_Default_Drivers().\n+   *\n+   * Note that even if FT_Init_FreeType() uses the implementation of the\n+   * system object defined at build time, client applications are still\n+   * able to provide their own `ftsystem.c'.\n+   *\n+   *\/\n@@ -45,1 +45,0 @@\n-#include \"basepic.h\"\n@@ -48,6 +47,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -55,4 +54,1 @@\n-#define FT_COMPONENT  trace_init\n-\n-\n-#ifndef FT_CONFIG_OPTION_PIC\n+#define FT_COMPONENT  init\n@@ -81,114 +77,0 @@\n-#else \/* FT_CONFIG_OPTION_PIC *\/\n-\n-\n-#ifdef __cplusplus\n-#define FT_EXTERNC  extern \"C\"\n-#else\n-#define FT_EXTERNC  extern\n-#endif\n-\n-  \/* declare the module's class creation\/destruction functions *\/\n-#undef  FT_USE_MODULE\n-#define FT_USE_MODULE( type, x )                            \\\n-  FT_EXTERNC FT_Error                                       \\\n-  FT_Create_Class_ ## x( FT_Library         library,        \\\n-                         FT_Module_Class*  *output_class ); \\\n-  FT_EXTERNC void                                           \\\n-  FT_Destroy_Class_ ## x( FT_Library        library,        \\\n-                          FT_Module_Class*  clazz );\n-\n-#include FT_CONFIG_MODULES_H\n-\n-  \/* count all module classes *\/\n-#undef  FT_USE_MODULE\n-#define FT_USE_MODULE( type, x )  MODULE_CLASS_ ## x,\n-\n-  enum\n-  {\n-#include FT_CONFIG_MODULES_H\n-    FT_NUM_MODULE_CLASSES\n-  };\n-\n-  \/* destroy all module classes *\/\n-#undef  FT_USE_MODULE\n-#define FT_USE_MODULE( type, x )                   \\\n-  if ( classes[i] )                                \\\n-  {                                                \\\n-    FT_Destroy_Class_ ## x( library, classes[i] ); \\\n-  }                                                \\\n-  i++;\n-\n-\n-  FT_BASE_DEF( void )\n-  ft_destroy_default_module_classes( FT_Library  library )\n-  {\n-    FT_Module_Class*  *classes;\n-    FT_Memory          memory;\n-    FT_UInt            i;\n-    BasePIC*           pic_container = (BasePIC*)library->pic_container.base;\n-\n-\n-    if ( !pic_container->default_module_classes )\n-      return;\n-\n-    memory  = library->memory;\n-    classes = pic_container->default_module_classes;\n-    i       = 0;\n-\n-#include FT_CONFIG_MODULES_H\n-\n-    FT_FREE( classes );\n-    pic_container->default_module_classes = NULL;\n-  }\n-\n-\n-  \/* initialize all module classes and the pointer table *\/\n-#undef  FT_USE_MODULE\n-#define FT_USE_MODULE( type, x )                     \\\n-  error = FT_Create_Class_ ## x( library, &clazz );  \\\n-  if ( error )                                       \\\n-    goto Exit;                                       \\\n-  classes[i++] = clazz;\n-\n-\n-  FT_BASE_DEF( FT_Error )\n-  ft_create_default_module_classes( FT_Library  library )\n-  {\n-    FT_Error           error;\n-    FT_Memory          memory;\n-    FT_Module_Class*  *classes = NULL;\n-    FT_Module_Class*   clazz;\n-    FT_UInt            i;\n-    BasePIC*           pic_container = (BasePIC*)library->pic_container.base;\n-\n-\n-    memory = library->memory;\n-\n-    pic_container->default_module_classes = NULL;\n-\n-    if ( FT_ALLOC( classes, sizeof ( FT_Module_Class* ) *\n-                              ( FT_NUM_MODULE_CLASSES + 1 ) ) )\n-      return error;\n-\n-    \/* initialize all pointers to 0, especially the last one *\/\n-    for ( i = 0; i < FT_NUM_MODULE_CLASSES; i++ )\n-      classes[i] = NULL;\n-    classes[FT_NUM_MODULE_CLASSES] = NULL;\n-\n-    i = 0;\n-\n-#include FT_CONFIG_MODULES_H\n-\n-  Exit:\n-    if ( error )\n-      ft_destroy_default_module_classes( library );\n-    else\n-      pic_container->default_module_classes = classes;\n-\n-    return error;\n-  }\n-\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n-\n@@ -204,6 +86,0 @@\n-    \/* FT_DEFAULT_MODULES_GET dereferences `library' in PIC mode *\/\n-#ifdef FT_CONFIG_OPTION_PIC\n-    if ( !library )\n-      return;\n-#endif\n-\n@@ -213,1 +89,1 @@\n-    cur = (const FT_Module_Class* const*)FT_DEFAULT_MODULES_GET;\n+    cur = (const FT_Module_Class* const*)ft_default_modules;\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/base\/ftinit.c","additions":45,"deletions":169,"binary":false,"changes":214,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftlcdfil.c                                                             *\/\n-\/*                                                                         *\/\n-\/*    FreeType API for color filtering of subpixel bitmap glyphs (body).   *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2006-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftlcdfil.c\n+ *\n+ *   FreeType API for color filtering of subpixel bitmap glyphs (body).\n+ *\n+ * Copyright (C) 2006-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -37,3 +37,3 @@\n-  ft_lcd_padding( FT_Pos*       Min,\n-                  FT_Pos*       Max,\n-                  FT_GlyphSlot  slot )\n+  ft_lcd_padding( FT_BBox*        cbox,\n+                  FT_GlyphSlot    slot,\n+                  FT_Render_Mode  mode )\n@@ -59,4 +59,14 @@\n-      *Min -= lcd_weights[0] ? 43 :\n-              lcd_weights[1] ? 22 : 0;\n-      *Max += lcd_weights[4] ? 43 :\n-              lcd_weights[3] ? 22 : 0;\n+      if ( mode == FT_RENDER_MODE_LCD )\n+      {\n+        cbox->xMin -= lcd_weights[0] ? 43 :\n+                      lcd_weights[1] ? 22 : 0;\n+        cbox->xMax += lcd_weights[4] ? 43 :\n+                      lcd_weights[3] ? 22 : 0;\n+      }\n+      else if ( mode == FT_RENDER_MODE_LCD_V )\n+      {\n+        cbox->yMin -= lcd_weights[0] ? 43 :\n+                      lcd_weights[1] ? 22 : 0;\n+        cbox->yMax += lcd_weights[4] ? 43 :\n+                      lcd_weights[3] ? 22 : 0;\n+      }\n@@ -80,1 +90,1 @@\n-    if ( pitch > 0 )\n+    if ( pitch > 0 && height > 0 )\n@@ -195,1 +205,1 @@\n-    if ( pitch > 0 )\n+    if ( pitch > 0 && height > 0 )\n@@ -278,0 +288,2 @@\n+  \/* documentation in ftlcdfil.h *\/\n+\n@@ -295,0 +307,2 @@\n+  \/* documentation in ftlcdfil.h *\/\n+\n@@ -344,0 +358,11 @@\n+\n+  FT_EXPORT_DEF( FT_Error )\n+  FT_Library_SetLcdGeometry( FT_Library  library,\n+                             FT_Vector*  sub )\n+  {\n+    FT_UNUSED( library );\n+    FT_UNUSED( sub );\n+\n+    return FT_THROW( Unimplemented_Feature );\n+  }\n+\n@@ -346,1 +371,1 @@\n-  \/* add padding according to accommodate outline shifts *\/\n+  \/* add padding to accommodate outline shifts *\/\n@@ -348,3 +373,3 @@\n-  ft_lcd_padding( FT_Pos*       Min,\n-                  FT_Pos*       Max,\n-                  FT_GlyphSlot  slot )\n+  ft_lcd_padding( FT_BBox*        cbox,\n+                  FT_GlyphSlot    slot,\n+                  FT_Render_Mode  mode )\n@@ -352,1 +377,1 @@\n-    FT_UNUSED( slot );\n+    FT_Vector*  sub = slot->library->lcd_geometry;\n@@ -354,2 +379,14 @@\n-    *Min -= 21;\n-    *Max += 21;\n+    if ( mode == FT_RENDER_MODE_LCD )\n+    {\n+      cbox->xMin -= FT_MAX( FT_MAX( sub[0].x, sub[1].x ), sub[2].x );\n+      cbox->xMax -= FT_MIN( FT_MIN( sub[0].x, sub[1].x ), sub[2].x );\n+      cbox->yMin -= FT_MAX( FT_MAX( sub[0].y, sub[1].y ), sub[2].y );\n+      cbox->yMax -= FT_MIN( FT_MIN( sub[0].y, sub[1].y ), sub[2].y );\n+    }\n+    else if ( mode == FT_RENDER_MODE_LCD_V )\n+    {\n+      cbox->xMin -= FT_MAX( FT_MAX( sub[0].y, sub[1].y ), sub[2].y );\n+      cbox->xMax -= FT_MIN( FT_MIN( sub[0].y, sub[1].y ), sub[2].y );\n+      cbox->yMin += FT_MIN( FT_MIN( sub[0].x, sub[1].x ), sub[2].x );\n+      cbox->yMax += FT_MAX( FT_MAX( sub[0].x, sub[1].x ), sub[2].x );\n+    }\n@@ -380,0 +417,18 @@\n+\n+  \/* documentation in ftlcdfil.h *\/\n+\n+  FT_EXPORT_DEF( FT_Error )\n+  FT_Library_SetLcdGeometry( FT_Library  library,\n+                             FT_Vector   sub[3] )\n+  {\n+    if ( !library )\n+      return FT_THROW( Invalid_Library_Handle );\n+\n+    if ( !sub )\n+      return FT_THROW( Invalid_Argument );\n+\n+    ft_memcpy( library->lcd_geometry, sub, 3 * sizeof( FT_Vector ) );\n+\n+    return FT_THROW( Unimplemented_Feature );\n+  }\n+\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/base\/ftlcdfil.c","additions":87,"deletions":32,"binary":false,"changes":119,"status":"modified"},{"patch":"@@ -1,20 +1,20 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftmac.c                                                                *\/\n-\/*                                                                         *\/\n-\/*    Mac FOND support.  Written by just@letterror.com.                    *\/\n-\/*  Heavily modified by mpsuzuki, George Williams, and Sean McBride.       *\/\n-\/*                                                                         *\/\n-\/*  This file is for Mac OS X only; see builds\/mac\/ftoldmac.c for          *\/\n-\/*  classic platforms built by MPW.                                        *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  Just van Rossum, David Turner, Robert Wilhelm, and Werner Lemberg.     *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftmac.c\n+ *\n+ *   Mac FOND support.  Written by just@letterror.com.\n+ * Heavily modified by mpsuzuki, George Williams, and Sean McBride.\n+ *\n+ * This file is for Mac OS X only; see builds\/mac\/ftoldmac.c for\n+ * classic platforms built by MPW.\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * Just van Rossum, David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -957,11 +957,11 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_New_Face                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This is the Mac-specific implementation of FT_New_Face.  In        *\/\n-  \/*    addition to the standard FT_New_Face() functionality, it also      *\/\n-  \/*    accepts pathnames to Mac suitcase files.  For further              *\/\n-  \/*    documentation see the original FT_New_Face() in freetype.h.        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   FT_New_Face\n+   *\n+   * @Description:\n+   *   This is the Mac-specific implementation of FT_New_Face.  In\n+   *   addition to the standard FT_New_Face() functionality, it also\n+   *   accepts pathnames to Mac suitcase files.  For further\n+   *   documentation see the original FT_New_Face() in freetype.h.\n+   *\/\n@@ -998,11 +998,12 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_New_Face_From_FSRef                                             *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    FT_New_Face_From_FSRef is identical to FT_New_Face except it       *\/\n-  \/*    accepts an FSRef instead of a path.                                *\/\n-  \/*                                                                       *\/\n-  \/* This function is deprecated because Carbon data types (FSRef)         *\/\n-  \/* are not cross-platform, and thus not suitable for the FreeType API.   *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   FT_New_Face_From_FSRef\n+   *\n+   * @Description:\n+   *   FT_New_Face_From_FSRef is identical to FT_New_Face except it\n+   *   accepts an FSRef instead of a path.\n+   *\n+   * This function is deprecated because Carbon data types (FSRef)\n+   * are not cross-platform, and thus not suitable for the FreeType API.\n+   *\/\n@@ -1043,10 +1044,11 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_New_Face_From_FSSpec                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    FT_New_Face_From_FSSpec is identical to FT_New_Face except it      *\/\n-  \/*    accepts an FSSpec instead of a path.                               *\/\n-  \/*                                                                       *\/\n-  \/* This function is deprecated because FSSpec is deprecated in Mac OS X  *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   FT_New_Face_From_FSSpec\n+   *\n+   * @Description:\n+   *   FT_New_Face_From_FSSpec is identical to FT_New_Face except it\n+   *   accepts an FSSpec instead of a path.\n+   *\n+   * This function is deprecated because FSSpec is deprecated in Mac OS X\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/base\/ftmac.c","additions":54,"deletions":52,"binary":false,"changes":106,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftmm.c                                                                 *\/\n-\/*                                                                         *\/\n-\/*    Multiple Master font support (body).                                 *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftmm.c\n+ *\n+ *   Multiple Master font support (body).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -28,6 +28,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -35,1 +35,1 @@\n-#define FT_COMPONENT  trace_mm\n+#define FT_COMPONENT  mm\n@@ -202,0 +202,61 @@\n+  \/* documentation is in ftmm.h *\/\n+\n+  FT_EXPORT_DEF( FT_Error )\n+  FT_Set_MM_WeightVector( FT_Face    face,\n+                          FT_UInt    len,\n+                          FT_Fixed*  weightvector )\n+  {\n+    FT_Error                 error;\n+    FT_Service_MultiMasters  service;\n+\n+\n+    \/* check of `face' delayed to `ft_face_get_mm_service' *\/\n+\n+    if ( len && !weightvector )\n+      return FT_THROW( Invalid_Argument );\n+\n+    error = ft_face_get_mm_service( face, &service );\n+    if ( !error )\n+    {\n+      error = FT_ERR( Invalid_Argument );\n+      if ( service->set_mm_weightvector )\n+        error = service->set_mm_weightvector( face, len, weightvector );\n+    }\n+\n+    \/* enforce recomputation of auto-hinting data *\/\n+    if ( !error && face->autohint.finalizer )\n+    {\n+      face->autohint.finalizer( face->autohint.data );\n+      face->autohint.data = NULL;\n+    }\n+\n+    return error;\n+  }\n+\n+\n+  FT_EXPORT_DEF( FT_Error )\n+  FT_Get_MM_WeightVector( FT_Face    face,\n+                          FT_UInt*   len,\n+                          FT_Fixed*  weightvector )\n+  {\n+    FT_Error                 error;\n+    FT_Service_MultiMasters  service;\n+\n+\n+    \/* check of `face' delayed to `ft_face_get_mm_service' *\/\n+\n+    if ( len && !weightvector )\n+      return FT_THROW( Invalid_Argument );\n+\n+    error = ft_face_get_mm_service( face, &service );\n+    if ( !error )\n+    {\n+      error = FT_ERR( Invalid_Argument );\n+      if ( service->get_mm_weightvector )\n+        error = service->get_mm_weightvector( face, len, weightvector );\n+    }\n+\n+    return error;\n+  }\n+\n+\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/base\/ftmm.c","additions":84,"deletions":23,"binary":false,"changes":107,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftobjs.c                                                               *\/\n-\/*                                                                         *\/\n-\/*    The FreeType private base classes (body).                            *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftobjs.c\n+ *\n+ *   The FreeType private base classes (body).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -82,0 +82,12 @@\n+  static const char* const  pixel_modes[] =\n+  {\n+    \"none\",\n+    \"monochrome bitmap\",\n+    \"gray 8-bit bitmap\",\n+    \"gray 2-bit bitmap\",\n+    \"gray 4-bit bitmap\",\n+    \"LCD 8-bit bitmap\",\n+    \"vertical LCD 8-bit bitmap\",\n+    \"BGRA 32-bit color image bitmap\"\n+  };\n+\n@@ -262,6 +274,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -269,1 +281,1 @@\n-#define FT_COMPONENT  trace_objs\n+#define FT_COMPONENT  objs\n@@ -333,1 +345,3 @@\n-  FT_BASE_DEF( void )\n+  \/* overflow-resistant presetting of bitmap position and dimensions; *\/\n+  \/* also check whether the size is too large for rendering           *\/\n+  FT_BASE_DEF( FT_Bool )\n@@ -343,1 +357,1 @@\n-    FT_BBox  cbox;\n+    FT_BBox  cbox, pbox;\n@@ -350,2 +364,2 @@\n-    if ( slot->internal && ( slot->internal->flags & FT_GLYPH_OWN_BITMAP ) )\n-      return;\n+    if ( slot->format != FT_GLYPH_FORMAT_OUTLINE )\n+      return 1;\n@@ -363,4 +377,11 @@\n-    cbox.xMin += x_shift;\n-    cbox.yMin += y_shift;\n-    cbox.xMax += x_shift;\n-    cbox.yMax += y_shift;\n+    \/* rough estimate of pixel box *\/\n+    pbox.xMin = ( cbox.xMin >> 6 ) + ( x_shift >> 6 );\n+    pbox.yMin = ( cbox.yMin >> 6 ) + ( y_shift >> 6 );\n+    pbox.xMax = ( cbox.xMax >> 6 ) + ( x_shift >> 6 );\n+    pbox.yMax = ( cbox.yMax >> 6 ) + ( y_shift >> 6 );\n+\n+    \/* tiny remainder box *\/\n+    cbox.xMin = ( cbox.xMin & 63 ) + ( x_shift & 63 );\n+    cbox.yMin = ( cbox.yMin & 63 ) + ( y_shift & 63 );\n+    cbox.xMax = ( cbox.xMax & 63 ) + ( x_shift & 63 );\n+    cbox.yMax = ( cbox.yMax & 63 ) + ( y_shift & 63 );\n@@ -373,12 +394,8 @@\n-      \/* undocumented but confirmed: bbox values get rounded    *\/\n-      \/* unless the rounded box can collapse for a narrow glyph *\/\n-      if ( cbox.xMax - cbox.xMin < 64 )\n-      {\n-        cbox.xMin = FT_PIX_FLOOR( cbox.xMin );\n-        cbox.xMax = FT_PIX_CEIL_LONG( cbox.xMax );\n-      }\n-      else\n-      {\n-        cbox.xMin = FT_PIX_ROUND_LONG( cbox.xMin );\n-        cbox.xMax = FT_PIX_ROUND_LONG( cbox.xMax );\n-      }\n+      \/* x *\/\n+\n+      \/* undocumented but confirmed: bbox values get rounded;    *\/\n+      \/* we do asymmetric rounding so that the center of a pixel *\/\n+      \/* gets always included                                    *\/\n+\n+      pbox.xMin += ( cbox.xMin + 31 ) >> 6;\n+      pbox.xMax += ( cbox.xMax + 32 ) >> 6;\n@@ -386,1 +403,4 @@\n-      if ( cbox.yMax - cbox.yMin < 64 )\n+      \/* if the bbox collapsed, we add a pixel based on the total *\/\n+      \/* rounding remainder to cover most of the original cbox    *\/\n+\n+      if ( pbox.xMin == pbox.xMax )\n@@ -388,2 +408,5 @@\n-        cbox.yMin = FT_PIX_FLOOR( cbox.yMin );\n-        cbox.yMax = FT_PIX_CEIL_LONG( cbox.yMax );\n+        if ( ( ( cbox.xMin + 31 ) & 63 ) - 31 +\n+             ( ( cbox.xMax + 32 ) & 63 ) - 32 < 0 )\n+          pbox.xMin -= 1;\n+        else\n+          pbox.xMax += 1;\n@@ -391,1 +414,7 @@\n-      else\n+\n+      \/* y *\/\n+\n+      pbox.yMin += ( cbox.yMin + 31 ) >> 6;\n+      pbox.yMax += ( cbox.yMax + 32 ) >> 6;\n+\n+      if ( pbox.yMin == pbox.yMax )\n@@ -393,2 +422,5 @@\n-        cbox.yMin = FT_PIX_ROUND_LONG( cbox.yMin );\n-        cbox.yMax = FT_PIX_ROUND_LONG( cbox.yMax );\n+        if ( ( ( cbox.yMin + 31 ) & 63 ) - 31 +\n+             ( ( cbox.yMax + 32 ) & 63 ) - 32 < 0 )\n+          pbox.yMin -= 1;\n+        else\n+          pbox.yMax += 1;\n@@ -396,0 +428,2 @@\n+\n+      break;\n@@ -397,4 +431,1 @@\n-      cbox.xMin = FT_PIX_FLOOR( cbox.xMin );\n-      cbox.yMin = FT_PIX_FLOOR( cbox.yMin );\n-      cbox.xMax = FT_PIX_CEIL_LONG( cbox.xMax );\n-      cbox.yMax = FT_PIX_CEIL_LONG( cbox.yMax );\n+      goto Adjust;\n@@ -402,1 +433,0 @@\n-      break;\n@@ -406,2 +436,2 @@\n-      ft_lcd_padding( &cbox.xMin, &cbox.xMax, slot );\n-      goto Round;\n+      ft_lcd_padding( &cbox, slot, mode );\n+      goto Adjust;\n@@ -411,2 +441,2 @@\n-      ft_lcd_padding( &cbox.yMin, &cbox.yMax, slot );\n-      goto Round;\n+      ft_lcd_padding( &cbox, slot, mode );\n+      goto Adjust;\n@@ -418,5 +448,5 @@\n-    Round:\n-      cbox.xMin = FT_PIX_FLOOR( cbox.xMin );\n-      cbox.yMin = FT_PIX_FLOOR( cbox.yMin );\n-      cbox.xMax = FT_PIX_CEIL_LONG( cbox.xMax );\n-      cbox.yMax = FT_PIX_CEIL_LONG( cbox.yMax );\n+    Adjust:\n+      pbox.xMin += cbox.xMin >> 6;\n+      pbox.yMin += cbox.yMin >> 6;\n+      pbox.xMax += ( cbox.xMax + 63 ) >> 6;\n+      pbox.yMax += ( cbox.yMax + 63 ) >> 6;\n@@ -425,2 +455,2 @@\n-    x_shift = SUB_LONG( x_shift, cbox.xMin );\n-    y_shift = SUB_LONG( y_shift, cbox.yMin );\n+    x_left = pbox.xMin;\n+    y_top  = pbox.yMax;\n@@ -428,5 +458,2 @@\n-    x_left = cbox.xMin >> 6;\n-    y_top  = cbox.yMax >> 6;\n-\n-    width  = ( (FT_ULong)cbox.xMax - (FT_ULong)cbox.xMin ) >> 6;\n-    height = ( (FT_ULong)cbox.yMax - (FT_ULong)cbox.yMin ) >> 6;\n+    width  = pbox.xMax - pbox.xMin;\n+    height = pbox.yMax - pbox.yMin;\n@@ -462,0 +489,10 @@\n+\n+    if ( pbox.xMin < -0x8000 || pbox.xMax > 0x7FFF ||\n+         pbox.yMin < -0x8000 || pbox.yMax > 0x7FFF )\n+    {\n+      FT_TRACE3(( \"ft_glyphslot_preset_bitmap: [%ld %ld %ld %ld]\\n\",\n+                  pbox.xMin, pbox.yMin, pbox.xMax, pbox.yMax ));\n+      return 1;\n+    }\n+\n+    return 0;\n@@ -810,1 +847,1 @@\n-     *   - a scalable font format dealing with outlines,\n+     *   - a scalable font,\n@@ -828,2 +865,1 @@\n-         FT_DRIVER_IS_SCALABLE( driver )                  &&\n-         FT_DRIVER_USES_OUTLINES( driver )                &&\n+         FT_IS_SCALABLE( face )                           &&\n@@ -849,1 +885,1 @@\n-          ft_strstr( FT_Get_Font_Format( face ), \"Type 1\" ) != NULL   &&\n+          ft_strstr( FT_Get_Font_Format( face ), \"Type 1\" ) != NULL &&\n@@ -929,2 +965,3 @@\n-          ft_glyphslot_grid_fit_metrics( slot,\n-              FT_BOOL( load_flags & FT_LOAD_VERTICAL_LAYOUT ) );\n+          ft_glyphslot_grid_fit_metrics(\n+            slot,\n+            FT_BOOL( load_flags & FT_LOAD_VERTICAL_LAYOUT ) );\n@@ -998,0 +1035,3 @@\n+    slot->glyph_index          = glyph_index;\n+    slot->internal->load_flags = load_flags;\n+\n@@ -1017,2 +1057,3 @@\n-    FT_TRACE5(( \"FT_Load_Glyph: index %d, flags %x\\n\",\n-                glyph_index, load_flags               ));\n+#ifdef FT_DEBUG_LEVEL_TRACE\n+    FT_TRACE5(( \"FT_Load_Glyph: index %d, flags 0x%x\\n\",\n+                glyph_index, load_flags ));\n@@ -1025,3 +1066,6 @@\n-    FT_TRACE5(( \"  bitmap %dx%d, mode %d\\n\",\n-                slot->bitmap.width, slot->bitmap.rows,\n-                slot->bitmap.pixel_mode               ));\n+    FT_TRACE5(( \"  bitmap %dx%d, %s (mode %d)\\n\",\n+                slot->bitmap.width,\n+                slot->bitmap.rows,\n+                pixel_modes[slot->bitmap.pixel_mode],\n+                slot->bitmap.pixel_mode ));\n+#endif\n@@ -1165,14 +1209,14 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    find_unicode_charmap                                               *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This function finds a Unicode charmap, if there is one.            *\/\n-  \/*    And if there is more than one, it tries to favour the more         *\/\n-  \/*    extensive one, i.e., one that supports UCS-4 against those which   *\/\n-  \/*    are limited to the BMP (said UCS-2 encoding.)                      *\/\n-  \/*                                                                       *\/\n-  \/*    This function is called from open_face() (just below), and also    *\/\n-  \/*    from FT_Select_Charmap( ..., FT_ENCODING_UNICODE ).                *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   find_unicode_charmap\n+   *\n+   * @Description:\n+   *   This function finds a Unicode charmap, if there is one.\n+   *   And if there is more than one, it tries to favour the more\n+   *   extensive one, i.e., one that supports UCS-4 against those which\n+   *   are limited to the BMP (said UCS-2 encoding.)\n+   *\n+   *   This function is called from open_face() (just below), and also\n+   *   from FT_Select_Charmap( ..., FT_ENCODING_UNICODE ).\n+   *\/\n@@ -1195,3 +1239,3 @@\n-     *  The original TrueType specification(s) only specified charmap\n-     *  formats that are capable of mapping 8 or 16 bit character codes to\n-     *  glyph indices.\n+     * The original TrueType specification(s) only specified charmap\n+     * formats that are capable of mapping 8 or 16 bit character codes to\n+     * glyph indices.\n@@ -1199,4 +1243,4 @@\n-     *  However, recent updates to the Apple and OpenType specifications\n-     *  introduced new formats that are capable of mapping 32-bit character\n-     *  codes as well.  And these are already used on some fonts, mainly to\n-     *  map non-BMP Asian ideographs as defined in Unicode.\n+     * However, recent updates to the Apple and OpenType specifications\n+     * introduced new formats that are capable of mapping 32-bit character\n+     * codes as well.  And these are already used on some fonts, mainly to\n+     * map non-BMP Asian ideographs as defined in Unicode.\n@@ -1204,2 +1248,2 @@\n-     *  For compatibility purposes, these fonts generally come with\n-     *  *several* Unicode charmaps:\n+     * For compatibility purposes, these fonts generally come with\n+     * *several* Unicode charmaps:\n@@ -1207,2 +1251,2 @@\n-     *   - One of them in the \"old\" 16-bit format, that cannot access\n-     *     all glyphs in the font.\n+     * - One of them in the \"old\" 16-bit format, that cannot access\n+     *   all glyphs in the font.\n@@ -1210,2 +1254,2 @@\n-     *   - Another one in the \"new\" 32-bit format, that can access all\n-     *     the glyphs.\n+     * - Another one in the \"new\" 32-bit format, that can access all\n+     *   the glyphs.\n@@ -1213,2 +1257,2 @@\n-     *  This function has been written to always favor a 32-bit charmap\n-     *  when found.  Otherwise, a 16-bit one is returned when found.\n+     * This function has been written to always favor a 32-bit charmap\n+     * when found.  Otherwise, a 16-bit one is returned when found.\n@@ -1258,9 +1302,9 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    find_variant_selector_charmap                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This function finds the variant selector charmap, if there is one. *\/\n-  \/*    There can only be one (platform=0, specific=5, format=14).         *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   find_variant_selector_charmap\n+   *\n+   * @Description:\n+   *   This function finds the variant selector charmap, if there is one.\n+   *   There can only be one (platform=0, specific=5, format=14).\n+   *\/\n@@ -1297,8 +1341,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    open_face                                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This function does some work for FT_Open_Face().                   *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   open_face\n+   *\n+   * @Description:\n+   *   This function does some work for FT_Open_Face().\n+   *\/\n@@ -2179,1 +2223,1 @@\n-#define FT_COMPONENT  trace_raccess\n+#define FT_COMPONENT  raccess\n@@ -2185,1 +2229,1 @@\n-    char *     file_names[FT_RACCESS_N_RULES];\n+    char*      file_names[FT_RACCESS_N_RULES];\n@@ -2257,1 +2301,1 @@\n-#define FT_COMPONENT  trace_objs\n+#define FT_COMPONENT  objs\n@@ -2285,1 +2329,1 @@\n-#define FT_COMPONENT  trace_raccess\n+#define FT_COMPONENT  raccess\n@@ -2298,1 +2342,1 @@\n-#define FT_COMPONENT  trace_objs\n+#define FT_COMPONENT  objs\n@@ -2696,2 +2740,2 @@\n-                    (FT_Bool)( parameters->stream &&\n-                               ( parameters->flags & FT_OPEN_STREAM ) ) );\n+                    FT_BOOL( parameters->stream                     &&\n+                             ( parameters->flags & FT_OPEN_STREAM ) ) );\n@@ -3467,1 +3511,2 @@\n-    if ( encoding == FT_ENCODING_NONE )\n+    \/* FT_ENCODING_NONE is a valid encoding for BDF, PCF, and Windows FNT *\/\n+    if ( encoding == FT_ENCODING_NONE && !face->num_charmaps )\n@@ -3488,1 +3533,1 @@\n-        return 0;\n+        return FT_Err_Ok;\n@@ -3513,3 +3558,0 @@\n-    if ( FT_Get_CMap_Format( charmap ) == 14 )\n-      return FT_THROW( Invalid_Argument );\n-\n@@ -3520,1 +3562,2 @@\n-      if ( cur[0] == charmap )\n+      if ( cur[0] == charmap                    &&\n+           FT_Get_CMap_Format ( charmap ) != 14 )\n@@ -4490,0 +4533,1 @@\n+    FT_Face      face  = slot->face;\n@@ -4493,1 +4537,0 @@\n-    \/* if it is already a bitmap, no need to do anything *\/\n@@ -4500,0 +4543,73 @@\n+      if ( slot->internal->load_flags & FT_LOAD_COLOR )\n+      {\n+        FT_LayerIterator  iterator;\n+\n+        FT_UInt  base_glyph = slot->glyph_index;\n+\n+        FT_Bool  have_layers;\n+        FT_UInt  glyph_index;\n+        FT_UInt  color_index;\n+\n+\n+        \/* check whether we have colored glyph layers *\/\n+        iterator.p  = NULL;\n+        have_layers = FT_Get_Color_Glyph_Layer( face,\n+                                                base_glyph,\n+                                                &glyph_index,\n+                                                &color_index,\n+                                                &iterator );\n+        if ( have_layers )\n+        {\n+          error = FT_New_GlyphSlot( face, NULL );\n+          if ( !error )\n+          {\n+            TT_Face       ttface = (TT_Face)face;\n+            SFNT_Service  sfnt   = (SFNT_Service)ttface->sfnt;\n+\n+\n+            do\n+            {\n+              FT_Int32  load_flags = slot->internal->load_flags;\n+\n+\n+              \/* disable the `FT_LOAD_COLOR' flag to avoid recursion *\/\n+              \/* right here in this function                         *\/\n+              load_flags &= ~FT_LOAD_COLOR;\n+\n+              \/* render into the new `face->glyph' glyph slot *\/\n+              load_flags |= FT_LOAD_RENDER;\n+\n+              error = FT_Load_Glyph( face, glyph_index, load_flags );\n+              if ( error )\n+                break;\n+\n+              \/* blend new `face->glyph' into old `slot'; *\/\n+              \/* at the first call, `slot' is still empty *\/\n+              error = sfnt->colr_blend( ttface,\n+                                        color_index,\n+                                        slot,\n+                                        face->glyph );\n+              if ( error )\n+                break;\n+\n+            } while ( FT_Get_Color_Glyph_Layer( face,\n+                                                base_glyph,\n+                                                &glyph_index,\n+                                                &color_index,\n+                                                &iterator ) );\n+\n+            if ( !error )\n+              slot->format = FT_GLYPH_FORMAT_BITMAP;\n+\n+            \/* this call also restores `slot' as the glyph slot *\/\n+            FT_Done_GlyphSlot( face->glyph );\n+          }\n+\n+          if ( !error )\n+            return error;\n+\n+          \/* Failed to do the colored layer.  Draw outline instead. *\/\n+          slot->format = FT_GLYPH_FORMAT_OUTLINE;\n+        }\n+      }\n+\n@@ -4535,1 +4651,1 @@\n-#define FT_COMPONENT  trace_bitmap\n+#define FT_COMPONENT  checksum\n@@ -4545,3 +4661,3 @@\n-    if ( !error                             &&\n-         ft_trace_levels[trace_bitmap] >= 3 &&\n-         slot->bitmap.buffer                )\n+    if ( !error                               &&\n+         ft_trace_levels[trace_checksum] >= 3 &&\n+         slot->bitmap.buffer                  )\n@@ -4568,2 +4684,5 @@\n-        FT_TRACE3(( \"FT_Render_Glyph: bitmap %dx%d, mode %d\\n\",\n-                    rows, pitch, slot->bitmap.pixel_mode ));\n+        FT_TRACE3(( \"FT_Render_Glyph: bitmap %dx%d, %s (mode %d)\\n\",\n+                    pitch,\n+                    rows,\n+                    pixel_modes[slot->bitmap.pixel_mode],\n+                    slot->bitmap.pixel_mode ));\n@@ -4597,5 +4716,2 @@\n-    if ( !error                             &&\n-         ft_trace_levels[trace_bitmap] >= 7 &&\n-         slot->bitmap.rows  < 128U          &&\n-         slot->bitmap.width < 128U          &&\n-         slot->bitmap.buffer                )\n+    if ( !error                               &&\n+         ft_trace_levels[trace_checksum] >= 7 )\n@@ -4603,5 +4719,8 @@\n-      int  rows  = (int)slot->bitmap.rows;\n-      int  width = (int)slot->bitmap.width;\n-      int  pitch =      slot->bitmap.pitch;\n-      int  i, j, m;\n-      unsigned char*  topleft = slot->bitmap.buffer;\n+      if ( slot->bitmap.rows  < 128U &&\n+           slot->bitmap.width < 128U &&\n+           slot->bitmap.buffer       )\n+      {\n+        int  rows  = (int)slot->bitmap.rows;\n+        int  width = (int)slot->bitmap.width;\n+        int  pitch =      slot->bitmap.pitch;\n+        int  i, j, m;\n@@ -4609,2 +4728,1 @@\n-      if ( pitch < 0 )\n-        topleft -= pitch * ( rows - 1 );\n+        unsigned char*  topleft = slot->bitmap.buffer;\n@@ -4612,13 +4730,0 @@\n-      FT_TRACE7(( \"Netpbm image: start\\n\" ));\n-      switch ( slot->bitmap.pixel_mode )\n-      {\n-      case FT_PIXEL_MODE_MONO:\n-        FT_TRACE7(( \"P1 %d %d\\n\", width, rows ));\n-        for ( i = 0; i < rows; i++ )\n-        {\n-          for ( j = 0; j < width; )\n-            for ( m = 128; m > 0 && j < width; m >>= 1, j++ )\n-              FT_TRACE7(( \" %d\", ( topleft[i * pitch + j \/ 8] & m ) != 0 ));\n-          FT_TRACE7(( \"\\n\" ));\n-        }\n-        break;\n@@ -4626,3 +4731,5 @@\n-      default:\n-        FT_TRACE7(( \"P2 %d %d 255\\n\", width, rows ));\n-        for ( i = 0; i < rows; i++ )\n+        if ( pitch < 0 )\n+          topleft -= pitch * ( rows - 1 );\n+\n+        FT_TRACE7(( \"Netpbm image: start\\n\" ));\n+        switch ( slot->bitmap.pixel_mode )\n@@ -4630,3 +4737,20 @@\n-          for ( j = 0; j < width; j += 1 )\n-            FT_TRACE7(( \" %3u\", topleft[i * pitch + j] ));\n-          FT_TRACE7(( \"\\n\" ));\n+        case FT_PIXEL_MODE_MONO:\n+          FT_TRACE7(( \"P1 %d %d\\n\", width, rows ));\n+          for ( i = 0; i < rows; i++ )\n+          {\n+            for ( j = 0; j < width; )\n+              for ( m = 128; m > 0 && j < width; m >>= 1, j++ )\n+                FT_TRACE7(( \" %d\",\n+                            ( topleft[i * pitch + j \/ 8] & m ) != 0 ));\n+            FT_TRACE7(( \"\\n\" ));\n+          }\n+          break;\n+\n+        default:\n+          FT_TRACE7(( \"P2 %d %d 255\\n\", width, rows ));\n+          for ( i = 0; i < rows; i++ )\n+          {\n+            for ( j = 0; j < width; j += 1 )\n+              FT_TRACE7(( \" %3u\", topleft[i * pitch + j] ));\n+            FT_TRACE7(( \"\\n\" ));\n+          }\n@@ -4634,0 +4758,1 @@\n+        FT_TRACE7(( \"Netpbm image: end\\n\" ));\n@@ -4635,1 +4760,2 @@\n-      FT_TRACE7(( \"Netpbm image: end\\n\" ));\n+      else\n+        FT_TRACE7(( \"Netpbm image: too large, omitted\\n\" ));\n@@ -4639,1 +4765,1 @@\n-#define FT_COMPONENT  trace_objs\n+#define FT_COMPONENT  objs\n@@ -4678,15 +4804,16 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    Destroy_Module                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Destroys a given module object.  For drivers, this also destroys   *\/\n-  \/*    all child faces.                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    module :: A handle to the target driver object.                    *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The driver _must_ be LOCKED!                                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   Destroy_Module\n+   *\n+   * @Description:\n+   *   Destroys a given module object.  For drivers, this also destroys\n+   *   all child faces.\n+   *\n+   * @InOut:\n+   *   module ::\n+   *     A handle to the target driver object.\n+   *\n+   * @Note:\n+   *   The driver _must_ be LOCKED!\n+   *\/\n@@ -5031,1 +5158,1 @@\n-      missing_func = (FT_Bool)( !service->set_property );\n+      missing_func = FT_BOOL( !service->set_property );\n@@ -5033,1 +5160,1 @@\n-      missing_func = (FT_Bool)( !service->get_property );\n+      missing_func = FT_BOOL( !service->get_property );\n@@ -5159,7 +5286,0 @@\n-#ifdef FT_CONFIG_OPTION_PIC\n-    \/* initialize position independent code containers *\/\n-    error = ft_pic_container_init( library );\n-    if ( error )\n-      goto Fail;\n-#endif\n-\n@@ -5176,7 +5296,0 @@\n-\n-#ifdef FT_CONFIG_OPTION_PIC\n-  Fail:\n-    ft_pic_container_destroy( library );\n-    FT_FREE( library );\n-    return error;\n-#endif\n@@ -5240,4 +5353,4 @@\n-     *  - the cff font driver uses the pshinter module in cff_size_done\n-     *  - if the pshinter module is destroyed before the cff font driver,\n-     *    opened FT_Face objects managed by the driver are not properly\n-     *    destroyed, resulting in a memory leak\n+     * - the cff font driver uses the pshinter module in cff_size_done\n+     * - if the pshinter module is destroyed before the cff font driver,\n+     *   opened FT_Face objects managed by the driver are not properly\n+     *   destroyed, resulting in a memory leak\n@@ -5313,5 +5426,0 @@\n-#ifdef FT_CONFIG_OPTION_PIC\n-    \/* Destroy pic container contents *\/\n-    ft_pic_container_destroy( library );\n-#endif\n-\n@@ -5405,0 +5513,37 @@\n+  \/* documentation is in freetype.h *\/\n+\n+  FT_EXPORT_DEF( FT_Bool )\n+  FT_Get_Color_Glyph_Layer( FT_Face            face,\n+                            FT_UInt            base_glyph,\n+                            FT_UInt           *aglyph_index,\n+                            FT_UInt           *acolor_index,\n+                            FT_LayerIterator*  iterator )\n+  {\n+    TT_Face       ttface;\n+    SFNT_Service  sfnt;\n+\n+\n+    if ( !face                                   ||\n+         !aglyph_index                           ||\n+         !acolor_index                           ||\n+         !iterator                               ||\n+         base_glyph >= (FT_UInt)face->num_glyphs )\n+      return 0;\n+\n+    if ( !FT_IS_SFNT( face ) )\n+      return 0;\n+\n+    ttface = (TT_Face)face;\n+    sfnt   = (SFNT_Service)ttface->sfnt;\n+\n+    if ( sfnt->get_colr_layer )\n+      return sfnt->get_colr_layer( ttface,\n+                                   base_glyph,\n+                                   aglyph_index,\n+                                   acolor_index,\n+                                   iterator );\n+    else\n+      return 0;\n+  }\n+\n+\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/base\/ftobjs.c","additions":365,"deletions":220,"binary":false,"changes":585,"status":"modified"},{"patch":"@@ -1,23 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftoutln.c                                                              *\/\n-\/*                                                                         *\/\n-\/*    FreeType outline management (body).                                  *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* All functions are declared in freetype.h.                             *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftoutln.c\n+ *\n+ *   FreeType outline management (body).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -34,6 +27,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -41,1 +34,1 @@\n-#define FT_COMPONENT  trace_outline\n+#define FT_COMPONENT  outline\n@@ -289,0 +282,4 @@\n+  Invalid_Outline:\n+    error = FT_THROW( Invalid_Outline );\n+    \/* fall through *\/\n+\n@@ -292,3 +289,0 @@\n-\n-  Invalid_Outline:\n-    return FT_THROW( Invalid_Outline );\n@@ -298,0 +292,2 @@\n+  \/* documentation is in ftoutln.h *\/\n+\n@@ -299,4 +295,4 @@\n-  FT_Outline_New_Internal( FT_Memory    memory,\n-                           FT_UInt      numPoints,\n-                           FT_Int       numContours,\n-                           FT_Outline  *anoutline )\n+  FT_Outline_New( FT_Library   library,\n+                  FT_UInt      numPoints,\n+                  FT_Int       numContours,\n+                  FT_Outline  *anoutline )\n@@ -304,1 +300,6 @@\n-    FT_Error  error;\n+    FT_Error   error;\n+    FT_Memory  memory;\n+\n+\n+    if ( !library )\n+      return FT_THROW( Invalid_Library_Handle );\n@@ -306,0 +307,1 @@\n+    memory = library->memory;\n@@ -332,1 +334,1 @@\n-    FT_Outline_Done_Internal( memory, anoutline );\n+    FT_Outline_Done( library, anoutline );\n@@ -338,16 +340,0 @@\n-  \/* documentation is in ftoutln.h *\/\n-\n-  FT_EXPORT_DEF( FT_Error )\n-  FT_Outline_New( FT_Library   library,\n-                  FT_UInt      numPoints,\n-                  FT_Int       numContours,\n-                  FT_Outline  *anoutline )\n-  {\n-    if ( !library )\n-      return FT_THROW( Invalid_Library_Handle );\n-\n-    return FT_Outline_New_Internal( library->memory, numPoints,\n-                                    numContours, anoutline );\n-  }\n-\n-\n@@ -438,0 +424,2 @@\n+  \/* documentation is in ftoutln.h *\/\n+\n@@ -439,2 +427,2 @@\n-  FT_Outline_Done_Internal( FT_Memory    memory,\n-                            FT_Outline*  outline )\n+  FT_Outline_Done( FT_Library   library,\n+                   FT_Outline*  outline )\n@@ -442,0 +430,6 @@\n+    FT_Memory  memory;\n+\n+\n+    if ( !library )\n+      return FT_THROW( Invalid_Library_Handle );\n+\n@@ -445,0 +439,2 @@\n+    memory = library->memory;\n+\n@@ -460,15 +456,0 @@\n-  \/* documentation is in ftoutln.h *\/\n-\n-  FT_EXPORT_DEF( FT_Error )\n-  FT_Outline_Done( FT_Library   library,\n-                   FT_Outline*  outline )\n-  {\n-    \/* check for valid `outline' in FT_Outline_Done_Internal() *\/\n-\n-    if ( !library )\n-      return FT_THROW( Invalid_Library_Handle );\n-\n-    return FT_Outline_Done_Internal( library->memory, outline );\n-  }\n-\n-\n@@ -621,0 +602,1 @@\n+    FT_BBox      cbox;\n@@ -632,0 +614,5 @@\n+    FT_Outline_Get_CBox( outline, &cbox );\n+    if ( cbox.xMin < -0x1000000L || cbox.yMin < -0x1000000L ||\n+         cbox.xMax >  0x1000000L || cbox.yMax >  0x1000000L )\n+      return FT_THROW( Invalid_Outline );\n+\n@@ -913,3 +900,3 @@\n-    FT_Vector*  points;\n-    FT_Int      c, first, last;\n-    FT_Int      orientation;\n+    FT_Vector*      points;\n+    FT_Int          c, first, last;\n+    FT_Orientation  orientation;\n@@ -1046,1 +1033,1 @@\n-    FT_BBox     cbox;\n+    FT_BBox     cbox = { 0, 0, 0, 0 };\n@@ -1092,1 +1079,2 @@\n-                         ( v_cur.y - v_prev.y ) * ( v_cur.x + v_prev.x ) );\n+                         MUL_LONG( v_cur.y - v_prev.y,\n+                                   v_cur.x + v_prev.x ) );\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/base\/ftoutln.c","additions":65,"deletions":77,"binary":false,"changes":142,"status":"modified"},{"patch":"@@ -1,17 +1,17 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftpatent.c                                                             *\/\n-\/*                                                                         *\/\n-\/*    FreeType API for checking patented TrueType bytecode instructions    *\/\n-\/*    (body).  Obsolete, retained for backward compatibility.              *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2007-2018 by                                                 *\/\n-\/*  David Turner.                                                          *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftpatent.c\n+ *\n+ *   FreeType API for checking patented TrueType bytecode instructions\n+ *   (body).  Obsolete, retained for backward compatibility.\n+ *\n+ * Copyright (C) 2007-2019 by\n+ * David Turner.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/base\/ftpatent.c","additions":17,"deletions":17,"binary":false,"changes":34,"status":"modified"},{"patch":"@@ -1,55 +0,0 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftpic.c                                                                *\/\n-\/*                                                                         *\/\n-\/*    The FreeType position independent code services (body).              *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2009-2018 by                                                 *\/\n-\/*  Oran Agra and Mickey Gabel.                                            *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-#include <ft2build.h>\n-#include FT_FREETYPE_H\n-#include FT_INTERNAL_OBJECTS_H\n-#include \"basepic.h\"\n-\n-#ifdef FT_CONFIG_OPTION_PIC\n-\n-  \/* documentation is in ftpic.h *\/\n-\n-  FT_BASE_DEF( FT_Error )\n-  ft_pic_container_init( FT_Library  library )\n-  {\n-    FT_PIC_Container*  pic_container = &library->pic_container;\n-    FT_Error           error;\n-\n-\n-    FT_MEM_SET( pic_container, 0, sizeof ( *pic_container ) );\n-\n-    error = ft_base_pic_init( library );\n-    if ( error )\n-      return error;\n-\n-    return FT_Err_Ok;\n-  }\n-\n-\n-  \/* Destroy the contents of the container. *\/\n-  FT_BASE_DEF( void )\n-  ft_pic_container_destroy( FT_Library  library )\n-  {\n-    ft_base_pic_free( library );\n-  }\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n-\n-\/* END *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/base\/ftpic.c","additions":0,"deletions":55,"binary":false,"changes":55,"status":"deleted"},{"patch":"@@ -1,17 +1,17 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftpsprop.c                                                             *\/\n-\/*                                                                         *\/\n-\/*    Get and set properties of PostScript drivers (body).                 *\/\n-\/*    See `ftdriver.h' for available properties.                           *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2017-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftpsprop.c\n+ *\n+ *   Get and set properties of PostScript drivers (body).\n+ *   See `ftdriver.h' for available properties.\n+ *\n+ * Copyright (C) 2017-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -28,6 +28,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -35,1 +35,1 @@\n-#define FT_COMPONENT  trace_psprops\n+#define FT_COMPONENT  psprops\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/base\/ftpsprop.c","additions":24,"deletions":24,"binary":false,"changes":48,"status":"modified"},{"patch":"@@ -1,24 +1,24 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftrfork.c                                                              *\/\n-\/*                                                                         *\/\n-\/*    Embedded resource forks accessor (body).                             *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2004-2018 by                                                 *\/\n-\/*  Masatake YAMATO and Redhat K.K.                                        *\/\n-\/*                                                                         *\/\n-\/*  FT_Raccess_Get_HeaderInfo() and raccess_guess_darwin_hfsplus() are     *\/\n-\/*  derived from ftobjs.c.                                                 *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\/***************************************************************************\/\n-\/* Development of the code in this file is support of                      *\/\n-\/* Information-technology Promotion Agency, Japan.                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftrfork.c\n+ *\n+ *   Embedded resource forks accessor (body).\n+ *\n+ * Copyright (C) 2004-2019 by\n+ * Masatake YAMATO and Redhat K.K.\n+ *\n+ * FT_Raccess_Get_HeaderInfo() and raccess_guess_darwin_hfsplus() are\n+ * derived from ftobjs.c.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+\/****************************************************************************\n+ * Development of the code in this file is support of\n+ * Information-technology Promotion Agency, Japan.\n+ *\/\n@@ -31,1 +31,1 @@\n-#include \"basepic.h\"\n+\n@@ -35,1 +35,1 @@\n-#define FT_COMPONENT  trace_raccess\n+#define FT_COMPONENT  raccess\n@@ -441,1 +441,1 @@\n-                                             char *      file_name,\n+                                             char*       file_name,\n@@ -471,4 +471,4 @@\n-      errors[i] = (FT_RACCESS_GUESS_TABLE_GET[i].func)( library,\n-                                                 stream, base_name,\n-                                                 &(new_names[i]),\n-                                                 &(offsets[i]) );\n+      errors[i] = ft_raccess_guess_table[i].func( library,\n+                                                  stream, base_name,\n+                                                  &(new_names[i]),\n+                                                  &(offsets[i]) );\n@@ -491,1 +491,1 @@\n-    return FT_RACCESS_GUESS_TABLE_GET[rule_index].type;\n+    return ft_raccess_guess_table[rule_index].type;\n@@ -850,1 +850,1 @@\n-    char *        nouse = NULL;\n+    char*         nouse = NULL;\n@@ -912,3 +912,3 @@\n-  \/*************************************************************************\/\n-  \/*                  Dummy function; just sets errors                     *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *                 Dummy function; just sets errors\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/base\/ftrfork.c","additions":36,"deletions":36,"binary":false,"changes":72,"status":"modified"},{"patch":"@@ -1,19 +1,19 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftsnames.c                                                             *\/\n-\/*                                                                         *\/\n-\/*    Simple interface to access SFNT name tables (which are used          *\/\n-\/*    to hold font names, copyright info, notices, etc.) (body).           *\/\n-\/*                                                                         *\/\n-\/*    This is _not_ used to retrieve glyph names!                          *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftsnames.c\n+ *\n+ *   Simple interface to access SFNT name tables (which are used\n+ *   to hold font names, copyright info, notices, etc.) (body).\n+ *\n+ *   This is _not_ used to retrieve glyph names!\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -145,1 +145,39 @@\n-#endif \/* TT_CONFIG_OPTION_SFNT_NAMES *\/\n+#else \/* !TT_CONFIG_OPTION_SFNT_NAMES *\/\n+\n+\n+  FT_EXPORT_DEF( FT_UInt )\n+  FT_Get_Sfnt_Name_Count( FT_Face  face )\n+  {\n+    FT_UNUSED( face );\n+\n+    return 0;\n+  }\n+\n+\n+  FT_EXPORT_DEF( FT_Error )\n+  FT_Get_Sfnt_Name( FT_Face       face,\n+                    FT_UInt       idx,\n+                    FT_SfntName  *aname )\n+  {\n+    FT_UNUSED( face );\n+    FT_UNUSED( idx );\n+    FT_UNUSED( aname );\n+\n+    return FT_THROW( Unimplemented_Feature );\n+  }\n+\n+\n+  FT_EXPORT_DEF( FT_Error )\n+  FT_Get_Sfnt_LangTag( FT_Face          face,\n+                       FT_UInt          langID,\n+                       FT_SfntLangTag  *alangTag )\n+  {\n+    FT_UNUSED( face );\n+    FT_UNUSED( langID );\n+    FT_UNUSED( alangTag );\n+\n+    return FT_THROW( Unimplemented_Feature );\n+  }\n+\n+\n+#endif \/* !TT_CONFIG_OPTION_SFNT_NAMES *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/base\/ftsnames.c","additions":58,"deletions":20,"binary":false,"changes":78,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftstream.c                                                             *\/\n-\/*                                                                         *\/\n-\/*    I\/O stream support (body).                                           *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2000-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftstream.c\n+ *\n+ *   I\/O stream support (body).\n+ *\n+ * Copyright (C) 2000-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -24,6 +24,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -31,1 +31,1 @@\n-#define FT_COMPONENT  trace_stream\n+#define FT_COMPONENT  stream\n@@ -222,0 +222,1 @@\n+\n@@ -224,1 +225,0 @@\n-      *pbytes = NULL;\n@@ -229,0 +229,1 @@\n+\n@@ -241,0 +242,2 @@\n+    FT_TRACE7(( \"FT_Stream_EnterFrame: %ld bytes\\n\", count ));\n+\n@@ -284,0 +287,1 @@\n+\n@@ -324,1 +328,3 @@\n-    \/*                                                                    *\/\n+\n+    FT_TRACE7(( \"FT_Stream_ExitFrame\\n\" ));\n+\n@@ -331,0 +337,1 @@\n+\n@@ -338,0 +345,1 @@\n+\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/base\/ftstream.c","additions":33,"deletions":25,"binary":false,"changes":58,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftstroke.c                                                             *\/\n-\/*                                                                         *\/\n-\/*    FreeType path stroker (body).                                        *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2002-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftstroke.c\n+ *\n+ *   FreeType path stroker (body).\n+ *\n+ * Copyright (C) 2002-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -27,1 +27,0 @@\n-#include \"basepic.h\"\n@@ -29,5 +28,2 @@\n-\n-  \/* declare an extern to access `ft_outline_glyph_class' globally     *\/\n-  \/* allocated  in `ftglyph.c', and use the FT_OUTLINE_GLYPH_CLASS_GET *\/\n-  \/* macro to access it when FT_CONFIG_OPTION_PIC is defined           *\/\n-#ifndef FT_CONFIG_OPTION_PIC\n+  \/* declare an extern to access `ft_outline_glyph_class' globally *\/\n+  \/* allocated  in `ftglyph.c'                                     *\/\n@@ -35,1 +31,0 @@\n-#endif\n@@ -375,0 +370,1 @@\n+      border->tags[start]   = border->tags[count];\n@@ -439,2 +435,2 @@\n-      \/* don't add zero-length lineto *\/\n-      if ( border->num_points > 0                                          &&\n+      \/* don't add zero-length lineto, but always add moveto *\/\n+      if ( border->num_points > (FT_UInt)border->start                     &&\n@@ -2090,2 +2086,2 @@\n-   *  The following is very similar to FT_Outline_Decompose, except\n-   *  that we do support opened paths, and do not scale the outline.\n+   * The following is very similar to FT_Outline_Decompose, except\n+   * that we do support opened paths, and do not scale the outline.\n@@ -2309,5 +2305,0 @@\n-    \/* for FT_OUTLINE_GLYPH_CLASS_GET (in PIC mode) *\/\n-    FT_Library  library = stroker->library;\n-\n-    FT_UNUSED( library );\n-\n@@ -2319,1 +2310,1 @@\n-    if ( !glyph || glyph->clazz != FT_OUTLINE_GLYPH_CLASS_GET )\n+    if ( !glyph || glyph->clazz != &ft_outline_glyph_class )\n@@ -2389,5 +2380,0 @@\n-    \/* for FT_OUTLINE_GLYPH_CLASS_GET (in PIC mode) *\/\n-    FT_Library  library = stroker->library;\n-\n-    FT_UNUSED( library );\n-\n@@ -2399,1 +2385,1 @@\n-    if ( !glyph || glyph->clazz != FT_OUTLINE_GLYPH_CLASS_GET )\n+    if ( !glyph || glyph->clazz != &ft_outline_glyph_class )\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/base\/ftstroke.c","additions":25,"deletions":39,"binary":false,"changes":64,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftsynth.c                                                              *\/\n-\/*                                                                         *\/\n-\/*    FreeType synthesizing code for emboldening and slanting (body).      *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2000-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftsynth.c\n+ *\n+ *   FreeType synthesizing code for emboldening and slanting (body).\n+ *\n+ * Copyright (C) 2000-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -27,6 +27,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -34,1 +34,1 @@\n-#define FT_COMPONENT  trace_synth\n+#define FT_COMPONENT  synth\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/base\/ftsynth.c","additions":23,"deletions":23,"binary":false,"changes":46,"status":"modified"},{"patch":"@@ -1,25 +1,25 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftsystem.c                                                             *\/\n-\/*                                                                         *\/\n-\/*    ANSI-specific FreeType low-level system interface (body).            *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* This file contains the default interface used by FreeType to access   *\/\n-  \/* low-level, i.e. memory management, i\/o access as well as thread       *\/\n-  \/* synchronisation.  It can be replaced by user-specific routines if     *\/\n-  \/* necessary.                                                            *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftsystem.c\n+ *\n+ *   ANSI-specific FreeType low-level system interface (body).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+  \/**************************************************************************\n+   *\n+   * This file contains the default interface used by FreeType to access\n+   * low-level, i.e. memory management, i\/o access as well as thread\n+   * synchronisation.  It can be replaced by user-specific routines if\n+   * necessary.\n+   *\n+   *\/\n@@ -37,31 +37,33 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*                       MEMORY MANAGEMENT INTERFACE                     *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* It is not necessary to do any error checking for the                  *\/\n-  \/* allocation-related functions.  This will be done by the higher level  *\/\n-  \/* routines like ft_mem_alloc() or ft_mem_realloc().                     *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    ft_alloc                                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    The memory allocation function.                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    memory :: A pointer to the memory object.                          *\/\n-  \/*                                                                       *\/\n-  \/*    size   :: The requested size in bytes.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    The address of newly allocated block.                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   *                      MEMORY MANAGEMENT INTERFACE\n+   *\n+   *\/\n+\n+  \/**************************************************************************\n+   *\n+   * It is not necessary to do any error checking for the\n+   * allocation-related functions.  This will be done by the higher level\n+   * routines like ft_mem_alloc() or ft_mem_realloc().\n+   *\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   ft_alloc\n+   *\n+   * @Description:\n+   *   The memory allocation function.\n+   *\n+   * @Input:\n+   *   memory ::\n+   *     A pointer to the memory object.\n+   *\n+   *   size ::\n+   *     The requested size in bytes.\n+   *\n+   * @Return:\n+   *   The address of newly allocated block.\n+   *\/\n@@ -78,20 +80,24 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    ft_realloc                                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    The memory reallocation function.                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    memory   :: A pointer to the memory object.                        *\/\n-  \/*                                                                       *\/\n-  \/*    cur_size :: The current size of the allocated memory block.        *\/\n-  \/*                                                                       *\/\n-  \/*    new_size :: The newly requested size in bytes.                     *\/\n-  \/*                                                                       *\/\n-  \/*    block    :: The current address of the block in memory.            *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    The address of the reallocated memory block.                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   ft_realloc\n+   *\n+   * @Description:\n+   *   The memory reallocation function.\n+   *\n+   * @Input:\n+   *   memory ::\n+   *     A pointer to the memory object.\n+   *\n+   *   cur_size ::\n+   *     The current size of the allocated memory block.\n+   *\n+   *   new_size ::\n+   *     The newly requested size in bytes.\n+   *\n+   *   block ::\n+   *     The current address of the block in memory.\n+   *\n+   * @Return:\n+   *   The address of the reallocated memory block.\n+   *\/\n@@ -111,13 +117,15 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    ft_free                                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    The memory release function.                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    memory  :: A pointer to the memory object.                         *\/\n-  \/*                                                                       *\/\n-  \/*    block   :: The address of block in memory to be freed.             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   ft_free\n+   *\n+   * @Description:\n+   *   The memory release function.\n+   *\n+   * @Input:\n+   *   memory ::\n+   *     A pointer to the memory object.\n+   *\n+   *   block ::\n+   *     The address of block in memory to be freed.\n+   *\/\n@@ -134,5 +142,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*                     RESOURCE MANAGEMENT INTERFACE                     *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   *                    RESOURCE MANAGEMENT INTERFACE\n+   *\n+   *\/\n@@ -142,6 +150,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -149,1 +157,1 @@\n-#define FT_COMPONENT  trace_io\n+#define FT_COMPONENT  io\n@@ -156,11 +164,12 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    ft_ansi_stream_close                                               *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    The function to close a stream.                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    stream :: A pointer to the stream object.                          *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   ft_ansi_stream_close\n+   *\n+   * @Description:\n+   *   The function to close a stream.\n+   *\n+   * @Input:\n+   *   stream ::\n+   *     A pointer to the stream object.\n+   *\/\n@@ -178,22 +187,26 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    ft_ansi_stream_io                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    The function to open a stream.                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    stream :: A pointer to the stream object.                          *\/\n-  \/*                                                                       *\/\n-  \/*    offset :: The position in the data stream to start reading.        *\/\n-  \/*                                                                       *\/\n-  \/*    buffer :: The address of buffer to store the read data.            *\/\n-  \/*                                                                       *\/\n-  \/*    count  :: The number of bytes to read from the stream.             *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    The number of bytes actually read.  If `count' is zero (this is,   *\/\n-  \/*    the function is used for seeking), a non-zero return value         *\/\n-  \/*    indicates an error.                                                *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   ft_ansi_stream_io\n+   *\n+   * @Description:\n+   *   The function to open a stream.\n+   *\n+   * @Input:\n+   *   stream ::\n+   *     A pointer to the stream object.\n+   *\n+   *   offset ::\n+   *     The position in the data stream to start reading.\n+   *\n+   *   buffer ::\n+   *     The address of buffer to store the read data.\n+   *\n+   *   count ::\n+   *     The number of bytes to read from the stream.\n+   *\n+   * @Return:\n+   *   The number of bytes actually read.  If `count' is zero (this is,\n+   *   the function is used for seeking), a non-zero return value\n+   *   indicates an error.\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/base\/ftsystem.c","additions":147,"deletions":134,"binary":false,"changes":281,"status":"modified"},{"patch":"@@ -1,30 +1,30 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  fttrigon.c                                                             *\/\n-\/*                                                                         *\/\n-\/*    FreeType trigonometric functions (body).                             *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2001-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* This is a fixed-point CORDIC implementation of trigonometric          *\/\n-  \/* functions as well as transformations between Cartesian and polar      *\/\n-  \/* coordinates.  The angles are represented as 16.16 fixed-point values  *\/\n-  \/* in degrees, i.e., the angular resolution is 2^-16 degrees.  Note that *\/\n-  \/* only vectors longer than 2^16*180\/pi (or at least 22 bits) on a       *\/\n-  \/* discrete Cartesian grid can have the same or better angular           *\/\n-  \/* resolution.  Therefore, to maintain this precision, some functions    *\/\n-  \/* require an interim upscaling of the vectors, whereas others operate   *\/\n-  \/* with 24-bit long vectors directly.                                    *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * fttrigon.c\n+ *\n+ *   FreeType trigonometric functions (body).\n+ *\n+ * Copyright (C) 2001-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+  \/**************************************************************************\n+   *\n+   * This is a fixed-point CORDIC implementation of trigonometric\n+   * functions as well as transformations between Cartesian and polar\n+   * coordinates.  The angles are represented as 16.16 fixed-point values\n+   * in degrees, i.e., the angular resolution is 2^-16 degrees.  Note that\n+   * only vectors longer than 2^16*180\/pi (or at least 22 bits) on a\n+   * discrete Cartesian grid can have the same or better angular\n+   * resolution.  Therefore, to maintain this precision, some functions\n+   * require an interim upscaling of the vectors, whereas others operate\n+   * with 24-bit long vectors directly.\n+   *\n+   *\/\n@@ -328,1 +328,1 @@\n-    FT_Vector  v;\n+    FT_Vector  v = { 1 << 24, 0 };\n@@ -331,1 +331,1 @@\n-    FT_Vector_Unit( &v, angle );\n+    ft_trig_pseudo_rotate( &v, angle );\n@@ -375,8 +375,0 @@\n-  \/* these macros return 0 for positive numbers,\n-     and -1 for negative ones *\/\n-#define FT_SIGN_LONG( x )   ( (x) >> ( FT_SIZEOF_LONG * 8 - 1 ) )\n-#define FT_SIGN_INT( x )    ( (x) >> ( FT_SIZEOF_INT * 8 - 1 ) )\n-#define FT_SIGN_INT32( x )  ( (x) >> 31 )\n-#define FT_SIGN_INT16( x )  ( (x) >> 15 )\n-\n-\n@@ -411,2 +403,2 @@\n-      vec->x = ( v.x + half + FT_SIGN_LONG( v.x ) ) >> shift;\n-      vec->y = ( v.y + half + FT_SIGN_LONG( v.y ) ) >> shift;\n+      vec->x = ( v.x + half - ( v.x < 0 ) ) >> shift;\n+      vec->y = ( v.y + half - ( v.y < 0 ) ) >> shift;\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/base\/fttrigon.c","additions":34,"deletions":42,"binary":false,"changes":76,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  fttype1.c                                                              *\/\n-\/*                                                                         *\/\n-\/*    FreeType utility file for PS names support (body).                   *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2002-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * fttype1.c\n+ *\n+ *   FreeType utility file for PS names support (body).\n+ *\n+ * Copyright (C) 2002-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/base\/fttype1.c","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftutil.c                                                               *\/\n-\/*                                                                         *\/\n-\/*    FreeType utility file for memory and list management (body).         *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2002-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftutil.c\n+ *\n+ *   FreeType utility file for memory and list management (body).\n+ *\n+ * Copyright (C) 2002-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -26,6 +26,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -33,1 +33,1 @@\n-#define FT_COMPONENT  trace_memory\n+#define FT_COMPONENT  memory\n@@ -57,1 +57,1 @@\n-    if ( !error && size > 0 )\n+    if ( !error && block && size > 0 )\n@@ -104,1 +104,1 @@\n-    if ( !error && new_count > cur_count )\n+    if ( !error && block && new_count > cur_count )\n@@ -188,1 +188,1 @@\n-    if ( !error && address )\n+    if ( !error && address && size > 0 )\n@@ -239,1 +239,1 @@\n-#define FT_COMPONENT  trace_list\n+#define FT_COMPONENT  list\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/base\/ftutil.c","additions":27,"deletions":27,"binary":false,"changes":54,"status":"modified"},{"patch":"@@ -1,291 +0,0 @@\n-\/*\n- * This is an OpenSSL-compatible implementation of the RSA Data Security, Inc.\n- * MD5 Message-Digest Algorithm (RFC 1321).\n- *\n- * Homepage:\n- * http:\/\/openwall.info\/wiki\/people\/solar\/software\/public-domain-source-code\/md5\n- *\n- * Author:\n- * Alexander Peslyak, better known as Solar Designer <solar at openwall.com>\n- *\n- * This software was written by Alexander Peslyak in 2001.  No copyright is\n- * claimed, and the software is hereby placed in the public domain.\n- * In case this attempt to disclaim copyright and place the software in the\n- * public domain is deemed null and void, then the software is\n- * Copyright (c) 2001 Alexander Peslyak and it is hereby released to the\n- * general public under the following terms:\n- *\n- * Redistribution and use in source and binary forms, with or without\n- * modification, are permitted.\n- *\n- * There's ABSOLUTELY NO WARRANTY, express or implied.\n- *\n- * (This is a heavily cut-down \"BSD license\".)\n- *\n- * This differs from Colin Plumb's older public domain implementation in that\n- * no exactly 32-bit integer data type is required (any 32-bit or wider\n- * unsigned integer data type will do), there's no compile-time endianness\n- * configuration, and the function prototypes match OpenSSL's.  No code from\n- * Colin Plumb's implementation has been reused; this comment merely compares\n- * the properties of the two independent implementations.\n- *\n- * The primary goals of this implementation are portability and ease of use.\n- * It is meant to be fast, but not as fast as possible.  Some known\n- * optimizations are not included to reduce source code size and avoid\n- * compile-time configuration.\n- *\/\n-\n-#ifndef HAVE_OPENSSL\n-\n-#include <string.h>\n-\n-#include \"md5.h\"\n-\n-\/*\n- * The basic MD5 functions.\n- *\n- * F and G are optimized compared to their RFC 1321 definitions for\n- * architectures that lack an AND-NOT instruction, just like in Colin Plumb's\n- * implementation.\n- *\/\n-#define F(x, y, z)                      ((z) ^ ((x) & ((y) ^ (z))))\n-#define G(x, y, z)                      ((y) ^ ((z) & ((x) ^ (y))))\n-#define H(x, y, z)                      (((x) ^ (y)) ^ (z))\n-#define H2(x, y, z)                     ((x) ^ ((y) ^ (z)))\n-#define I(x, y, z)                      ((y) ^ ((x) | ~(z)))\n-\n-\/*\n- * The MD5 transformation for all four rounds.\n- *\/\n-#define STEP(f, a, b, c, d, x, t, s) \\\n-        (a) += f((b), (c), (d)) + (x) + (t); \\\n-        (a) = (((a) << (s)) | (((a) & 0xffffffff) >> (32 - (s)))); \\\n-        (a) += (b);\n-\n-\/*\n- * SET reads 4 input bytes in little-endian byte order and stores them in a\n- * properly aligned word in host byte order.\n- *\n- * The check for little-endian architectures that tolerate unaligned memory\n- * accesses is just an optimization.  Nothing will break if it fails to detect\n- * a suitable architecture.\n- *\n- * Unfortunately, this optimization may be a C strict aliasing rules violation\n- * if the caller's data buffer has effective type that cannot be aliased by\n- * MD5_u32plus.  In practice, this problem may occur if these MD5 routines are\n- * inlined into a calling function, or with future and dangerously advanced\n- * link-time optimizations.  For the time being, keeping these MD5 routines in\n- * their own translation unit avoids the problem.\n- *\/\n-#if defined(__i386__) || defined(__x86_64__) || defined(__vax__)\n-#define SET(n) \\\n-        (*(MD5_u32plus *)&ptr[(n) * 4])\n-#define GET(n) \\\n-        SET(n)\n-#else\n-#define SET(n) \\\n-        (ctx->block[(n)] = \\\n-        (MD5_u32plus)ptr[(n) * 4] | \\\n-        ((MD5_u32plus)ptr[(n) * 4 + 1] << 8) | \\\n-        ((MD5_u32plus)ptr[(n) * 4 + 2] << 16) | \\\n-        ((MD5_u32plus)ptr[(n) * 4 + 3] << 24))\n-#define GET(n) \\\n-        (ctx->block[(n)])\n-#endif\n-\n-\/*\n- * This processes one or more 64-byte data blocks, but does NOT update the bit\n- * counters.  There are no alignment requirements.\n- *\/\n-static const void *body(MD5_CTX *ctx, const void *data, unsigned long size)\n-{\n-        const unsigned char *ptr;\n-        MD5_u32plus a, b, c, d;\n-        MD5_u32plus saved_a, saved_b, saved_c, saved_d;\n-\n-        ptr = (const unsigned char *)data;\n-\n-        a = ctx->a;\n-        b = ctx->b;\n-        c = ctx->c;\n-        d = ctx->d;\n-\n-        do {\n-                saved_a = a;\n-                saved_b = b;\n-                saved_c = c;\n-                saved_d = d;\n-\n-\/* Round 1 *\/\n-                STEP(F, a, b, c, d, SET(0), 0xd76aa478, 7)\n-                STEP(F, d, a, b, c, SET(1), 0xe8c7b756, 12)\n-                STEP(F, c, d, a, b, SET(2), 0x242070db, 17)\n-                STEP(F, b, c, d, a, SET(3), 0xc1bdceee, 22)\n-                STEP(F, a, b, c, d, SET(4), 0xf57c0faf, 7)\n-                STEP(F, d, a, b, c, SET(5), 0x4787c62a, 12)\n-                STEP(F, c, d, a, b, SET(6), 0xa8304613, 17)\n-                STEP(F, b, c, d, a, SET(7), 0xfd469501, 22)\n-                STEP(F, a, b, c, d, SET(8), 0x698098d8, 7)\n-                STEP(F, d, a, b, c, SET(9), 0x8b44f7af, 12)\n-                STEP(F, c, d, a, b, SET(10), 0xffff5bb1, 17)\n-                STEP(F, b, c, d, a, SET(11), 0x895cd7be, 22)\n-                STEP(F, a, b, c, d, SET(12), 0x6b901122, 7)\n-                STEP(F, d, a, b, c, SET(13), 0xfd987193, 12)\n-                STEP(F, c, d, a, b, SET(14), 0xa679438e, 17)\n-                STEP(F, b, c, d, a, SET(15), 0x49b40821, 22)\n-\n-\/* Round 2 *\/\n-                STEP(G, a, b, c, d, GET(1), 0xf61e2562, 5)\n-                STEP(G, d, a, b, c, GET(6), 0xc040b340, 9)\n-                STEP(G, c, d, a, b, GET(11), 0x265e5a51, 14)\n-                STEP(G, b, c, d, a, GET(0), 0xe9b6c7aa, 20)\n-                STEP(G, a, b, c, d, GET(5), 0xd62f105d, 5)\n-                STEP(G, d, a, b, c, GET(10), 0x02441453, 9)\n-                STEP(G, c, d, a, b, GET(15), 0xd8a1e681, 14)\n-                STEP(G, b, c, d, a, GET(4), 0xe7d3fbc8, 20)\n-                STEP(G, a, b, c, d, GET(9), 0x21e1cde6, 5)\n-                STEP(G, d, a, b, c, GET(14), 0xc33707d6, 9)\n-                STEP(G, c, d, a, b, GET(3), 0xf4d50d87, 14)\n-                STEP(G, b, c, d, a, GET(8), 0x455a14ed, 20)\n-                STEP(G, a, b, c, d, GET(13), 0xa9e3e905, 5)\n-                STEP(G, d, a, b, c, GET(2), 0xfcefa3f8, 9)\n-                STEP(G, c, d, a, b, GET(7), 0x676f02d9, 14)\n-                STEP(G, b, c, d, a, GET(12), 0x8d2a4c8a, 20)\n-\n-\/* Round 3 *\/\n-                STEP(H, a, b, c, d, GET(5), 0xfffa3942, 4)\n-                STEP(H2, d, a, b, c, GET(8), 0x8771f681, 11)\n-                STEP(H, c, d, a, b, GET(11), 0x6d9d6122, 16)\n-                STEP(H2, b, c, d, a, GET(14), 0xfde5380c, 23)\n-                STEP(H, a, b, c, d, GET(1), 0xa4beea44, 4)\n-                STEP(H2, d, a, b, c, GET(4), 0x4bdecfa9, 11)\n-                STEP(H, c, d, a, b, GET(7), 0xf6bb4b60, 16)\n-                STEP(H2, b, c, d, a, GET(10), 0xbebfbc70, 23)\n-                STEP(H, a, b, c, d, GET(13), 0x289b7ec6, 4)\n-                STEP(H2, d, a, b, c, GET(0), 0xeaa127fa, 11)\n-                STEP(H, c, d, a, b, GET(3), 0xd4ef3085, 16)\n-                STEP(H2, b, c, d, a, GET(6), 0x04881d05, 23)\n-                STEP(H, a, b, c, d, GET(9), 0xd9d4d039, 4)\n-                STEP(H2, d, a, b, c, GET(12), 0xe6db99e5, 11)\n-                STEP(H, c, d, a, b, GET(15), 0x1fa27cf8, 16)\n-                STEP(H2, b, c, d, a, GET(2), 0xc4ac5665, 23)\n-\n-\/* Round 4 *\/\n-                STEP(I, a, b, c, d, GET(0), 0xf4292244, 6)\n-                STEP(I, d, a, b, c, GET(7), 0x432aff97, 10)\n-                STEP(I, c, d, a, b, GET(14), 0xab9423a7, 15)\n-                STEP(I, b, c, d, a, GET(5), 0xfc93a039, 21)\n-                STEP(I, a, b, c, d, GET(12), 0x655b59c3, 6)\n-                STEP(I, d, a, b, c, GET(3), 0x8f0ccc92, 10)\n-                STEP(I, c, d, a, b, GET(10), 0xffeff47d, 15)\n-                STEP(I, b, c, d, a, GET(1), 0x85845dd1, 21)\n-                STEP(I, a, b, c, d, GET(8), 0x6fa87e4f, 6)\n-                STEP(I, d, a, b, c, GET(15), 0xfe2ce6e0, 10)\n-                STEP(I, c, d, a, b, GET(6), 0xa3014314, 15)\n-                STEP(I, b, c, d, a, GET(13), 0x4e0811a1, 21)\n-                STEP(I, a, b, c, d, GET(4), 0xf7537e82, 6)\n-                STEP(I, d, a, b, c, GET(11), 0xbd3af235, 10)\n-                STEP(I, c, d, a, b, GET(2), 0x2ad7d2bb, 15)\n-                STEP(I, b, c, d, a, GET(9), 0xeb86d391, 21)\n-\n-                a += saved_a;\n-                b += saved_b;\n-                c += saved_c;\n-                d += saved_d;\n-\n-                ptr += 64;\n-        } while (size -= 64);\n-\n-        ctx->a = a;\n-        ctx->b = b;\n-        ctx->c = c;\n-        ctx->d = d;\n-\n-        return ptr;\n-}\n-\n-void MD5_Init(MD5_CTX *ctx)\n-{\n-        ctx->a = 0x67452301;\n-        ctx->b = 0xefcdab89;\n-        ctx->c = 0x98badcfe;\n-        ctx->d = 0x10325476;\n-\n-        ctx->lo = 0;\n-        ctx->hi = 0;\n-}\n-\n-void MD5_Update(MD5_CTX *ctx, const void *data, unsigned long size)\n-{\n-        MD5_u32plus saved_lo;\n-        unsigned long used, available;\n-\n-        saved_lo = ctx->lo;\n-        if ((ctx->lo = (saved_lo + size) & 0x1fffffff) < saved_lo)\n-                ctx->hi++;\n-        ctx->hi += size >> 29;\n-\n-        used = saved_lo & 0x3f;\n-\n-        if (used) {\n-                available = 64 - used;\n-\n-                if (size < available) {\n-                        memcpy(&ctx->buffer[used], data, size);\n-                        return;\n-                }\n-\n-                memcpy(&ctx->buffer[used], data, available);\n-                data = (const unsigned char *)data + available;\n-                size -= available;\n-                body(ctx, ctx->buffer, 64);\n-        }\n-\n-        if (size >= 64) {\n-                data = body(ctx, data, size & ~(unsigned long)0x3f);\n-                size &= 0x3f;\n-        }\n-\n-        memcpy(ctx->buffer, data, size);\n-}\n-\n-#define OUT(dst, src) \\\n-        (dst)[0] = (unsigned char)(src); \\\n-        (dst)[1] = (unsigned char)((src) >> 8); \\\n-        (dst)[2] = (unsigned char)((src) >> 16); \\\n-        (dst)[3] = (unsigned char)((src) >> 24);\n-\n-void MD5_Final(unsigned char *result, MD5_CTX *ctx)\n-{\n-        unsigned long used, available;\n-\n-        used = ctx->lo & 0x3f;\n-\n-        ctx->buffer[used++] = 0x80;\n-\n-        available = 64 - used;\n-\n-        if (available < 8) {\n-                memset(&ctx->buffer[used], 0, available);\n-                body(ctx, ctx->buffer, 64);\n-                used = 0;\n-                available = 64;\n-        }\n-\n-        memset(&ctx->buffer[used], 0, available - 8);\n-\n-        ctx->lo <<= 3;\n-        OUT(&ctx->buffer[56], ctx->lo)\n-        OUT(&ctx->buffer[60], ctx->hi)\n-\n-        body(ctx, ctx->buffer, 64);\n-\n-        OUT(&result[0], ctx->a)\n-        OUT(&result[4], ctx->b)\n-        OUT(&result[8], ctx->c)\n-        OUT(&result[12], ctx->d)\n-\n-        memset(ctx, 0, sizeof(*ctx));\n-}\n-\n-#endif\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/base\/md5.c","additions":0,"deletions":291,"binary":false,"changes":291,"status":"deleted"},{"patch":"@@ -1,45 +0,0 @@\n-\/*\n- * This is an OpenSSL-compatible implementation of the RSA Data Security, Inc.\n- * MD5 Message-Digest Algorithm (RFC 1321).\n- *\n- * Homepage:\n- * http:\/\/openwall.info\/wiki\/people\/solar\/software\/public-domain-source-code\/md5\n- *\n- * Author:\n- * Alexander Peslyak, better known as Solar Designer <solar at openwall.com>\n- *\n- * This software was written by Alexander Peslyak in 2001.  No copyright is\n- * claimed, and the software is hereby placed in the public domain.\n- * In case this attempt to disclaim copyright and place the software in the\n- * public domain is deemed null and void, then the software is\n- * Copyright (c) 2001 Alexander Peslyak and it is hereby released to the\n- * general public under the following terms:\n- *\n- * Redistribution and use in source and binary forms, with or without\n- * modification, are permitted.\n- *\n- * There's ABSOLUTELY NO WARRANTY, express or implied.\n- *\n- * See md5.c for more information.\n- *\/\n-\n-#ifdef HAVE_OPENSSL\n-#include <openssl\/md5.h>\n-#elif !defined(_MD5_H)\n-#define _MD5_H\n-\n-\/* Any 32-bit or wider unsigned integer data type will do *\/\n-typedef unsigned int MD5_u32plus;\n-\n-typedef struct {\n-        MD5_u32plus lo, hi;\n-        MD5_u32plus a, b, c, d;\n-        unsigned char buffer[64];\n-        MD5_u32plus block[16];\n-} MD5_CTX;\n-\n-extern void MD5_Init(MD5_CTX *ctx);\n-extern void MD5_Update(MD5_CTX *ctx, const void *data, unsigned long size);\n-extern void MD5_Final(unsigned char *result, MD5_CTX *ctx);\n-\n-#endif\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/base\/md5.h","additions":0,"deletions":45,"binary":false,"changes":45,"status":"deleted"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  cffcmap.c                                                              *\/\n-\/*                                                                         *\/\n-\/*    CFF character mapping table (cmap) support (body).                   *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2002-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * cffcmap.c\n+ *\n+ *   CFF character mapping table (cmap) support (body).\n+ *\n+ * Copyright (C) 2002-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -164,0 +164,3 @@\n+    if ( !psnames->unicodes_init )\n+      return FT_THROW( Unimplemented_Feature );\n+\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/cff\/cffcmap.c","additions":19,"deletions":16,"binary":false,"changes":35,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  cffcmap.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    CFF character mapping table (cmap) support (specification).          *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2002-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * cffcmap.h\n+ *\n+ *   CFF character mapping table (cmap) support (specification).\n+ *\n+ * Copyright (C) 2002-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/cff\/cffcmap.h","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  cffdrivr.c                                                             *\/\n-\/*                                                                         *\/\n-\/*    OpenType font driver implementation (body).                          *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * cffdrivr.c\n+ *\n+ *   OpenType font driver implementation (body).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -45,1 +45,0 @@\n-#include \"cffpic.h\"\n@@ -53,6 +52,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -60,1 +59,1 @@\n-#define FT_COMPONENT  trace_cffdriver\n+#define FT_COMPONENT  cffdriver\n@@ -76,32 +75,36 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    cff_get_kerning                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A driver method used to return the kerning vector between two      *\/\n-  \/*    glyphs of the same face.                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face        :: A handle to the source face object.                 *\/\n-  \/*                                                                       *\/\n-  \/*    left_glyph  :: The index of the left glyph in the kern pair.       *\/\n-  \/*                                                                       *\/\n-  \/*    right_glyph :: The index of the right glyph in the kern pair.      *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    kerning     :: The kerning vector.  This is in font units for      *\/\n-  \/*                   scalable formats, and in pixels for fixed-sizes     *\/\n-  \/*                   formats.                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    Only horizontal layouts (left-to-right & right-to-left) are        *\/\n-  \/*    supported by this function.  Other layouts, or more sophisticated  *\/\n-  \/*    kernings, are out of scope of this method (the basic driver        *\/\n-  \/*    interface is meant to be simple).                                  *\/\n-  \/*                                                                       *\/\n-  \/*    They can be implemented by format-specific interfaces.             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   cff_get_kerning\n+   *\n+   * @Description:\n+   *   A driver method used to return the kerning vector between two\n+   *   glyphs of the same face.\n+   *\n+   * @Input:\n+   *   face ::\n+   *     A handle to the source face object.\n+   *\n+   *   left_glyph ::\n+   *     The index of the left glyph in the kern pair.\n+   *\n+   *   right_glyph ::\n+   *     The index of the right glyph in the kern pair.\n+   *\n+   * @Output:\n+   *   kerning ::\n+   *     The kerning vector.  This is in font units for\n+   *     scalable formats, and in pixels for fixed-sizes\n+   *     formats.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\n+   * @Note:\n+   *   Only horizontal layouts (left-to-right & right-to-left) are\n+   *   supported by this function.  Other layouts, or more sophisticated\n+   *   kernings, are out of scope of this method (the basic driver\n+   *   interface is meant to be simple).\n+   *\n+   *   They can be implemented by format-specific interfaces.\n+   *\/\n@@ -128,26 +131,30 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    cff_glyph_load                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A driver method used to load a glyph within a given glyph slot.    *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    slot        :: A handle to the target slot object where the glyph  *\/\n-  \/*                   will be loaded.                                     *\/\n-  \/*                                                                       *\/\n-  \/*    size        :: A handle to the source face size at which the glyph *\/\n-  \/*                   must be scaled, loaded, etc.                        *\/\n-  \/*                                                                       *\/\n-  \/*    glyph_index :: The index of the glyph in the font file.            *\/\n-  \/*                                                                       *\/\n-  \/*    load_flags  :: A flag indicating what to load for this glyph.  The *\/\n-  \/*                   FT_LOAD_??? constants can be used to control the    *\/\n-  \/*                   glyph loading process (e.g., whether the outline    *\/\n-  \/*                   should be scaled, whether to load bitmaps or not,   *\/\n-  \/*                   whether to hint the outline, etc).                  *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   cff_glyph_load\n+   *\n+   * @Description:\n+   *   A driver method used to load a glyph within a given glyph slot.\n+   *\n+   * @Input:\n+   *   slot ::\n+   *     A handle to the target slot object where the glyph\n+   *     will be loaded.\n+   *\n+   *   size ::\n+   *     A handle to the source face size at which the glyph\n+   *     must be scaled, loaded, etc.\n+   *\n+   *   glyph_index ::\n+   *     The index of the glyph in the font file.\n+   *\n+   *   load_flags ::\n+   *     A flag indicating what to load for this glyph.  The\n+   *     FT_LOAD_??? constants can be used to control the\n+   *     glyph loading process (e.g., whether the outline\n+   *     should be scaled, whether to load bitmaps or not,\n+   *     whether to hint the outline, etc).\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -305,1 +312,1 @@\n-   *  GLYPH DICT SERVICE\n+   * GLYPH DICT SERVICE\n@@ -344,1 +351,1 @@\n-                   \" without the `PSNames' module\\n\" ));\n+                   \" without the `psnames' module\\n\" ));\n@@ -355,1 +362,1 @@\n-                 \" without the `PSNames' module\\n\" ));\n+                 \" without the `psnames' module\\n\" ));\n@@ -411,1 +418,1 @@\n-                   \" without the `PSNames' module\\n\" ));\n+                   \" without the `psnames' module\\n\" ));\n@@ -449,1 +456,1 @@\n-   *  POSTSCRIPT INFO SERVICE\n+   * POSTSCRIPT INFO SERVICE\n@@ -596,1 +603,1 @@\n-   *  POSTSCRIPT NAME SERVICE\n+   * POSTSCRIPT NAME SERVICE\n@@ -657,2 +664,2 @@\n-    if ( cmap->clazz != &CFF_CMAP_ENCODING_CLASS_REC_GET &&\n-         cmap->clazz != &CFF_CMAP_UNICODE_CLASS_REC_GET  )\n+    if ( cmap->clazz != &cff_cmap_encoding_class_rec &&\n+         cmap->clazz != &cff_cmap_unicode_class_rec  )\n@@ -685,1 +692,1 @@\n-   *  CID INFO SERVICE\n+   * CID INFO SERVICE\n@@ -791,1 +798,1 @@\n-      if ( glyph_index > cff->num_glyphs )\n+      if ( glyph_index >= cff->num_glyphs )\n@@ -821,1 +828,1 @@\n-   *  PROPERTY SERVICE\n+   * PROPERTY SERVICE\n@@ -835,1 +842,1 @@\n-   *  MULTIPLE MASTER SERVICE\n+   * MULTIPLE MASTER SERVICE\n@@ -863,0 +870,24 @@\n+  static FT_Error\n+  cff_set_mm_weightvector( CFF_Face   face,\n+                           FT_UInt    len,\n+                           FT_Fixed*  weightvector )\n+  {\n+    FT_Service_MultiMasters  mm = (FT_Service_MultiMasters)face->mm;\n+\n+\n+    return mm->set_mm_weightvector( FT_FACE( face ), len, weightvector );\n+  }\n+\n+\n+  static FT_Error\n+  cff_get_mm_weightvector( CFF_Face   face,\n+                           FT_UInt*   len,\n+                           FT_Fixed*  weightvector )\n+  {\n+    FT_Service_MultiMasters  mm = (FT_Service_MultiMasters)face->mm;\n+\n+\n+    return mm->get_mm_weightvector( FT_FACE( face ), len, weightvector );\n+  }\n+\n+\n@@ -912,11 +943,13 @@\n-    (FT_Get_MM_Func)        NULL,                   \/* get_mm         *\/\n-    (FT_Set_MM_Design_Func) NULL,                   \/* set_mm_design  *\/\n-    (FT_Set_MM_Blend_Func)  cff_set_mm_blend,       \/* set_mm_blend   *\/\n-    (FT_Get_MM_Blend_Func)  cff_get_mm_blend,       \/* get_mm_blend   *\/\n-    (FT_Get_MM_Var_Func)    cff_get_mm_var,         \/* get_mm_var     *\/\n-    (FT_Set_Var_Design_Func)cff_set_var_design,     \/* set_var_design *\/\n-    (FT_Get_Var_Design_Func)cff_get_var_design,     \/* get_var_design *\/\n-    (FT_Set_Instance_Func)  cff_set_instance,       \/* set_instance   *\/\n-\n-    (FT_Get_Var_Blend_Func) cff_get_var_blend,      \/* get_var_blend  *\/\n-    (FT_Done_Blend_Func)    cff_done_blend          \/* done_blend     *\/\n+    (FT_Get_MM_Func)             NULL,                    \/* get_mm              *\/\n+    (FT_Set_MM_Design_Func)      NULL,                    \/* set_mm_design       *\/\n+    (FT_Set_MM_Blend_Func)       cff_set_mm_blend,        \/* set_mm_blend        *\/\n+    (FT_Get_MM_Blend_Func)       cff_get_mm_blend,        \/* get_mm_blend        *\/\n+    (FT_Get_MM_Var_Func)         cff_get_mm_var,          \/* get_mm_var          *\/\n+    (FT_Set_Var_Design_Func)     cff_set_var_design,      \/* set_var_design      *\/\n+    (FT_Get_Var_Design_Func)     cff_get_var_design,      \/* get_var_design      *\/\n+    (FT_Set_Instance_Func)       cff_set_instance,        \/* set_instance        *\/\n+    (FT_Set_MM_WeightVector_Func)cff_set_mm_weightvector, \/* set_mm_weightvector *\/\n+    (FT_Get_MM_WeightVector_Func)cff_get_mm_weightvector, \/* get_mm_weightvector *\/\n+\n+    (FT_Get_Var_Blend_Func)      cff_get_var_blend,       \/* get_var_blend       *\/\n+    (FT_Done_Blend_Func)         cff_done_blend           \/* done_blend          *\/\n@@ -927,1 +960,1 @@\n-   *  METRICS VARIATIONS SERVICE\n+   * METRICS VARIATIONS SERVICE\n@@ -971,1 +1004,1 @@\n-   *  CFFLOAD SERVICE\n+   * CFFLOAD SERVICE\n@@ -1004,9 +1037,9 @@\n-    FT_SERVICE_ID_MULTI_MASTERS,        &CFF_SERVICE_MULTI_MASTERS_GET,\n-    FT_SERVICE_ID_METRICS_VARIATIONS,   &CFF_SERVICE_METRICS_VAR_GET,\n-    FT_SERVICE_ID_POSTSCRIPT_INFO,      &CFF_SERVICE_PS_INFO_GET,\n-    FT_SERVICE_ID_POSTSCRIPT_FONT_NAME, &CFF_SERVICE_PS_NAME_GET,\n-    FT_SERVICE_ID_GLYPH_DICT,           &CFF_SERVICE_GLYPH_DICT_GET,\n-    FT_SERVICE_ID_TT_CMAP,              &CFF_SERVICE_GET_CMAP_INFO_GET,\n-    FT_SERVICE_ID_CID,                  &CFF_SERVICE_CID_INFO_GET,\n-    FT_SERVICE_ID_PROPERTIES,           &CFF_SERVICE_PROPERTIES_GET,\n-    FT_SERVICE_ID_CFF_LOAD,             &CFF_SERVICE_CFF_LOAD_GET\n+    FT_SERVICE_ID_MULTI_MASTERS,        &cff_service_multi_masters,\n+    FT_SERVICE_ID_METRICS_VARIATIONS,   &cff_service_metrics_variations,\n+    FT_SERVICE_ID_POSTSCRIPT_INFO,      &cff_service_ps_info,\n+    FT_SERVICE_ID_POSTSCRIPT_FONT_NAME, &cff_service_ps_name,\n+    FT_SERVICE_ID_GLYPH_DICT,           &cff_service_glyph_dict,\n+    FT_SERVICE_ID_TT_CMAP,              &cff_service_get_cmap_info,\n+    FT_SERVICE_ID_CID,                  &cff_service_cid_info,\n+    FT_SERVICE_ID_PROPERTIES,           &cff_service_properties,\n+    FT_SERVICE_ID_CFF_LOAD,             &cff_service_cff_load\n@@ -1019,7 +1052,7 @@\n-    FT_SERVICE_ID_POSTSCRIPT_INFO,      &CFF_SERVICE_PS_INFO_GET,\n-    FT_SERVICE_ID_POSTSCRIPT_FONT_NAME, &CFF_SERVICE_PS_NAME_GET,\n-    FT_SERVICE_ID_GLYPH_DICT,           &CFF_SERVICE_GLYPH_DICT_GET,\n-    FT_SERVICE_ID_TT_CMAP,              &CFF_SERVICE_GET_CMAP_INFO_GET,\n-    FT_SERVICE_ID_CID,                  &CFF_SERVICE_CID_INFO_GET,\n-    FT_SERVICE_ID_PROPERTIES,           &CFF_SERVICE_PROPERTIES_GET,\n-    FT_SERVICE_ID_CFF_LOAD,             &CFF_SERVICE_CFF_LOAD_GET\n+    FT_SERVICE_ID_POSTSCRIPT_INFO,      &cff_service_ps_info,\n+    FT_SERVICE_ID_POSTSCRIPT_FONT_NAME, &cff_service_ps_name,\n+    FT_SERVICE_ID_GLYPH_DICT,           &cff_service_glyph_dict,\n+    FT_SERVICE_ID_TT_CMAP,              &cff_service_get_cmap_info,\n+    FT_SERVICE_ID_CID,                  &cff_service_cid_info,\n+    FT_SERVICE_ID_PROPERTIES,           &cff_service_properties,\n+    FT_SERVICE_ID_CFF_LOAD,             &cff_service_cff_load\n@@ -1032,8 +1065,8 @@\n-    FT_SERVICE_ID_MULTI_MASTERS,        &CFF_SERVICE_MULTI_MASTERS_GET,\n-    FT_SERVICE_ID_METRICS_VARIATIONS,   &CFF_SERVICE_METRICS_VAR_GET,\n-    FT_SERVICE_ID_POSTSCRIPT_INFO,      &CFF_SERVICE_PS_INFO_GET,\n-    FT_SERVICE_ID_POSTSCRIPT_FONT_NAME, &CFF_SERVICE_PS_NAME_GET,\n-    FT_SERVICE_ID_TT_CMAP,              &CFF_SERVICE_GET_CMAP_INFO_GET,\n-    FT_SERVICE_ID_CID,                  &CFF_SERVICE_CID_INFO_GET,\n-    FT_SERVICE_ID_PROPERTIES,           &CFF_SERVICE_PROPERTIES_GET,\n-    FT_SERVICE_ID_CFF_LOAD,             &CFF_SERVICE_CFF_LOAD_GET\n+    FT_SERVICE_ID_MULTI_MASTERS,        &cff_service_multi_masters,\n+    FT_SERVICE_ID_METRICS_VARIATIONS,   &cff_service_metrics_var,\n+    FT_SERVICE_ID_POSTSCRIPT_INFO,      &cff_service_ps_info,\n+    FT_SERVICE_ID_POSTSCRIPT_FONT_NAME, &cff_service_ps_name,\n+    FT_SERVICE_ID_TT_CMAP,              &cff_service_get_cmap_info,\n+    FT_SERVICE_ID_CID,                  &cff_service_cid_info,\n+    FT_SERVICE_ID_PROPERTIES,           &cff_service_properties,\n+    FT_SERVICE_ID_CFF_LOAD,             &cff_service_cff_load\n@@ -1046,6 +1079,6 @@\n-    FT_SERVICE_ID_POSTSCRIPT_INFO,      &CFF_SERVICE_PS_INFO_GET,\n-    FT_SERVICE_ID_POSTSCRIPT_FONT_NAME, &CFF_SERVICE_PS_NAME_GET,\n-    FT_SERVICE_ID_TT_CMAP,              &CFF_SERVICE_GET_CMAP_INFO_GET,\n-    FT_SERVICE_ID_CID,                  &CFF_SERVICE_CID_INFO_GET,\n-    FT_SERVICE_ID_PROPERTIES,           &CFF_SERVICE_PROPERTIES_GET,\n-    FT_SERVICE_ID_CFF_LOAD,             &CFF_SERVICE_CFF_LOAD_GET\n+    FT_SERVICE_ID_POSTSCRIPT_INFO,      &cff_service_ps_info,\n+    FT_SERVICE_ID_POSTSCRIPT_FONT_NAME, &cff_service_ps_name,\n+    FT_SERVICE_ID_TT_CMAP,              &cff_service_get_cmap_info,\n+    FT_SERVICE_ID_CID,                  &cff_service_cid_info,\n+    FT_SERVICE_ID_PROPERTIES,           &cff_service_properties,\n+    FT_SERVICE_ID_CFF_LOAD,             &cff_service_cff_load\n@@ -1065,10 +1098,1 @@\n-    \/* CFF_SERVICES_GET dereferences `library' in PIC mode *\/\n-#ifdef FT_CONFIG_OPTION_PIC\n-    if ( !driver )\n-      return NULL;\n-    library = driver->library;\n-    if ( !library )\n-      return NULL;\n-#endif\n-\n-    result = ft_service_list_lookup( CFF_SERVICES_GET, module_interface );\n+    result = ft_service_list_lookup( cff_services, module_interface );\n@@ -1078,2 +1102,1 @@\n-    \/* `driver' is not yet evaluated in non-PIC mode *\/\n-#ifndef FT_CONFIG_OPTION_PIC\n+    \/* `driver' is not yet evaluated *\/\n@@ -1085,1 +1108,0 @@\n-#endif\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/cff\/cffdrivr.c","additions":172,"deletions":150,"binary":false,"changes":322,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  cffdrivr.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    High-level OpenType driver interface (specification).                *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * cffdrivr.h\n+ *\n+ *   High-level OpenType driver interface (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -29,1 +29,0 @@\n-\n@@ -32,1 +31,0 @@\n-\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/cff\/cffdrivr.h","additions":16,"deletions":18,"binary":false,"changes":34,"status":"modified"},{"patch":"@@ -1,23 +1,23 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  cfferrs.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    CFF error codes (specification only).                                *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2001-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* This file is used to define the CFF error enumeration constants.      *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * cfferrs.h\n+ *\n+ *   CFF error codes (specification only).\n+ *\n+ * Copyright (C) 2001-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * This file is used to define the CFF error enumeration constants.\n+   *\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/cff\/cfferrs.h","additions":23,"deletions":23,"binary":false,"changes":46,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  cffgload.c                                                             *\/\n-\/*                                                                         *\/\n-\/*    OpenType Glyph Loader (body).                                        *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * cffgload.c\n+ *\n+ *   OpenType Glyph Loader (body).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -34,6 +34,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -41,1 +41,1 @@\n-#define FT_COMPONENT  trace_cffgload\n+#define FT_COMPONENT  cffgload\n@@ -283,2 +283,2 @@\n-          glyph->root.metrics.width  = (FT_Pos)metrics.width  << 6;\n-          glyph->root.metrics.height = (FT_Pos)metrics.height << 6;\n+          glyph->root.metrics.width  = (FT_Pos)metrics.width  * 64;\n+          glyph->root.metrics.height = (FT_Pos)metrics.height * 64;\n@@ -286,3 +286,3 @@\n-          glyph->root.metrics.horiBearingX = (FT_Pos)metrics.horiBearingX << 6;\n-          glyph->root.metrics.horiBearingY = (FT_Pos)metrics.horiBearingY << 6;\n-          glyph->root.metrics.horiAdvance  = (FT_Pos)metrics.horiAdvance  << 6;\n+          glyph->root.metrics.horiBearingX = (FT_Pos)metrics.horiBearingX * 64;\n+          glyph->root.metrics.horiBearingY = (FT_Pos)metrics.horiBearingY * 64;\n+          glyph->root.metrics.horiAdvance  = (FT_Pos)metrics.horiAdvance  * 64;\n@@ -290,3 +290,3 @@\n-          glyph->root.metrics.vertBearingX = (FT_Pos)metrics.vertBearingX << 6;\n-          glyph->root.metrics.vertBearingY = (FT_Pos)metrics.vertBearingY << 6;\n-          glyph->root.metrics.vertAdvance  = (FT_Pos)metrics.vertAdvance  << 6;\n+          glyph->root.metrics.vertBearingX = (FT_Pos)metrics.vertBearingX * 64;\n+          glyph->root.metrics.vertBearingY = (FT_Pos)metrics.vertBearingY * 64;\n+          glyph->root.metrics.vertAdvance  = (FT_Pos)metrics.vertAdvance  * 64;\n@@ -417,1 +417,1 @@\n-        (FT_Bool)( load_flags & FT_LOAD_NO_RECURSE );\n+        FT_BOOL( load_flags & FT_LOAD_NO_RECURSE );\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/cff\/cffgload.c","additions":32,"deletions":32,"binary":false,"changes":64,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  cffgload.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    OpenType Glyph Loader (specification).                               *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * cffgload.h\n+ *\n+ *   OpenType Glyph Loader (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/cff\/cffgload.h","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  cffload.c                                                              *\/\n-\/*                                                                         *\/\n-\/*    OpenType and CFF data\/program tables loader (body).                  *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * cffload.c\n+ *\n+ *   OpenType and CFF data\/program tables loader (body).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -199,6 +199,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -206,1 +206,1 @@\n-#define FT_COMPONENT  trace_cffload\n+#define FT_COMPONENT  cffload\n@@ -1401,1 +1401,8 @@\n-    FT_ASSERT( lenNDV == 0 || NDV );\n+    \/* protect against malformed fonts *\/\n+    if ( !( lenNDV == 0 || NDV ) )\n+    {\n+      FT_TRACE4(( \" cff_blend_build_vector:\"\n+                  \" Malformed Normalize Design Vector data\\n\" ));\n+      error = FT_THROW( Invalid_File_Format );\n+      goto Exit;\n+    }\n@@ -1936,0 +1943,18 @@\n+    \/* some sanitizing to avoid overflows later on; *\/\n+    \/* the upper limits are ad-hoc values           *\/\n+    if ( priv->blue_shift > 1000 || priv->blue_shift < 0 )\n+    {\n+      FT_TRACE2(( \"cff_load_private_dict:\"\n+                  \" setting unlikely BlueShift value %d to default (7)\\n\",\n+                  priv->blue_shift ));\n+      priv->blue_shift = 7;\n+    }\n+\n+    if ( priv->blue_fuzz > 1000 || priv->blue_fuzz < 0 )\n+    {\n+      FT_TRACE2(( \"cff_load_private_dict:\"\n+                  \" setting unlikely BlueFuzz value %d to default (1)\\n\",\n+                  priv->blue_fuzz ));\n+      priv->blue_fuzz = 1;\n+    }\n+\n@@ -2065,1 +2090,1 @@\n-       * . If we have a face-specific seed, use it.\n+       * - If we have a face-specific seed, use it.\n@@ -2068,1 +2093,1 @@\n-       * . Otherwise, use the seed from the CFF driver.\n+       * - Otherwise, use the seed from the CFF driver.\n@@ -2071,1 +2096,1 @@\n-       * . If the random value is zero, use the seed given by the subfont's\n+       * - If the random value is zero, use the seed given by the subfont's\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/cff\/cffload.c","additions":52,"deletions":27,"binary":false,"changes":79,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  cffload.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    OpenType & CFF data\/program tables loader (specification).           *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * cffload.h\n+ *\n+ *   OpenType & CFF data\/program tables loader (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/cff\/cffload.h","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  cffobjs.c                                                              *\/\n-\/*                                                                         *\/\n-\/*    OpenType objects manager (body).                                     *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * cffobjs.c\n+ *\n+ *   OpenType objects manager (body).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -40,1 +40,0 @@\n-#include \"cffpic.h\"\n@@ -48,6 +47,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -55,1 +54,1 @@\n-#define FT_COMPONENT  trace_cffobjs\n+#define FT_COMPONENT  cffobjs\n@@ -58,5 +57,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*                            SIZE FUNCTIONS                             *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   *                           SIZE FUNCTIONS\n+   *\n+   *\/\n@@ -344,5 +343,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*                            SLOT  FUNCTIONS                            *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   *                           SLOT  FUNCTIONS\n+   *\n+   *\/\n@@ -386,5 +385,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*                           FACE  FUNCTIONS                             *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   *                          FACE  FUNCTIONS\n+   *\n+   *\/\n@@ -648,1 +647,1 @@\n-      \/* we need the `PSNames' module for CFF and CEF formats *\/\n+      \/* we need the `psnames' module for CFF and CEF formats *\/\n@@ -655,1 +654,1 @@\n-                   \" without the `PSNames' module\\n\" ));\n+                   \" without the `psnames' module\\n\" ));\n@@ -968,4 +967,4 @@\n-        \/*******************************************************************\/\n-        \/*                                                                 *\/\n-        \/* Compute face flags.                                             *\/\n-        \/*                                                                 *\/\n+        \/********************************************************************\n+         *\n+         * Compute face flags.\n+         *\/\n@@ -992,4 +991,4 @@\n-        \/*******************************************************************\/\n-        \/*                                                                 *\/\n-        \/* Compute style flags.                                            *\/\n-        \/*                                                                 *\/\n+        \/********************************************************************\n+         *\n+         * Compute style flags.\n+         *\/\n@@ -1031,4 +1030,4 @@\n-      \/*******************************************************************\/\n-      \/*                                                                 *\/\n-      \/* Compute char maps.                                              *\/\n-      \/*                                                                 *\/\n+      \/********************************************************************\n+       *\n+       * Compute char maps.\n+       *\/\n@@ -1073,1 +1072,1 @@\n-        error = FT_CMap_New( &CFF_CMAP_UNICODE_CLASS_REC_GET, NULL,\n+        error = FT_CMap_New( &cff_cmap_unicode_class_rec, NULL,\n@@ -1076,1 +1075,2 @@\n-             FT_ERR_NEQ( error, No_Unicode_Glyph_Name ) )\n+             FT_ERR_NEQ( error, No_Unicode_Glyph_Name ) &&\n+             FT_ERR_NEQ( error, Unimplemented_Feature ) )\n@@ -1097,1 +1097,1 @@\n-            clazz               = &CFF_CMAP_ENCODING_CLASS_REC_GET;\n+            clazz               = &cff_cmap_encoding_class_rec;\n@@ -1103,1 +1103,1 @@\n-            clazz               = &CFF_CMAP_ENCODING_CLASS_REC_GET;\n+            clazz               = &cff_cmap_encoding_class_rec;\n@@ -1109,1 +1109,1 @@\n-            clazz               = &CFF_CMAP_ENCODING_CLASS_REC_GET;\n+            clazz               = &cff_cmap_encoding_class_rec;\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/cff\/cffobjs.c","additions":58,"deletions":58,"binary":false,"changes":116,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  cffobjs.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    OpenType objects manager (specification).                            *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * cffobjs.h\n+ *\n+ *   OpenType objects manager (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -54,4 +54,4 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Face functions                                                        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Face functions\n+   *\/\n@@ -69,4 +69,4 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Driver functions                                                      *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Driver functions\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/cff\/cffobjs.h","additions":24,"deletions":24,"binary":false,"changes":48,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  cffparse.c                                                             *\/\n-\/*                                                                         *\/\n-\/*    CFF token stream parser (body)                                       *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * cffparse.c\n+ *\n+ *   CFF token stream parser (body)\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -25,0 +25,1 @@\n+#include FT_LIST_H\n@@ -27,1 +28,0 @@\n-#include \"cffpic.h\"\n@@ -31,6 +31,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -38,1 +38,1 @@\n-#define FT_COMPONENT  trace_cffparse\n+#define FT_COMPONENT  cffparse\n@@ -608,1 +608,0 @@\n-    FT_Error         error  = FT_ERR( Stack_Underflow );\n@@ -620,2 +619,0 @@\n-      error = FT_Err_Ok;\n-\n@@ -650,2 +647,0 @@\n-        \/* Return default matrix in case of unlikely values. *\/\n-\n@@ -656,10 +651,1 @@\n-\n-        matrix->xx = 0x10000L;\n-        matrix->yx = 0;\n-        matrix->xy = 0;\n-        matrix->yy = 0x10000L;\n-        offset->x  = 0;\n-        offset->y  = 0;\n-        *upm       = 1;\n-\n-        goto Exit;\n+        goto Unlikely;\n@@ -712,0 +698,9 @@\n+\n+      if ( !FT_Matrix_Check( matrix ) )\n+      {\n+        FT_TRACE1(( \"cff_parse_font_matrix:\"\n+                    \" degenerate values, using default matrix\\n\" ));\n+        goto Unlikely;\n+      }\n+\n+      return FT_Err_Ok;\n@@ -713,0 +708,2 @@\n+    else\n+      return FT_THROW( Stack_Underflow );\n@@ -714,2 +711,12 @@\n-  Exit:\n-    return error;\n+  Unlikely:\n+    \/* Return default matrix in case of unlikely values. *\/\n+\n+    matrix->xx = 0x10000L;\n+    matrix->yx = 0;\n+    matrix->xy = 0;\n+    matrix->yy = 0x10000L;\n+    offset->x  = 0;\n+    offset->y  = 0;\n+    *upm       = 1;\n+\n+    return FT_Err_Ok;\n@@ -805,1 +812,1 @@\n-    if ( ft_trace_levels[FT_COMPONENT] < 4 )\n+    if ( ft_trace_levels[FT_TRACE_COMP( FT_COMPONENT )] < 4 )\n@@ -1006,3 +1013,0 @@\n-#ifndef FT_CONFIG_OPTION_PIC\n-\n-\n@@ -1121,6 +1125,5 @@\n-#else \/* FT_CONFIG_OPTION_PIC *\/\n-\n-\n-  void\n-  FT_Destroy_Class_cff_field_handlers( FT_Library          library,\n-                                       CFF_Field_Handler*  clazz )\n+#ifdef CFF_CONFIG_OPTION_OLD_ENGINE\n+  static void\n+  destruct_t2s_item( FT_Memory  memory,\n+                     void*      data,\n+                     void*      user )\n@@ -1128,5 +1131,2 @@\n-    FT_Memory  memory = library->memory;\n-\n-\n-    if ( clazz )\n-      FT_FREE( clazz );\n+    FT_UNUSED( user );\n+    memory->free( memory, data );\n@@ -1134,163 +1134,1 @@\n-\n-\n-  FT_Error\n-  FT_Create_Class_cff_field_handlers( FT_Library           library,\n-                                      CFF_Field_Handler**  output_class )\n-  {\n-    CFF_Field_Handler*  clazz  = NULL;\n-    FT_Error            error;\n-    FT_Memory           memory = library->memory;\n-\n-    int  i = 0;\n-\n-\n-#undef CFF_FIELD\n-#define CFF_FIELD( code, name, id, kind ) i++;\n-#undef CFF_FIELD_DELTA\n-#define CFF_FIELD_DELTA( code, name, max, id ) i++;\n-#undef CFF_FIELD_CALLBACK\n-#define CFF_FIELD_CALLBACK( code, name, id ) i++;\n-#undef CFF_FIELD_BLEND\n-#define CFF_FIELD_BLEND( code, id ) i++;\n-\n-#include \"cfftoken.h\"\n-\n-    i++; \/* { 0, 0, 0, 0, 0, 0, 0 } *\/\n-\n-    if ( FT_ALLOC( clazz, sizeof ( CFF_Field_Handler ) * i ) )\n-      return error;\n-\n-    i = 0;\n-\n-\n-#ifndef FT_DEBUG_LEVEL_TRACE\n-\n-\n-#undef CFF_FIELD_CALLBACK\n-#define CFF_FIELD_CALLBACK( code_, name_, id_ )        \\\n-          clazz[i].kind         = cff_kind_callback;   \\\n-          clazz[i].code         = code_ | CFFCODE;     \\\n-          clazz[i].offset       = 0;                   \\\n-          clazz[i].size         = 0;                   \\\n-          clazz[i].reader       = cff_parse_ ## name_; \\\n-          clazz[i].array_max    = 0;                   \\\n-          clazz[i].count_offset = 0;                   \\\n-          i++;\n-\n-#undef  CFF_FIELD\n-#define CFF_FIELD( code_, name_, id_, kind_ )               \\\n-          clazz[i].kind         = kind_;                    \\\n-          clazz[i].code         = code_ | CFFCODE;          \\\n-          clazz[i].offset       = FT_FIELD_OFFSET( name_ ); \\\n-          clazz[i].size         = FT_FIELD_SIZE( name_ );   \\\n-          clazz[i].reader       = 0;                        \\\n-          clazz[i].array_max    = 0;                        \\\n-          clazz[i].count_offset = 0;                        \\\n-          i++;                                              \\\n-\n-#undef  CFF_FIELD_DELTA\n-#define CFF_FIELD_DELTA( code_, name_, max_, id_ )                  \\\n-          clazz[i].kind         = cff_kind_delta;                   \\\n-          clazz[i].code         = code_ | CFFCODE;                  \\\n-          clazz[i].offset       = FT_FIELD_OFFSET( name_ );         \\\n-          clazz[i].size         = FT_FIELD_SIZE_DELTA( name_ );     \\\n-          clazz[i].reader       = 0;                                \\\n-          clazz[i].array_max    = max_;                             \\\n-          clazz[i].count_offset = FT_FIELD_OFFSET( num_ ## name_ ); \\\n-          i++;\n-\n-#undef  CFF_FIELD_BLEND\n-#define CFF_FIELD_BLEND( code_, id_ )              \\\n-          clazz[i].kind         = cff_kind_blend;  \\\n-          clazz[i].code         = code_ | CFFCODE; \\\n-          clazz[i].offset       = 0;               \\\n-          clazz[i].size         = 0;               \\\n-          clazz[i].reader       = cff_parse_blend; \\\n-          clazz[i].array_max    = 0;               \\\n-          clazz[i].count_offset = 0;               \\\n-          i++;\n-\n-#include \"cfftoken.h\"\n-\n-    clazz[i].kind         = 0;\n-    clazz[i].code         = 0;\n-    clazz[i].offset       = 0;\n-    clazz[i].size         = 0;\n-    clazz[i].reader       = 0;\n-    clazz[i].array_max    = 0;\n-    clazz[i].count_offset = 0;\n-\n-\n-#else \/* FT_DEBUG_LEVEL_TRACE *\/\n-\n-\n-#undef CFF_FIELD_CALLBACK\n-#define CFF_FIELD_CALLBACK( code_, name_, id_ )        \\\n-          clazz[i].kind         = cff_kind_callback;   \\\n-          clazz[i].code         = code_ | CFFCODE;     \\\n-          clazz[i].offset       = 0;                   \\\n-          clazz[i].size         = 0;                   \\\n-          clazz[i].reader       = cff_parse_ ## name_; \\\n-          clazz[i].array_max    = 0;                   \\\n-          clazz[i].count_offset = 0;                   \\\n-          clazz[i].id           = id_;                 \\\n-          i++;\n-\n-#undef  CFF_FIELD\n-#define CFF_FIELD( code_, name_, id_, kind_ )               \\\n-          clazz[i].kind         = kind_;                    \\\n-          clazz[i].code         = code_ | CFFCODE;          \\\n-          clazz[i].offset       = FT_FIELD_OFFSET( name_ ); \\\n-          clazz[i].size         = FT_FIELD_SIZE( name_ );   \\\n-          clazz[i].reader       = 0;                        \\\n-          clazz[i].array_max    = 0;                        \\\n-          clazz[i].count_offset = 0;                        \\\n-          clazz[i].id           = id_;                      \\\n-          i++;                                              \\\n-\n-#undef  CFF_FIELD_DELTA\n-#define CFF_FIELD_DELTA( code_, name_, max_, id_ )                  \\\n-          clazz[i].kind         = cff_kind_delta;                   \\\n-          clazz[i].code         = code_ | CFFCODE;                  \\\n-          clazz[i].offset       = FT_FIELD_OFFSET( name_ );         \\\n-          clazz[i].size         = FT_FIELD_SIZE_DELTA( name_ );     \\\n-          clazz[i].reader       = 0;                                \\\n-          clazz[i].array_max    = max_;                             \\\n-          clazz[i].count_offset = FT_FIELD_OFFSET( num_ ## name_ ); \\\n-          clazz[i].id           = id_;                              \\\n-          i++;\n-\n-#undef  CFF_FIELD_BLEND\n-#define CFF_FIELD_BLEND( code_, id_ )              \\\n-          clazz[i].kind         = cff_kind_blend;  \\\n-          clazz[i].code         = code_ | CFFCODE; \\\n-          clazz[i].offset       = 0;               \\\n-          clazz[i].size         = 0;               \\\n-          clazz[i].reader       = cff_parse_blend; \\\n-          clazz[i].array_max    = 0;               \\\n-          clazz[i].count_offset = 0;               \\\n-          clazz[i].id           = id_;             \\\n-          i++;\n-\n-#include \"cfftoken.h\"\n-\n-    clazz[i].kind         = 0;\n-    clazz[i].code         = 0;\n-    clazz[i].offset       = 0;\n-    clazz[i].size         = 0;\n-    clazz[i].reader       = 0;\n-    clazz[i].array_max    = 0;\n-    clazz[i].count_offset = 0;\n-    clazz[i].id           = 0;\n-\n-\n-#endif \/* FT_DEBUG_LEVEL_TRACE *\/\n-\n-\n-    *output_class = clazz;\n-\n-    return FT_Err_Ok;\n-  }\n-\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n+#endif \/* CFF_CONFIG_OPTION_OLD_ENGINE *\/\n@@ -1304,0 +1142,3 @@\n+    FT_Byte*  p     = start;\n+    FT_Error  error = FT_Err_Ok;\n+\n@@ -1306,1 +1147,0 @@\n-#endif\n@@ -1308,2 +1148,0 @@\n-    FT_Byte*    p       = start;\n-    FT_Error    error   = FT_Err_Ok;\n@@ -1311,0 +1149,1 @@\n+    FT_Memory   memory  = library->memory;\n@@ -1312,1 +1151,1 @@\n-    FT_UNUSED( library );\n+    FT_ListRec  t2s;\n@@ -1315,0 +1154,3 @@\n+    FT_ZERO( &t2s );\n+#endif\n+\n@@ -1324,0 +1166,1 @@\n+\n@@ -1372,2 +1215,3 @@\n-        FT_Fixed*  stack;\n-        FT_Byte*   q;\n+        FT_Fixed*    stack;\n+        FT_ListNode  node;\n+        FT_Byte*     q;\n@@ -1408,0 +1252,2 @@\n+        if ( error )\n+          goto Exit;\n@@ -1412,5 +1258,0 @@\n-        \/*                                                             *\/\n-        \/* We overwrite the original top DICT charstring under the     *\/\n-        \/* assumption that the charstring representation of the result *\/\n-        \/* of `cff_decoder_parse_charstrings' is shorter, which should *\/\n-        \/* be always true.                                             *\/\n@@ -1418,1 +1259,16 @@\n-        q     = charstring_base - 1;\n+        node = (FT_ListNode)memory->alloc( memory,\n+                                           sizeof ( FT_ListNodeRec ) );\n+        if ( !node )\n+          goto Out_Of_Memory_Error;\n+\n+        \/* `5' is the conservative upper bound of required bytes per stack *\/\n+        \/* element.                                                        *\/\n+        q = (FT_Byte*)memory->alloc( memory,\n+                                     5 * ( decoder.top - decoder.stack ) );\n+        if ( !q )\n+          goto Out_Of_Memory_Error;\n+\n+        node->data = q;\n+\n+        FT_List_Add( &t2s, node );\n+\n@@ -1434,1 +1290,1 @@\n-            num = (FT_ULong)-*stack;\n+            num = (FT_ULong)NEG_LONG( *stack );\n@@ -1526,1 +1382,1 @@\n-        for ( field = CFF_FIELD_HANDLERS_GET; field->kind; field++ )\n+        for ( field = cff_field_handlers; field->kind; field++ )\n@@ -1675,1 +1531,1 @@\n-    }\n+    } \/* while ( p < limit ) *\/\n@@ -1678,0 +1534,3 @@\n+#ifdef CFF_CONFIG_OPTION_OLD_ENGINE\n+    FT_List_Finalize( &t2s, destruct_t2s_item, memory, NULL );\n+#endif\n@@ -1680,0 +1539,6 @@\n+#ifdef CFF_CONFIG_OPTION_OLD_ENGINE\n+  Out_Of_Memory_Error:\n+    error = FT_THROW( Out_Of_Memory );\n+    goto Exit;\n+#endif\n+\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/cff\/cffparse.c","additions":99,"deletions":234,"binary":false,"changes":333,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  cffparse.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    CFF token stream parser (specification)                              *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * cffparse.h\n+ *\n+ *   CFF token stream parser (specification)\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -36,5 +36,5 @@\n-   *  There are plans to remove the `maxstack' operator in a forthcoming\n-   *  revision of the CFF2 specification, increasing the (then static) stack\n-   *  size to 513.  By making the default stack size equal to the maximum\n-   *  stack size, the operator is essentially disabled, which has the\n-   *  desired effect in FreeType.\n+   * There are plans to remove the `maxstack' operator in a forthcoming\n+   * revision of the CFF2 specification, increasing the (then static) stack\n+   * size to 513.  By making the default stack size equal to the maximum\n+   * stack size, the operator is essentially disabled, which has the\n+   * desired effect in FreeType.\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/cff\/cffparse.h","additions":21,"deletions":21,"binary":false,"changes":42,"status":"modified"},{"patch":"@@ -1,138 +0,0 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  cffpic.c                                                               *\/\n-\/*                                                                         *\/\n-\/*    The FreeType position independent code services for cff module.      *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2009-2018 by                                                 *\/\n-\/*  Oran Agra and Mickey Gabel.                                            *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-#include <ft2build.h>\n-#include FT_FREETYPE_H\n-#include FT_INTERNAL_OBJECTS_H\n-#include \"cffcmap.h\"\n-#include \"cffpic.h\"\n-#include \"cfferrs.h\"\n-\n-\n-#ifdef FT_CONFIG_OPTION_PIC\n-\n-  \/* forward declaration of PIC init functions from cffdrivr.c *\/\n-  FT_Error\n-  FT_Create_Class_cff_services( FT_Library           library,\n-                                FT_ServiceDescRec**  output_class );\n-  void\n-  FT_Destroy_Class_cff_services( FT_Library          library,\n-                                 FT_ServiceDescRec*  clazz );\n-  void\n-  FT_Init_Class_cff_service_ps_info( FT_Library             library,\n-                                     FT_Service_PsInfoRec*  clazz );\n-  void\n-  FT_Init_Class_cff_service_glyph_dict( FT_Library                library,\n-                                        FT_Service_GlyphDictRec*  clazz );\n-  void\n-  FT_Init_Class_cff_service_ps_name( FT_Library                 library,\n-                                     FT_Service_PsFontNameRec*  clazz );\n-  void\n-  FT_Init_Class_cff_service_get_cmap_info( FT_Library              library,\n-                                           FT_Service_TTCMapsRec*  clazz );\n-  void\n-  FT_Init_Class_cff_service_cid_info( FT_Library          library,\n-                                      FT_Service_CIDRec*  clazz );\n-\n-  \/* forward declaration of PIC init functions from cffparse.c *\/\n-  FT_Error\n-  FT_Create_Class_cff_field_handlers( FT_Library           library,\n-                                      CFF_Field_Handler**  output_class );\n-  void\n-  FT_Destroy_Class_cff_field_handlers( FT_Library          library,\n-                                       CFF_Field_Handler*  clazz );\n-\n-\n-  void\n-  cff_driver_class_pic_free( FT_Library  library )\n-  {\n-    FT_PIC_Container*  pic_container = &library->pic_container;\n-    FT_Memory          memory        = library->memory;\n-\n-\n-    if ( pic_container->cff )\n-    {\n-      CffModulePIC*  container = (CffModulePIC*)pic_container->cff;\n-\n-\n-      if ( container->cff_services )\n-        FT_Destroy_Class_cff_services( library,\n-                                       container->cff_services );\n-      container->cff_services = NULL;\n-      if ( container->cff_field_handlers )\n-        FT_Destroy_Class_cff_field_handlers(\n-          library, container->cff_field_handlers );\n-      container->cff_field_handlers = NULL;\n-      FT_FREE( container );\n-      pic_container->cff = NULL;\n-    }\n-  }\n-\n-\n-  FT_Error\n-  cff_driver_class_pic_init( FT_Library  library )\n-  {\n-    FT_PIC_Container*  pic_container = &library->pic_container;\n-    FT_Error           error         = FT_Err_Ok;\n-    CffModulePIC*      container     = NULL;\n-    FT_Memory          memory        = library->memory;\n-\n-\n-    \/* allocate pointer, clear and set global container pointer *\/\n-    if ( FT_ALLOC ( container, sizeof ( *container ) ) )\n-      return error;\n-    FT_MEM_SET( container, 0, sizeof ( *container ) );\n-    pic_container->cff = container;\n-\n-    \/* initialize pointer table -                       *\/\n-    \/* this is how the module usually expects this data *\/\n-    error = FT_Create_Class_cff_services( library,\n-                                          &container->cff_services );\n-    if ( error )\n-      goto Exit;\n-\n-    error = FT_Create_Class_cff_field_handlers(\n-              library, &container->cff_field_handlers );\n-    if ( error )\n-      goto Exit;\n-\n-    FT_Init_Class_cff_service_ps_info(\n-      library, &container->cff_service_ps_info );\n-    FT_Init_Class_cff_service_glyph_dict(\n-      library, &container->cff_service_glyph_dict );\n-    FT_Init_Class_cff_service_ps_name(\n-      library, &container->cff_service_ps_name );\n-    FT_Init_Class_cff_service_get_cmap_info(\n-      library, &container->cff_service_get_cmap_info );\n-    FT_Init_Class_cff_service_cid_info(\n-      library, &container->cff_service_cid_info );\n-    FT_Init_Class_cff_cmap_encoding_class_rec(\n-      library, &container->cff_cmap_encoding_class_rec );\n-    FT_Init_Class_cff_cmap_unicode_class_rec(\n-      library, &container->cff_cmap_unicode_class_rec );\n-\n-  Exit:\n-    if ( error )\n-      cff_driver_class_pic_free( library );\n-    return error;\n-  }\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n-\n-\/* END *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/cff\/cffpic.c","additions":0,"deletions":138,"binary":false,"changes":138,"status":"deleted"},{"patch":"@@ -1,121 +0,0 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  cffpic.h                                                               *\/\n-\/*                                                                         *\/\n-\/*    The FreeType position independent code services for cff module.      *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2009-2018 by                                                 *\/\n-\/*  Oran Agra and Mickey Gabel.                                            *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-#ifndef CFFPIC_H_\n-#define CFFPIC_H_\n-\n-\n-#include FT_INTERNAL_PIC_H\n-\n-#ifndef FT_CONFIG_OPTION_PIC\n-\n-#define CFF_SERVICE_PS_INFO_GET          cff_service_ps_info\n-#define CFF_SERVICE_GLYPH_DICT_GET       cff_service_glyph_dict\n-#define CFF_SERVICE_PS_NAME_GET          cff_service_ps_name\n-#define CFF_SERVICE_GET_CMAP_INFO_GET    cff_service_get_cmap_info\n-#define CFF_SERVICE_CID_INFO_GET         cff_service_cid_info\n-#define CFF_SERVICE_PROPERTIES_GET       cff_service_properties\n-#define CFF_SERVICES_GET                 cff_services\n-#define CFF_SERVICE_MULTI_MASTERS_GET    cff_service_multi_masters\n-#define CFF_SERVICE_METRICS_VAR_GET      cff_service_metrics_variations\n-#define CFF_SERVICE_CFF_LOAD_GET         cff_service_cff_load\n-#define CFF_CMAP_ENCODING_CLASS_REC_GET  cff_cmap_encoding_class_rec\n-#define CFF_CMAP_UNICODE_CLASS_REC_GET   cff_cmap_unicode_class_rec\n-#define CFF_FIELD_HANDLERS_GET           cff_field_handlers\n-\n-#else \/* FT_CONFIG_OPTION_PIC *\/\n-\n-#include FT_SERVICE_GLYPH_DICT_H\n-#include \"cffparse.h\"\n-#include FT_SERVICE_POSTSCRIPT_INFO_H\n-#include FT_SERVICE_POSTSCRIPT_NAME_H\n-#include FT_SERVICE_TT_CMAP_H\n-#include FT_SERVICE_CID_H\n-#include FT_SERVICE_PROPERTIES_H\n-#include FT_SERVICE_MULTIPLE_MASTERS_H\n-#include FT_SERVICE_METRICS_VARIATIONS_H\n-\n-\n-FT_BEGIN_HEADER\n-\n-  typedef struct  CffModulePIC_\n-  {\n-    FT_ServiceDescRec*               cff_services;\n-    CFF_Field_Handler*               cff_field_handlers;\n-    FT_Service_PsInfoRec             cff_service_ps_info;\n-    FT_Service_GlyphDictRec          cff_service_glyph_dict;\n-    FT_Service_PsFontNameRec         cff_service_ps_name;\n-    FT_Service_TTCMapsRec            cff_service_get_cmap_info;\n-    FT_Service_CIDRec                cff_service_cid_info;\n-    FT_Service_PropertiesRec         cff_service_properties;\n-    FT_Service_MultiMastersRec       cff_service_multi_masters;\n-    FT_Service_MetricsVariationsRec  cff_service_metrics_variations;\n-    FT_Service_CFFLoadRec            cff_service_cff_load;\n-    FT_CMap_ClassRec                 cff_cmap_encoding_class_rec;\n-    FT_CMap_ClassRec                 cff_cmap_unicode_class_rec;\n-\n-  } CffModulePIC;\n-\n-\n-#define GET_PIC( lib )                                    \\\n-          ( (CffModulePIC*)( (lib)->pic_container.cff ) )\n-\n-#define CFF_SERVICE_PS_INFO_GET                       \\\n-          ( GET_PIC( library )->cff_service_ps_info )\n-#define CFF_SERVICE_GLYPH_DICT_GET                       \\\n-          ( GET_PIC( library )->cff_service_glyph_dict )\n-#define CFF_SERVICE_PS_NAME_GET                       \\\n-          ( GET_PIC( library )->cff_service_ps_name )\n-#define CFF_SERVICE_GET_CMAP_INFO_GET                       \\\n-          ( GET_PIC( library )->cff_service_get_cmap_info )\n-#define CFF_SERVICE_CID_INFO_GET                       \\\n-          ( GET_PIC( library )->cff_service_cid_info )\n-#define CFF_SERVICE_PROPERTIES_GET                       \\\n-          ( GET_PIC( library )->cff_service_properties )\n-#define CFF_SERVICES_GET                       \\\n-          ( GET_PIC( library )->cff_services )\n-#define CFF_SERVICE_MULTI_MASTERS_GET                       \\\n-          ( GET_PIC( library )->cff_service_multi_masters )\n-#define CFF_SERVICE_METRICS_VAR_GET                              \\\n-          ( GET_PIC( library )->cff_service_metrics_variations )\n-#define CFF_SERVICE_CFF_LOAD_GET                       \\\n-          ( GET_PIC( library )->cff_service_cff_load )\n-#define CFF_CMAP_ENCODING_CLASS_REC_GET                       \\\n-          ( GET_PIC( library )->cff_cmap_encoding_class_rec )\n-#define CFF_CMAP_UNICODE_CLASS_REC_GET                       \\\n-          ( GET_PIC( library )->cff_cmap_unicode_class_rec )\n-#define CFF_FIELD_HANDLERS_GET                       \\\n-          ( GET_PIC( library )->cff_field_handlers )\n-\n-  \/* see cffpic.c for the implementation *\/\n-  void\n-  cff_driver_class_pic_free( FT_Library  library );\n-\n-  FT_Error\n-  cff_driver_class_pic_init( FT_Library  library );\n-\n-FT_END_HEADER\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n- \/* *\/\n-\n-#endif \/* CFFPIC_H_ *\/\n-\n-\n-\/* END *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/cff\/cffpic.h","additions":0,"deletions":121,"binary":false,"changes":121,"status":"deleted"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  cfftoken.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    CFF token definitions (specification only).                          *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * cfftoken.h\n+ *\n+ *   CFF token definitions (specification only).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/cff\/cfftoken.h","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,23 +1,23 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ciderrs.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    CID error codes (specification only).                                *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2001-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* This file is used to define the CID error enumeration constants.      *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ciderrs.h\n+ *\n+ *   CID error codes (specification only).\n+ *\n+ * Copyright (C) 2001-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * This file is used to define the CID error enumeration constants.\n+   *\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/cid\/ciderrs.h","additions":23,"deletions":23,"binary":false,"changes":46,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  cidgload.c                                                             *\/\n-\/*                                                                         *\/\n-\/*    CID-keyed Type1 Glyph Loader (body).                                 *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * cidgload.c\n+ *\n+ *   CID-keyed Type1 Glyph Loader (body).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -34,6 +34,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -41,1 +41,1 @@\n-#define FT_COMPONENT  trace_cidgload\n+#define FT_COMPONENT  cidgload\n@@ -396,2 +396,1 @@\n-    decoder.builder.no_recurse = FT_BOOL(\n-      ( ( load_flags & FT_LOAD_NO_RECURSE ) != 0 ) );\n+    decoder.builder.no_recurse = FT_BOOL( load_flags & FT_LOAD_NO_RECURSE );\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/cid\/cidgload.c","additions":24,"deletions":25,"binary":false,"changes":49,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  cidgload.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    OpenType Glyph Loader (specification).                               *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * cidgload.h\n+ *\n+ *   OpenType Glyph Loader (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/cid\/cidgload.h","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  cidload.c                                                              *\/\n-\/*                                                                         *\/\n-\/*    CID-keyed Type1 font loader (body).                                  *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * cidload.c\n+ *\n+ *   CID-keyed Type1 font loader (body).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -24,0 +24,1 @@\n+#include FT_INTERNAL_POSTSCRIPT_AUX_H\n@@ -30,6 +31,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -37,1 +38,1 @@\n-#define FT_COMPONENT  trace_cidload\n+#define FT_COMPONENT  cidload\n@@ -84,0 +85,2 @@\n+      FT_TRACE4(( \"  %s\", keyword->ident ));\n+\n@@ -134,0 +137,2 @@\n+    FT_TRACE4(( \"  %s\", keyword->ident ));\n+\n@@ -144,0 +149,3 @@\n+\n+    FT_TRACE4(( \"\\n\" ));\n+\n@@ -149,1 +157,1 @@\n-  FT_CALLBACK_DEF( FT_Error )\n+  FT_CALLBACK_DEF( void )\n@@ -174,1 +182,12 @@\n-        return FT_THROW( Invalid_File_Format );\n+      {\n+        FT_ERROR(( \"cid_parse_font_matrix: not enough matrix elements\\n\" ));\n+        goto Exit;\n+      }\n+\n+      FT_TRACE4(( \" [%f %f %f %f %f %f]\\n\",\n+                  (double)temp[0] \/ 65536 \/ 1000,\n+                  (double)temp[1] \/ 65536 \/ 1000,\n+                  (double)temp[2] \/ 65536 \/ 1000,\n+                  (double)temp[3] \/ 65536 \/ 1000,\n+                  (double)temp[4] \/ 65536 \/ 1000,\n+                  (double)temp[5] \/ 65536 \/ 1000 ));\n@@ -181,1 +200,1 @@\n-        return FT_THROW( Invalid_File_Format );\n+        goto Exit;\n@@ -203,0 +222,7 @@\n+      if ( !FT_Matrix_Check( matrix ) )\n+      {\n+        FT_ERROR(( \"t1_parse_font_matrix: invalid font matrix\\n\" ));\n+        parser->root.error = FT_THROW( Invalid_File_Format );\n+        goto Exit;\n+      }\n+\n@@ -208,1 +234,2 @@\n-    return FT_Err_Ok;\n+  Exit:\n+    return;\n@@ -212,1 +239,1 @@\n-  FT_CALLBACK_DEF( FT_Error )\n+  FT_CALLBACK_DEF( void )\n@@ -227,1 +254,0 @@\n-      error = FT_THROW( Invalid_File_Format );\n@@ -231,0 +257,2 @@\n+    FT_TRACE4(( \" %d\\n\", num_dicts ));\n+\n@@ -266,1 +294,1 @@\n-      \/* don't forget to set a few defaults *\/\n+      \/* set some default values (the same as for Type 1 fonts) *\/\n@@ -272,2 +300,6 @@\n-        \/* default value for lenIV *\/\n-        dict->private_dict.lenIV = 4;\n+        dict->private_dict.blue_shift       = 7;\n+        dict->private_dict.blue_fuzz        = 1;\n+        dict->private_dict.lenIV            = 4;\n+        dict->private_dict.expansion_factor = (FT_Fixed)( 0.06 * 0x10000L );\n+        dict->private_dict.blue_scale       = (FT_Fixed)(\n+                                                0.039625 * 0x10000L * 1000 );\n@@ -278,1 +310,1 @@\n-    return error;\n+    return;\n@@ -282,1 +314,1 @@\n-  \/* by mistake, `expansion_factor' appears both in PS_PrivateRec *\/\n+  \/* By mistake, `expansion_factor' appears both in PS_PrivateRec *\/\n@@ -284,1 +316,1 @@\n-  \/* changed); we simply copy the value                           *\/\n+  \/* changed).  We simply copy the value.                         *\/\n@@ -286,1 +318,1 @@\n-  FT_CALLBACK_DEF( FT_Error )\n+  FT_CALLBACK_DEF( void )\n@@ -299,0 +331,30 @@\n+\n+      FT_TRACE4(( \"%d\\n\", dict->expansion_factor ));\n+    }\n+\n+    return;\n+  }\n+\n+\n+  \/* By mistake, `CID_FaceDictRec' doesn't contain a field for the *\/\n+  \/* `FontName' keyword.  FreeType doesn't need it, but it is nice *\/\n+  \/* to catch it for producing better trace output.                *\/\n+\n+  FT_CALLBACK_DEF( void )\n+  parse_font_name( CID_Face     face,\n+                   CID_Parser*  parser )\n+  {\n+#ifdef FT_DEBUG_LEVEL_TRACE\n+    if ( parser->num_dict >= 0 && parser->num_dict < face->cid.num_dicts )\n+    {\n+      T1_TokenRec  token;\n+      FT_UInt      len;\n+\n+\n+      cid_parser_to_token( parser, &token );\n+\n+      len = (FT_UInt)( token.limit - token.start );\n+      if ( len )\n+        FT_TRACE4(( \" %.*s\\n\", len, token.start ));\n+      else\n+        FT_TRACE4(( \" <no value>\\n\" ));\n@@ -300,0 +362,4 @@\n+#else\n+    FT_UNUSED( face );\n+    FT_UNUSED( parser );\n+#endif\n@@ -301,1 +367,1 @@\n-    return FT_Err_Ok;\n+    return;\n@@ -314,0 +380,1 @@\n+    T1_FIELD_CALLBACK( \"FontName\",        parse_font_name, 0 )\n@@ -359,0 +426,1 @@\n+            {\n@@ -360,0 +428,8 @@\n+\n+#ifdef FT_DEBUG_LEVEL_TRACE\n+              FT_TRACE4(( \" FontDict %d\", parser->num_dict ));\n+              if ( parser->num_dict > face->cid.num_dicts )\n+                FT_TRACE4(( \" (ignored)\" ));\n+              FT_TRACE4(( \"\\n\" ));\n+#endif\n+            }\n@@ -760,1 +836,1 @@\n-      FT_ERROR(( \"cid_parse_dict:\"\n+      FT_ERROR(( \"cid_face_open:\"\n@@ -769,1 +845,1 @@\n-      FT_ERROR(( \"cid_parse_dict:\"\n+      FT_ERROR(( \"cid_face_open:\"\n@@ -785,0 +861,19 @@\n+      \/* the upper limits are ad-hoc values *\/\n+      if ( dict->private_dict.blue_shift > 1000 ||\n+           dict->private_dict.blue_shift < 0    )\n+      {\n+        FT_TRACE2(( \"cid_face_open:\"\n+                    \" setting unlikely BlueShift value %d to default (7)\\n\",\n+                    dict->private_dict.blue_shift ));\n+        dict->private_dict.blue_shift = 7;\n+      }\n+\n+      if ( dict->private_dict.blue_fuzz > 1000 ||\n+           dict->private_dict.blue_fuzz < 0    )\n+      {\n+        FT_TRACE2(( \"cid_face_open:\"\n+                    \" setting unlikely BlueFuzz value %d to default (1)\\n\",\n+                    dict->private_dict.blue_fuzz ));\n+        dict->private_dict.blue_fuzz = 1;\n+      }\n+\n@@ -788,1 +883,1 @@\n-        FT_ERROR(( \"cid_parse_dict: Invalid `SDBytes' value\\n\" ));\n+        FT_ERROR(( \"cid_face_open: Invalid `SDBytes' value\\n\" ));\n@@ -795,1 +890,1 @@\n-        FT_ERROR(( \"cid_parse_dict:\"\n+        FT_ERROR(( \"cid_face_open:\"\n@@ -804,1 +899,1 @@\n-        FT_ERROR(( \"cid_parse_dict: Invalid `SubrMapOffset' value\\n\" ));\n+        FT_ERROR(( \"cid_face_open: Invalid `SubrMapOffset' value\\n\" ));\n@@ -815,1 +910,1 @@\n-        FT_ERROR(( \"cid_parse_dict: Invalid `SubrCount' value\\n\" ));\n+        FT_ERROR(( \"cid_face_open: Invalid `SubrCount' value\\n\" ));\n@@ -823,1 +918,1 @@\n-      FT_ERROR(( \"cid_parse_dict: Invalid `CIDMapOffset' value\\n\" ));\n+      FT_ERROR(( \"cid_face_open: Invalid `CIDMapOffset' value\\n\" ));\n@@ -832,1 +927,1 @@\n-      FT_ERROR(( \"cid_parse_dict: Invalid `CIDCount' value\\n\" ));\n+      FT_ERROR(( \"cid_face_open: Invalid `CIDCount' value\\n\" ));\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/cid\/cidload.c","additions":140,"deletions":45,"binary":false,"changes":185,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  cidload.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    CID-keyed Type1 font loader (specification).                         *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * cidload.h\n+ *\n+ *   CID-keyed Type1 font loader (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/cid\/cidload.h","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  cidobjs.c                                                              *\/\n-\/*                                                                         *\/\n-\/*    CID objects manager (body).                                          *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * cidobjs.c\n+ *\n+ *   CID objects manager (body).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -34,6 +34,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -41,1 +41,1 @@\n-#define FT_COMPONENT  trace_cidobjs\n+#define FT_COMPONENT  cidobjs\n@@ -44,5 +44,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*                            SLOT  FUNCTIONS                            *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   *                           SLOT  FUNCTIONS\n+   *\n+   *\/\n@@ -88,5 +88,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*                           SIZE  FUNCTIONS                             *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   *                          SIZE  FUNCTIONS\n+   *\n+   *\/\n@@ -177,17 +177,18 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*                           FACE  FUNCTIONS                             *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    cid_face_done                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Finalizes a given face object.                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face :: A pointer to the face object to destroy.                   *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   *                          FACE  FUNCTIONS\n+   *\n+   *\/\n+\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   cid_face_done\n+   *\n+   * @Description:\n+   *   Finalizes a given face object.\n+   *\n+   * @Input:\n+   *   face ::\n+   *     A pointer to the face object to destroy.\n+   *\/\n@@ -255,23 +256,28 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    cid_face_init                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Initializes a given CID face object.                               *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    stream     :: The source font stream.                              *\/\n-  \/*                                                                       *\/\n-  \/*    face_index :: The index of the font face in the resource.          *\/\n-  \/*                                                                       *\/\n-  \/*    num_params :: Number of additional generic parameters.  Ignored.   *\/\n-  \/*                                                                       *\/\n-  \/*    params     :: Additional generic parameters.  Ignored.             *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    face       :: The newly built face object.                         *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   cid_face_init\n+   *\n+   * @Description:\n+   *   Initializes a given CID face object.\n+   *\n+   * @Input:\n+   *   stream ::\n+   *     The source font stream.\n+   *\n+   *   face_index ::\n+   *     The index of the font face in the resource.\n+   *\n+   *   num_params ::\n+   *     Number of additional generic parameters.  Ignored.\n+   *\n+   *   params ::\n+   *     Additional generic parameters.  Ignored.\n+   *\n+   * @InOut:\n+   *   face ::\n+   *     The newly built face object.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -452,14 +458,15 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    cid_driver_init                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Initializes a given CID driver object.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    driver :: A handle to the target driver object.                    *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   cid_driver_init\n+   *\n+   * @Description:\n+   *   Initializes a given CID driver object.\n+   *\n+   * @Input:\n+   *   driver ::\n+   *     A handle to the target driver object.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -508,11 +515,12 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    cid_driver_done                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Finalizes a given CID driver.                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    driver :: A handle to the target CID driver.                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   cid_driver_done\n+   *\n+   * @Description:\n+   *   Finalizes a given CID driver.\n+   *\n+   * @Input:\n+   *   driver ::\n+   *     A handle to the target CID driver.\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/cid\/cidobjs.c","additions":106,"deletions":98,"binary":false,"changes":204,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  cidobjs.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    CID objects manager (specification).                                 *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * cidobjs.h\n+ *\n+ *   CID objects manager (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -37,8 +37,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    CID_Driver                                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A handle to a Type 1 driver object.                                *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Type:\n+   *   CID_Driver\n+   *\n+   * @Description:\n+   *   A handle to a Type 1 driver object.\n+   *\/\n@@ -48,8 +48,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    CID_Size                                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A handle to a Type 1 size object.                                  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Type:\n+   *   CID_Size\n+   *\n+   * @Description:\n+   *   A handle to a Type 1 size object.\n+   *\/\n@@ -59,8 +59,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    CID_GlyphSlot                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A handle to a Type 1 glyph slot object.                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Type:\n+   *   CID_GlyphSlot\n+   *\n+   * @Description:\n+   *   A handle to a Type 1 glyph slot object.\n+   *\/\n@@ -70,13 +70,13 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    CID_CharMap                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A handle to a Type 1 character mapping object.                     *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The Type 1 format doesn't use a charmap but an encoding table.     *\/\n-  \/*    The driver is responsible for making up charmap objects            *\/\n-  \/*    corresponding to these tables.                                     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Type:\n+   *   CID_CharMap\n+   *\n+   * @Description:\n+   *   A handle to a Type 1 character mapping object.\n+   *\n+   * @Note:\n+   *   The Type 1 format doesn't use a charmap but an encoding table.\n+   *   The driver is responsible for making up charmap objects\n+   *   corresponding to these tables.\n+   *\/\n@@ -86,5 +86,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* HERE BEGINS THE TYPE 1 SPECIFIC STUFF                                 *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * HERE BEGINS THE TYPE 1 SPECIFIC STUFF\n+   *\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/cid\/cidobjs.h","additions":58,"deletions":58,"binary":false,"changes":116,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  cidparse.c                                                             *\/\n-\/*                                                                         *\/\n-\/*    CID-keyed Type1 parser (body).                                       *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * cidparse.c\n+ *\n+ *   CID-keyed Type1 parser (body).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -29,6 +29,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -36,1 +36,1 @@\n-#define FT_COMPONENT  trace_cidparse\n+#define FT_COMPONENT  cidparse\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/cid\/cidparse.c","additions":23,"deletions":23,"binary":false,"changes":46,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  cidparse.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    CID-keyed Type1 parser (specification).                              *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * cidparse.h\n+ *\n+ *   CID-keyed Type1 parser (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -32,29 +32,37 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    CID_Parser                                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A CID_Parser is an object used to parse a Type 1 fonts very        *\/\n-  \/*    quickly.                                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    root           :: The root PS_ParserRec fields.                    *\/\n-  \/*                                                                       *\/\n-  \/*    stream         :: The current input stream.                        *\/\n-  \/*                                                                       *\/\n-  \/*    postscript     :: A pointer to the data to be parsed.              *\/\n-  \/*                                                                       *\/\n-  \/*    postscript_len :: The length of the data to be parsed.             *\/\n-  \/*                                                                       *\/\n-  \/*    data_offset    :: The start position of the binary data (i.e., the *\/\n-  \/*                      end of the data to be parsed.                    *\/\n-  \/*                                                                       *\/\n-  \/*    binary_length  :: The length of the data after the `StartData'     *\/\n-  \/*                      command if the data format is hexadecimal.       *\/\n-  \/*                                                                       *\/\n-  \/*    cid            :: A structure which holds the information about    *\/\n-  \/*                      the current font.                                *\/\n-  \/*                                                                       *\/\n-  \/*    num_dict       :: The number of font dictionaries.                 *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Struct:\n+   *   CID_Parser\n+   *\n+   * @Description:\n+   *   A CID_Parser is an object used to parse a Type 1 fonts very\n+   *   quickly.\n+   *\n+   * @Fields:\n+   *   root ::\n+   *     The root PS_ParserRec fields.\n+   *\n+   *   stream ::\n+   *     The current input stream.\n+   *\n+   *   postscript ::\n+   *     A pointer to the data to be parsed.\n+   *\n+   *   postscript_len ::\n+   *     The length of the data to be parsed.\n+   *\n+   *   data_offset ::\n+   *     The start position of the binary data (i.e., the\n+   *     end of the data to be parsed.\n+   *\n+   *   binary_length ::\n+   *     The length of the data after the `StartData'\n+   *     command if the data format is hexadecimal.\n+   *\n+   *   cid ::\n+   *     A structure which holds the information about\n+   *     the current font.\n+   *\n+   *   num_dict ::\n+   *     The number of font dictionaries.\n+   *\/\n@@ -89,5 +97,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*                            PARSING ROUTINES                           *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   *                           PARSING ROUTINES\n+   *\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/cid\/cidparse.h","additions":58,"deletions":50,"binary":false,"changes":108,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  cidriver.c                                                             *\/\n-\/*                                                                         *\/\n-\/*    CID driver interface (body).                                         *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * cidriver.c\n+ *\n+ *   CID driver interface (body).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -37,6 +37,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -44,1 +44,1 @@\n-#define FT_COMPONENT  trace_ciddriver\n+#define FT_COMPONENT  ciddriver\n@@ -48,1 +48,1 @@\n-   *  POSTSCRIPT NAME SERVICE\n+   * POSTSCRIPT NAME SERVICE\n@@ -72,1 +72,1 @@\n-   *  POSTSCRIPT INFO SERVICE\n+   * POSTSCRIPT INFO SERVICE\n@@ -108,1 +108,1 @@\n-   *  CID INFO SERVICE\n+   * CID INFO SERVICE\n@@ -176,1 +176,1 @@\n-   *  PROPERTY SERVICE\n+   * PROPERTY SERVICE\n@@ -188,1 +188,1 @@\n-   *  SERVICE LIST\n+   * SERVICE LIST\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/cid\/cidriver.c","additions":28,"deletions":28,"binary":false,"changes":56,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  cidriver.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    High-level CID driver interface (specification).                     *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * cidriver.h\n+ *\n+ *   High-level CID driver interface (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -29,5 +29,0 @@\n-#ifdef FT_CONFIG_OPTION_PIC\n-#error \"this module does not support PIC yet\"\n-#endif\n-\n-\n@@ -37,1 +32,0 @@\n-\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/cid\/cidriver.h","additions":16,"deletions":22,"binary":false,"changes":38,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  cidtoken.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    CID token definitions (specification only).                          *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * cidtoken.h\n+ *\n+ *   CID token definitions (specification only).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -24,11 +24,14 @@\n-  T1_FIELD_KEY   ( \"CIDFontName\",    cid_font_name, 0 )\n-  T1_FIELD_FIXED ( \"CIDFontVersion\", cid_version,   0 )\n-  T1_FIELD_NUM   ( \"CIDFontType\",    cid_font_type, 0 )\n-  T1_FIELD_STRING( \"Registry\",       registry,      0 )\n-  T1_FIELD_STRING( \"Ordering\",       ordering,      0 )\n-  T1_FIELD_NUM   ( \"Supplement\",     supplement,    0 )\n-  T1_FIELD_NUM   ( \"UIDBase\",        uid_base,      0 )\n-  T1_FIELD_NUM   ( \"CIDMapOffset\",   cidmap_offset, 0 )\n-  T1_FIELD_NUM   ( \"FDBytes\",        fd_bytes,      0 )\n-  T1_FIELD_NUM   ( \"GDBytes\",        gd_bytes,      0 )\n-  T1_FIELD_NUM   ( \"CIDCount\",       cid_count,     0 )\n+  T1_FIELD_KEY      ( \"CIDFontName\",    cid_font_name, 0 )\n+  T1_FIELD_FIXED    ( \"CIDFontVersion\", cid_version,   0 )\n+  T1_FIELD_NUM      ( \"CIDFontType\",    cid_font_type, 0 )\n+  T1_FIELD_STRING   ( \"Registry\",       registry,      0 )\n+  T1_FIELD_STRING   ( \"Ordering\",       ordering,      0 )\n+  T1_FIELD_NUM      ( \"Supplement\",     supplement,    0 )\n+  T1_FIELD_NUM      ( \"UIDBase\",        uid_base,      0 )\n+\n+  T1_FIELD_NUM_TABLE( \"XUID\",           xuid,          16, 0 )\n+\n+  T1_FIELD_NUM      ( \"CIDMapOffset\",   cidmap_offset, 0 )\n+  T1_FIELD_NUM      ( \"FDBytes\",        fd_bytes,      0 )\n+  T1_FIELD_NUM      ( \"GDBytes\",        gd_bytes,      0 )\n+  T1_FIELD_NUM      ( \"CIDCount\",       cid_count,     0 )\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/cid\/cidtoken.h","additions":30,"deletions":27,"binary":false,"changes":57,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  afmparse.c                                                             *\/\n-\/*                                                                         *\/\n-\/*    AFM parser (body).                                                   *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2006-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * afmparse.c\n+ *\n+ *   AFM parser (body).\n+ *\n+ * Copyright (C) 2006-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -31,7 +31,7 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*    AFM_Stream                                                           *\/\n-\/*                                                                         *\/\n-\/* The use of AFM_Stream is largely inspired by parseAFM.[ch] from t1lib.  *\/\n-\/*                                                                         *\/\n-\/*                                                                         *\/\n+  \/**************************************************************************\n+   *\n+   * AFM_Stream\n+   *\n+   * The use of AFM_Stream is largely inspired by parseAFM.[ch] from t1lib.\n+   *\n+   *\/\n@@ -196,5 +196,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*    AFM_Parser                                                         *\/\n-  \/*                                                                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * AFM_Parser\n+   *\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psaux\/afmparse.c","additions":28,"deletions":28,"binary":false,"changes":56,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  afmparse.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    AFM parser (specification).                                          *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2006-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * afmparse.h\n+ *\n+ *   AFM parser (specification).\n+ *\n+ * Copyright (C) 2006-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psaux\/afmparse.h","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  cffdecode.c                                                            *\/\n-\/*                                                                         *\/\n-\/*    PostScript CFF (Type 2) decoding routines (body).                    *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2017-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * cffdecode.c\n+ *\n+ *   PostScript CFF (Type 2) decoding routines (body).\n+ *\n+ * Copyright (C) 2017-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -31,6 +31,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -38,1 +38,1 @@\n-#define FT_COMPONENT  trace_cffdecode\n+#define FT_COMPONENT  cffdecode\n@@ -238,2 +238,2 @@\n-    adx += decoder->builder.left_bearing.x;\n-    ady += decoder->builder.left_bearing.y;\n+    adx = ADD_LONG( adx, decoder->builder.left_bearing.x );\n+    ady = ADD_LONG( ady, decoder->builder.left_bearing.y );\n@@ -381,17 +381,20 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    cff_compute_bias                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Computes the bias value in dependence of the number of glyph       *\/\n-  \/*    subroutines.                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    in_charstring_type :: The `CharstringType' value of the top DICT   *\/\n-  \/*                          dictionary.                                  *\/\n-  \/*                                                                       *\/\n-  \/*    num_subrs          :: The number of glyph subroutines.             *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    The bias value.                                                    *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   cff_compute_bias\n+   *\n+   * @Description:\n+   *   Computes the bias value in dependence of the number of glyph\n+   *   subroutines.\n+   *\n+   * @Input:\n+   *   in_charstring_type ::\n+   *     The `CharstringType' value of the top DICT\n+   *     dictionary.\n+   *\n+   *   num_subrs ::\n+   *     The number of glyph subroutines.\n+   *\n+   * @Return:\n+   *   The bias value.\n+   *\/\n@@ -467,22 +470,26 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    cff_decoder_parse_charstrings                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Parses a given Type 2 charstrings program.                         *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    decoder         :: The current Type 1 decoder.                     *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    charstring_base :: The base of the charstring stream.              *\/\n-  \/*                                                                       *\/\n-  \/*    charstring_len  :: The length in bytes of the charstring stream.   *\/\n-  \/*                                                                       *\/\n-  \/*    in_dict         :: Set to 1 if function is called from top or      *\/\n-  \/*                       private DICT (needed for Multiple Master CFFs). *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   cff_decoder_parse_charstrings\n+   *\n+   * @Description:\n+   *   Parses a given Type 2 charstrings program.\n+   *\n+   * @InOut:\n+   *   decoder ::\n+   *     The current Type 1 decoder.\n+   *\n+   * @Input:\n+   *   charstring_base ::\n+   *     The base of the charstring stream.\n+   *\n+   *   charstring_len ::\n+   *     The length in bytes of the charstring stream.\n+   *\n+   *   in_dict ::\n+   *     Set to 1 if function is called from top or\n+   *     private DICT (needed for Multiple Master CFFs).\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -546,4 +553,4 @@\n-      \/********************************************************************\/\n-      \/*                                                                  *\/\n-      \/* Decode operator or operand                                       *\/\n-      \/*                                                                  *\/\n+      \/*********************************************************************\n+       *\n+       * Decode operator or operand\n+       *\/\n@@ -856,0 +863,9 @@\n+            \/* deprecated opcodes *\/\n+          case cff_op_dotsection:\n+            \/* invalid Type 1 opcodes *\/\n+          case cff_op_hsbw:\n+          case cff_op_closepath:\n+          case cff_op_callothersubr:\n+          case cff_op_seac:\n+          case cff_op_sbw:\n+          case cff_op_setcurrentpoint:\n@@ -951,4 +967,4 @@\n-          FT_TRACE4((\n-              op == cff_op_hstem   ? \" hstem\\n\"   :\n-            ( op == cff_op_vstem   ? \" vstem\\n\"   :\n-            ( op == cff_op_hstemhm ? \" hstemhm\\n\" : \" vstemhm\\n\" ) ) ));\n+          FT_TRACE4(( \"%s\\n\",\n+              op == cff_op_hstem   ? \" hstem\"   :\n+            ( op == cff_op_vstem   ? \" vstem\"   :\n+            ( op == cff_op_hstemhm ? \" hstemhm\" : \" vstemhm\" ) ) ));\n@@ -968,1 +984,2 @@\n-          FT_TRACE4(( op == cff_op_hintmask ? \" hintmask\" : \" cntrmask\" ));\n+          FT_TRACE4(( \"%s\", op == cff_op_hintmask ? \" hintmask\"\n+                                                  : \" cntrmask\" ));\n@@ -1081,2 +1098,2 @@\n-            FT_TRACE4(( op == cff_op_hlineto ? \" hlineto\\n\"\n-                                             : \" vlineto\\n\" ));\n+            FT_TRACE4(( \"%s\\n\", op == cff_op_hlineto ? \" hlineto\"\n+                                                     : \" vlineto\" ));\n@@ -1253,2 +1270,2 @@\n-            FT_TRACE4(( op == cff_op_vhcurveto ? \" vhcurveto\\n\"\n-                                               : \" hvcurveto\\n\" ));\n+            FT_TRACE4(( \"%s\\n\", op == cff_op_vhcurveto ? \" vhcurveto\"\n+                                                       : \" hvcurveto\" ));\n@@ -1542,1 +1559,1 @@\n-              dx = -dx;\n+              dx = NEG_LONG( dx );\n@@ -1544,1 +1561,1 @@\n-              dy = -dy;\n+              dy = NEG_LONG( dy );\n@@ -1554,1 +1571,1 @@\n-                                     (FT_Bool)( count == 3 ) );\n+                                     FT_BOOL( count == 3 ) );\n@@ -1592,1 +1609,1 @@\n-                                     (FT_Bool)( count == 4 || count == 1 ) );\n+                                     FT_BOOL( count == 4 || count == 1 ) );\n@@ -1708,1 +1725,3 @@\n-          FT_TRACE4(( \" random\\n\" ));\n+          {\n+            FT_UInt32*  randval = in_dict ? &decoder->cff->top_font.random\n+                                          : &decoder->current_subfont->random;\n@@ -1710,5 +1729,0 @@\n-          \/* only use the lower 16 bits of `random'  *\/\n-          \/* to generate a number in the range (0;1] *\/\n-          args[0] = (FT_Fixed)\n-                      ( ( decoder->current_subfont->random & 0xFFFF ) + 1 );\n-          args++;\n@@ -1716,2 +1730,9 @@\n-          decoder->current_subfont->random =\n-            cff_random( decoder->current_subfont->random );\n+            FT_TRACE4(( \" random\\n\" ));\n+\n+            \/* only use the lower 16 bits of `random'  *\/\n+            \/* to generate a number in the range (0;1] *\/\n+            args[0] = (FT_Fixed)( ( *randval & 0xFFFF ) + 1 );\n+            args++;\n+\n+            *randval = cff_random( *randval );\n+          }\n@@ -1730,1 +1751,4 @@\n-          if ( args[0] > 0 )\n+          \/* without upper limit the loop below might not finish *\/\n+          if ( args[0] > 0x7FFFFFFFL )\n+            args[0] = 46341;\n+          else if ( args[0] > 0 )\n@@ -1803,0 +1827,1 @@\n+              idx = idx % count;\n@@ -1817,0 +1842,4 @@\n+              \/* before C99 it is implementation-defined whether    *\/\n+              \/* the result of `%' is negative if the first operand *\/\n+              \/* is negative                                        *\/\n+              idx = -( NEG_INT( idx ) % count );\n@@ -1917,0 +1946,1 @@\n+          if ( num_designs )\n@@ -1926,1 +1956,2 @@\n-            if ( num_results * (FT_Int)num_designs > num_args )\n+            if ( num_results > num_args                       ||\n+                 num_results * (FT_Int)num_designs > num_args )\n@@ -1935,0 +1966,2 @@\n+          else\n+            goto Syntax_Error;\n@@ -2001,3 +2034,2 @@\n-          \/* this is an invalid Type 2 operator; however, there        *\/\n-          \/* exist fonts which are incorrectly converted from probably *\/\n-          \/* Type 1 to CFF, and some parsers seem to accept it         *\/\n+          {\n+            FT_Fixed  arg;\n@@ -2005,1 +2037,0 @@\n-          FT_TRACE4(( \" callothersubr (invalid op)\\n\" ));\n@@ -2007,8 +2038,21 @@\n-          \/* subsequent `pop' operands should add the arguments,       *\/\n-          \/* this is the implementation described for `unknown' other  *\/\n-          \/* subroutines in the Type1 spec.                            *\/\n-          \/*                                                           *\/\n-          \/* XXX Fix return arguments (see discussion below).          *\/\n-          args -= 2 + ( args[-2] >> 16 );\n-          if ( args < stack )\n-            goto Stack_Underflow;\n+            \/* this is an invalid Type 2 operator; however, there      *\/\n+            \/* exist fonts which are incorrectly converted from        *\/\n+            \/* probably Type 1 to CFF, and some parsers seem to accept *\/\n+            \/* it                                                      *\/\n+\n+            FT_TRACE4(( \" callothersubr (invalid op)\\n\" ));\n+\n+            \/* subsequent `pop' operands should add the arguments,     *\/\n+            \/* this is the implementation described for `unknown'      *\/\n+            \/* other subroutines in the Type1 spec.                    *\/\n+            \/*                                                         *\/\n+            \/* XXX Fix return arguments (see discussion below).        *\/\n+\n+            arg = 2 + ( args[-2] >> 16 );\n+            if ( arg >= CFF_MAX_OPERANDS )\n+              goto Stack_Underflow;\n+\n+            args -= arg;\n+            if ( args < stack )\n+              goto Stack_Underflow;\n+          }\n@@ -2254,22 +2298,28 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    cff_decoder_init                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Initializes a given glyph decoder.                                 *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    decoder :: A pointer to the glyph builder to initialize.           *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face      :: The current face object.                              *\/\n-  \/*                                                                       *\/\n-  \/*    size      :: The current size object.                              *\/\n-  \/*                                                                       *\/\n-  \/*    slot      :: The current glyph object.                             *\/\n-  \/*                                                                       *\/\n-  \/*    hinting   :: Whether hinting is active.                            *\/\n-  \/*                                                                       *\/\n-  \/*    hint_mode :: The hinting mode.                                     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   cff_decoder_init\n+   *\n+   * @Description:\n+   *   Initializes a given glyph decoder.\n+   *\n+   * @InOut:\n+   *   decoder ::\n+   *     A pointer to the glyph builder to initialize.\n+   *\n+   * @Input:\n+   *   face ::\n+   *     The current face object.\n+   *\n+   *   size ::\n+   *     The current size object.\n+   *\n+   *   slot ::\n+   *     The current glyph object.\n+   *\n+   *   hinting ::\n+   *     Whether hinting is active.\n+   *\n+   *   hint_mode ::\n+   *     The hinting mode.\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psaux\/cffdecode.c","additions":175,"deletions":125,"binary":false,"changes":300,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  cffdecode.h                                                            *\/\n-\/*                                                                         *\/\n-\/*    PostScript CFF (Type 2) decoding routines (specification).           *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2017-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * cffdecode.h\n+ *\n+ *   PostScript CFF (Type 2) decoding routines (specification).\n+ *\n+ * Copyright (C) 2017-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psaux\/cffdecode.h","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,36 +1,36 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  psarrst.c                                                              *\/\n-\/*                                                                         *\/\n-\/*    Adobe's code for Array Stacks (body).                                *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2007-2013 Adobe Systems Incorporated.                        *\/\n-\/*                                                                         *\/\n-\/*  This software, and all works of authorship, whether in source or       *\/\n-\/*  object code form as indicated by the copyright notice(s) included      *\/\n-\/*  herein (collectively, the \"Work\") is made available, and may only be   *\/\n-\/*  used, modified, and distributed under the FreeType Project License,    *\/\n-\/*  LICENSE.TXT.  Additionally, subject to the terms and conditions of the *\/\n-\/*  FreeType Project License, each contributor to the Work hereby grants   *\/\n-\/*  to any individual or legal entity exercising permissions granted by    *\/\n-\/*  the FreeType Project License and this section (hereafter, \"You\" or     *\/\n-\/*  \"Your\") a perpetual, worldwide, non-exclusive, no-charge,              *\/\n-\/*  royalty-free, irrevocable (except as stated in this section) patent    *\/\n-\/*  license to make, have made, use, offer to sell, sell, import, and      *\/\n-\/*  otherwise transfer the Work, where such license applies only to those  *\/\n-\/*  patent claims licensable by such contributor that are necessarily      *\/\n-\/*  infringed by their contribution(s) alone or by combination of their    *\/\n-\/*  contribution(s) with the Work to which such contribution(s) was        *\/\n-\/*  submitted.  If You institute patent litigation against any entity      *\/\n-\/*  (including a cross-claim or counterclaim in a lawsuit) alleging that   *\/\n-\/*  the Work or a contribution incorporated within the Work constitutes    *\/\n-\/*  direct or contributory patent infringement, then any patent licenses   *\/\n-\/*  granted to You under this License for that Work shall terminate as of  *\/\n-\/*  the date such litigation is filed.                                     *\/\n-\/*                                                                         *\/\n-\/*  By using, modifying, or distributing the Work you indicate that you    *\/\n-\/*  have read and understood the terms and conditions of the               *\/\n-\/*  FreeType Project License as well as those provided in this section,    *\/\n-\/*  and you accept them fully.                                             *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * psarrst.c\n+ *\n+ *   Adobe's code for Array Stacks (body).\n+ *\n+ * Copyright 2007-2013 Adobe Systems Incorporated.\n+ *\n+ * This software, and all works of authorship, whether in source or\n+ * object code form as indicated by the copyright notice(s) included\n+ * herein (collectively, the \"Work\") is made available, and may only be\n+ * used, modified, and distributed under the FreeType Project License,\n+ * LICENSE.TXT.  Additionally, subject to the terms and conditions of the\n+ * FreeType Project License, each contributor to the Work hereby grants\n+ * to any individual or legal entity exercising permissions granted by\n+ * the FreeType Project License and this section (hereafter, \"You\" or\n+ * \"Your\") a perpetual, worldwide, non-exclusive, no-charge,\n+ * royalty-free, irrevocable (except as stated in this section) patent\n+ * license to make, have made, use, offer to sell, sell, import, and\n+ * otherwise transfer the Work, where such license applies only to those\n+ * patent claims licensable by such contributor that are necessarily\n+ * infringed by their contribution(s) alone or by combination of their\n+ * contribution(s) with the Work to which such contribution(s) was\n+ * submitted.  If You institute patent litigation against any entity\n+ * (including a cross-claim or counterclaim in a lawsuit) alleging that\n+ * the Work or a contribution incorporated within the Work constitutes\n+ * direct or contributory patent infringement, then any patent licenses\n+ * granted to You under this License for that Work shall terminate as of\n+ * the date such litigation is filed.\n+ *\n+ * By using, modifying, or distributing the Work you indicate that you\n+ * have read and understood the terms and conditions of the\n+ * FreeType Project License as well as those provided in this section,\n+ * and you accept them fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psaux\/psarrst.c","additions":36,"deletions":36,"binary":false,"changes":72,"status":"modified"},{"patch":"@@ -1,36 +1,36 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  psarrst.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    Adobe's code for Array Stacks (specification).                       *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2007-2013 Adobe Systems Incorporated.                        *\/\n-\/*                                                                         *\/\n-\/*  This software, and all works of authorship, whether in source or       *\/\n-\/*  object code form as indicated by the copyright notice(s) included      *\/\n-\/*  herein (collectively, the \"Work\") is made available, and may only be   *\/\n-\/*  used, modified, and distributed under the FreeType Project License,    *\/\n-\/*  LICENSE.TXT.  Additionally, subject to the terms and conditions of the *\/\n-\/*  FreeType Project License, each contributor to the Work hereby grants   *\/\n-\/*  to any individual or legal entity exercising permissions granted by    *\/\n-\/*  the FreeType Project License and this section (hereafter, \"You\" or     *\/\n-\/*  \"Your\") a perpetual, worldwide, non-exclusive, no-charge,              *\/\n-\/*  royalty-free, irrevocable (except as stated in this section) patent    *\/\n-\/*  license to make, have made, use, offer to sell, sell, import, and      *\/\n-\/*  otherwise transfer the Work, where such license applies only to those  *\/\n-\/*  patent claims licensable by such contributor that are necessarily      *\/\n-\/*  infringed by their contribution(s) alone or by combination of their    *\/\n-\/*  contribution(s) with the Work to which such contribution(s) was        *\/\n-\/*  submitted.  If You institute patent litigation against any entity      *\/\n-\/*  (including a cross-claim or counterclaim in a lawsuit) alleging that   *\/\n-\/*  the Work or a contribution incorporated within the Work constitutes    *\/\n-\/*  direct or contributory patent infringement, then any patent licenses   *\/\n-\/*  granted to You under this License for that Work shall terminate as of  *\/\n-\/*  the date such litigation is filed.                                     *\/\n-\/*                                                                         *\/\n-\/*  By using, modifying, or distributing the Work you indicate that you    *\/\n-\/*  have read and understood the terms and conditions of the               *\/\n-\/*  FreeType Project License as well as those provided in this section,    *\/\n-\/*  and you accept them fully.                                             *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * psarrst.h\n+ *\n+ *   Adobe's code for Array Stacks (specification).\n+ *\n+ * Copyright 2007-2013 Adobe Systems Incorporated.\n+ *\n+ * This software, and all works of authorship, whether in source or\n+ * object code form as indicated by the copyright notice(s) included\n+ * herein (collectively, the \"Work\") is made available, and may only be\n+ * used, modified, and distributed under the FreeType Project License,\n+ * LICENSE.TXT.  Additionally, subject to the terms and conditions of the\n+ * FreeType Project License, each contributor to the Work hereby grants\n+ * to any individual or legal entity exercising permissions granted by\n+ * the FreeType Project License and this section (hereafter, \"You\" or\n+ * \"Your\") a perpetual, worldwide, non-exclusive, no-charge,\n+ * royalty-free, irrevocable (except as stated in this section) patent\n+ * license to make, have made, use, offer to sell, sell, import, and\n+ * otherwise transfer the Work, where such license applies only to those\n+ * patent claims licensable by such contributor that are necessarily\n+ * infringed by their contribution(s) alone or by combination of their\n+ * contribution(s) with the Work to which such contribution(s) was\n+ * submitted.  If You institute patent litigation against any entity\n+ * (including a cross-claim or counterclaim in a lawsuit) alleging that\n+ * the Work or a contribution incorporated within the Work constitutes\n+ * direct or contributory patent infringement, then any patent licenses\n+ * granted to You under this License for that Work shall terminate as of\n+ * the date such litigation is filed.\n+ *\n+ * By using, modifying, or distributing the Work you indicate that you\n+ * have read and understood the terms and conditions of the\n+ * FreeType Project License as well as those provided in this section,\n+ * and you accept them fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psaux\/psarrst.h","additions":36,"deletions":36,"binary":false,"changes":72,"status":"modified"},{"patch":"@@ -1,24 +1,24 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  psauxerr.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    PS auxiliary module error codes (specification only).                *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2001-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* This file is used to define the PS auxiliary module error enumeration *\/\n-  \/* constants.                                                            *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * psauxerr.h\n+ *\n+ *   PS auxiliary module error codes (specification only).\n+ *\n+ * Copyright (C) 2001-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * This file is used to define the PS auxiliary module error enumeration\n+   * constants.\n+   *\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psaux\/psauxerr.h","additions":24,"deletions":24,"binary":false,"changes":48,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  psauxmod.c                                                             *\/\n-\/*                                                                         *\/\n-\/*    FreeType auxiliary PostScript module implementation (body).          *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2000-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * psauxmod.c\n+ *\n+ *   FreeType auxiliary PostScript module implementation (body).\n+ *\n+ * Copyright (C) 2000-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psaux\/psauxmod.c","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  psauxmod.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    FreeType auxiliary PostScript module implementation (specification). *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2000-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * psauxmod.h\n+ *\n+ *   FreeType auxiliary PostScript module implementation (specification).\n+ *\n+ * Copyright (C) 2000-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -31,4 +31,0 @@\n-#ifdef FT_CONFIG_OPTION_PIC\n-#error \"this module does not support PIC yet\"\n-#endif\n-\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psaux\/psauxmod.h","additions":16,"deletions":20,"binary":false,"changes":36,"status":"modified"},{"patch":"@@ -1,36 +1,36 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  psblues.c                                                              *\/\n-\/*                                                                         *\/\n-\/*    Adobe's code for handling Blue Zones (body).                         *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2009-2014 Adobe Systems Incorporated.                        *\/\n-\/*                                                                         *\/\n-\/*  This software, and all works of authorship, whether in source or       *\/\n-\/*  object code form as indicated by the copyright notice(s) included      *\/\n-\/*  herein (collectively, the \"Work\") is made available, and may only be   *\/\n-\/*  used, modified, and distributed under the FreeType Project License,    *\/\n-\/*  LICENSE.TXT.  Additionally, subject to the terms and conditions of the *\/\n-\/*  FreeType Project License, each contributor to the Work hereby grants   *\/\n-\/*  to any individual or legal entity exercising permissions granted by    *\/\n-\/*  the FreeType Project License and this section (hereafter, \"You\" or     *\/\n-\/*  \"Your\") a perpetual, worldwide, non-exclusive, no-charge,              *\/\n-\/*  royalty-free, irrevocable (except as stated in this section) patent    *\/\n-\/*  license to make, have made, use, offer to sell, sell, import, and      *\/\n-\/*  otherwise transfer the Work, where such license applies only to those  *\/\n-\/*  patent claims licensable by such contributor that are necessarily      *\/\n-\/*  infringed by their contribution(s) alone or by combination of their    *\/\n-\/*  contribution(s) with the Work to which such contribution(s) was        *\/\n-\/*  submitted.  If You institute patent litigation against any entity      *\/\n-\/*  (including a cross-claim or counterclaim in a lawsuit) alleging that   *\/\n-\/*  the Work or a contribution incorporated within the Work constitutes    *\/\n-\/*  direct or contributory patent infringement, then any patent licenses   *\/\n-\/*  granted to You under this License for that Work shall terminate as of  *\/\n-\/*  the date such litigation is filed.                                     *\/\n-\/*                                                                         *\/\n-\/*  By using, modifying, or distributing the Work you indicate that you    *\/\n-\/*  have read and understood the terms and conditions of the               *\/\n-\/*  FreeType Project License as well as those provided in this section,    *\/\n-\/*  and you accept them fully.                                             *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * psblues.c\n+ *\n+ *   Adobe's code for handling Blue Zones (body).\n+ *\n+ * Copyright 2009-2014 Adobe Systems Incorporated.\n+ *\n+ * This software, and all works of authorship, whether in source or\n+ * object code form as indicated by the copyright notice(s) included\n+ * herein (collectively, the \"Work\") is made available, and may only be\n+ * used, modified, and distributed under the FreeType Project License,\n+ * LICENSE.TXT.  Additionally, subject to the terms and conditions of the\n+ * FreeType Project License, each contributor to the Work hereby grants\n+ * to any individual or legal entity exercising permissions granted by\n+ * the FreeType Project License and this section (hereafter, \"You\" or\n+ * \"Your\") a perpetual, worldwide, non-exclusive, no-charge,\n+ * royalty-free, irrevocable (except as stated in this section) patent\n+ * license to make, have made, use, offer to sell, sell, import, and\n+ * otherwise transfer the Work, where such license applies only to those\n+ * patent claims licensable by such contributor that are necessarily\n+ * infringed by their contribution(s) alone or by combination of their\n+ * contribution(s) with the Work to which such contribution(s) was\n+ * submitted.  If You institute patent litigation against any entity\n+ * (including a cross-claim or counterclaim in a lawsuit) alleging that\n+ * the Work or a contribution incorporated within the Work constitutes\n+ * direct or contributory patent infringement, then any patent licenses\n+ * granted to You under this License for that Work shall terminate as of\n+ * the date such litigation is filed.\n+ *\n+ * By using, modifying, or distributing the Work you indicate that you\n+ * have read and understood the terms and conditions of the\n+ * FreeType Project License as well as those provided in this section,\n+ * and you accept them fully.\n+ *\n+ *\/\n@@ -47,6 +47,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -54,1 +54,1 @@\n-#define FT_COMPONENT  trace_cf2blues\n+#define FT_COMPONENT  cf2blues\n@@ -455,7 +455,7 @@\n-   *  1) If `BlueScale' suppresses overshoot, position the captured edge\n-   *     at the flat edge of the zone.\n-   *  2) If overshoot is not suppressed and `BlueShift' requires\n-   *     overshoot, position the captured edge a minimum of 1 device pixel\n-   *     from the flat edge.\n-   *  3) If overshoot is not suppressed or required, position the captured\n-   *     edge at the nearest device pixel.\n+   * 1) If `BlueScale' suppresses overshoot, position the captured edge\n+   *    at the flat edge of the zone.\n+   * 2) If overshoot is not suppressed and `BlueShift' requires\n+   *    overshoot, position the captured edge a minimum of 1 device pixel\n+   *    from the flat edge.\n+   * 3) If overshoot is not suppressed or required, position the captured\n+   *    edge at the nearest device pixel.\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psaux\/psblues.c","additions":50,"deletions":50,"binary":false,"changes":100,"status":"modified"},{"patch":"@@ -1,36 +1,36 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  psblues.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    Adobe's code for handling Blue Zones (specification).                *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2009-2013 Adobe Systems Incorporated.                        *\/\n-\/*                                                                         *\/\n-\/*  This software, and all works of authorship, whether in source or       *\/\n-\/*  object code form as indicated by the copyright notice(s) included      *\/\n-\/*  herein (collectively, the \"Work\") is made available, and may only be   *\/\n-\/*  used, modified, and distributed under the FreeType Project License,    *\/\n-\/*  LICENSE.TXT.  Additionally, subject to the terms and conditions of the *\/\n-\/*  FreeType Project License, each contributor to the Work hereby grants   *\/\n-\/*  to any individual or legal entity exercising permissions granted by    *\/\n-\/*  the FreeType Project License and this section (hereafter, \"You\" or     *\/\n-\/*  \"Your\") a perpetual, worldwide, non-exclusive, no-charge,              *\/\n-\/*  royalty-free, irrevocable (except as stated in this section) patent    *\/\n-\/*  license to make, have made, use, offer to sell, sell, import, and      *\/\n-\/*  otherwise transfer the Work, where such license applies only to those  *\/\n-\/*  patent claims licensable by such contributor that are necessarily      *\/\n-\/*  infringed by their contribution(s) alone or by combination of their    *\/\n-\/*  contribution(s) with the Work to which such contribution(s) was        *\/\n-\/*  submitted.  If You institute patent litigation against any entity      *\/\n-\/*  (including a cross-claim or counterclaim in a lawsuit) alleging that   *\/\n-\/*  the Work or a contribution incorporated within the Work constitutes    *\/\n-\/*  direct or contributory patent infringement, then any patent licenses   *\/\n-\/*  granted to You under this License for that Work shall terminate as of  *\/\n-\/*  the date such litigation is filed.                                     *\/\n-\/*                                                                         *\/\n-\/*  By using, modifying, or distributing the Work you indicate that you    *\/\n-\/*  have read and understood the terms and conditions of the               *\/\n-\/*  FreeType Project License as well as those provided in this section,    *\/\n-\/*  and you accept them fully.                                             *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * psblues.h\n+ *\n+ *   Adobe's code for handling Blue Zones (specification).\n+ *\n+ * Copyright 2009-2013 Adobe Systems Incorporated.\n+ *\n+ * This software, and all works of authorship, whether in source or\n+ * object code form as indicated by the copyright notice(s) included\n+ * herein (collectively, the \"Work\") is made available, and may only be\n+ * used, modified, and distributed under the FreeType Project License,\n+ * LICENSE.TXT.  Additionally, subject to the terms and conditions of the\n+ * FreeType Project License, each contributor to the Work hereby grants\n+ * to any individual or legal entity exercising permissions granted by\n+ * the FreeType Project License and this section (hereafter, \"You\" or\n+ * \"Your\") a perpetual, worldwide, non-exclusive, no-charge,\n+ * royalty-free, irrevocable (except as stated in this section) patent\n+ * license to make, have made, use, offer to sell, sell, import, and\n+ * otherwise transfer the Work, where such license applies only to those\n+ * patent claims licensable by such contributor that are necessarily\n+ * infringed by their contribution(s) alone or by combination of their\n+ * contribution(s) with the Work to which such contribution(s) was\n+ * submitted.  If You institute patent litigation against any entity\n+ * (including a cross-claim or counterclaim in a lawsuit) alleging that\n+ * the Work or a contribution incorporated within the Work constitutes\n+ * direct or contributory patent infringement, then any patent licenses\n+ * granted to You under this License for that Work shall terminate as of\n+ * the date such litigation is filed.\n+ *\n+ * By using, modifying, or distributing the Work you indicate that you\n+ * have read and understood the terms and conditions of the\n+ * FreeType Project License as well as those provided in this section,\n+ * and you accept them fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psaux\/psblues.h","additions":36,"deletions":36,"binary":false,"changes":72,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  psconv.c                                                               *\/\n-\/*                                                                         *\/\n-\/*    Some convenience conversions (body).                                 *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2006-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * psconv.c\n+ *\n+ *   Some convenience conversions (body).\n+ *\n+ * Copyright (C) 2006-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -27,6 +27,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -34,1 +34,1 @@\n-#define FT_COMPONENT  trace_psconv\n+#define FT_COMPONENT  psconv\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psaux\/psconv.c","additions":23,"deletions":23,"binary":false,"changes":46,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  psconv.h                                                               *\/\n-\/*                                                                         *\/\n-\/*    Some convenience conversions (specification).                        *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2006-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * psconv.h\n+ *\n+ *   Some convenience conversions (specification).\n+ *\n+ * Copyright (C) 2006-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psaux\/psconv.h","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,36 +1,36 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  pserror.c                                                              *\/\n-\/*                                                                         *\/\n-\/*    Adobe's code for error handling (body).                              *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2006-2013 Adobe Systems Incorporated.                        *\/\n-\/*                                                                         *\/\n-\/*  This software, and all works of authorship, whether in source or       *\/\n-\/*  object code form as indicated by the copyright notice(s) included      *\/\n-\/*  herein (collectively, the \"Work\") is made available, and may only be   *\/\n-\/*  used, modified, and distributed under the FreeType Project License,    *\/\n-\/*  LICENSE.TXT.  Additionally, subject to the terms and conditions of the *\/\n-\/*  FreeType Project License, each contributor to the Work hereby grants   *\/\n-\/*  to any individual or legal entity exercising permissions granted by    *\/\n-\/*  the FreeType Project License and this section (hereafter, \"You\" or     *\/\n-\/*  \"Your\") a perpetual, worldwide, non-exclusive, no-charge,              *\/\n-\/*  royalty-free, irrevocable (except as stated in this section) patent    *\/\n-\/*  license to make, have made, use, offer to sell, sell, import, and      *\/\n-\/*  otherwise transfer the Work, where such license applies only to those  *\/\n-\/*  patent claims licensable by such contributor that are necessarily      *\/\n-\/*  infringed by their contribution(s) alone or by combination of their    *\/\n-\/*  contribution(s) with the Work to which such contribution(s) was        *\/\n-\/*  submitted.  If You institute patent litigation against any entity      *\/\n-\/*  (including a cross-claim or counterclaim in a lawsuit) alleging that   *\/\n-\/*  the Work or a contribution incorporated within the Work constitutes    *\/\n-\/*  direct or contributory patent infringement, then any patent licenses   *\/\n-\/*  granted to You under this License for that Work shall terminate as of  *\/\n-\/*  the date such litigation is filed.                                     *\/\n-\/*                                                                         *\/\n-\/*  By using, modifying, or distributing the Work you indicate that you    *\/\n-\/*  have read and understood the terms and conditions of the               *\/\n-\/*  FreeType Project License as well as those provided in this section,    *\/\n-\/*  and you accept them fully.                                             *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * pserror.c\n+ *\n+ *   Adobe's code for error handling (body).\n+ *\n+ * Copyright 2006-2013 Adobe Systems Incorporated.\n+ *\n+ * This software, and all works of authorship, whether in source or\n+ * object code form as indicated by the copyright notice(s) included\n+ * herein (collectively, the \"Work\") is made available, and may only be\n+ * used, modified, and distributed under the FreeType Project License,\n+ * LICENSE.TXT.  Additionally, subject to the terms and conditions of the\n+ * FreeType Project License, each contributor to the Work hereby grants\n+ * to any individual or legal entity exercising permissions granted by\n+ * the FreeType Project License and this section (hereafter, \"You\" or\n+ * \"Your\") a perpetual, worldwide, non-exclusive, no-charge,\n+ * royalty-free, irrevocable (except as stated in this section) patent\n+ * license to make, have made, use, offer to sell, sell, import, and\n+ * otherwise transfer the Work, where such license applies only to those\n+ * patent claims licensable by such contributor that are necessarily\n+ * infringed by their contribution(s) alone or by combination of their\n+ * contribution(s) with the Work to which such contribution(s) was\n+ * submitted.  If You institute patent litigation against any entity\n+ * (including a cross-claim or counterclaim in a lawsuit) alleging that\n+ * the Work or a contribution incorporated within the Work constitutes\n+ * direct or contributory patent infringement, then any patent licenses\n+ * granted to You under this License for that Work shall terminate as of\n+ * the date such litigation is filed.\n+ *\n+ * By using, modifying, or distributing the Work you indicate that you\n+ * have read and understood the terms and conditions of the\n+ * FreeType Project License as well as those provided in this section,\n+ * and you accept them fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psaux\/pserror.c","additions":36,"deletions":36,"binary":false,"changes":72,"status":"modified"},{"patch":"@@ -1,36 +1,36 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  pserror.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    Adobe's code for error handling (specification).                     *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2006-2013 Adobe Systems Incorporated.                        *\/\n-\/*                                                                         *\/\n-\/*  This software, and all works of authorship, whether in source or       *\/\n-\/*  object code form as indicated by the copyright notice(s) included      *\/\n-\/*  herein (collectively, the \"Work\") is made available, and may only be   *\/\n-\/*  used, modified, and distributed under the FreeType Project License,    *\/\n-\/*  LICENSE.TXT.  Additionally, subject to the terms and conditions of the *\/\n-\/*  FreeType Project License, each contributor to the Work hereby grants   *\/\n-\/*  to any individual or legal entity exercising permissions granted by    *\/\n-\/*  the FreeType Project License and this section (hereafter, \"You\" or     *\/\n-\/*  \"Your\") a perpetual, worldwide, non-exclusive, no-charge,              *\/\n-\/*  royalty-free, irrevocable (except as stated in this section) patent    *\/\n-\/*  license to make, have made, use, offer to sell, sell, import, and      *\/\n-\/*  otherwise transfer the Work, where such license applies only to those  *\/\n-\/*  patent claims licensable by such contributor that are necessarily      *\/\n-\/*  infringed by their contribution(s) alone or by combination of their    *\/\n-\/*  contribution(s) with the Work to which such contribution(s) was        *\/\n-\/*  submitted.  If You institute patent litigation against any entity      *\/\n-\/*  (including a cross-claim or counterclaim in a lawsuit) alleging that   *\/\n-\/*  the Work or a contribution incorporated within the Work constitutes    *\/\n-\/*  direct or contributory patent infringement, then any patent licenses   *\/\n-\/*  granted to You under this License for that Work shall terminate as of  *\/\n-\/*  the date such litigation is filed.                                     *\/\n-\/*                                                                         *\/\n-\/*  By using, modifying, or distributing the Work you indicate that you    *\/\n-\/*  have read and understood the terms and conditions of the               *\/\n-\/*  FreeType Project License as well as those provided in this section,    *\/\n-\/*  and you accept them fully.                                             *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * pserror.h\n+ *\n+ *   Adobe's code for error handling (specification).\n+ *\n+ * Copyright 2006-2013 Adobe Systems Incorporated.\n+ *\n+ * This software, and all works of authorship, whether in source or\n+ * object code form as indicated by the copyright notice(s) included\n+ * herein (collectively, the \"Work\") is made available, and may only be\n+ * used, modified, and distributed under the FreeType Project License,\n+ * LICENSE.TXT.  Additionally, subject to the terms and conditions of the\n+ * FreeType Project License, each contributor to the Work hereby grants\n+ * to any individual or legal entity exercising permissions granted by\n+ * the FreeType Project License and this section (hereafter, \"You\" or\n+ * \"Your\") a perpetual, worldwide, non-exclusive, no-charge,\n+ * royalty-free, irrevocable (except as stated in this section) patent\n+ * license to make, have made, use, offer to sell, sell, import, and\n+ * otherwise transfer the Work, where such license applies only to those\n+ * patent claims licensable by such contributor that are necessarily\n+ * infringed by their contribution(s) alone or by combination of their\n+ * contribution(s) with the Work to which such contribution(s) was\n+ * submitted.  If You institute patent litigation against any entity\n+ * (including a cross-claim or counterclaim in a lawsuit) alleging that\n+ * the Work or a contribution incorporated within the Work constitutes\n+ * direct or contributory patent infringement, then any patent licenses\n+ * granted to You under this License for that Work shall terminate as of\n+ * the date such litigation is filed.\n+ *\n+ * By using, modifying, or distributing the Work you indicate that you\n+ * have read and understood the terms and conditions of the\n+ * FreeType Project License as well as those provided in this section,\n+ * and you accept them fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psaux\/pserror.h","additions":36,"deletions":36,"binary":false,"changes":72,"status":"modified"},{"patch":"@@ -1,36 +1,36 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  psfixed.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    Adobe's code for Fixed Point Mathematics (specification only).       *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2007-2013 Adobe Systems Incorporated.                        *\/\n-\/*                                                                         *\/\n-\/*  This software, and all works of authorship, whether in source or       *\/\n-\/*  object code form as indicated by the copyright notice(s) included      *\/\n-\/*  herein (collectively, the \"Work\") is made available, and may only be   *\/\n-\/*  used, modified, and distributed under the FreeType Project License,    *\/\n-\/*  LICENSE.TXT.  Additionally, subject to the terms and conditions of the *\/\n-\/*  FreeType Project License, each contributor to the Work hereby grants   *\/\n-\/*  to any individual or legal entity exercising permissions granted by    *\/\n-\/*  the FreeType Project License and this section (hereafter, \"You\" or     *\/\n-\/*  \"Your\") a perpetual, worldwide, non-exclusive, no-charge,              *\/\n-\/*  royalty-free, irrevocable (except as stated in this section) patent    *\/\n-\/*  license to make, have made, use, offer to sell, sell, import, and      *\/\n-\/*  otherwise transfer the Work, where such license applies only to those  *\/\n-\/*  patent claims licensable by such contributor that are necessarily      *\/\n-\/*  infringed by their contribution(s) alone or by combination of their    *\/\n-\/*  contribution(s) with the Work to which such contribution(s) was        *\/\n-\/*  submitted.  If You institute patent litigation against any entity      *\/\n-\/*  (including a cross-claim or counterclaim in a lawsuit) alleging that   *\/\n-\/*  the Work or a contribution incorporated within the Work constitutes    *\/\n-\/*  direct or contributory patent infringement, then any patent licenses   *\/\n-\/*  granted to You under this License for that Work shall terminate as of  *\/\n-\/*  the date such litigation is filed.                                     *\/\n-\/*                                                                         *\/\n-\/*  By using, modifying, or distributing the Work you indicate that you    *\/\n-\/*  have read and understood the terms and conditions of the               *\/\n-\/*  FreeType Project License as well as those provided in this section,    *\/\n-\/*  and you accept them fully.                                             *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * psfixed.h\n+ *\n+ *   Adobe's code for Fixed Point Mathematics (specification only).\n+ *\n+ * Copyright 2007-2013 Adobe Systems Incorporated.\n+ *\n+ * This software, and all works of authorship, whether in source or\n+ * object code form as indicated by the copyright notice(s) included\n+ * herein (collectively, the \"Work\") is made available, and may only be\n+ * used, modified, and distributed under the FreeType Project License,\n+ * LICENSE.TXT.  Additionally, subject to the terms and conditions of the\n+ * FreeType Project License, each contributor to the Work hereby grants\n+ * to any individual or legal entity exercising permissions granted by\n+ * the FreeType Project License and this section (hereafter, \"You\" or\n+ * \"Your\") a perpetual, worldwide, non-exclusive, no-charge,\n+ * royalty-free, irrevocable (except as stated in this section) patent\n+ * license to make, have made, use, offer to sell, sell, import, and\n+ * otherwise transfer the Work, where such license applies only to those\n+ * patent claims licensable by such contributor that are necessarily\n+ * infringed by their contribution(s) alone or by combination of their\n+ * contribution(s) with the Work to which such contribution(s) was\n+ * submitted.  If You institute patent litigation against any entity\n+ * (including a cross-claim or counterclaim in a lawsuit) alleging that\n+ * the Work or a contribution incorporated within the Work constitutes\n+ * direct or contributory patent infringement, then any patent licenses\n+ * granted to You under this License for that Work shall terminate as of\n+ * the date such litigation is filed.\n+ *\n+ * By using, modifying, or distributing the Work you indicate that you\n+ * have read and understood the terms and conditions of the\n+ * FreeType Project License as well as those provided in this section,\n+ * and you accept them fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psaux\/psfixed.h","additions":36,"deletions":36,"binary":false,"changes":72,"status":"modified"},{"patch":"@@ -1,36 +1,36 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  psfont.c                                                               *\/\n-\/*                                                                         *\/\n-\/*    Adobe's code for font instances (body).                              *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2007-2014 Adobe Systems Incorporated.                        *\/\n-\/*                                                                         *\/\n-\/*  This software, and all works of authorship, whether in source or       *\/\n-\/*  object code form as indicated by the copyright notice(s) included      *\/\n-\/*  herein (collectively, the \"Work\") is made available, and may only be   *\/\n-\/*  used, modified, and distributed under the FreeType Project License,    *\/\n-\/*  LICENSE.TXT.  Additionally, subject to the terms and conditions of the *\/\n-\/*  FreeType Project License, each contributor to the Work hereby grants   *\/\n-\/*  to any individual or legal entity exercising permissions granted by    *\/\n-\/*  the FreeType Project License and this section (hereafter, \"You\" or     *\/\n-\/*  \"Your\") a perpetual, worldwide, non-exclusive, no-charge,              *\/\n-\/*  royalty-free, irrevocable (except as stated in this section) patent    *\/\n-\/*  license to make, have made, use, offer to sell, sell, import, and      *\/\n-\/*  otherwise transfer the Work, where such license applies only to those  *\/\n-\/*  patent claims licensable by such contributor that are necessarily      *\/\n-\/*  infringed by their contribution(s) alone or by combination of their    *\/\n-\/*  contribution(s) with the Work to which such contribution(s) was        *\/\n-\/*  submitted.  If You institute patent litigation against any entity      *\/\n-\/*  (including a cross-claim or counterclaim in a lawsuit) alleging that   *\/\n-\/*  the Work or a contribution incorporated within the Work constitutes    *\/\n-\/*  direct or contributory patent infringement, then any patent licenses   *\/\n-\/*  granted to You under this License for that Work shall terminate as of  *\/\n-\/*  the date such litigation is filed.                                     *\/\n-\/*                                                                         *\/\n-\/*  By using, modifying, or distributing the Work you indicate that you    *\/\n-\/*  have read and understood the terms and conditions of the               *\/\n-\/*  FreeType Project License as well as those provided in this section,    *\/\n-\/*  and you accept them fully.                                             *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * psfont.c\n+ *\n+ *   Adobe's code for font instances (body).\n+ *\n+ * Copyright 2007-2014 Adobe Systems Incorporated.\n+ *\n+ * This software, and all works of authorship, whether in source or\n+ * object code form as indicated by the copyright notice(s) included\n+ * herein (collectively, the \"Work\") is made available, and may only be\n+ * used, modified, and distributed under the FreeType Project License,\n+ * LICENSE.TXT.  Additionally, subject to the terms and conditions of the\n+ * FreeType Project License, each contributor to the Work hereby grants\n+ * to any individual or legal entity exercising permissions granted by\n+ * the FreeType Project License and this section (hereafter, \"You\" or\n+ * \"Your\") a perpetual, worldwide, non-exclusive, no-charge,\n+ * royalty-free, irrevocable (except as stated in this section) patent\n+ * license to make, have made, use, offer to sell, sell, import, and\n+ * otherwise transfer the Work, where such license applies only to those\n+ * patent claims licensable by such contributor that are necessarily\n+ * infringed by their contribution(s) alone or by combination of their\n+ * contribution(s) with the Work to which such contribution(s) was\n+ * submitted.  If You institute patent litigation against any entity\n+ * (including a cross-claim or counterclaim in a lawsuit) alleging that\n+ * the Work or a contribution incorporated within the Work constitutes\n+ * direct or contributory patent infringement, then any patent licenses\n+ * granted to You under this License for that Work shall terminate as of\n+ * the date such litigation is filed.\n+ *\n+ * By using, modifying, or distributing the Work you indicate that you\n+ * have read and understood the terms and conditions of the\n+ * FreeType Project License as well as those provided in this section,\n+ * and you accept them fully.\n+ *\n+ *\/\n@@ -334,1 +334,1 @@\n-    font->hinted = (FT_Bool)( font->renderingFlags & CF2_FlagsHinted );\n+    font->hinted = FT_BOOL( font->renderingFlags & CF2_FlagsHinted );\n@@ -369,1 +369,1 @@\n-        (FT_Bool)( font->renderingFlags & CF2_FlagsDarkened );\n+        FT_BOOL( font->renderingFlags & CF2_FlagsDarkened );\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psaux\/psfont.c","additions":38,"deletions":38,"binary":false,"changes":76,"status":"modified"},{"patch":"@@ -1,36 +1,36 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  psfont.h                                                               *\/\n-\/*                                                                         *\/\n-\/*    Adobe's code for font instances (specification).                     *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2007-2013 Adobe Systems Incorporated.                        *\/\n-\/*                                                                         *\/\n-\/*  This software, and all works of authorship, whether in source or       *\/\n-\/*  object code form as indicated by the copyright notice(s) included      *\/\n-\/*  herein (collectively, the \"Work\") is made available, and may only be   *\/\n-\/*  used, modified, and distributed under the FreeType Project License,    *\/\n-\/*  LICENSE.TXT.  Additionally, subject to the terms and conditions of the *\/\n-\/*  FreeType Project License, each contributor to the Work hereby grants   *\/\n-\/*  to any individual or legal entity exercising permissions granted by    *\/\n-\/*  the FreeType Project License and this section (hereafter, \"You\" or     *\/\n-\/*  \"Your\") a perpetual, worldwide, non-exclusive, no-charge,              *\/\n-\/*  royalty-free, irrevocable (except as stated in this section) patent    *\/\n-\/*  license to make, have made, use, offer to sell, sell, import, and      *\/\n-\/*  otherwise transfer the Work, where such license applies only to those  *\/\n-\/*  patent claims licensable by such contributor that are necessarily      *\/\n-\/*  infringed by their contribution(s) alone or by combination of their    *\/\n-\/*  contribution(s) with the Work to which such contribution(s) was        *\/\n-\/*  submitted.  If You institute patent litigation against any entity      *\/\n-\/*  (including a cross-claim or counterclaim in a lawsuit) alleging that   *\/\n-\/*  the Work or a contribution incorporated within the Work constitutes    *\/\n-\/*  direct or contributory patent infringement, then any patent licenses   *\/\n-\/*  granted to You under this License for that Work shall terminate as of  *\/\n-\/*  the date such litigation is filed.                                     *\/\n-\/*                                                                         *\/\n-\/*  By using, modifying, or distributing the Work you indicate that you    *\/\n-\/*  have read and understood the terms and conditions of the               *\/\n-\/*  FreeType Project License as well as those provided in this section,    *\/\n-\/*  and you accept them fully.                                             *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * psfont.h\n+ *\n+ *   Adobe's code for font instances (specification).\n+ *\n+ * Copyright 2007-2013 Adobe Systems Incorporated.\n+ *\n+ * This software, and all works of authorship, whether in source or\n+ * object code form as indicated by the copyright notice(s) included\n+ * herein (collectively, the \"Work\") is made available, and may only be\n+ * used, modified, and distributed under the FreeType Project License,\n+ * LICENSE.TXT.  Additionally, subject to the terms and conditions of the\n+ * FreeType Project License, each contributor to the Work hereby grants\n+ * to any individual or legal entity exercising permissions granted by\n+ * the FreeType Project License and this section (hereafter, \"You\" or\n+ * \"Your\") a perpetual, worldwide, non-exclusive, no-charge,\n+ * royalty-free, irrevocable (except as stated in this section) patent\n+ * license to make, have made, use, offer to sell, sell, import, and\n+ * otherwise transfer the Work, where such license applies only to those\n+ * patent claims licensable by such contributor that are necessarily\n+ * infringed by their contribution(s) alone or by combination of their\n+ * contribution(s) with the Work to which such contribution(s) was\n+ * submitted.  If You institute patent litigation against any entity\n+ * (including a cross-claim or counterclaim in a lawsuit) alleging that\n+ * the Work or a contribution incorporated within the Work constitutes\n+ * direct or contributory patent infringement, then any patent licenses\n+ * granted to You under this License for that Work shall terminate as of\n+ * the date such litigation is filed.\n+ *\n+ * By using, modifying, or distributing the Work you indicate that you\n+ * have read and understood the terms and conditions of the\n+ * FreeType Project License as well as those provided in this section,\n+ * and you accept them fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psaux\/psfont.h","additions":36,"deletions":36,"binary":false,"changes":72,"status":"modified"},{"patch":"@@ -1,36 +1,36 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  psft.c                                                                 *\/\n-\/*                                                                         *\/\n-\/*    FreeType Glue Component to Adobe's Interpreter (body).               *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2013-2014 Adobe Systems Incorporated.                        *\/\n-\/*                                                                         *\/\n-\/*  This software, and all works of authorship, whether in source or       *\/\n-\/*  object code form as indicated by the copyright notice(s) included      *\/\n-\/*  herein (collectively, the \"Work\") is made available, and may only be   *\/\n-\/*  used, modified, and distributed under the FreeType Project License,    *\/\n-\/*  LICENSE.TXT.  Additionally, subject to the terms and conditions of the *\/\n-\/*  FreeType Project License, each contributor to the Work hereby grants   *\/\n-\/*  to any individual or legal entity exercising permissions granted by    *\/\n-\/*  the FreeType Project License and this section (hereafter, \"You\" or     *\/\n-\/*  \"Your\") a perpetual, worldwide, non-exclusive, no-charge,              *\/\n-\/*  royalty-free, irrevocable (except as stated in this section) patent    *\/\n-\/*  license to make, have made, use, offer to sell, sell, import, and      *\/\n-\/*  otherwise transfer the Work, where such license applies only to those  *\/\n-\/*  patent claims licensable by such contributor that are necessarily      *\/\n-\/*  infringed by their contribution(s) alone or by combination of their    *\/\n-\/*  contribution(s) with the Work to which such contribution(s) was        *\/\n-\/*  submitted.  If You institute patent litigation against any entity      *\/\n-\/*  (including a cross-claim or counterclaim in a lawsuit) alleging that   *\/\n-\/*  the Work or a contribution incorporated within the Work constitutes    *\/\n-\/*  direct or contributory patent infringement, then any patent licenses   *\/\n-\/*  granted to You under this License for that Work shall terminate as of  *\/\n-\/*  the date such litigation is filed.                                     *\/\n-\/*                                                                         *\/\n-\/*  By using, modifying, or distributing the Work you indicate that you    *\/\n-\/*  have read and understood the terms and conditions of the               *\/\n-\/*  FreeType Project License as well as those provided in this section,    *\/\n-\/*  and you accept them fully.                                             *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * psft.c\n+ *\n+ *   FreeType Glue Component to Adobe's Interpreter (body).\n+ *\n+ * Copyright 2013-2014 Adobe Systems Incorporated.\n+ *\n+ * This software, and all works of authorship, whether in source or\n+ * object code form as indicated by the copyright notice(s) included\n+ * herein (collectively, the \"Work\") is made available, and may only be\n+ * used, modified, and distributed under the FreeType Project License,\n+ * LICENSE.TXT.  Additionally, subject to the terms and conditions of the\n+ * FreeType Project License, each contributor to the Work hereby grants\n+ * to any individual or legal entity exercising permissions granted by\n+ * the FreeType Project License and this section (hereafter, \"You\" or\n+ * \"Your\") a perpetual, worldwide, non-exclusive, no-charge,\n+ * royalty-free, irrevocable (except as stated in this section) patent\n+ * license to make, have made, use, offer to sell, sell, import, and\n+ * otherwise transfer the Work, where such license applies only to those\n+ * patent claims licensable by such contributor that are necessarily\n+ * infringed by their contribution(s) alone or by combination of their\n+ * contribution(s) with the Work to which such contribution(s) was\n+ * submitted.  If You institute patent litigation against any entity\n+ * (including a cross-claim or counterclaim in a lawsuit) alleging that\n+ * the Work or a contribution incorporated within the Work constitutes\n+ * direct or contributory patent infringement, then any patent licenses\n+ * granted to You under this License for that Work shall terminate as of\n+ * the date such litigation is filed.\n+ *\n+ * By using, modifying, or distributing the Work you indicate that you\n+ * have read and understood the terms and conditions of the\n+ * FreeType Project License as well as those provided in this section,\n+ * and you accept them fully.\n+ *\n+ *\/\n@@ -123,6 +123,6 @@\n-  \/********************************************\/\n-  \/*                                          *\/\n-  \/* functions for handling client outline;   *\/\n-  \/* FreeType uses coordinates in 26.6 format *\/\n-  \/*                                          *\/\n-  \/********************************************\/\n+  \/*********************************************\n+   *\n+   * functions for handling client outline;\n+   * FreeType uses coordinates in 26.6 format\n+   *\n+   *\/\n@@ -770,0 +770,2 @@\n+#ifdef FT_CONFIG_OPTION_INCREMENTAL\n+\n@@ -776,1 +778,0 @@\n-#ifdef FT_CONFIG_OPTION_INCREMENTAL\n@@ -786,1 +787,7 @@\n-#endif \/* FT_CONFIG_OPTION_INCREMENTAL *\/\n+\n+#else \/* !FT_CONFIG_OPTION_INCREMENTAL *\/\n+\n+    FT_UNUSED( decoder );\n+    FT_UNUSED( buf );\n+\n+#endif \/* !FT_CONFIG_OPTION_INCREMENTAL *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psaux\/psft.c","additions":51,"deletions":44,"binary":false,"changes":95,"status":"modified"},{"patch":"@@ -1,36 +1,36 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  psft.h                                                                 *\/\n-\/*                                                                         *\/\n-\/*    FreeType Glue Component to Adobe's Interpreter (specification).      *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2013 Adobe Systems Incorporated.                             *\/\n-\/*                                                                         *\/\n-\/*  This software, and all works of authorship, whether in source or       *\/\n-\/*  object code form as indicated by the copyright notice(s) included      *\/\n-\/*  herein (collectively, the \"Work\") is made available, and may only be   *\/\n-\/*  used, modified, and distributed under the FreeType Project License,    *\/\n-\/*  LICENSE.TXT.  Additionally, subject to the terms and conditions of the *\/\n-\/*  FreeType Project License, each contributor to the Work hereby grants   *\/\n-\/*  to any individual or legal entity exercising permissions granted by    *\/\n-\/*  the FreeType Project License and this section (hereafter, \"You\" or     *\/\n-\/*  \"Your\") a perpetual, worldwide, non-exclusive, no-charge,              *\/\n-\/*  royalty-free, irrevocable (except as stated in this section) patent    *\/\n-\/*  license to make, have made, use, offer to sell, sell, import, and      *\/\n-\/*  otherwise transfer the Work, where such license applies only to those  *\/\n-\/*  patent claims licensable by such contributor that are necessarily      *\/\n-\/*  infringed by their contribution(s) alone or by combination of their    *\/\n-\/*  contribution(s) with the Work to which such contribution(s) was        *\/\n-\/*  submitted.  If You institute patent litigation against any entity      *\/\n-\/*  (including a cross-claim or counterclaim in a lawsuit) alleging that   *\/\n-\/*  the Work or a contribution incorporated within the Work constitutes    *\/\n-\/*  direct or contributory patent infringement, then any patent licenses   *\/\n-\/*  granted to You under this License for that Work shall terminate as of  *\/\n-\/*  the date such litigation is filed.                                     *\/\n-\/*                                                                         *\/\n-\/*  By using, modifying, or distributing the Work you indicate that you    *\/\n-\/*  have read and understood the terms and conditions of the               *\/\n-\/*  FreeType Project License as well as those provided in this section,    *\/\n-\/*  and you accept them fully.                                             *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * psft.h\n+ *\n+ *   FreeType Glue Component to Adobe's Interpreter (specification).\n+ *\n+ * Copyright 2013 Adobe Systems Incorporated.\n+ *\n+ * This software, and all works of authorship, whether in source or\n+ * object code form as indicated by the copyright notice(s) included\n+ * herein (collectively, the \"Work\") is made available, and may only be\n+ * used, modified, and distributed under the FreeType Project License,\n+ * LICENSE.TXT.  Additionally, subject to the terms and conditions of the\n+ * FreeType Project License, each contributor to the Work hereby grants\n+ * to any individual or legal entity exercising permissions granted by\n+ * the FreeType Project License and this section (hereafter, \"You\" or\n+ * \"Your\") a perpetual, worldwide, non-exclusive, no-charge,\n+ * royalty-free, irrevocable (except as stated in this section) patent\n+ * license to make, have made, use, offer to sell, sell, import, and\n+ * otherwise transfer the Work, where such license applies only to those\n+ * patent claims licensable by such contributor that are necessarily\n+ * infringed by their contribution(s) alone or by combination of their\n+ * contribution(s) with the Work to which such contribution(s) was\n+ * submitted.  If You institute patent litigation against any entity\n+ * (including a cross-claim or counterclaim in a lawsuit) alleging that\n+ * the Work or a contribution incorporated within the Work constitutes\n+ * direct or contributory patent infringement, then any patent licenses\n+ * granted to You under this License for that Work shall terminate as of\n+ * the date such litigation is filed.\n+ *\n+ * By using, modifying, or distributing the Work you indicate that you\n+ * have read and understood the terms and conditions of the\n+ * FreeType Project License as well as those provided in this section,\n+ * and you accept them fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psaux\/psft.h","additions":36,"deletions":36,"binary":false,"changes":72,"status":"modified"},{"patch":"@@ -1,36 +1,36 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  psglue.h                                                               *\/\n-\/*                                                                         *\/\n-\/*    Adobe's code for shared stuff (specification only).                  *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2007-2013 Adobe Systems Incorporated.                        *\/\n-\/*                                                                         *\/\n-\/*  This software, and all works of authorship, whether in source or       *\/\n-\/*  object code form as indicated by the copyright notice(s) included      *\/\n-\/*  herein (collectively, the \"Work\") is made available, and may only be   *\/\n-\/*  used, modified, and distributed under the FreeType Project License,    *\/\n-\/*  LICENSE.TXT.  Additionally, subject to the terms and conditions of the *\/\n-\/*  FreeType Project License, each contributor to the Work hereby grants   *\/\n-\/*  to any individual or legal entity exercising permissions granted by    *\/\n-\/*  the FreeType Project License and this section (hereafter, \"You\" or     *\/\n-\/*  \"Your\") a perpetual, worldwide, non-exclusive, no-charge,              *\/\n-\/*  royalty-free, irrevocable (except as stated in this section) patent    *\/\n-\/*  license to make, have made, use, offer to sell, sell, import, and      *\/\n-\/*  otherwise transfer the Work, where such license applies only to those  *\/\n-\/*  patent claims licensable by such contributor that are necessarily      *\/\n-\/*  infringed by their contribution(s) alone or by combination of their    *\/\n-\/*  contribution(s) with the Work to which such contribution(s) was        *\/\n-\/*  submitted.  If You institute patent litigation against any entity      *\/\n-\/*  (including a cross-claim or counterclaim in a lawsuit) alleging that   *\/\n-\/*  the Work or a contribution incorporated within the Work constitutes    *\/\n-\/*  direct or contributory patent infringement, then any patent licenses   *\/\n-\/*  granted to You under this License for that Work shall terminate as of  *\/\n-\/*  the date such litigation is filed.                                     *\/\n-\/*                                                                         *\/\n-\/*  By using, modifying, or distributing the Work you indicate that you    *\/\n-\/*  have read and understood the terms and conditions of the               *\/\n-\/*  FreeType Project License as well as those provided in this section,    *\/\n-\/*  and you accept them fully.                                             *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * psglue.h\n+ *\n+ *   Adobe's code for shared stuff (specification only).\n+ *\n+ * Copyright 2007-2013 Adobe Systems Incorporated.\n+ *\n+ * This software, and all works of authorship, whether in source or\n+ * object code form as indicated by the copyright notice(s) included\n+ * herein (collectively, the \"Work\") is made available, and may only be\n+ * used, modified, and distributed under the FreeType Project License,\n+ * LICENSE.TXT.  Additionally, subject to the terms and conditions of the\n+ * FreeType Project License, each contributor to the Work hereby grants\n+ * to any individual or legal entity exercising permissions granted by\n+ * the FreeType Project License and this section (hereafter, \"You\" or\n+ * \"Your\") a perpetual, worldwide, non-exclusive, no-charge,\n+ * royalty-free, irrevocable (except as stated in this section) patent\n+ * license to make, have made, use, offer to sell, sell, import, and\n+ * otherwise transfer the Work, where such license applies only to those\n+ * patent claims licensable by such contributor that are necessarily\n+ * infringed by their contribution(s) alone or by combination of their\n+ * contribution(s) with the Work to which such contribution(s) was\n+ * submitted.  If You institute patent litigation against any entity\n+ * (including a cross-claim or counterclaim in a lawsuit) alleging that\n+ * the Work or a contribution incorporated within the Work constitutes\n+ * direct or contributory patent infringement, then any patent licenses\n+ * granted to You under this License for that Work shall terminate as of\n+ * the date such litigation is filed.\n+ *\n+ * By using, modifying, or distributing the Work you indicate that you\n+ * have read and understood the terms and conditions of the\n+ * FreeType Project License as well as those provided in this section,\n+ * and you accept them fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psaux\/psglue.h","additions":36,"deletions":36,"binary":false,"changes":72,"status":"modified"},{"patch":"@@ -1,36 +1,36 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  pshints.c                                                              *\/\n-\/*                                                                         *\/\n-\/*    Adobe's code for handling CFF hints (body).                          *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2007-2014 Adobe Systems Incorporated.                        *\/\n-\/*                                                                         *\/\n-\/*  This software, and all works of authorship, whether in source or       *\/\n-\/*  object code form as indicated by the copyright notice(s) included      *\/\n-\/*  herein (collectively, the \"Work\") is made available, and may only be   *\/\n-\/*  used, modified, and distributed under the FreeType Project License,    *\/\n-\/*  LICENSE.TXT.  Additionally, subject to the terms and conditions of the *\/\n-\/*  FreeType Project License, each contributor to the Work hereby grants   *\/\n-\/*  to any individual or legal entity exercising permissions granted by    *\/\n-\/*  the FreeType Project License and this section (hereafter, \"You\" or     *\/\n-\/*  \"Your\") a perpetual, worldwide, non-exclusive, no-charge,              *\/\n-\/*  royalty-free, irrevocable (except as stated in this section) patent    *\/\n-\/*  license to make, have made, use, offer to sell, sell, import, and      *\/\n-\/*  otherwise transfer the Work, where such license applies only to those  *\/\n-\/*  patent claims licensable by such contributor that are necessarily      *\/\n-\/*  infringed by their contribution(s) alone or by combination of their    *\/\n-\/*  contribution(s) with the Work to which such contribution(s) was        *\/\n-\/*  submitted.  If You institute patent litigation against any entity      *\/\n-\/*  (including a cross-claim or counterclaim in a lawsuit) alleging that   *\/\n-\/*  the Work or a contribution incorporated within the Work constitutes    *\/\n-\/*  direct or contributory patent infringement, then any patent licenses   *\/\n-\/*  granted to You under this License for that Work shall terminate as of  *\/\n-\/*  the date such litigation is filed.                                     *\/\n-\/*                                                                         *\/\n-\/*  By using, modifying, or distributing the Work you indicate that you    *\/\n-\/*  have read and understood the terms and conditions of the               *\/\n-\/*  FreeType Project License as well as those provided in this section,    *\/\n-\/*  and you accept them fully.                                             *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * pshints.c\n+ *\n+ *   Adobe's code for handling CFF hints (body).\n+ *\n+ * Copyright 2007-2014 Adobe Systems Incorporated.\n+ *\n+ * This software, and all works of authorship, whether in source or\n+ * object code form as indicated by the copyright notice(s) included\n+ * herein (collectively, the \"Work\") is made available, and may only be\n+ * used, modified, and distributed under the FreeType Project License,\n+ * LICENSE.TXT.  Additionally, subject to the terms and conditions of the\n+ * FreeType Project License, each contributor to the Work hereby grants\n+ * to any individual or legal entity exercising permissions granted by\n+ * the FreeType Project License and this section (hereafter, \"You\" or\n+ * \"Your\") a perpetual, worldwide, non-exclusive, no-charge,\n+ * royalty-free, irrevocable (except as stated in this section) patent\n+ * license to make, have made, use, offer to sell, sell, import, and\n+ * otherwise transfer the Work, where such license applies only to those\n+ * patent claims licensable by such contributor that are necessarily\n+ * infringed by their contribution(s) alone or by combination of their\n+ * contribution(s) with the Work to which such contribution(s) was\n+ * submitted.  If You institute patent litigation against any entity\n+ * (including a cross-claim or counterclaim in a lawsuit) alleging that\n+ * the Work or a contribution incorporated within the Work constitutes\n+ * direct or contributory patent infringement, then any patent licenses\n+ * granted to You under this License for that Work shall terminate as of\n+ * the date such litigation is filed.\n+ *\n+ * By using, modifying, or distributing the Work you indicate that you\n+ * have read and understood the terms and conditions of the\n+ * FreeType Project License as well as those provided in this section,\n+ * and you accept them fully.\n+ *\n+ *\/\n@@ -48,6 +48,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -55,1 +55,1 @@\n-#define FT_COMPONENT  trace_cf2hints\n+#define FT_COMPONENT  cf2hints\n@@ -220,1 +220,1 @@\n-    return (FT_Bool)( hint->flags != 0 );\n+    return FT_BOOL( hint->flags );\n@@ -227,2 +227,1 @@\n-    return (FT_Bool)( ( hint->flags                      &\n-                        ( CF2_PairBottom | CF2_PairTop ) ) != 0 );\n+    return FT_BOOL( hint->flags & ( CF2_PairBottom | CF2_PairTop ) );\n@@ -235,1 +234,1 @@\n-    return (FT_Bool)( ( hint->flags & CF2_PairTop ) != 0 );\n+    return FT_BOOL( hint->flags & CF2_PairTop );\n@@ -242,2 +241,1 @@\n-    return (FT_Bool)( ( hint->flags                    &\n-                        ( CF2_PairTop | CF2_GhostTop ) ) != 0 );\n+    return FT_BOOL( hint->flags & ( CF2_PairTop | CF2_GhostTop ) );\n@@ -250,2 +248,1 @@\n-    return (FT_Bool)( ( hint->flags                          &\n-                        ( CF2_PairBottom | CF2_GhostBottom ) ) != 0 );\n+    return FT_BOOL( hint->flags & ( CF2_PairBottom | CF2_GhostBottom ) );\n@@ -258,1 +255,1 @@\n-    return (FT_Bool)( ( hint->flags & CF2_Locked ) != 0 );\n+    return FT_BOOL( hint->flags & CF2_Locked );\n@@ -265,1 +262,1 @@\n-    return (FT_Bool)( ( hint->flags & CF2_Synthetic ) != 0 );\n+    return FT_BOOL( hint->flags & CF2_Synthetic );\n@@ -337,1 +334,1 @@\n-    if ( hintmap->count == 0 || ! hintmap->hinted )\n+    if ( hintmap->count == 0 || !hintmap->hinted )\n@@ -500,1 +497,1 @@\n-            saveEdge = (FT_Bool)( moveUp < -moveDown );\n+            saveEdge = FT_BOOL( moveUp < -moveDown );\n@@ -1028,4 +1025,4 @@\n-    FT_TRACE6(( initialMap ? \"flags: [p]air [g]host [t]op \"\n-                             \"[b]ottom [L]ocked [S]ynthetic\\n\"\n-                             \"Initial hintmap\\n\"\n-                           : \"Hints:\\n\" ));\n+    FT_TRACE6(( \"%s\\n\", initialMap ? \"flags: [p]air [g]host [t]op\"\n+                                     \" [b]ottom [L]ocked [S]ynthetic\\n\"\n+                                     \"Initial hintmap\"\n+                                   : \"Hints:\" ));\n@@ -1218,1 +1215,1 @@\n-     * http:\/\/softsurfer.com\/Archive\/algorithm_0104\/algorithm_0104B.htm.\n+     * http:\/\/geomalgorithms.com\/a05-_intersect-1.html.\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psaux\/pshints.c","additions":57,"deletions":60,"binary":false,"changes":117,"status":"modified"},{"patch":"@@ -1,36 +1,36 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  pshints.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    Adobe's code for handling CFF hints (body).                          *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2007-2013 Adobe Systems Incorporated.                        *\/\n-\/*                                                                         *\/\n-\/*  This software, and all works of authorship, whether in source or       *\/\n-\/*  object code form as indicated by the copyright notice(s) included      *\/\n-\/*  herein (collectively, the \"Work\") is made available, and may only be   *\/\n-\/*  used, modified, and distributed under the FreeType Project License,    *\/\n-\/*  LICENSE.TXT.  Additionally, subject to the terms and conditions of the *\/\n-\/*  FreeType Project License, each contributor to the Work hereby grants   *\/\n-\/*  to any individual or legal entity exercising permissions granted by    *\/\n-\/*  the FreeType Project License and this section (hereafter, \"You\" or     *\/\n-\/*  \"Your\") a perpetual, worldwide, non-exclusive, no-charge,              *\/\n-\/*  royalty-free, irrevocable (except as stated in this section) patent    *\/\n-\/*  license to make, have made, use, offer to sell, sell, import, and      *\/\n-\/*  otherwise transfer the Work, where such license applies only to those  *\/\n-\/*  patent claims licensable by such contributor that are necessarily      *\/\n-\/*  infringed by their contribution(s) alone or by combination of their    *\/\n-\/*  contribution(s) with the Work to which such contribution(s) was        *\/\n-\/*  submitted.  If You institute patent litigation against any entity      *\/\n-\/*  (including a cross-claim or counterclaim in a lawsuit) alleging that   *\/\n-\/*  the Work or a contribution incorporated within the Work constitutes    *\/\n-\/*  direct or contributory patent infringement, then any patent licenses   *\/\n-\/*  granted to You under this License for that Work shall terminate as of  *\/\n-\/*  the date such litigation is filed.                                     *\/\n-\/*                                                                         *\/\n-\/*  By using, modifying, or distributing the Work you indicate that you    *\/\n-\/*  have read and understood the terms and conditions of the               *\/\n-\/*  FreeType Project License as well as those provided in this section,    *\/\n-\/*  and you accept them fully.                                             *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * pshints.h\n+ *\n+ *   Adobe's code for handling CFF hints (body).\n+ *\n+ * Copyright 2007-2013 Adobe Systems Incorporated.\n+ *\n+ * This software, and all works of authorship, whether in source or\n+ * object code form as indicated by the copyright notice(s) included\n+ * herein (collectively, the \"Work\") is made available, and may only be\n+ * used, modified, and distributed under the FreeType Project License,\n+ * LICENSE.TXT.  Additionally, subject to the terms and conditions of the\n+ * FreeType Project License, each contributor to the Work hereby grants\n+ * to any individual or legal entity exercising permissions granted by\n+ * the FreeType Project License and this section (hereafter, \"You\" or\n+ * \"Your\") a perpetual, worldwide, non-exclusive, no-charge,\n+ * royalty-free, irrevocable (except as stated in this section) patent\n+ * license to make, have made, use, offer to sell, sell, import, and\n+ * otherwise transfer the Work, where such license applies only to those\n+ * patent claims licensable by such contributor that are necessarily\n+ * infringed by their contribution(s) alone or by combination of their\n+ * contribution(s) with the Work to which such contribution(s) was\n+ * submitted.  If You institute patent litigation against any entity\n+ * (including a cross-claim or counterclaim in a lawsuit) alleging that\n+ * the Work or a contribution incorporated within the Work constitutes\n+ * direct or contributory patent infringement, then any patent licenses\n+ * granted to You under this License for that Work shall terminate as of\n+ * the date such litigation is filed.\n+ *\n+ * By using, modifying, or distributing the Work you indicate that you\n+ * have read and understood the terms and conditions of the\n+ * FreeType Project License as well as those provided in this section,\n+ * and you accept them fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psaux\/pshints.h","additions":36,"deletions":36,"binary":false,"changes":72,"status":"modified"},{"patch":"@@ -1,36 +1,36 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  psintrp.c                                                              *\/\n-\/*                                                                         *\/\n-\/*    Adobe's CFF Interpreter (body).                                      *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2007-2014 Adobe Systems Incorporated.                        *\/\n-\/*                                                                         *\/\n-\/*  This software, and all works of authorship, whether in source or       *\/\n-\/*  object code form as indicated by the copyright notice(s) included      *\/\n-\/*  herein (collectively, the \"Work\") is made available, and may only be   *\/\n-\/*  used, modified, and distributed under the FreeType Project License,    *\/\n-\/*  LICENSE.TXT.  Additionally, subject to the terms and conditions of the *\/\n-\/*  FreeType Project License, each contributor to the Work hereby grants   *\/\n-\/*  to any individual or legal entity exercising permissions granted by    *\/\n-\/*  the FreeType Project License and this section (hereafter, \"You\" or     *\/\n-\/*  \"Your\") a perpetual, worldwide, non-exclusive, no-charge,              *\/\n-\/*  royalty-free, irrevocable (except as stated in this section) patent    *\/\n-\/*  license to make, have made, use, offer to sell, sell, import, and      *\/\n-\/*  otherwise transfer the Work, where such license applies only to those  *\/\n-\/*  patent claims licensable by such contributor that are necessarily      *\/\n-\/*  infringed by their contribution(s) alone or by combination of their    *\/\n-\/*  contribution(s) with the Work to which such contribution(s) was        *\/\n-\/*  submitted.  If You institute patent litigation against any entity      *\/\n-\/*  (including a cross-claim or counterclaim in a lawsuit) alleging that   *\/\n-\/*  the Work or a contribution incorporated within the Work constitutes    *\/\n-\/*  direct or contributory patent infringement, then any patent licenses   *\/\n-\/*  granted to You under this License for that Work shall terminate as of  *\/\n-\/*  the date such litigation is filed.                                     *\/\n-\/*                                                                         *\/\n-\/*  By using, modifying, or distributing the Work you indicate that you    *\/\n-\/*  have read and understood the terms and conditions of the               *\/\n-\/*  FreeType Project License as well as those provided in this section,    *\/\n-\/*  and you accept them fully.                                             *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * psintrp.c\n+ *\n+ *   Adobe's CFF Interpreter (body).\n+ *\n+ * Copyright 2007-2014 Adobe Systems Incorporated.\n+ *\n+ * This software, and all works of authorship, whether in source or\n+ * object code form as indicated by the copyright notice(s) included\n+ * herein (collectively, the \"Work\") is made available, and may only be\n+ * used, modified, and distributed under the FreeType Project License,\n+ * LICENSE.TXT.  Additionally, subject to the terms and conditions of the\n+ * FreeType Project License, each contributor to the Work hereby grants\n+ * to any individual or legal entity exercising permissions granted by\n+ * the FreeType Project License and this section (hereafter, \"You\" or\n+ * \"Your\") a perpetual, worldwide, non-exclusive, no-charge,\n+ * royalty-free, irrevocable (except as stated in this section) patent\n+ * license to make, have made, use, offer to sell, sell, import, and\n+ * otherwise transfer the Work, where such license applies only to those\n+ * patent claims licensable by such contributor that are necessarily\n+ * infringed by their contribution(s) alone or by combination of their\n+ * contribution(s) with the Work to which such contribution(s) was\n+ * submitted.  If You institute patent litigation against any entity\n+ * (including a cross-claim or counterclaim in a lawsuit) alleging that\n+ * the Work or a contribution incorporated within the Work constitutes\n+ * direct or contributory patent infringement, then any patent licenses\n+ * granted to You under this License for that Work shall terminate as of\n+ * the date such litigation is filed.\n+ *\n+ * By using, modifying, or distributing the Work you indicate that you\n+ * have read and understood the terms and conditions of the\n+ * FreeType Project License as well as those provided in this section,\n+ * and you accept them fully.\n+ *\n+ *\/\n@@ -55,6 +55,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -62,1 +62,1 @@\n-#define FT_COMPONENT  trace_cf2interp\n+#define FT_COMPONENT  cf2interp\n@@ -290,1 +290,1 @@\n-    FT_Bool   hasWidthArg = (FT_Bool)( count & 1 );\n+    FT_Bool   hasWidthArg = FT_BOOL( count & 1 );\n@@ -367,1 +367,1 @@\n-      FT_Bool    lastIsX = (FT_Bool)(\n+      FT_Bool    lastIsX = FT_BOOL(\n@@ -615,3 +615,0 @@\n-    *charstring = *buf;    \/* structure copy *\/\n-\n-    charstringIndex = 0;       \/* entry is valid now *\/\n@@ -623,0 +620,3 @@\n+    *charstring     = *buf;    \/* structure copy     *\/\n+    charstringIndex = 0;       \/* entry is valid now *\/\n+\n@@ -666,0 +666,1 @@\n+          FT_TRACE4(( \" <outline command skipped>\\n\" ));\n@@ -778,1 +779,2 @@\n-        FT_TRACE4(( op1 == cf2_cmdHSTEMHM ? \" hstemhm\\n\" : \" hstem\\n\" ));\n+        FT_TRACE4(( \"%s\\n\", op1 == cf2_cmdHSTEMHM ? \" hstemhm\"\n+                                                  : \" hstem\" ));\n@@ -808,1 +810,2 @@\n-        FT_TRACE4(( op1 == cf2_cmdVSTEMHM ? \" vstemhm\\n\" : \" vstem\\n\" ));\n+        FT_TRACE4(( \"%s\\n\", op1 == cf2_cmdVSTEMHM ? \" vstemhm\"\n+                                                  : \" vstem\" ));\n@@ -855,1 +858,2 @@\n-        cf2_glyphpath_moveTo( &glyphPath, curX, curY );\n+        if ( !decoder->flex_state )\n+          cf2_glyphpath_moveTo( &glyphPath, curX, curY );\n@@ -890,1 +894,1 @@\n-          FT_TRACE4(( isX ? \" hlineto\\n\" : \" vlineto\\n\" ));\n+          FT_TRACE4(( \"%s\\n\", isX ? \" hlineto\" : \" vlineto\" ));\n@@ -918,2 +922,2 @@\n-          FT_TRACE4(( op1 == cf2_cmdRCURVELINE ? \" rcurveline\\n\"\n-                                               : \" rrcurveto\\n\" ));\n+          FT_TRACE4(( \"%s\\n\", op1 == cf2_cmdRCURVELINE ? \" rcurveline\"\n+                                                       : \" rrcurveto\" ));\n@@ -959,1 +963,1 @@\n-          FT_TRACE4(( \" closepath\" ));\n+          FT_TRACE4(( \" closepath\\n\" ));\n@@ -962,1 +966,1 @@\n-          ps_builder_close_contour( &decoder->builder );\n+          cf2_glyphpath_closeOpenPath( &glyphPath );\n@@ -974,2 +978,2 @@\n-          FT_TRACE4(( op1 == cf2_cmdCALLGSUBR ? \" callgsubr\"\n-                                              : \" callsubr\" ));\n+          FT_TRACE4(( \"%s\", op1 == cf2_cmdCALLGSUBR ? \" callgsubr\"\n+                                                    : \" callsubr\" ));\n@@ -1214,2 +1218,2 @@\n-                      FT_TRACE4(( isV ? \" vstem3\\n\"\n-                                      : \" hstem3\\n\" ));\n+                      FT_TRACE4(( \"%s\\n\", isV ? \" vstem3\"\n+                                              : \" hstem3\" ));\n@@ -1646,10 +1650,11 @@\n-                    \/*******************************************************\/\n-                    \/*                                                     *\/\n-                    \/* remove all operands to callothersubr from the stack *\/\n-                    \/*                                                     *\/\n-                    \/* for handled othersubrs, where we know the number of *\/\n-                    \/* arguments, we increase the stack by the value of    *\/\n-                    \/* known_othersubr_result_cnt                          *\/\n-                    \/*                                                     *\/\n-                    \/* for unhandled othersubrs the following pops adjust  *\/\n-                    \/* the stack pointer as necessary                      *\/\n+                    \/********************************************************\n+                     *\n+                     * remove all operands to callothersubr from the stack\n+                     *\n+                     * for handled othersubrs, where we know the number of\n+                     * arguments, we increase the stack by the value of\n+                     * known_othersubr_result_cnt\n+                     *\n+                     * for unhandled othersubrs the following pops adjust\n+                     * the stack pointer as necessary\n+                     *\/\n@@ -2418,1 +2423,1 @@\n-          FT_TRACE4(( \" hsbw\" ));\n+          FT_TRACE4(( \" hsbw\\n\" ));\n@@ -2564,1 +2569,1 @@\n-        FT_TRACE4(( op1 == cf2_cmdCNTRMASK ? \" cntrmask\" : \" hintmask\" ));\n+        FT_TRACE4(( \"%s\", op1 == cf2_cmdCNTRMASK ? \" cntrmask\" : \" hintmask\" ));\n@@ -2677,1 +2682,2 @@\n-        cf2_glyphpath_moveTo( &glyphPath, curX, curY );\n+        if ( !decoder->flex_state )\n+          cf2_glyphpath_moveTo( &glyphPath, curX, curY );\n@@ -2829,1 +2835,1 @@\n-          FT_TRACE4(( alternate ? \" hvcurveto\\n\" : \" vhcurveto\\n\" ));\n+          FT_TRACE4(( \"%s\\n\", alternate ? \" hvcurveto\" : \" vhcurveto\" ));\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psaux\/psintrp.c","additions":80,"deletions":74,"binary":false,"changes":154,"status":"modified"},{"patch":"@@ -1,36 +1,36 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  psintrp.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    Adobe's CFF Interpreter (specification).                             *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2007-2013 Adobe Systems Incorporated.                        *\/\n-\/*                                                                         *\/\n-\/*  This software, and all works of authorship, whether in source or       *\/\n-\/*  object code form as indicated by the copyright notice(s) included      *\/\n-\/*  herein (collectively, the \"Work\") is made available, and may only be   *\/\n-\/*  used, modified, and distributed under the FreeType Project License,    *\/\n-\/*  LICENSE.TXT.  Additionally, subject to the terms and conditions of the *\/\n-\/*  FreeType Project License, each contributor to the Work hereby grants   *\/\n-\/*  to any individual or legal entity exercising permissions granted by    *\/\n-\/*  the FreeType Project License and this section (hereafter, \"You\" or     *\/\n-\/*  \"Your\") a perpetual, worldwide, non-exclusive, no-charge,              *\/\n-\/*  royalty-free, irrevocable (except as stated in this section) patent    *\/\n-\/*  license to make, have made, use, offer to sell, sell, import, and      *\/\n-\/*  otherwise transfer the Work, where such license applies only to those  *\/\n-\/*  patent claims licensable by such contributor that are necessarily      *\/\n-\/*  infringed by their contribution(s) alone or by combination of their    *\/\n-\/*  contribution(s) with the Work to which such contribution(s) was        *\/\n-\/*  submitted.  If You institute patent litigation against any entity      *\/\n-\/*  (including a cross-claim or counterclaim in a lawsuit) alleging that   *\/\n-\/*  the Work or a contribution incorporated within the Work constitutes    *\/\n-\/*  direct or contributory patent infringement, then any patent licenses   *\/\n-\/*  granted to You under this License for that Work shall terminate as of  *\/\n-\/*  the date such litigation is filed.                                     *\/\n-\/*                                                                         *\/\n-\/*  By using, modifying, or distributing the Work you indicate that you    *\/\n-\/*  have read and understood the terms and conditions of the               *\/\n-\/*  FreeType Project License as well as those provided in this section,    *\/\n-\/*  and you accept them fully.                                             *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * psintrp.h\n+ *\n+ *   Adobe's CFF Interpreter (specification).\n+ *\n+ * Copyright 2007-2013 Adobe Systems Incorporated.\n+ *\n+ * This software, and all works of authorship, whether in source or\n+ * object code form as indicated by the copyright notice(s) included\n+ * herein (collectively, the \"Work\") is made available, and may only be\n+ * used, modified, and distributed under the FreeType Project License,\n+ * LICENSE.TXT.  Additionally, subject to the terms and conditions of the\n+ * FreeType Project License, each contributor to the Work hereby grants\n+ * to any individual or legal entity exercising permissions granted by\n+ * the FreeType Project License and this section (hereafter, \"You\" or\n+ * \"Your\") a perpetual, worldwide, non-exclusive, no-charge,\n+ * royalty-free, irrevocable (except as stated in this section) patent\n+ * license to make, have made, use, offer to sell, sell, import, and\n+ * otherwise transfer the Work, where such license applies only to those\n+ * patent claims licensable by such contributor that are necessarily\n+ * infringed by their contribution(s) alone or by combination of their\n+ * contribution(s) with the Work to which such contribution(s) was\n+ * submitted.  If You institute patent litigation against any entity\n+ * (including a cross-claim or counterclaim in a lawsuit) alleging that\n+ * the Work or a contribution incorporated within the Work constitutes\n+ * direct or contributory patent infringement, then any patent licenses\n+ * granted to You under this License for that Work shall terminate as of\n+ * the date such litigation is filed.\n+ *\n+ * By using, modifying, or distributing the Work you indicate that you\n+ * have read and understood the terms and conditions of the\n+ * FreeType Project License as well as those provided in this section,\n+ * and you accept them fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psaux\/psintrp.h","additions":36,"deletions":36,"binary":false,"changes":72,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  psobjs.c                                                               *\/\n-\/*                                                                         *\/\n-\/*    Auxiliary functions for PostScript fonts (body).                     *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * psobjs.c\n+ *\n+ *   Auxiliary functions for PostScript fonts (body).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -32,6 +32,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -39,1 +39,1 @@\n-#define FT_COMPONENT  trace_psobjs\n+#define FT_COMPONENT  psobjs\n@@ -50,20 +50,23 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    ps_table_new                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Initializes a PS_Table.                                            *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    table  :: The address of the target table.                         *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    count  :: The table size = the maximum number of elements.         *\/\n-  \/*                                                                       *\/\n-  \/*    memory :: The memory object to use for all subsequent              *\/\n-  \/*              reallocations.                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   ps_table_new\n+   *\n+   * @Description:\n+   *   Initializes a PS_Table.\n+   *\n+   * @InOut:\n+   *   table ::\n+   *     The address of the target table.\n+   *\n+   * @Input:\n+   *   count ::\n+   *     The table size = the maximum number of elements.\n+   *\n+   *   memory ::\n+   *     The memory object to use for all subsequent\n+   *     reallocations.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -147,22 +150,26 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    ps_table_add                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Adds an object to a PS_Table, possibly growing its memory block.   *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    table  :: The target table.                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    idx    :: The index of the object in the table.                    *\/\n-  \/*                                                                       *\/\n-  \/*    object :: The address of the object to copy in memory.             *\/\n-  \/*                                                                       *\/\n-  \/*    length :: The length in bytes of the source object.                *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.  An error is returned if a  *\/\n-  \/*    reallocation fails.                                                *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   ps_table_add\n+   *\n+   * @Description:\n+   *   Adds an object to a PS_Table, possibly growing its memory block.\n+   *\n+   * @InOut:\n+   *   table ::\n+   *     The target table.\n+   *\n+   * @Input:\n+   *   idx ::\n+   *     The index of the object in the table.\n+   *\n+   *   object ::\n+   *     The address of the object to copy in memory.\n+   *\n+   *   length ::\n+   *     The length in bytes of the source object.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.  An error is returned if a\n+   *   reallocation fails.\n+   *\/\n@@ -219,16 +226,17 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    ps_table_done                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Finalizes a PS_TableRec (i.e., reallocate it to its current        *\/\n-  \/*    cursor).                                                           *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    table :: The target table.                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    This function does NOT release the heap's memory block.  It is up  *\/\n-  \/*    to the caller to clean it, or reference it in its own structures.  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   ps_table_done\n+   *\n+   * @Description:\n+   *   Finalizes a PS_TableRec (i.e., reallocate it to its current\n+   *   cursor).\n+   *\n+   * @InOut:\n+   *   table ::\n+   *     The target table.\n+   *\n+   * @Note:\n+   *   This function does NOT release the heap's memory block.  It is up\n+   *   to the caller to clean it, or reference it in its own structures.\n+   *\/\n@@ -501,6 +509,6 @@\n-  \/***********************************************************************\/\n-  \/*                                                                     *\/\n-  \/* All exported parsing routines handle leading whitespace and stop at *\/\n-  \/* the first character which isn't part of the just handled token.     *\/\n-  \/*                                                                     *\/\n-  \/***********************************************************************\/\n+  \/************************************************************************\n+   *\n+   * All exported parsing routines handle leading whitespace and stop at\n+   * the first character which isn't part of the just handled token.\n+   *\n+   *\/\n@@ -1103,0 +1111,1 @@\n+        FT_TRACE4(( \" %s\", val ? \"true\" : \"false\" ));\n@@ -1107,0 +1116,1 @@\n+        FT_TRACE4(( \" %f\", (double)val \/ 65536 ));\n@@ -1111,0 +1121,1 @@\n+        FT_TRACE4(( \" %f\", (double)val \/ 65536 \/ 1000 ));\n@@ -1115,0 +1126,1 @@\n+        FT_TRACE4(( \" %ld\", val ));\n@@ -1191,0 +1203,7 @@\n+#ifdef FT_DEBUG_LEVEL_TRACE\n+          if ( token.type == T1_TOKEN_TYPE_STRING )\n+            FT_TRACE4(( \" (%s)\", string ));\n+          else\n+            FT_TRACE4(( \" \/%s\", string ));\n+#endif\n+\n@@ -1216,0 +1235,6 @@\n+\n+          FT_TRACE4(( \" [%d %d %d %d]\",\n+                      bbox->xMin \/ 65536,\n+                      bbox->yMin \/ 65536,\n+                      bbox->xMax \/ 65536,\n+                      bbox->yMax \/ 65536 ));\n@@ -1254,0 +1279,1 @@\n+          FT_TRACE4(( \" [\" ));\n@@ -1263,0 +1289,6 @@\n+\n+            FT_TRACE4(( \" [%d %d %d %d]\",\n+                        bbox->xMin \/ 65536,\n+                        bbox->yMin \/ 65536,\n+                        bbox->xMax \/ 65536,\n+                        bbox->yMax \/ 65536 ));\n@@ -1264,0 +1296,1 @@\n+          FT_TRACE4(( \"]\" ));\n@@ -1336,0 +1369,2 @@\n+    FT_TRACE4(( \" [\" ));\n+\n@@ -1354,0 +1389,2 @@\n+    FT_TRACE4(( \"]\" ));\n+\n@@ -1413,0 +1450,2 @@\n+    parser->cursor = cur;\n+\n@@ -1422,1 +1461,1 @@\n-      cur++;\n+      parser->cursor++;\n@@ -1425,2 +1464,0 @@\n-    parser->cursor = cur;\n-\n@@ -1512,20 +1549,25 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    t1_builder_init                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Initializes a given glyph builder.                                 *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    builder :: A pointer to the glyph builder to initialize.           *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face    :: The current face object.                                *\/\n-  \/*                                                                       *\/\n-  \/*    size    :: The current size object.                                *\/\n-  \/*                                                                       *\/\n-  \/*    glyph   :: The current glyph object.                               *\/\n-  \/*                                                                       *\/\n-  \/*    hinting :: Whether hinting should be applied.                      *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   t1_builder_init\n+   *\n+   * @Description:\n+   *   Initializes a given glyph builder.\n+   *\n+   * @InOut:\n+   *   builder ::\n+   *     A pointer to the glyph builder to initialize.\n+   *\n+   * @Input:\n+   *   face ::\n+   *     The current face object.\n+   *\n+   *   size ::\n+   *     The current size object.\n+   *\n+   *   glyph ::\n+   *     The current glyph object.\n+   *\n+   *   hinting ::\n+   *     Whether hinting should be applied.\n+   *\/\n@@ -1575,13 +1617,14 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    t1_builder_done                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Finalizes a given glyph builder.  Its contents can still be used   *\/\n-  \/*    after the call, but the function saves important information       *\/\n-  \/*    within the corresponding glyph slot.                               *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    builder :: A pointer to the glyph builder to finalize.             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   t1_builder_done\n+   *\n+   * @Description:\n+   *   Finalizes a given glyph builder.  Its contents can still be used\n+   *   after the call, but the function saves important information\n+   *   within the corresponding glyph slot.\n+   *\n+   * @Input:\n+   *   builder ::\n+   *     A pointer to the glyph builder to finalize.\n+   *\/\n@@ -1772,20 +1815,25 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    cff_builder_init                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Initializes a given glyph builder.                                 *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    builder :: A pointer to the glyph builder to initialize.           *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face    :: The current face object.                                *\/\n-  \/*                                                                       *\/\n-  \/*    size    :: The current size object.                                *\/\n-  \/*                                                                       *\/\n-  \/*    glyph   :: The current glyph object.                               *\/\n-  \/*                                                                       *\/\n-  \/*    hinting :: Whether hinting is active.                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   cff_builder_init\n+   *\n+   * @Description:\n+   *   Initializes a given glyph builder.\n+   *\n+   * @InOut:\n+   *   builder ::\n+   *     A pointer to the glyph builder to initialize.\n+   *\n+   * @Input:\n+   *   face ::\n+   *     The current face object.\n+   *\n+   *   size ::\n+   *     The current size object.\n+   *\n+   *   glyph ::\n+   *     The current glyph object.\n+   *\n+   *   hinting ::\n+   *     Whether hinting is active.\n+   *\/\n@@ -1844,13 +1892,14 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    cff_builder_done                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Finalizes a given glyph builder.  Its contents can still be used   *\/\n-  \/*    after the call, but the function saves important information       *\/\n-  \/*    within the corresponding glyph slot.                               *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    builder :: A pointer to the glyph builder to finalize.             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   cff_builder_done\n+   *\n+   * @Description:\n+   *   Finalizes a given glyph builder.  Its contents can still be used\n+   *   after the call, but the function saves important information\n+   *   within the corresponding glyph slot.\n+   *\n+   * @Input:\n+   *   builder ::\n+   *     A pointer to the glyph builder to finalize.\n+   *\/\n@@ -1996,0 +2045,8 @@\n+    \/* in malformed fonts it can happen that a contour was started *\/\n+    \/* but no points were added                                    *\/\n+    if ( outline->n_contours && first == outline->n_points )\n+    {\n+      outline->n_contours--;\n+      return;\n+    }\n+\n@@ -2036,20 +2093,25 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    ps_builder_init                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Initializes a given glyph builder.                                 *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    builder :: A pointer to the glyph builder to initialize.           *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face    :: The current face object.                                *\/\n-  \/*                                                                       *\/\n-  \/*    size    :: The current size object.                                *\/\n-  \/*                                                                       *\/\n-  \/*    glyph   :: The current glyph object.                               *\/\n-  \/*                                                                       *\/\n-  \/*    hinting :: Whether hinting should be applied.                      *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   ps_builder_init\n+   *\n+   * @Description:\n+   *   Initializes a given glyph builder.\n+   *\n+   * @InOut:\n+   *   builder ::\n+   *     A pointer to the glyph builder to initialize.\n+   *\n+   * @Input:\n+   *   face ::\n+   *     The current face object.\n+   *\n+   *   size ::\n+   *     The current size object.\n+   *\n+   *   glyph ::\n+   *     The current glyph object.\n+   *\n+   *   hinting ::\n+   *     Whether hinting should be applied.\n+   *\/\n@@ -2119,13 +2181,14 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    ps_builder_done                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Finalizes a given glyph builder.  Its contents can still be used   *\/\n-  \/*    after the call, but the function saves important information       *\/\n-  \/*    within the corresponding glyph slot.                               *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    builder :: A pointer to the glyph builder to finalize.             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   ps_builder_done\n+   *\n+   * @Description:\n+   *   Finalizes a given glyph builder.  Its contents can still be used\n+   *   after the call, but the function saves important information\n+   *   within the corresponding glyph slot.\n+   *\n+   * @Input:\n+   *   builder ::\n+   *     A pointer to the glyph builder to finalize.\n+   *\/\n@@ -2339,17 +2402,20 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    ps_decoder_init                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Creates a wrapper decoder for use in the combined                  *\/\n-  \/*    Type 1 \/ CFF interpreter.                                          *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    ps_decoder :: A pointer to the decoder to initialize.              *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    decoder    :: A pointer to the original decoder.                   *\/\n-  \/*                                                                       *\/\n-  \/*    is_t1      :: Flag indicating Type 1 or CFF                        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   ps_decoder_init\n+   *\n+   * @Description:\n+   *   Creates a wrapper decoder for use in the combined\n+   *   Type 1 \/ CFF interpreter.\n+   *\n+   * @InOut:\n+   *   ps_decoder ::\n+   *     A pointer to the decoder to initialize.\n+   *\n+   * @Input:\n+   *   decoder ::\n+   *     A pointer to the original decoder.\n+   *\n+   *   is_t1 ::\n+   *     Flag indicating Type 1 or CFF\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psaux\/psobjs.c","additions":272,"deletions":206,"binary":false,"changes":478,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  psobjs.h                                                               *\/\n-\/*                                                                         *\/\n-\/*    Auxiliary functions for PostScript fonts (specification).            *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * psobjs.h\n+ *\n+ *   Auxiliary functions for PostScript fonts (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psaux\/psobjs.h","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,36 +1,36 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  psread.c                                                               *\/\n-\/*                                                                         *\/\n-\/*    Adobe's code for stream handling (body).                             *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2007-2013 Adobe Systems Incorporated.                        *\/\n-\/*                                                                         *\/\n-\/*  This software, and all works of authorship, whether in source or       *\/\n-\/*  object code form as indicated by the copyright notice(s) included      *\/\n-\/*  herein (collectively, the \"Work\") is made available, and may only be   *\/\n-\/*  used, modified, and distributed under the FreeType Project License,    *\/\n-\/*  LICENSE.TXT.  Additionally, subject to the terms and conditions of the *\/\n-\/*  FreeType Project License, each contributor to the Work hereby grants   *\/\n-\/*  to any individual or legal entity exercising permissions granted by    *\/\n-\/*  the FreeType Project License and this section (hereafter, \"You\" or     *\/\n-\/*  \"Your\") a perpetual, worldwide, non-exclusive, no-charge,              *\/\n-\/*  royalty-free, irrevocable (except as stated in this section) patent    *\/\n-\/*  license to make, have made, use, offer to sell, sell, import, and      *\/\n-\/*  otherwise transfer the Work, where such license applies only to those  *\/\n-\/*  patent claims licensable by such contributor that are necessarily      *\/\n-\/*  infringed by their contribution(s) alone or by combination of their    *\/\n-\/*  contribution(s) with the Work to which such contribution(s) was        *\/\n-\/*  submitted.  If You institute patent litigation against any entity      *\/\n-\/*  (including a cross-claim or counterclaim in a lawsuit) alleging that   *\/\n-\/*  the Work or a contribution incorporated within the Work constitutes    *\/\n-\/*  direct or contributory patent infringement, then any patent licenses   *\/\n-\/*  granted to You under this License for that Work shall terminate as of  *\/\n-\/*  the date such litigation is filed.                                     *\/\n-\/*                                                                         *\/\n-\/*  By using, modifying, or distributing the Work you indicate that you    *\/\n-\/*  have read and understood the terms and conditions of the               *\/\n-\/*  FreeType Project License as well as those provided in this section,    *\/\n-\/*  and you accept them fully.                                             *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * psread.c\n+ *\n+ *   Adobe's code for stream handling (body).\n+ *\n+ * Copyright 2007-2013 Adobe Systems Incorporated.\n+ *\n+ * This software, and all works of authorship, whether in source or\n+ * object code form as indicated by the copyright notice(s) included\n+ * herein (collectively, the \"Work\") is made available, and may only be\n+ * used, modified, and distributed under the FreeType Project License,\n+ * LICENSE.TXT.  Additionally, subject to the terms and conditions of the\n+ * FreeType Project License, each contributor to the Work hereby grants\n+ * to any individual or legal entity exercising permissions granted by\n+ * the FreeType Project License and this section (hereafter, \"You\" or\n+ * \"Your\") a perpetual, worldwide, non-exclusive, no-charge,\n+ * royalty-free, irrevocable (except as stated in this section) patent\n+ * license to make, have made, use, offer to sell, sell, import, and\n+ * otherwise transfer the Work, where such license applies only to those\n+ * patent claims licensable by such contributor that are necessarily\n+ * infringed by their contribution(s) alone or by combination of their\n+ * contribution(s) with the Work to which such contribution(s) was\n+ * submitted.  If You institute patent litigation against any entity\n+ * (including a cross-claim or counterclaim in a lawsuit) alleging that\n+ * the Work or a contribution incorporated within the Work constitutes\n+ * direct or contributory patent infringement, then any patent licenses\n+ * granted to You under this License for that Work shall terminate as of\n+ * the date such litigation is filed.\n+ *\n+ * By using, modifying, or distributing the Work you indicate that you\n+ * have read and understood the terms and conditions of the\n+ * FreeType Project License as well as those provided in this section,\n+ * and you accept them fully.\n+ *\n+ *\/\n@@ -108,1 +108,1 @@\n-    return (FT_Bool)( buf->ptr >= buf->end );\n+    return FT_BOOL( buf->ptr >= buf->end );\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psaux\/psread.c","additions":37,"deletions":37,"binary":false,"changes":74,"status":"modified"},{"patch":"@@ -1,36 +1,36 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  psread.h                                                               *\/\n-\/*                                                                         *\/\n-\/*    Adobe's code for stream handling (specification).                    *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2007-2013 Adobe Systems Incorporated.                        *\/\n-\/*                                                                         *\/\n-\/*  This software, and all works of authorship, whether in source or       *\/\n-\/*  object code form as indicated by the copyright notice(s) included      *\/\n-\/*  herein (collectively, the \"Work\") is made available, and may only be   *\/\n-\/*  used, modified, and distributed under the FreeType Project License,    *\/\n-\/*  LICENSE.TXT.  Additionally, subject to the terms and conditions of the *\/\n-\/*  FreeType Project License, each contributor to the Work hereby grants   *\/\n-\/*  to any individual or legal entity exercising permissions granted by    *\/\n-\/*  the FreeType Project License and this section (hereafter, \"You\" or     *\/\n-\/*  \"Your\") a perpetual, worldwide, non-exclusive, no-charge,              *\/\n-\/*  royalty-free, irrevocable (except as stated in this section) patent    *\/\n-\/*  license to make, have made, use, offer to sell, sell, import, and      *\/\n-\/*  otherwise transfer the Work, where such license applies only to those  *\/\n-\/*  patent claims licensable by such contributor that are necessarily      *\/\n-\/*  infringed by their contribution(s) alone or by combination of their    *\/\n-\/*  contribution(s) with the Work to which such contribution(s) was        *\/\n-\/*  submitted.  If You institute patent litigation against any entity      *\/\n-\/*  (including a cross-claim or counterclaim in a lawsuit) alleging that   *\/\n-\/*  the Work or a contribution incorporated within the Work constitutes    *\/\n-\/*  direct or contributory patent infringement, then any patent licenses   *\/\n-\/*  granted to You under this License for that Work shall terminate as of  *\/\n-\/*  the date such litigation is filed.                                     *\/\n-\/*                                                                         *\/\n-\/*  By using, modifying, or distributing the Work you indicate that you    *\/\n-\/*  have read and understood the terms and conditions of the               *\/\n-\/*  FreeType Project License as well as those provided in this section,    *\/\n-\/*  and you accept them fully.                                             *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * psread.h\n+ *\n+ *   Adobe's code for stream handling (specification).\n+ *\n+ * Copyright 2007-2013 Adobe Systems Incorporated.\n+ *\n+ * This software, and all works of authorship, whether in source or\n+ * object code form as indicated by the copyright notice(s) included\n+ * herein (collectively, the \"Work\") is made available, and may only be\n+ * used, modified, and distributed under the FreeType Project License,\n+ * LICENSE.TXT.  Additionally, subject to the terms and conditions of the\n+ * FreeType Project License, each contributor to the Work hereby grants\n+ * to any individual or legal entity exercising permissions granted by\n+ * the FreeType Project License and this section (hereafter, \"You\" or\n+ * \"Your\") a perpetual, worldwide, non-exclusive, no-charge,\n+ * royalty-free, irrevocable (except as stated in this section) patent\n+ * license to make, have made, use, offer to sell, sell, import, and\n+ * otherwise transfer the Work, where such license applies only to those\n+ * patent claims licensable by such contributor that are necessarily\n+ * infringed by their contribution(s) alone or by combination of their\n+ * contribution(s) with the Work to which such contribution(s) was\n+ * submitted.  If You institute patent litigation against any entity\n+ * (including a cross-claim or counterclaim in a lawsuit) alleging that\n+ * the Work or a contribution incorporated within the Work constitutes\n+ * direct or contributory patent infringement, then any patent licenses\n+ * granted to You under this License for that Work shall terminate as of\n+ * the date such litigation is filed.\n+ *\n+ * By using, modifying, or distributing the Work you indicate that you\n+ * have read and understood the terms and conditions of the\n+ * FreeType Project License as well as those provided in this section,\n+ * and you accept them fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psaux\/psread.h","additions":36,"deletions":36,"binary":false,"changes":72,"status":"modified"},{"patch":"@@ -1,36 +1,36 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  psstack.c                                                              *\/\n-\/*                                                                         *\/\n-\/*    Adobe's code for emulating a CFF stack (body).                       *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2007-2013 Adobe Systems Incorporated.                        *\/\n-\/*                                                                         *\/\n-\/*  This software, and all works of authorship, whether in source or       *\/\n-\/*  object code form as indicated by the copyright notice(s) included      *\/\n-\/*  herein (collectively, the \"Work\") is made available, and may only be   *\/\n-\/*  used, modified, and distributed under the FreeType Project License,    *\/\n-\/*  LICENSE.TXT.  Additionally, subject to the terms and conditions of the *\/\n-\/*  FreeType Project License, each contributor to the Work hereby grants   *\/\n-\/*  to any individual or legal entity exercising permissions granted by    *\/\n-\/*  the FreeType Project License and this section (hereafter, \"You\" or     *\/\n-\/*  \"Your\") a perpetual, worldwide, non-exclusive, no-charge,              *\/\n-\/*  royalty-free, irrevocable (except as stated in this section) patent    *\/\n-\/*  license to make, have made, use, offer to sell, sell, import, and      *\/\n-\/*  otherwise transfer the Work, where such license applies only to those  *\/\n-\/*  patent claims licensable by such contributor that are necessarily      *\/\n-\/*  infringed by their contribution(s) alone or by combination of their    *\/\n-\/*  contribution(s) with the Work to which such contribution(s) was        *\/\n-\/*  submitted.  If You institute patent litigation against any entity      *\/\n-\/*  (including a cross-claim or counterclaim in a lawsuit) alleging that   *\/\n-\/*  the Work or a contribution incorporated within the Work constitutes    *\/\n-\/*  direct or contributory patent infringement, then any patent licenses   *\/\n-\/*  granted to You under this License for that Work shall terminate as of  *\/\n-\/*  the date such litigation is filed.                                     *\/\n-\/*                                                                         *\/\n-\/*  By using, modifying, or distributing the Work you indicate that you    *\/\n-\/*  have read and understood the terms and conditions of the               *\/\n-\/*  FreeType Project License as well as those provided in this section,    *\/\n-\/*  and you accept them fully.                                             *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * psstack.c\n+ *\n+ *   Adobe's code for emulating a CFF stack (body).\n+ *\n+ * Copyright 2007-2013 Adobe Systems Incorporated.\n+ *\n+ * This software, and all works of authorship, whether in source or\n+ * object code form as indicated by the copyright notice(s) included\n+ * herein (collectively, the \"Work\") is made available, and may only be\n+ * used, modified, and distributed under the FreeType Project License,\n+ * LICENSE.TXT.  Additionally, subject to the terms and conditions of the\n+ * FreeType Project License, each contributor to the Work hereby grants\n+ * to any individual or legal entity exercising permissions granted by\n+ * the FreeType Project License and this section (hereafter, \"You\" or\n+ * \"Your\") a perpetual, worldwide, non-exclusive, no-charge,\n+ * royalty-free, irrevocable (except as stated in this section) patent\n+ * license to make, have made, use, offer to sell, sell, import, and\n+ * otherwise transfer the Work, where such license applies only to those\n+ * patent claims licensable by such contributor that are necessarily\n+ * infringed by their contribution(s) alone or by combination of their\n+ * contribution(s) with the Work to which such contribution(s) was\n+ * submitted.  If You institute patent litigation against any entity\n+ * (including a cross-claim or counterclaim in a lawsuit) alleging that\n+ * the Work or a contribution incorporated within the Work constitutes\n+ * direct or contributory patent infringement, then any patent licenses\n+ * granted to You under this License for that Work shall terminate as of\n+ * the date such litigation is filed.\n+ *\n+ * By using, modifying, or distributing the Work you indicate that you\n+ * have read and understood the terms and conditions of the\n+ * FreeType Project License as well as those provided in this section,\n+ * and you accept them fully.\n+ *\n+ *\/\n@@ -261,0 +261,3 @@\n+    \/* before C99 it is implementation-defined whether    *\/\n+    \/* the result of `%' is negative if the first operand *\/\n+    \/* is negative                                        *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psaux\/psstack.c","additions":39,"deletions":36,"binary":false,"changes":75,"status":"modified"},{"patch":"@@ -1,36 +1,36 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  psstack.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    Adobe's code for emulating a CFF stack (specification).              *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2007-2013 Adobe Systems Incorporated.                        *\/\n-\/*                                                                         *\/\n-\/*  This software, and all works of authorship, whether in source or       *\/\n-\/*  object code form as indicated by the copyright notice(s) included      *\/\n-\/*  herein (collectively, the \"Work\") is made available, and may only be   *\/\n-\/*  used, modified, and distributed under the FreeType Project License,    *\/\n-\/*  LICENSE.TXT.  Additionally, subject to the terms and conditions of the *\/\n-\/*  FreeType Project License, each contributor to the Work hereby grants   *\/\n-\/*  to any individual or legal entity exercising permissions granted by    *\/\n-\/*  the FreeType Project License and this section (hereafter, \"You\" or     *\/\n-\/*  \"Your\") a perpetual, worldwide, non-exclusive, no-charge,              *\/\n-\/*  royalty-free, irrevocable (except as stated in this section) patent    *\/\n-\/*  license to make, have made, use, offer to sell, sell, import, and      *\/\n-\/*  otherwise transfer the Work, where such license applies only to those  *\/\n-\/*  patent claims licensable by such contributor that are necessarily      *\/\n-\/*  infringed by their contribution(s) alone or by combination of their    *\/\n-\/*  contribution(s) with the Work to which such contribution(s) was        *\/\n-\/*  submitted.  If You institute patent litigation against any entity      *\/\n-\/*  (including a cross-claim or counterclaim in a lawsuit) alleging that   *\/\n-\/*  the Work or a contribution incorporated within the Work constitutes    *\/\n-\/*  direct or contributory patent infringement, then any patent licenses   *\/\n-\/*  granted to You under this License for that Work shall terminate as of  *\/\n-\/*  the date such litigation is filed.                                     *\/\n-\/*                                                                         *\/\n-\/*  By using, modifying, or distributing the Work you indicate that you    *\/\n-\/*  have read and understood the terms and conditions of the               *\/\n-\/*  FreeType Project License as well as those provided in this section,    *\/\n-\/*  and you accept them fully.                                             *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * psstack.h\n+ *\n+ *   Adobe's code for emulating a CFF stack (specification).\n+ *\n+ * Copyright 2007-2013 Adobe Systems Incorporated.\n+ *\n+ * This software, and all works of authorship, whether in source or\n+ * object code form as indicated by the copyright notice(s) included\n+ * herein (collectively, the \"Work\") is made available, and may only be\n+ * used, modified, and distributed under the FreeType Project License,\n+ * LICENSE.TXT.  Additionally, subject to the terms and conditions of the\n+ * FreeType Project License, each contributor to the Work hereby grants\n+ * to any individual or legal entity exercising permissions granted by\n+ * the FreeType Project License and this section (hereafter, \"You\" or\n+ * \"Your\") a perpetual, worldwide, non-exclusive, no-charge,\n+ * royalty-free, irrevocable (except as stated in this section) patent\n+ * license to make, have made, use, offer to sell, sell, import, and\n+ * otherwise transfer the Work, where such license applies only to those\n+ * patent claims licensable by such contributor that are necessarily\n+ * infringed by their contribution(s) alone or by combination of their\n+ * contribution(s) with the Work to which such contribution(s) was\n+ * submitted.  If You institute patent litigation against any entity\n+ * (including a cross-claim or counterclaim in a lawsuit) alleging that\n+ * the Work or a contribution incorporated within the Work constitutes\n+ * direct or contributory patent infringement, then any patent licenses\n+ * granted to You under this License for that Work shall terminate as of\n+ * the date such litigation is filed.\n+ *\n+ * By using, modifying, or distributing the Work you indicate that you\n+ * have read and understood the terms and conditions of the\n+ * FreeType Project License as well as those provided in this section,\n+ * and you accept them fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psaux\/psstack.h","additions":36,"deletions":36,"binary":false,"changes":72,"status":"modified"},{"patch":"@@ -1,36 +1,36 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  pstypes.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    Adobe's code for defining data types (specification only).           *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2011-2013 Adobe Systems Incorporated.                        *\/\n-\/*                                                                         *\/\n-\/*  This software, and all works of authorship, whether in source or       *\/\n-\/*  object code form as indicated by the copyright notice(s) included      *\/\n-\/*  herein (collectively, the \"Work\") is made available, and may only be   *\/\n-\/*  used, modified, and distributed under the FreeType Project License,    *\/\n-\/*  LICENSE.TXT.  Additionally, subject to the terms and conditions of the *\/\n-\/*  FreeType Project License, each contributor to the Work hereby grants   *\/\n-\/*  to any individual or legal entity exercising permissions granted by    *\/\n-\/*  the FreeType Project License and this section (hereafter, \"You\" or     *\/\n-\/*  \"Your\") a perpetual, worldwide, non-exclusive, no-charge,              *\/\n-\/*  royalty-free, irrevocable (except as stated in this section) patent    *\/\n-\/*  license to make, have made, use, offer to sell, sell, import, and      *\/\n-\/*  otherwise transfer the Work, where such license applies only to those  *\/\n-\/*  patent claims licensable by such contributor that are necessarily      *\/\n-\/*  infringed by their contribution(s) alone or by combination of their    *\/\n-\/*  contribution(s) with the Work to which such contribution(s) was        *\/\n-\/*  submitted.  If You institute patent litigation against any entity      *\/\n-\/*  (including a cross-claim or counterclaim in a lawsuit) alleging that   *\/\n-\/*  the Work or a contribution incorporated within the Work constitutes    *\/\n-\/*  direct or contributory patent infringement, then any patent licenses   *\/\n-\/*  granted to You under this License for that Work shall terminate as of  *\/\n-\/*  the date such litigation is filed.                                     *\/\n-\/*                                                                         *\/\n-\/*  By using, modifying, or distributing the Work you indicate that you    *\/\n-\/*  have read and understood the terms and conditions of the               *\/\n-\/*  FreeType Project License as well as those provided in this section,    *\/\n-\/*  and you accept them fully.                                             *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * pstypes.h\n+ *\n+ *   Adobe's code for defining data types (specification only).\n+ *\n+ * Copyright 2011-2013 Adobe Systems Incorporated.\n+ *\n+ * This software, and all works of authorship, whether in source or\n+ * object code form as indicated by the copyright notice(s) included\n+ * herein (collectively, the \"Work\") is made available, and may only be\n+ * used, modified, and distributed under the FreeType Project License,\n+ * LICENSE.TXT.  Additionally, subject to the terms and conditions of the\n+ * FreeType Project License, each contributor to the Work hereby grants\n+ * to any individual or legal entity exercising permissions granted by\n+ * the FreeType Project License and this section (hereafter, \"You\" or\n+ * \"Your\") a perpetual, worldwide, non-exclusive, no-charge,\n+ * royalty-free, irrevocable (except as stated in this section) patent\n+ * license to make, have made, use, offer to sell, sell, import, and\n+ * otherwise transfer the Work, where such license applies only to those\n+ * patent claims licensable by such contributor that are necessarily\n+ * infringed by their contribution(s) alone or by combination of their\n+ * contribution(s) with the Work to which such contribution(s) was\n+ * submitted.  If You institute patent litigation against any entity\n+ * (including a cross-claim or counterclaim in a lawsuit) alleging that\n+ * the Work or a contribution incorporated within the Work constitutes\n+ * direct or contributory patent infringement, then any patent licenses\n+ * granted to You under this License for that Work shall terminate as of\n+ * the date such litigation is filed.\n+ *\n+ * By using, modifying, or distributing the Work you indicate that you\n+ * have read and understood the terms and conditions of the\n+ * FreeType Project License as well as those provided in this section,\n+ * and you accept them fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psaux\/pstypes.h","additions":36,"deletions":36,"binary":false,"changes":72,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  t1cmap.c                                                               *\/\n-\/*                                                                         *\/\n-\/*    Type 1 character map support (body).                                 *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2002-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * t1cmap.c\n+ *\n+ *   Type 1 character map support (body).\n+ *\n+ * Copyright (C) 2002-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -308,0 +308,3 @@\n+    if ( !psnames->unicodes_init )\n+      return FT_THROW( Unimplemented_Feature );\n+\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psaux\/t1cmap.c","additions":19,"deletions":16,"binary":false,"changes":35,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  t1cmap.h                                                               *\/\n-\/*                                                                         *\/\n-\/*    Type 1 character map support (specification).                        *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2002-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * t1cmap.h\n+ *\n+ *   Type 1 character map support (specification).\n+ *\n+ * Copyright (C) 2002-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psaux\/t1cmap.h","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  t1decode.c                                                             *\/\n-\/*                                                                         *\/\n-\/*    PostScript Type 1 decoding routines (body).                          *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2000-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * t1decode.c\n+ *\n+ *   PostScript Type 1 decoding routines (body).\n+ *\n+ * Copyright (C) 2000-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -34,6 +34,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -41,1 +41,1 @@\n-#define FT_COMPONENT  trace_t1decode\n+#define FT_COMPONENT  t1decode\n@@ -112,18 +112,20 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    t1_lookup_glyph_by_stdcharcode_ps                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Looks up a given glyph by its StandardEncoding charcode.  Used to  *\/\n-  \/*    implement the SEAC Type 1 operator in the Adobe engine             *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face     :: The current face object.                               *\/\n-  \/*                                                                       *\/\n-  \/*    charcode :: The character code to look for.                        *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    A glyph index in the font face.  Returns -1 if the corresponding   *\/\n-  \/*    glyph wasn't found.                                                *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   t1_lookup_glyph_by_stdcharcode_ps\n+   *\n+   * @Description:\n+   *   Looks up a given glyph by its StandardEncoding charcode.  Used to\n+   *   implement the SEAC Type 1 operator in the Adobe engine\n+   *\n+   * @Input:\n+   *   face ::\n+   *     The current face object.\n+   *\n+   *   charcode ::\n+   *     The character code to look for.\n+   *\n+   * @Return:\n+   *   A glyph index in the font face.  Returns -1 if the corresponding\n+   *   glyph wasn't found.\n+   *\/\n@@ -162,18 +164,21 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    t1_lookup_glyph_by_stdcharcode                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Looks up a given glyph by its StandardEncoding charcode.  Used to  *\/\n-  \/*    implement the SEAC Type 1 operator.                                *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face     :: The current face object.                               *\/\n-  \/*                                                                       *\/\n-  \/*    charcode :: The character code to look for.                        *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    A glyph index in the font face.  Returns -1 if the corresponding   *\/\n-  \/*    glyph wasn't found.                                                *\/\n-  \/*                                                                       *\/\n+\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   t1_lookup_glyph_by_stdcharcode\n+   *\n+   * @Description:\n+   *   Looks up a given glyph by its StandardEncoding charcode.  Used to\n+   *   implement the SEAC Type 1 operator.\n+   *\n+   * @Input:\n+   *   face ::\n+   *     The current face object.\n+   *\n+   *   charcode ::\n+   *     The character code to look for.\n+   *\n+   * @Return:\n+   *   A glyph index in the font face.  Returns -1 if the corresponding\n+   *   glyph wasn't found.\n+   *\/\n@@ -220,24 +225,30 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    t1operator_seac                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Implements the `seac' Type 1 operator for a Type 1 decoder.        *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    decoder :: The current CID decoder.                                *\/\n-  \/*                                                                       *\/\n-  \/*    asb     :: The accent's side bearing.                              *\/\n-  \/*                                                                       *\/\n-  \/*    adx     :: The horizontal offset of the accent.                    *\/\n-  \/*                                                                       *\/\n-  \/*    ady     :: The vertical offset of the accent.                      *\/\n-  \/*                                                                       *\/\n-  \/*    bchar   :: The base character's StandardEncoding charcode.         *\/\n-  \/*                                                                       *\/\n-  \/*    achar   :: The accent character's StandardEncoding charcode.       *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   t1operator_seac\n+   *\n+   * @Description:\n+   *   Implements the `seac' Type 1 operator for a Type 1 decoder.\n+   *\n+   * @Input:\n+   *   decoder ::\n+   *     The current CID decoder.\n+   *\n+   *   asb ::\n+   *     The accent's side bearing.\n+   *\n+   *   adx ::\n+   *     The horizontal offset of the accent.\n+   *\n+   *   ady ::\n+   *     The vertical offset of the accent.\n+   *\n+   *   bchar ::\n+   *     The base character's StandardEncoding charcode.\n+   *\n+   *   achar ::\n+   *     The accent character's StandardEncoding charcode.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -402,18 +413,21 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    t1_decoder_parse_charstrings                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Parses a given Type 1 charstrings program.                         *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    decoder         :: The current Type 1 decoder.                     *\/\n-  \/*                                                                       *\/\n-  \/*    charstring_base :: The base address of the charstring stream.      *\/\n-  \/*                                                                       *\/\n-  \/*    charstring_len  :: The length in bytes of the charstring stream.   *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   t1_decoder_parse_charstrings\n+   *\n+   * @Description:\n+   *   Parses a given Type 1 charstrings program.\n+   *\n+   * @Input:\n+   *   decoder ::\n+   *     The current Type 1 decoder.\n+   *\n+   *   charstring_base ::\n+   *     The base address of the charstring stream.\n+   *\n+   *   charstring_len ::\n+   *     The length in bytes of the charstring stream.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -469,3 +483,0 @@\n-    FT_TRACE4(( \"\\n\"\n-                \"Start charstring\\n\" ));\n-\n@@ -506,5 +517,5 @@\n-      \/*********************************************************************\/\n-      \/*                                                                   *\/\n-      \/* Decode operator or operand                                        *\/\n-      \/*                                                                   *\/\n-      \/*                                                                   *\/\n+      \/**********************************************************************\n+       *\n+       * Decode operator or operand\n+       *\n+       *\/\n@@ -713,5 +724,5 @@\n-      \/*********************************************************************\/\n-      \/*                                                                   *\/\n-      \/*  Push value on stack, or process operator                         *\/\n-      \/*                                                                   *\/\n-      \/*                                                                   *\/\n+      \/**********************************************************************\n+       *\n+       * Push value on stack, or process operator\n+       *\n+       *\/\n@@ -755,10 +766,11 @@\n-        \/***********************************************************\/\n-        \/*                                                         *\/\n-        \/* remove all operands to callothersubr from the stack     *\/\n-        \/*                                                         *\/\n-        \/* for handled othersubrs, where we know the number of     *\/\n-        \/* arguments, we increase the stack by the value of        *\/\n-        \/* known_othersubr_result_cnt                              *\/\n-        \/*                                                         *\/\n-        \/* for unhandled othersubrs the following pops adjust the  *\/\n-        \/* stack pointer as necessary                              *\/\n+        \/************************************************************\n+         *\n+         * remove all operands to callothersubr from the stack\n+         *\n+         * for handled othersubrs, where we know the number of\n+         * arguments, we increase the stack by the value of\n+         * known_othersubr_result_cnt\n+         *\n+         * for unhandled othersubrs the following pops adjust the\n+         * stack pointer as necessary\n+         *\/\n@@ -1226,0 +1238,2 @@\n+          {\n+            FT_TRACE4(( \"\\n\" ));\n@@ -1227,0 +1241,1 @@\n+          }\n@@ -1258,0 +1273,2 @@\n+          {\n+            FT_TRACE4(( \"\\n\" ));\n@@ -1259,0 +1276,1 @@\n+          }\n@@ -1641,20 +1659,25 @@\n-#else \/* T1_CONFIG_OPTION_OLD_ENGINE *\/\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    t1_decoder_parse_metrics                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Parses a given Type 1 charstrings program to extract width         *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    decoder         :: The current Type 1 decoder.                     *\/\n-  \/*                                                                       *\/\n-  \/*    charstring_base :: The base address of the charstring stream.      *\/\n-  \/*                                                                       *\/\n-  \/*    charstring_len  :: The length in bytes of the charstring stream.   *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+\n+#else \/* !T1_CONFIG_OPTION_OLD_ENGINE *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   t1_decoder_parse_metrics\n+   *\n+   * @Description:\n+   *   Parses a given Type 1 charstrings program to extract width\n+   *\n+   * @Input:\n+   *   decoder ::\n+   *     The current Type 1 decoder.\n+   *\n+   *   charstring_base ::\n+   *     The base address of the charstring stream.\n+   *\n+   *   charstring_len ::\n+   *     The length in bytes of the charstring stream.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -1683,3 +1706,0 @@\n-    FT_TRACE4(( \"\\n\"\n-                \"Start charstring: get width\\n\" ));\n-\n@@ -1706,5 +1726,5 @@\n-      \/*********************************************************************\/\n-      \/*                                                                   *\/\n-      \/* Decode operator or operand                                        *\/\n-      \/*                                                                   *\/\n-      \/*                                                                   *\/\n+      \/**********************************************************************\n+       *\n+       * Decode operator or operand\n+       *\n+       *\/\n@@ -1820,5 +1840,5 @@\n-      \/*********************************************************************\/\n-      \/*                                                                   *\/\n-      \/*  Push value on stack, or process operator                         *\/\n-      \/*                                                                   *\/\n-      \/*                                                                   *\/\n+      \/**********************************************************************\n+       *\n+       * Push value on stack, or process operator\n+       *\n+       *\/\n@@ -1878,0 +1898,1 @@\n+          FT_TRACE4(( \"\\n\" ));\n@@ -1896,0 +1917,1 @@\n+          FT_TRACE4(( \"\\n\" ));\n@@ -1920,1 +1942,2 @@\n-#endif \/* T1_CONFIG_OPTION_OLD_ENGINE *\/\n+\n+#endif \/* !T1_CONFIG_OPTION_OLD_ENGINE *\/\n@@ -1937,1 +1960,1 @@\n-    \/* retrieve PSNames interface from list of current modules *\/\n+    \/* retrieve `psnames' interface from list of current modules *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psaux\/t1decode.c","additions":182,"deletions":159,"binary":false,"changes":341,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  t1decode.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    PostScript Type 1 decoding routines (specification).                 *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2000-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * t1decode.h\n+ *\n+ *   PostScript Type 1 decoding routines (specification).\n+ *\n+ * Copyright (C) 2000-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psaux\/t1decode.h","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  pshalgo.c                                                              *\/\n-\/*                                                                         *\/\n-\/*    PostScript hinting algorithm (body).                                 *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2001-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used        *\/\n-\/*  modified and distributed under the terms of the FreeType project       *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * pshalgo.c\n+ *\n+ *   PostScript hinting algorithm (body).\n+ *\n+ * Copyright (C) 2001-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used\n+ * modified and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -29,1 +29,1 @@\n-#define FT_COMPONENT  trace_pshalgo\n+#define FT_COMPONENT  pshalgo\n@@ -56,2 +56,2 @@\n-    return hint1->org_pos + hint1->org_len >= hint2->org_pos &&\n-           hint2->org_pos + hint2->org_len >= hint1->org_pos;\n+    return ADD_INT( hint1->org_pos, hint1->org_len ) >= hint2->org_pos &&\n+           ADD_INT( hint2->org_pos, hint2->org_len ) >= hint1->org_pos;\n@@ -482,1 +482,1 @@\n-                             hint->org_pos + hint->org_len,\n+                             ADD_INT( hint->org_pos, hint->org_len ),\n@@ -661,2 +661,2 @@\n-  *  A variant to perform \"light\" hinting (i.e. FT_RENDER_MODE_LIGHT)\n-  *  of stems\n+  * A variant to perform \"light\" hinting (i.e. FT_RENDER_MODE_LIGHT)\n+  * of stems\n@@ -706,1 +706,1 @@\n-                             hint->org_pos + hint->org_len,\n+                             ADD_INT( hint->org_pos, hint->org_len ),\n@@ -1541,2 +1541,2 @@\n-            if ( org_u >= hint->org_pos                 &&\n-                org_u <= hint->org_pos + hint->org_len )\n+            if ( org_u >=          hint->org_pos                  &&\n+                 org_u <= ADD_INT( hint->org_pos, hint->org_len ) )\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/pshinter\/pshalgo.c","additions":25,"deletions":25,"binary":false,"changes":50,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  pshalgo.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    PostScript hinting algorithm (specification).                        *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2001-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * pshalgo.h\n+ *\n+ *   PostScript hinting algorithm (specification).\n+ *\n+ * Copyright (C) 2001-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/pshinter\/pshalgo.h","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,17 +1,17 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  pshglob.c                                                              *\/\n-\/*                                                                         *\/\n-\/*    PostScript hinter global hinting management (body).                  *\/\n-\/*    Inspired by the new auto-hinter module.                              *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2001-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used        *\/\n-\/*  modified and distributed under the terms of the FreeType project       *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * pshglob.c\n+ *\n+ *   PostScript hinter global hinting management (body).\n+ *   Inspired by the new auto-hinter module.\n+ *\n+ * Copyright (C) 2001-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used\n+ * modified and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -23,0 +23,1 @@\n+#include FT_INTERNAL_CALC_H\n@@ -230,2 +231,2 @@\n-  \/* Re-read blue zones from the original fonts and store them into out *\/\n-  \/* private structure.  This function re-orders, sanitizes and         *\/\n+  \/* Re-read blue zones from the original fonts and store them into our *\/\n+  \/* private structure.  This function re-orders, sanitizes, and        *\/\n@@ -571,1 +572,1 @@\n-      delta = stem_top - zone->org_bottom;\n+      delta = SUB_LONG( stem_top, zone->org_bottom );\n@@ -593,1 +594,1 @@\n-      delta = zone->org_top - stem_bot;\n+      delta = SUB_LONG( zone->org_top, stem_bot );\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/pshinter\/pshglob.c","additions":22,"deletions":21,"binary":false,"changes":43,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  pshglob.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    PostScript hinter global hinting management.                         *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2001-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * pshglob.h\n+ *\n+ *   PostScript hinter global hinting management.\n+ *\n+ * Copyright (C) 2001-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -39,9 +39,9 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* @constant:                                                            *\/\n-  \/*    PS_GLOBALS_MAX_BLUE_ZONES                                          *\/\n-  \/*                                                                       *\/\n-  \/* @description:                                                         *\/\n-  \/*    The maximum number of blue zones in a font global hints structure. *\/\n-  \/*    See @PS_Globals_BluesRec.                                          *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @constant:\n+   *   PS_GLOBALS_MAX_BLUE_ZONES\n+   *\n+   * @description:\n+   *   The maximum number of blue zones in a font global hints structure.\n+   *   See @PS_Globals_BluesRec.\n+   *\/\n@@ -51,9 +51,9 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* @constant:                                                            *\/\n-  \/*    PS_GLOBALS_MAX_STD_WIDTHS                                          *\/\n-  \/*                                                                       *\/\n-  \/* @description:                                                         *\/\n-  \/*    The maximum number of standard and snap widths in either the       *\/\n-  \/*    horizontal or vertical direction.  See @PS_Globals_WidthsRec.      *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @constant:\n+   *   PS_GLOBALS_MAX_STD_WIDTHS\n+   *\n+   * @description:\n+   *   The maximum number of standard and snap widths in either the\n+   *   horizontal or vertical direction.  See @PS_Globals_WidthsRec.\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/pshinter\/pshglob.h","additions":34,"deletions":34,"binary":false,"changes":68,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  pshmod.c                                                               *\/\n-\/*                                                                         *\/\n-\/*    FreeType PostScript hinter module implementation (body).             *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2001-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * pshmod.c\n+ *\n+ *   FreeType PostScript hinter module implementation (body).\n+ *\n+ * Copyright (C) 2001-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -23,1 +23,0 @@\n-#include \"pshpic.h\"\n@@ -114,1 +113,1 @@\n-    &PSHINTER_INTERFACE_GET,              \/* module-specific interface *\/\n+    &pshinter_interface,        \/* module-specific interface *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/pshinter\/pshmod.c","additions":17,"deletions":18,"binary":false,"changes":35,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  pshmod.h                                                               *\/\n-\/*                                                                         *\/\n-\/*    PostScript hinter module interface (specification).                  *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2001-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * pshmod.h\n+ *\n+ *   PostScript hinter module interface (specification).\n+ *\n+ * Copyright (C) 2001-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/pshinter\/pshmod.h","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,23 +1,23 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  pshnterr.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    PS Hinter error codes (specification only).                          *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2003-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* This file is used to define the PSHinter error enumeration constants. *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * pshnterr.h\n+ *\n+ *   PS Hinter error codes (specification only).\n+ *\n+ * Copyright (C) 2003-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * This file is used to define the PSHinter error enumeration constants.\n+   *\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/pshinter\/pshnterr.h","additions":23,"deletions":23,"binary":false,"changes":46,"status":"modified"},{"patch":"@@ -1,76 +0,0 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  pshpic.c                                                               *\/\n-\/*                                                                         *\/\n-\/*    The FreeType position independent code services for pshinter module. *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2009-2018 by                                                 *\/\n-\/*  Oran Agra and Mickey Gabel.                                            *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-#include <ft2build.h>\n-#include FT_FREETYPE_H\n-#include FT_INTERNAL_OBJECTS_H\n-#include \"pshpic.h\"\n-#include \"pshnterr.h\"\n-\n-\n-#ifdef FT_CONFIG_OPTION_PIC\n-\n-  \/* forward declaration of PIC init functions from pshmod.c *\/\n-  void\n-  FT_Init_Class_pshinter_interface( FT_Library           library,\n-                                    PSHinter_Interface*  clazz );\n-\n-  void\n-  pshinter_module_class_pic_free( FT_Library  library )\n-  {\n-    FT_PIC_Container*  pic_container = &library->pic_container;\n-    FT_Memory          memory        = library->memory;\n-\n-\n-    if ( pic_container->pshinter )\n-    {\n-      FT_FREE( pic_container->pshinter );\n-      pic_container->pshinter = NULL;\n-    }\n-  }\n-\n-\n-  FT_Error\n-  pshinter_module_class_pic_init( FT_Library  library )\n-  {\n-    FT_PIC_Container*  pic_container = &library->pic_container;\n-    FT_Error           error         = FT_Err_Ok;\n-    PSHinterPIC*       container     = NULL;\n-    FT_Memory          memory        = library->memory;\n-\n-\n-    \/* allocate pointer, clear and set global container pointer *\/\n-    if ( FT_ALLOC( container, sizeof ( *container ) ) )\n-      return error;\n-    FT_MEM_SET( container, 0, sizeof ( *container ) );\n-    pic_container->pshinter = container;\n-\n-    \/* add call to initialization function when you add new scripts *\/\n-    FT_Init_Class_pshinter_interface(\n-      library, &container->pshinter_interface );\n-\n-    if ( error )\n-      pshinter_module_class_pic_free( library );\n-\n-    return error;\n-  }\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n-\n-\/* END *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/pshinter\/pshpic.c","additions":0,"deletions":76,"binary":false,"changes":76,"status":"deleted"},{"patch":"@@ -1,63 +0,0 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  pshpic.h                                                               *\/\n-\/*                                                                         *\/\n-\/*    The FreeType position independent code services for pshinter module. *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2009-2018 by                                                 *\/\n-\/*  Oran Agra and Mickey Gabel.                                            *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-#ifndef PSHPIC_H_\n-#define PSHPIC_H_\n-\n-\n-#include FT_INTERNAL_PIC_H\n-\n-\n-#ifndef FT_CONFIG_OPTION_PIC\n-\n-#define PSHINTER_INTERFACE_GET  pshinter_interface\n-\n-#else \/* FT_CONFIG_OPTION_PIC *\/\n-\n-#include FT_INTERNAL_POSTSCRIPT_HINTS_H\n-\n-FT_BEGIN_HEADER\n-\n-  typedef struct  PSHinterPIC_\n-  {\n-    PSHinter_Interface  pshinter_interface;\n-\n-  } PSHinterPIC;\n-\n-\n-#define GET_PIC( lib )  ( (PSHinterPIC*)( (lib)->pic_container.pshinter ) )\n-\n-#define PSHINTER_INTERFACE_GET  ( GET_PIC( library )->pshinter_interface )\n-\n-  \/* see pshpic.c for the implementation *\/\n-  void\n-  pshinter_module_class_pic_free( FT_Library  library );\n-\n-  FT_Error\n-  pshinter_module_class_pic_init( FT_Library  library );\n-\n-FT_END_HEADER\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n- \/* *\/\n-\n-#endif \/* PSHPIC_H_ *\/\n-\n-\n-\/* END *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/pshinter\/pshpic.h","additions":0,"deletions":63,"binary":false,"changes":63,"status":"deleted"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  pshrec.c                                                               *\/\n-\/*                                                                         *\/\n-\/*    FreeType PostScript hints recorder (body).                           *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2001-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * pshrec.c\n+ *\n+ *   FreeType PostScript hints recorder (body).\n+ *\n+ * Copyright (C) 2001-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -31,1 +31,1 @@\n-#define FT_COMPONENT  trace_pshrec\n+#define FT_COMPONENT  pshrec\n@@ -669,1 +669,1 @@\n-        pos   += len;\n+        pos    = ADD_INT( pos, len );\n@@ -1190,1 +1190,1 @@\n-        y       += coords[n];\n+        y        = ADD_LONG( y, coords[n] );\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/pshinter\/pshrec.c","additions":19,"deletions":19,"binary":false,"changes":38,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  pshrec.h                                                               *\/\n-\/*                                                                         *\/\n-\/*    Postscript (Type1\/Type2) hints recorder (specification).             *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2001-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * pshrec.h\n+ *\n+ *   Postscript (Type1\/Type2) hints recorder (specification).\n+ *\n+ * Copyright (C) 2001-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -19,10 +19,10 @@\n-  \/**************************************************************************\/\n-  \/*                                                                        *\/\n-  \/*  The functions defined here are called from the Type 1, CID and CFF    *\/\n-  \/*  font drivers to record the hints of a given character\/glyph.          *\/\n-  \/*                                                                        *\/\n-  \/*  The hints are recorded in a unified format, and are later processed   *\/\n-  \/*  by the `optimizer' and `fitter' to adjust the outlines to the pixel   *\/\n-  \/*  grid.                                                                 *\/\n-  \/*                                                                        *\/\n-  \/**************************************************************************\/\n+  \/***************************************************************************\n+   *\n+   * The functions defined here are called from the Type 1, CID and CFF\n+   * font drivers to record the hints of a given character\/glyph.\n+   *\n+   * The hints are recorded in a unified format, and are later processed\n+   * by the `optimizer' and `fitter' to adjust the outlines to the pixel\n+   * grid.\n+   *\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/pshinter\/pshrec.h","additions":26,"deletions":26,"binary":false,"changes":52,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  psmodule.c                                                             *\/\n-\/*                                                                         *\/\n-\/*    PSNames module implementation (body).                                *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * psmodule.c\n+ *\n+ *   psnames module implementation (body).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -27,6 +27,6 @@\n-   *  The file `pstables.h' with its arrays and its function\n-   *  `ft_get_adobe_glyph_index' is useful for other projects also (for\n-   *  example, `pdfium' is using it).  However, if used as a C++ header,\n-   *  including it in two different source files makes it necessary to use\n-   *  `extern const' for the declaration of its arrays, otherwise the data\n-   *  would be duplicated as mandated by the C++ standard.\n+   * The file `pstables.h' with its arrays and its function\n+   * `ft_get_adobe_glyph_index' is useful for other projects also (for\n+   * example, `pdfium' is using it).  However, if used as a C++ header,\n+   * including it in two different source files makes it necessary to use\n+   * `extern const' for the declaration of its arrays, otherwise the data\n+   * would be duplicated as mandated by the C++ standard.\n@@ -34,3 +34,3 @@\n-   *  For this reason, we use `DEFINE_PS_TABLES' to guard the function\n-   *  definitions, and `DEFINE_PS_TABLES_DATA' to provide both proper array\n-   *  declarations and definitions.\n+   * For this reason, we use `DEFINE_PS_TABLES' to guard the function\n+   * definitions, and `DEFINE_PS_TABLES_DATA' to provide both proper array\n+   * declarations and definitions.\n@@ -44,1 +44,0 @@\n-#include \"pspic.h\"\n@@ -396,1 +395,3 @@\n-          (void)FT_RENEW_ARRAY( table->maps, num_glyphs, count );\n+          (void)FT_RENEW_ARRAY( table->maps,\n+                                num_glyphs + EXTRA_GLYPH_LIST_SIZE,\n+                                count );\n@@ -580,1 +581,1 @@\n-    FT_SERVICE_ID_POSTSCRIPT_CMAPS, &PSCMAPS_INTERFACE_GET )\n+    FT_SERVICE_ID_POSTSCRIPT_CMAPS, &pscmaps_interface )\n@@ -587,11 +588,0 @@\n-    \/* PSCMAPS_SERVICES_GET dereferences `library' in PIC mode *\/\n-#ifdef FT_CONFIG_OPTION_PIC\n-    FT_Library  library;\n-\n-\n-    if ( !module )\n-      return NULL;\n-    library = module->library;\n-    if ( !library )\n-      return NULL;\n-#else\n@@ -599,1 +589,0 @@\n-#endif\n@@ -601,1 +590,1 @@\n-    return ft_service_list_lookup( PSCMAPS_SERVICES_GET, service_id );\n+    return ft_service_list_lookup( pscmaps_services, service_id );\n@@ -624,1 +613,1 @@\n-      (void*)&PSCMAPS_INTERFACE_GET ),   \/* module specific interface *\/\n+      (void*)&pscmaps_interface ),   \/* module specific interface *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psnames\/psmodule.c","additions":31,"deletions":42,"binary":false,"changes":73,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  psmodule.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    High-level PSNames module interface (specification).                 *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * psmodule.h\n+ *\n+ *   High-level psnames module interface (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psnames\/psmodule.h","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,24 +1,24 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  psnamerr.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    PS names module error codes (specification only).                    *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2001-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* This file is used to define the PS names module error enumeration     *\/\n-  \/* constants.                                                            *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * psnamerr.h\n+ *\n+ *   PS names module error codes (specification only).\n+ *\n+ * Copyright (C) 2001-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * This file is used to define the PS names module error enumeration\n+   * constants.\n+   *\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psnames\/psnamerr.h","additions":24,"deletions":24,"binary":false,"changes":48,"status":"modified"},{"patch":"@@ -1,97 +0,0 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  pspic.c                                                                *\/\n-\/*                                                                         *\/\n-\/*    The FreeType position independent code services for psnames module.  *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2009-2018 by                                                 *\/\n-\/*  Oran Agra and Mickey Gabel.                                            *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-#include <ft2build.h>\n-#include FT_FREETYPE_H\n-#include FT_INTERNAL_OBJECTS_H\n-#include \"pspic.h\"\n-#include \"psnamerr.h\"\n-\n-\n-#ifdef FT_CONFIG_OPTION_PIC\n-\n-  \/* forward declaration of PIC init functions from psmodule.c *\/\n-  FT_Error\n-  FT_Create_Class_pscmaps_services( FT_Library           library,\n-                                    FT_ServiceDescRec**  output_class );\n-  void\n-  FT_Destroy_Class_pscmaps_services( FT_Library          library,\n-                                     FT_ServiceDescRec*  clazz );\n-\n-  void\n-  FT_Init_Class_pscmaps_interface( FT_Library              library,\n-                                   FT_Service_PsCMapsRec*  clazz );\n-\n-\n-  void\n-  psnames_module_class_pic_free( FT_Library  library )\n-  {\n-    FT_PIC_Container*  pic_container = &library->pic_container;\n-    FT_Memory          memory        = library->memory;\n-\n-\n-    if ( pic_container->psnames )\n-    {\n-      PSModulePIC*  container = (PSModulePIC*)pic_container->psnames;\n-\n-\n-      if ( container->pscmaps_services )\n-        FT_Destroy_Class_pscmaps_services( library,\n-                                           container->pscmaps_services );\n-      container->pscmaps_services = NULL;\n-      FT_FREE( container );\n-      pic_container->psnames = NULL;\n-    }\n-  }\n-\n-\n-  FT_Error\n-  psnames_module_class_pic_init( FT_Library  library )\n-  {\n-    FT_PIC_Container*  pic_container = &library->pic_container;\n-    FT_Error           error         = FT_Err_Ok;\n-    PSModulePIC*       container     = NULL;\n-    FT_Memory          memory        = library->memory;\n-\n-\n-    \/* allocate pointer, clear and set global container pointer *\/\n-    if ( FT_ALLOC( container, sizeof ( *container ) ) )\n-      return error;\n-    FT_MEM_SET( container, 0, sizeof ( *container ) );\n-    pic_container->psnames = container;\n-\n-    \/* initialize pointer table -                       *\/\n-    \/* this is how the module usually expects this data *\/\n-    error = FT_Create_Class_pscmaps_services(\n-              library, &container->pscmaps_services );\n-    if ( error )\n-      goto Exit;\n-    FT_Init_Class_pscmaps_interface( library,\n-                                     &container->pscmaps_interface );\n-\n-  Exit:\n-    if ( error )\n-      psnames_module_class_pic_free( library );\n-    return error;\n-  }\n-\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n-\n-\/* END *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psnames\/pspic.c","additions":0,"deletions":97,"binary":false,"changes":97,"status":"deleted"},{"patch":"@@ -1,68 +0,0 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  pspic.h                                                                *\/\n-\/*                                                                         *\/\n-\/*    The FreeType position independent code services for psnames module.  *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2009-2018 by                                                 *\/\n-\/*  Oran Agra and Mickey Gabel.                                            *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-#ifndef PSPIC_H_\n-#define PSPIC_H_\n-\n-\n-#include FT_INTERNAL_PIC_H\n-\n-\n-#ifndef FT_CONFIG_OPTION_PIC\n-\n-#define PSCMAPS_SERVICES_GET   pscmaps_services\n-#define PSCMAPS_INTERFACE_GET  pscmaps_interface\n-\n-#else \/* FT_CONFIG_OPTION_PIC *\/\n-\n-#include FT_SERVICE_POSTSCRIPT_CMAPS_H\n-\n-\n-FT_BEGIN_HEADER\n-\n-  typedef struct  PSModulePIC_\n-  {\n-    FT_ServiceDescRec*     pscmaps_services;\n-    FT_Service_PsCMapsRec  pscmaps_interface;\n-\n-  } PSModulePIC;\n-\n-\n-#define GET_PIC( lib )                                     \\\n-          ( (PSModulePIC*)((lib)->pic_container.psnames) )\n-#define PSCMAPS_SERVICES_GET   ( GET_PIC( library )->pscmaps_services )\n-#define PSCMAPS_INTERFACE_GET  ( GET_PIC( library )->pscmaps_interface )\n-\n-\n-  \/* see pspic.c for the implementation *\/\n-  void\n-  psnames_module_class_pic_free( FT_Library  library );\n-\n-  FT_Error\n-  psnames_module_class_pic_init( FT_Library  library );\n-\n-FT_END_HEADER\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n- \/* *\/\n-\n-#endif \/* PSPIC_H_ *\/\n-\n-\n-\/* END *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psnames\/pspic.h","additions":0,"deletions":68,"binary":false,"changes":68,"status":"deleted"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  pstables.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    PostScript glyph names.                                              *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2005-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * pstables.h\n+ *\n+ *   PostScript glyph names.\n+ *\n+ * Copyright (C) 2005-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -612,3 +612,3 @@\n-   *  This table is a compressed version of the Adobe Glyph List (AGL),\n-   *  optimized for efficient searching.  It has been generated by the\n-   *  `glnames.py' python script located in the `src\/tools' directory.\n+   * This table is a compressed version of the Adobe Glyph List (AGL),\n+   * optimized for efficient searching.  It has been generated by the\n+   * `glnames.py' python script located in the `src\/tools' directory.\n@@ -616,2 +616,2 @@\n-   *  The lookup function to get the Unicode value for a given string\n-   *  is defined below the table.\n+   * The lookup function to get the Unicode value for a given string\n+   * is defined below the table.\n@@ -4140,1 +4140,1 @@\n-   *  This function searches the compressed table efficiently.\n+   * This function searches the compressed table efficiently.\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/psnames\/pstables.h","additions":22,"deletions":22,"binary":false,"changes":44,"status":"modified"},{"patch":"@@ -1,25 +1,25 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftmisc.h                                                               *\/\n-\/*                                                                         *\/\n-\/*    Miscellaneous macros for stand-alone rasterizer (specification       *\/\n-\/*    only).                                                               *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2005-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used        *\/\n-\/*  modified and distributed under the terms of the FreeType project       *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-  \/***************************************************\/\n-  \/*                                                 *\/\n-  \/* This file is *not* portable!  You have to adapt *\/\n-  \/* its definitions to your platform.               *\/\n-  \/*                                                 *\/\n-  \/***************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftmisc.h\n+ *\n+ *   Miscellaneous macros for stand-alone rasterizer (specification\n+ *   only).\n+ *\n+ * Copyright (C) 2005-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used\n+ * modified and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+\n+  \/****************************************************\n+   *\n+   * This file is *not* portable!  You have to adapt\n+   * its definitions to your platform.\n+   *\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/raster\/ftmisc.h","additions":25,"deletions":25,"binary":false,"changes":50,"status":"modified"},{"patch":"@@ -1,48 +1,48 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftraster.c                                                             *\/\n-\/*                                                                         *\/\n-\/*    The FreeType glyph rasterizer (body).                                *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* This file can be compiled without the rest of the FreeType engine, by *\/\n-  \/* defining the STANDALONE_ macro when compiling it.  You also need to   *\/\n-  \/* put the files `ftimage.h' and `ftmisc.h' into the $(incdir)           *\/\n-  \/* directory.  Typically, you should do something like                   *\/\n-  \/*                                                                       *\/\n-  \/* - copy `src\/raster\/ftraster.c' (this file) to your current directory  *\/\n-  \/*                                                                       *\/\n-  \/* - copy `include\/freetype\/ftimage.h' and `src\/raster\/ftmisc.h' to your *\/\n-  \/*   current directory                                                   *\/\n-  \/*                                                                       *\/\n-  \/* - compile `ftraster' with the STANDALONE_ macro defined, as in        *\/\n-  \/*                                                                       *\/\n-  \/*     cc -c -DSTANDALONE_ ftraster.c                                    *\/\n-  \/*                                                                       *\/\n-  \/* The renderer can be initialized with a call to                        *\/\n-  \/* `ft_standard_raster.raster_new'; a bitmap can be generated            *\/\n-  \/* with a call to `ft_standard_raster.raster_render'.                    *\/\n-  \/*                                                                       *\/\n-  \/* See the comments and documentation in the file `ftimage.h' for more   *\/\n-  \/* details on how the raster works.                                      *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* This is a rewrite of the FreeType 1.x scan-line converter             *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftraster.c\n+ *\n+ *   The FreeType glyph rasterizer (body).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+  \/**************************************************************************\n+   *\n+   * This file can be compiled without the rest of the FreeType engine, by\n+   * defining the STANDALONE_ macro when compiling it.  You also need to\n+   * put the files `ftimage.h' and `ftmisc.h' into the $(incdir)\n+   * directory.  Typically, you should do something like\n+   *\n+   * - copy `src\/raster\/ftraster.c' (this file) to your current directory\n+   *\n+   * - copy `include\/freetype\/ftimage.h' and `src\/raster\/ftmisc.h' to your\n+   *   current directory\n+   *\n+   * - compile `ftraster' with the STANDALONE_ macro defined, as in\n+   *\n+   *     cc -c -DSTANDALONE_ ftraster.c\n+   *\n+   * The renderer can be initialized with a call to\n+   * `ft_standard_raster.raster_new'; a bitmap can be generated\n+   * with a call to `ft_standard_raster.raster_render'.\n+   *\n+   * See the comments and documentation in the file `ftimage.h' for more\n+   * details on how the raster works.\n+   *\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * This is a rewrite of the FreeType 1.x scan-line converter\n+   *\n+   *\/\n@@ -68,2 +68,1 @@\n-\n-#include \"rastpic.h\"\n+#include FT_OUTLINE_H         \/* for FT_Outline_Get_CBox              *\/\n@@ -74,70 +73,70 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* A simple technical note on how the raster works                       *\/\n-  \/* -----------------------------------------------                       *\/\n-  \/*                                                                       *\/\n-  \/*   Converting an outline into a bitmap is achieved in several steps:   *\/\n-  \/*                                                                       *\/\n-  \/*   1 - Decomposing the outline into successive `profiles'.  Each       *\/\n-  \/*       profile is simply an array of scanline intersections on a given *\/\n-  \/*       dimension.  A profile's main attributes are                     *\/\n-  \/*                                                                       *\/\n-  \/*       o its scanline position boundaries, i.e. `Ymin' and `Ymax'      *\/\n-  \/*                                                                       *\/\n-  \/*       o an array of intersection coordinates for each scanline        *\/\n-  \/*         between `Ymin' and `Ymax'                                     *\/\n-  \/*                                                                       *\/\n-  \/*       o a direction, indicating whether it was built going `up' or    *\/\n-  \/*         `down', as this is very important for filling rules           *\/\n-  \/*                                                                       *\/\n-  \/*       o its drop-out mode                                             *\/\n-  \/*                                                                       *\/\n-  \/*   2 - Sweeping the target map's scanlines in order to compute segment *\/\n-  \/*       `spans' which are then filled.  Additionally, this pass         *\/\n-  \/*       performs drop-out control.                                      *\/\n-  \/*                                                                       *\/\n-  \/*   The outline data is parsed during step 1 only.  The profiles are    *\/\n-  \/*   built from the bottom of the render pool, used as a stack.  The     *\/\n-  \/*   following graphics shows the profile list under construction:       *\/\n-  \/*                                                                       *\/\n-  \/*     __________________________________________________________ _ _    *\/\n-  \/*    |         |                 |         |                 |          *\/\n-  \/*    | profile | coordinates for | profile | coordinates for |-->       *\/\n-  \/*    |    1    |  profile 1      |    2    |  profile 2      |-->       *\/\n-  \/*    |_________|_________________|_________|_________________|__ _ _    *\/\n-  \/*                                                                       *\/\n-  \/*    ^                                                       ^          *\/\n-  \/*    |                                                       |          *\/\n-  \/* start of render pool                                      top         *\/\n-  \/*                                                                       *\/\n-  \/*   The top of the profile stack is kept in the `top' variable.         *\/\n-  \/*                                                                       *\/\n-  \/*   As you can see, a profile record is pushed on top of the render     *\/\n-  \/*   pool, which is then followed by its coordinates\/intersections.  If  *\/\n-  \/*   a change of direction is detected in the outline, a new profile is  *\/\n-  \/*   generated until the end of the outline.                             *\/\n-  \/*                                                                       *\/\n-  \/*   Note that when all profiles have been generated, the function       *\/\n-  \/*   Finalize_Profile_Table() is used to record, for each profile, its   *\/\n-  \/*   bottom-most scanline as well as the scanline above its upmost       *\/\n-  \/*   boundary.  These positions are called `y-turns' because they (sort  *\/\n-  \/*   of) correspond to local extrema.  They are stored in a sorted list  *\/\n-  \/*   built from the top of the render pool as a downwards stack:         *\/\n-  \/*                                                                       *\/\n-  \/*      _ _ _______________________________________                      *\/\n-  \/*                            |                    |                     *\/\n-  \/*                         <--| sorted list of     |                     *\/\n-  \/*                         <--|  extrema scanlines |                     *\/\n-  \/*      _ _ __________________|____________________|                     *\/\n-  \/*                                                                       *\/\n-  \/*                            ^                    ^                     *\/\n-  \/*                            |                    |                     *\/\n-  \/*                         maxBuff           sizeBuff = end of pool      *\/\n-  \/*                                                                       *\/\n-  \/*   This list is later used during the sweep phase in order to          *\/\n-  \/*   optimize performance (see technical note on the sweep below).       *\/\n-  \/*                                                                       *\/\n-  \/*   Of course, the raster detects whether the two stacks collide and    *\/\n-  \/*   handles the situation properly.                                     *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * A simple technical note on how the raster works\n+   * -----------------------------------------------\n+   *\n+   *   Converting an outline into a bitmap is achieved in several steps:\n+   *\n+   *   1 - Decomposing the outline into successive `profiles'.  Each\n+   *       profile is simply an array of scanline intersections on a given\n+   *       dimension.  A profile's main attributes are\n+   *\n+   *       o its scanline position boundaries, i.e. `Ymin' and `Ymax'\n+   *\n+   *       o an array of intersection coordinates for each scanline\n+   *         between `Ymin' and `Ymax'\n+   *\n+   *       o a direction, indicating whether it was built going `up' or\n+   *         `down', as this is very important for filling rules\n+   *\n+   *       o its drop-out mode\n+   *\n+   *   2 - Sweeping the target map's scanlines in order to compute segment\n+   *       `spans' which are then filled.  Additionally, this pass\n+   *       performs drop-out control.\n+   *\n+   *   The outline data is parsed during step 1 only.  The profiles are\n+   *   built from the bottom of the render pool, used as a stack.  The\n+   *   following graphics shows the profile list under construction:\n+   *\n+   *    __________________________________________________________ _ _\n+   *   |         |                 |         |                 |\n+   *   | profile | coordinates for | profile | coordinates for |-->\n+   *   |    1    |  profile 1      |    2    |  profile 2      |-->\n+   *   |_________|_________________|_________|_________________|__ _ _\n+   *\n+   *   ^                                                       ^\n+   *   |                                                       |\n+   * start of render pool                                      top\n+   *\n+   *   The top of the profile stack is kept in the `top' variable.\n+   *\n+   *   As you can see, a profile record is pushed on top of the render\n+   *   pool, which is then followed by its coordinates\/intersections.  If\n+   *   a change of direction is detected in the outline, a new profile is\n+   *   generated until the end of the outline.\n+   *\n+   *   Note that when all profiles have been generated, the function\n+   *   Finalize_Profile_Table() is used to record, for each profile, its\n+   *   bottom-most scanline as well as the scanline above its upmost\n+   *   boundary.  These positions are called `y-turns' because they (sort\n+   *   of) correspond to local extrema.  They are stored in a sorted list\n+   *   built from the top of the render pool as a downwards stack:\n+   *\n+   *     _ _ _______________________________________\n+   *                           |                    |\n+   *                        <--| sorted list of     |\n+   *                        <--|  extrema scanlines |\n+   *     _ _ __________________|____________________|\n+   *\n+   *                           ^                    ^\n+   *                           |                    |\n+   *                         maxBuff           sizeBuff = end of pool\n+   *\n+   *   This list is later used during the sweep phase in order to\n+   *   optimize performance (see technical note on the sweep below).\n+   *\n+   *   Of course, the raster detects whether the two stacks collide and\n+   *   handles the situation properly.\n+   *\n+   *\/\n@@ -166,6 +165,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -173,1 +172,1 @@\n-#define FT_COMPONENT  trace_raster\n+#define FT_COMPONENT  raster\n@@ -455,3 +454,3 @@\n-#define SCALED( x )   ( ( (x) < 0 ? -( -(x) << ras.scale_shift )   \\\n-                                  :  (  (x) << ras.scale_shift ) ) \\\n-                        - ras.precision_half )\n+\n+  \/* scale and shift grid to pixel centers *\/\n+#define SCALED( x )   ( (x) * ras.precision_scale - ras.precision_half )\n@@ -479,1 +478,1 @@\n-    Int         precision_shift;\n+    Int         precision_scale;\n@@ -483,3 +482,0 @@\n-    Int         scale_shift;        \/* == precision_shift   for bitmaps    *\/\n-                                    \/* == precision_shift+1 for pixmaps    *\/\n-\n@@ -498,2 +494,1 @@\n-    PByte       bTarget;            \/* target bitmap buffer                *\/\n-    PByte       gTarget;            \/* target pixmap buffer                *\/\n+    PByte       bOrigin;            \/* target bitmap bottom-left origin    *\/\n@@ -522,2 +517,0 @@\n-    Long        traceG;             \/* current offset in target pixmap     *\/\n-\n@@ -575,12 +568,13 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    Set_High_Precision                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Set precision variables according to param flag.                   *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    High :: Set to True for high precision (typically for ppem < 24),  *\/\n-  \/*            false otherwise.                                           *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   Set_High_Precision\n+   *\n+   * @Description:\n+   *   Set precision variables according to param flag.\n+   *\n+   * @Input:\n+   *   High ::\n+   *     Set to True for high precision (typically for ppem < 24),\n+   *     false otherwise.\n+   *\/\n@@ -628,2 +622,2 @@\n-    ras.precision_half  = ras.precision \/ 2;\n-    ras.precision_shift = ras.precision_bits - Pixel_Bits;\n+    ras.precision_half  = ras.precision >> 1;\n+    ras.precision_scale = ras.precision >> Pixel_Bits;\n@@ -633,18 +627,20 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    New_Profile                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Create a new profile in the render pool.                           *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    aState    :: The state\/orientation of the new profile.             *\/\n-  \/*                                                                       *\/\n-  \/*    overshoot :: Whether the profile's unrounded start position        *\/\n-  \/*                 differs by at least a half pixel.                     *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*   SUCCESS on success.  FAILURE in case of overflow or of incoherent   *\/\n-  \/*   profile.                                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   New_Profile\n+   *\n+   * @Description:\n+   *   Create a new profile in the render pool.\n+   *\n+   * @Input:\n+   *   aState ::\n+   *     The state\/orientation of the new profile.\n+   *\n+   *   overshoot ::\n+   *     Whether the profile's unrounded start position\n+   *     differs by at least a half pixel.\n+   *\n+   * @Return:\n+   *  SUCCESS on success.  FAILURE in case of overflow or of incoherent\n+   *  profile.\n+   *\/\n@@ -709,15 +705,16 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    End_Profile                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Finalize the current profile.                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    overshoot :: Whether the profile's unrounded end position differs  *\/\n-  \/*                 by at least a half pixel.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    SUCCESS on success.  FAILURE in case of overflow or incoherency.   *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   End_Profile\n+   *\n+   * @Description:\n+   *   Finalize the current profile.\n+   *\n+   * @Input:\n+   *   overshoot ::\n+   *     Whether the profile's unrounded end position differs\n+   *     by at least a half pixel.\n+   *\n+   * @Return:\n+   *   SUCCESS on success.  FAILURE in case of overflow or incoherency.\n+   *\/\n@@ -781,15 +778,15 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    Insert_Y_Turn                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Insert a salient into the sorted list placed on top of the render  *\/\n-  \/*    pool.                                                              *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    New y scanline position.                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    SUCCESS on success.  FAILURE in case of overflow.                  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   Insert_Y_Turn\n+   *\n+   * @Description:\n+   *   Insert a salient into the sorted list placed on top of the render\n+   *   pool.\n+   *\n+   * @Input:\n+   *   New y scanline position.\n+   *\n+   * @Return:\n+   *   SUCCESS on success.  FAILURE in case of overflow.\n+   *\/\n@@ -837,11 +834,11 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    Finalize_Profile_Table                                             *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Adjust all links in the profiles list.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    SUCCESS on success.  FAILURE in case of overflow.                  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   Finalize_Profile_Table\n+   *\n+   * @Description:\n+   *   Adjust all links in the profiles list.\n+   *\n+   * @Return:\n+   *   SUCCESS on success.  FAILURE in case of overflow.\n+   *\/\n@@ -897,16 +894,16 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    Split_Conic                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Subdivide one conic Bezier into two joint sub-arcs in the Bezier   *\/\n-  \/*    stack.                                                             *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    None (subdivided Bezier is taken from the top of the stack).       *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    This routine is the `beef' of this component.  It is  _the_ inner  *\/\n-  \/*    loop that should be optimized to hell to get the best performance. *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   Split_Conic\n+   *\n+   * @Description:\n+   *   Subdivide one conic Bezier into two joint sub-arcs in the Bezier\n+   *   stack.\n+   *\n+   * @Input:\n+   *   None (subdivided Bezier is taken from the top of the stack).\n+   *\n+   * @Note:\n+   *   This routine is the `beef' of this component.  It is  _the_ inner\n+   *   loop that should be optimized to hell to get the best performance.\n+   *\/\n@@ -936,14 +933,14 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    Split_Cubic                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Subdivide a third-order Bezier arc into two joint sub-arcs in the  *\/\n-  \/*    Bezier stack.                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    This routine is the `beef' of the component.  It is one of _the_   *\/\n-  \/*    inner loops that should be optimized like hell to get the best     *\/\n-  \/*    performance.                                                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   Split_Cubic\n+   *\n+   * @Description:\n+   *   Subdivide a third-order Bezier arc into two joint sub-arcs in the\n+   *   Bezier stack.\n+   *\n+   * @Note:\n+   *   This routine is the `beef' of the component.  It is one of _the_\n+   *   inner loops that should be optimized like hell to get the best\n+   *   performance.\n+   *\/\n@@ -978,25 +975,31 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    Line_Up                                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Compute the x-coordinates of an ascending line segment and store   *\/\n-  \/*    them in the render pool.                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    x1   :: The x-coordinate of the segment's start point.             *\/\n-  \/*                                                                       *\/\n-  \/*    y1   :: The y-coordinate of the segment's start point.             *\/\n-  \/*                                                                       *\/\n-  \/*    x2   :: The x-coordinate of the segment's end point.               *\/\n-  \/*                                                                       *\/\n-  \/*    y2   :: The y-coordinate of the segment's end point.               *\/\n-  \/*                                                                       *\/\n-  \/*    miny :: A lower vertical clipping bound value.                     *\/\n-  \/*                                                                       *\/\n-  \/*    maxy :: An upper vertical clipping bound value.                    *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    SUCCESS on success, FAILURE on render pool overflow.               *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   Line_Up\n+   *\n+   * @Description:\n+   *   Compute the x-coordinates of an ascending line segment and store\n+   *   them in the render pool.\n+   *\n+   * @Input:\n+   *   x1 ::\n+   *     The x-coordinate of the segment's start point.\n+   *\n+   *   y1 ::\n+   *     The y-coordinate of the segment's start point.\n+   *\n+   *   x2 ::\n+   *     The x-coordinate of the segment's end point.\n+   *\n+   *   y2 ::\n+   *     The y-coordinate of the segment's end point.\n+   *\n+   *   miny ::\n+   *     A lower vertical clipping bound value.\n+   *\n+   *   maxy ::\n+   *     An upper vertical clipping bound value.\n+   *\n+   * @Return:\n+   *   SUCCESS on success, FAILURE on render pool overflow.\n+   *\/\n@@ -1117,25 +1120,31 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    Line_Down                                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Compute the x-coordinates of an descending line segment and store  *\/\n-  \/*    them in the render pool.                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    x1   :: The x-coordinate of the segment's start point.             *\/\n-  \/*                                                                       *\/\n-  \/*    y1   :: The y-coordinate of the segment's start point.             *\/\n-  \/*                                                                       *\/\n-  \/*    x2   :: The x-coordinate of the segment's end point.               *\/\n-  \/*                                                                       *\/\n-  \/*    y2   :: The y-coordinate of the segment's end point.               *\/\n-  \/*                                                                       *\/\n-  \/*    miny :: A lower vertical clipping bound value.                     *\/\n-  \/*                                                                       *\/\n-  \/*    maxy :: An upper vertical clipping bound value.                    *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    SUCCESS on success, FAILURE on render pool overflow.               *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   Line_Down\n+   *\n+   * @Description:\n+   *   Compute the x-coordinates of an descending line segment and store\n+   *   them in the render pool.\n+   *\n+   * @Input:\n+   *   x1 ::\n+   *     The x-coordinate of the segment's start point.\n+   *\n+   *   y1 ::\n+   *     The y-coordinate of the segment's start point.\n+   *\n+   *   x2 ::\n+   *     The x-coordinate of the segment's end point.\n+   *\n+   *   y2 ::\n+   *     The y-coordinate of the segment's end point.\n+   *\n+   *   miny ::\n+   *     A lower vertical clipping bound value.\n+   *\n+   *   maxy ::\n+   *     An upper vertical clipping bound value.\n+   *\n+   * @Return:\n+   *   SUCCESS on success, FAILURE on render pool overflow.\n+   *\/\n@@ -1168,21 +1177,25 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    Bezier_Up                                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Compute the x-coordinates of an ascending Bezier arc and store     *\/\n-  \/*    them in the render pool.                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    degree   :: The degree of the Bezier arc (either 2 or 3).          *\/\n-  \/*                                                                       *\/\n-  \/*    splitter :: The function to split Bezier arcs.                     *\/\n-  \/*                                                                       *\/\n-  \/*    miny     :: A lower vertical clipping bound value.                 *\/\n-  \/*                                                                       *\/\n-  \/*    maxy     :: An upper vertical clipping bound value.                *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    SUCCESS on success, FAILURE on render pool overflow.               *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   Bezier_Up\n+   *\n+   * @Description:\n+   *   Compute the x-coordinates of an ascending Bezier arc and store\n+   *   them in the render pool.\n+   *\n+   * @Input:\n+   *   degree ::\n+   *     The degree of the Bezier arc (either 2 or 3).\n+   *\n+   *   splitter ::\n+   *     The function to split Bezier arcs.\n+   *\n+   *   miny ::\n+   *     A lower vertical clipping bound value.\n+   *\n+   *   maxy ::\n+   *     An upper vertical clipping bound value.\n+   *\n+   * @Return:\n+   *   SUCCESS on success, FAILURE on render pool overflow.\n+   *\/\n@@ -1301,21 +1314,25 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    Bezier_Down                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Compute the x-coordinates of an descending Bezier arc and store    *\/\n-  \/*    them in the render pool.                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    degree   :: The degree of the Bezier arc (either 2 or 3).          *\/\n-  \/*                                                                       *\/\n-  \/*    splitter :: The function to split Bezier arcs.                     *\/\n-  \/*                                                                       *\/\n-  \/*    miny     :: A lower vertical clipping bound value.                 *\/\n-  \/*                                                                       *\/\n-  \/*    maxy     :: An upper vertical clipping bound value.                *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    SUCCESS on success, FAILURE on render pool overflow.               *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   Bezier_Down\n+   *\n+   * @Description:\n+   *   Compute the x-coordinates of an descending Bezier arc and store\n+   *   them in the render pool.\n+   *\n+   * @Input:\n+   *   degree ::\n+   *     The degree of the Bezier arc (either 2 or 3).\n+   *\n+   *   splitter ::\n+   *     The function to split Bezier arcs.\n+   *\n+   *   miny ::\n+   *     A lower vertical clipping bound value.\n+   *\n+   *   maxy ::\n+   *     An upper vertical clipping bound value.\n+   *\n+   * @Return:\n+   *   SUCCESS on success, FAILURE on render pool overflow.\n+   *\/\n@@ -1350,19 +1367,21 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    Line_To                                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Inject a new line segment and adjust the Profiles list.            *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*   x :: The x-coordinate of the segment's end point (its start point   *\/\n-  \/*        is stored in `lastX').                                         *\/\n-  \/*                                                                       *\/\n-  \/*   y :: The y-coordinate of the segment's end point (its start point   *\/\n-  \/*        is stored in `lastY').                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*   SUCCESS on success, FAILURE on render pool overflow or incorrect    *\/\n-  \/*   profile.                                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   Line_To\n+   *\n+   * @Description:\n+   *   Inject a new line segment and adjust the Profiles list.\n+   *\n+   * @Input:\n+   *  x ::\n+   *    The x-coordinate of the segment's end point (its start point\n+   *    is stored in `lastX').\n+   *\n+   *  y ::\n+   *    The y-coordinate of the segment's end point (its start point\n+   *    is stored in `lastY').\n+   *\n+   * @Return:\n+   *  SUCCESS on success, FAILURE on render pool overflow or incorrect\n+   *  profile.\n+   *\/\n@@ -1444,23 +1463,27 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    Conic_To                                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Inject a new conic arc and adjust the profile list.                *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*   cx :: The x-coordinate of the arc's new control point.              *\/\n-  \/*                                                                       *\/\n-  \/*   cy :: The y-coordinate of the arc's new control point.              *\/\n-  \/*                                                                       *\/\n-  \/*   x  :: The x-coordinate of the arc's end point (its start point is   *\/\n-  \/*         stored in `lastX').                                           *\/\n-  \/*                                                                       *\/\n-  \/*   y  :: The y-coordinate of the arc's end point (its start point is   *\/\n-  \/*         stored in `lastY').                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*   SUCCESS on success, FAILURE on render pool overflow or incorrect    *\/\n-  \/*   profile.                                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   Conic_To\n+   *\n+   * @Description:\n+   *   Inject a new conic arc and adjust the profile list.\n+   *\n+   * @Input:\n+   *  cx ::\n+   *    The x-coordinate of the arc's new control point.\n+   *\n+   *  cy ::\n+   *    The y-coordinate of the arc's new control point.\n+   *\n+   *  x ::\n+   *    The x-coordinate of the arc's end point (its start point is\n+   *    stored in `lastX').\n+   *\n+   *  y ::\n+   *    The y-coordinate of the arc's end point (its start point is\n+   *    stored in `lastY').\n+   *\n+   * @Return:\n+   *  SUCCESS on success, FAILURE on render pool overflow or incorrect\n+   *  profile.\n+   *\/\n@@ -1561,27 +1584,33 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    Cubic_To                                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Inject a new cubic arc and adjust the profile list.                *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*   cx1 :: The x-coordinate of the arc's first new control point.       *\/\n-  \/*                                                                       *\/\n-  \/*   cy1 :: The y-coordinate of the arc's first new control point.       *\/\n-  \/*                                                                       *\/\n-  \/*   cx2 :: The x-coordinate of the arc's second new control point.      *\/\n-  \/*                                                                       *\/\n-  \/*   cy2 :: The y-coordinate of the arc's second new control point.      *\/\n-  \/*                                                                       *\/\n-  \/*   x   :: The x-coordinate of the arc's end point (its start point is  *\/\n-  \/*          stored in `lastX').                                          *\/\n-  \/*                                                                       *\/\n-  \/*   y   :: The y-coordinate of the arc's end point (its start point is  *\/\n-  \/*          stored in `lastY').                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*   SUCCESS on success, FAILURE on render pool overflow or incorrect    *\/\n-  \/*   profile.                                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   Cubic_To\n+   *\n+   * @Description:\n+   *   Inject a new cubic arc and adjust the profile list.\n+   *\n+   * @Input:\n+   *  cx1 ::\n+   *    The x-coordinate of the arc's first new control point.\n+   *\n+   *  cy1 ::\n+   *    The y-coordinate of the arc's first new control point.\n+   *\n+   *  cx2 ::\n+   *    The x-coordinate of the arc's second new control point.\n+   *\n+   *  cy2 ::\n+   *    The y-coordinate of the arc's second new control point.\n+   *\n+   *  x ::\n+   *    The x-coordinate of the arc's end point (its start point is\n+   *    stored in `lastX').\n+   *\n+   *  y ::\n+   *    The y-coordinate of the arc's end point (its start point is\n+   *    stored in `lastY').\n+   *\n+   * @Return:\n+   *  SUCCESS on success, FAILURE on render pool overflow or incorrect\n+   *  profile.\n+   *\/\n@@ -1708,21 +1737,24 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    Decompose_Curve                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Scan the outline arrays in order to emit individual segments and   *\/\n-  \/*    Beziers by calling Line_To() and Bezier_To().  It handles all      *\/\n-  \/*    weird cases, like when the first point is off the curve, or when   *\/\n-  \/*    there are simply no `on' points in the contour!                    *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    first   :: The index of the first point in the contour.            *\/\n-  \/*                                                                       *\/\n-  \/*    last    :: The index of the last point in the contour.             *\/\n-  \/*                                                                       *\/\n-  \/*    flipped :: If set, flip the direction of the curve.                *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    SUCCESS on success, FAILURE on error.                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   Decompose_Curve\n+   *\n+   * @Description:\n+   *   Scan the outline arrays in order to emit individual segments and\n+   *   Beziers by calling Line_To() and Bezier_To().  It handles all\n+   *   weird cases, like when the first point is off the curve, or when\n+   *   there are simply no `on' points in the contour!\n+   *\n+   * @Input:\n+   *   first ::\n+   *     The index of the first point in the contour.\n+   *\n+   *   last ::\n+   *     The index of the last point in the contour.\n+   *\n+   *   flipped ::\n+   *     If set, flip the direction of the curve.\n+   *\n+   * @Return:\n+   *   SUCCESS on success, FAILURE on error.\n+   *\/\n@@ -1937,16 +1969,17 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    Convert_Glyph                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Convert a glyph into a series of segments and arcs and make a      *\/\n-  \/*    profiles list with them.                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    flipped :: If set, flip the direction of curve.                    *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    SUCCESS on success, FAILURE if any error was encountered during    *\/\n-  \/*    rendering.                                                         *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   Convert_Glyph\n+   *\n+   * @Description:\n+   *   Convert a glyph into a series of segments and arcs and make a\n+   *   profiles list with them.\n+   *\n+   * @Input:\n+   *   flipped ::\n+   *     If set, flip the direction of curve.\n+   *\n+   * @Return:\n+   *   SUCCESS on success, FAILURE if any error was encountered during\n+   *   rendering.\n+   *\/\n@@ -2031,6 +2064,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*  Init_Linked                                                          *\/\n-  \/*                                                                       *\/\n-  \/*    Initializes an empty linked list.                                  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Init_Linked\n+   *\n+   *   Initializes an empty linked list.\n+   *\/\n@@ -2044,6 +2077,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*  InsNew                                                               *\/\n-  \/*                                                                       *\/\n-  \/*    Inserts a new profile in a linked list.                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * InsNew\n+   *\n+   *   Inserts a new profile in a linked list.\n+   *\/\n@@ -2075,6 +2108,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*  DelOld                                                               *\/\n-  \/*                                                                       *\/\n-  \/*    Removes an old profile from a linked list.                         *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * DelOld\n+   *\n+   *   Removes an old profile from a linked list.\n+   *\/\n@@ -2108,8 +2141,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*  Sort                                                                 *\/\n-  \/*                                                                       *\/\n-  \/*    Sorts a trace list.  In 95%, the list is already sorted.  We need  *\/\n-  \/*    an algorithm which is fast in this case.  Bubble sort is enough    *\/\n-  \/*    and simple.                                                        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Sort\n+   *\n+   *   Sorts a trace list.  In 95%, the list is already sorted.  We need\n+   *   an algorithm which is fast in this case.  Bubble sort is enough\n+   *   and simple.\n+   *\/\n@@ -2166,8 +2199,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*  Vertical Sweep Procedure Set                                         *\/\n-  \/*                                                                       *\/\n-  \/*  These four routines are used during the vertical black\/white sweep   *\/\n-  \/*  phase by the generic Draw_Sweep() function.                          *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * Vertical Sweep Procedure Set\n+   *\n+   * These four routines are used during the vertical black\/white sweep\n+   * phase by the generic Draw_Sweep() function.\n+   *\n+   *\/\n@@ -2186,2 +2219,0 @@\n-    if ( pitch > 0 )\n-      ras.traceOfs += (Long)( ras.target.rows - 1 ) * pitch;\n@@ -2218,1 +2249,2 @@\n-    e1 = TRUNC( CEILING( x1 ) );\n+    e1 = CEILING( x1 );\n+    e2 = FLOOR( x2 );\n@@ -2220,0 +2252,2 @@\n+    \/* take care of the special case where both the left *\/\n+    \/* and right contour lie exactly on pixel centers    *\/\n@@ -2221,1 +2255,2 @@\n-         x2 - x1 - ras.precision <= ras.precision_jitter )\n+         x2 - x1 - ras.precision <= ras.precision_jitter &&\n+         e1 != x1 && e2 != x2                            )\n@@ -2223,2 +2258,3 @@\n-    else\n-      e2 = TRUNC( FLOOR( x2 ) );\n+\n+    e1 = TRUNC( e1 );\n+    e2 = TRUNC( e2 );\n@@ -2245,1 +2281,1 @@\n-      target = ras.bTarget + ras.traceOfs + c1;\n+      target = ras.bOrigin + ras.traceOfs + c1;\n@@ -2255,3 +2291,1 @@\n-        c2--;\n-        while ( c2 > 0 )\n-        {\n+        while ( --c2 > 0 )\n@@ -2259,2 +2293,1 @@\n-          c2--;\n-        }\n+\n@@ -2403,1 +2436,1 @@\n-             ras.bTarget[ras.traceOfs + c1] & ( 0x80 >> f1 ) )\n+             ras.bOrigin[ras.traceOfs + c1] & ( 0x80 >> f1 ) )\n@@ -2419,1 +2452,1 @@\n-      ras.bTarget[ras.traceOfs + c1] |= (char)( 0x80 >> f1 );\n+      ras.bOrigin[ras.traceOfs + c1] |= (char)( 0x80 >> f1 );\n@@ -2434,8 +2467,8 @@\n-  \/***********************************************************************\/\n-  \/*                                                                     *\/\n-  \/*  Horizontal Sweep Procedure Set                                     *\/\n-  \/*                                                                     *\/\n-  \/*  These four routines are used during the horizontal black\/white     *\/\n-  \/*  sweep phase by the generic Draw_Sweep() function.                  *\/\n-  \/*                                                                     *\/\n-  \/***********************************************************************\/\n+  \/************************************************************************\n+   *\n+   * Horizontal Sweep Procedure Set\n+   *\n+   * These four routines are used during the horizontal black\/white\n+   * sweep phase by the generic Draw_Sweep() function.\n+   *\n+   *\/\n@@ -2486,1 +2519,0 @@\n-          PByte  p;\n@@ -2491,1 +2523,1 @@\n-          bits = ras.bTarget + ( y >> 3 );\n+          bits = ras.bOrigin + ( y >> 3 ) - e1 * ras.target.pitch;\n@@ -2493,1 +2525,0 @@\n-          p    = bits - e1 * ras.target.pitch;\n@@ -2495,4 +2526,1 @@\n-          if ( ras.target.pitch > 0 )\n-            p += (Long)( ras.target.rows - 1 ) * ras.target.pitch;\n-\n-          p[0] |= f1;\n+          bits[0] |= f1;\n@@ -2600,1 +2628,1 @@\n-        bits = ras.bTarget + ( y >> 3 );\n+        bits = ras.bOrigin + ( y >> 3 ) - e1 * ras.target.pitch;\n@@ -2603,4 +2631,0 @@\n-        bits -= e1 * ras.target.pitch;\n-        if ( ras.target.pitch > 0 )\n-          bits += (Long)( ras.target.rows - 1 ) * ras.target.pitch;\n-\n@@ -2622,1 +2646,1 @@\n-      bits  = ras.bTarget + ( y >> 3 );\n+      bits  = ras.bOrigin + ( y >> 3 ) - e1 * ras.target.pitch;\n@@ -2624,4 +2648,0 @@\n-      bits -= e1 * ras.target.pitch;\n-\n-      if ( ras.target.pitch > 0 )\n-        bits += (Long)( ras.target.rows - 1 ) * ras.target.pitch;\n@@ -2645,5 +2665,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*  Generic Sweep Drawing routine                                        *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * Generic Sweep Drawing routine\n+   *\n+   *\/\n@@ -2891,14 +2911,103 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    Render_Single_Pass                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Perform one sweep with sub-banding.                                *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    flipped :: If set, flip the direction of the outline.              *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    Renderer error code.                                               *\/\n-  \/*                                                                       *\/\n+#ifdef STANDALONE_\n+\n+  \/**************************************************************************\n+   *\n+   * The following functions should only compile in stand-alone mode,\n+   * i.e., when building this component without the rest of FreeType.\n+   *\n+   *\/\n+\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   FT_Outline_Get_CBox\n+   *\n+   * @Description:\n+   *   Return an outline's `control box'.  The control box encloses all\n+   *   the outline's points, including Bzier control points.  Though it\n+   *   coincides with the exact bounding box for most glyphs, it can be\n+   *   slightly larger in some situations (like when rotating an outline\n+   *   that contains Bzier outside arcs).\n+   *\n+   *   Computing the control box is very fast, while getting the bounding\n+   *   box can take much more time as it needs to walk over all segments\n+   *   and arcs in the outline.  To get the latter, you can use the\n+   *   `ftbbox' component, which is dedicated to this single task.\n+   *\n+   * @Input:\n+   *   outline ::\n+   *     A pointer to the source outline descriptor.\n+   *\n+   * @Output:\n+   *   acbox ::\n+   *     The outline's control box.\n+   *\n+   * @Note:\n+   *   See @FT_Glyph_Get_CBox for a discussion of tricky fonts.\n+   *\/\n+\n+  static void\n+  FT_Outline_Get_CBox( const FT_Outline*  outline,\n+                       FT_BBox           *acbox )\n+  {\n+    Long  xMin, yMin, xMax, yMax;\n+\n+\n+    if ( outline && acbox )\n+    {\n+      if ( outline->n_points == 0 )\n+      {\n+        xMin = 0;\n+        yMin = 0;\n+        xMax = 0;\n+        yMax = 0;\n+      }\n+      else\n+      {\n+        FT_Vector*  vec   = outline->points;\n+        FT_Vector*  limit = vec + outline->n_points;\n+\n+\n+        xMin = xMax = vec->x;\n+        yMin = yMax = vec->y;\n+        vec++;\n+\n+        for ( ; vec < limit; vec++ )\n+        {\n+          Long  x, y;\n+\n+\n+          x = vec->x;\n+          if ( x < xMin ) xMin = x;\n+          if ( x > xMax ) xMax = x;\n+\n+          y = vec->y;\n+          if ( y < yMin ) yMin = y;\n+          if ( y > yMax ) yMax = y;\n+        }\n+      }\n+      acbox->xMin = xMin;\n+      acbox->xMax = xMax;\n+      acbox->yMin = yMin;\n+      acbox->yMax = yMax;\n+    }\n+  }\n+\n+#endif \/* STANDALONE_ *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   Render_Single_Pass\n+   *\n+   * @Description:\n+   *   Perform one sweep with sub-banding.\n+   *\n+   * @Input:\n+   *   flipped ::\n+   *     If set, flip the direction of the outline.\n+   *\n+   * @Return:\n+   *   Renderer error code.\n+   *\/\n@@ -2966,11 +3075,11 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    Render_Glyph                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Render a glyph in a bitmap.  Sub-banding if needed.                *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   Render_Glyph\n+   *\n+   * @Description:\n+   *   Render a glyph in a bitmap.  Sub-banding if needed.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -2985,1 +3094,0 @@\n-    ras.scale_shift = ras.precision_shift;\n@@ -3016,1 +3124,4 @@\n-    ras.bTarget = (Byte*)ras.target.buffer;\n+    ras.bOrigin = (Byte*)ras.target.buffer;\n+\n+    if ( ras.target.pitch > 0 )\n+      ras.bOrigin += (Long)( ras.target.rows - 1 ) * ras.target.pitch;\n@@ -3188,14 +3299,0 @@\n-    \/* reject too large outline coordinates *\/\n-    {\n-      FT_Vector*  vec   = outline->points;\n-      FT_Vector*  limit = vec + outline->n_points;\n-\n-\n-      for ( ; vec < limit; vec++ )\n-      {\n-        if ( vec->x < -0x1000000L || vec->x > 0x1000000L ||\n-             vec->y < -0x1000000L || vec->y > 0x1000000L )\n-         return FT_THROW( Invalid );\n-      }\n-    }\n-\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/raster\/ftraster.c","additions":655,"deletions":558,"binary":false,"changes":1213,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftraster.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    The FreeType glyph rasterizer (specification).                       *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used        *\/\n-\/*  modified and distributed under the terms of the FreeType project       *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftraster.h\n+ *\n+ *   The FreeType glyph rasterizer (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used\n+ * modified and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -31,5 +31,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Uncomment the following line if you are using ftraster.c as a         *\/\n-  \/* standalone module, fully independent of FreeType.                     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Uncomment the following line if you are using ftraster.c as a\n+   * standalone module, fully independent of FreeType.\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/raster\/ftraster.h","additions":21,"deletions":21,"binary":false,"changes":42,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftrend1.c                                                              *\/\n-\/*                                                                         *\/\n-\/*    The FreeType glyph rasterizer interface (body).                      *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftrend1.c\n+ *\n+ *   The FreeType glyph rasterizer interface (body).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -25,1 +25,0 @@\n-#include \"rastpic.h\"\n@@ -131,1 +130,5 @@\n-    ft_glyphslot_preset_bitmap( slot, mode, origin );\n+    if ( ft_glyphslot_preset_bitmap( slot, mode, origin ) )\n+    {\n+      error = FT_THROW( Raster_Overflow );\n+      goto Exit;\n+    }\n@@ -200,1 +203,1 @@\n-    (FT_Raster_Funcs*)&FT_STANDARD_RASTER_GET         \/* raster_class    *\/\n+    (FT_Raster_Funcs*)&ft_standard_raster             \/* raster_class    *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/raster\/ftrend1.c","additions":22,"deletions":19,"binary":false,"changes":41,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftrend1.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    The FreeType glyph rasterizer interface (specification).             *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftrend1.h\n+ *\n+ *   The FreeType glyph rasterizer interface (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/raster\/ftrend1.h","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,24 +1,24 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  rasterrs.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    monochrome renderer error codes (specification only).                *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2001-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* This file is used to define the monochrome renderer error enumeration *\/\n-  \/* constants.                                                            *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * rasterrs.h\n+ *\n+ *   monochrome renderer error codes (specification only).\n+ *\n+ * Copyright (C) 2001-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * This file is used to define the monochrome renderer error enumeration\n+   * constants.\n+   *\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/raster\/rasterrs.h","additions":24,"deletions":24,"binary":false,"changes":48,"status":"modified"},{"patch":"@@ -1,89 +0,0 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  rastpic.c                                                              *\/\n-\/*                                                                         *\/\n-\/*    The FreeType position independent code services for raster module.   *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2009-2018 by                                                 *\/\n-\/*  Oran Agra and Mickey Gabel.                                            *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-#include <ft2build.h>\n-#include FT_FREETYPE_H\n-#include FT_INTERNAL_OBJECTS_H\n-#include \"rastpic.h\"\n-#include \"rasterrs.h\"\n-\n-\n-#ifdef FT_CONFIG_OPTION_PIC\n-\n-  \/* forward declaration of PIC init functions from ftraster.c *\/\n-  void\n-  FT_Init_Class_ft_standard_raster( FT_Raster_Funcs*  funcs );\n-\n-\n-  void\n-  ft_raster1_renderer_class_pic_free( FT_Library  library )\n-  {\n-    FT_PIC_Container*  pic_container = &library->pic_container;\n-    FT_Memory          memory        = library->memory;\n-\n-\n-    if ( pic_container->raster )\n-    {\n-      RasterPIC*  container = (RasterPIC*)pic_container->raster;\n-\n-\n-      if ( --container->ref_count )\n-        return;\n-      FT_FREE( container );\n-      pic_container->raster = NULL;\n-    }\n-  }\n-\n-\n-  FT_Error\n-  ft_raster1_renderer_class_pic_init( FT_Library  library )\n-  {\n-    FT_PIC_Container*  pic_container = &library->pic_container;\n-    FT_Error           error         = FT_Err_Ok;\n-    RasterPIC*         container     = NULL;\n-    FT_Memory          memory        = library->memory;\n-\n-\n-    \/* XXX: since this function also served the no longer available  *\/\n-    \/*      raster5 renderer it uses reference counting, which could *\/\n-    \/*      be removed now                                           *\/\n-    if ( pic_container->raster )\n-    {\n-      ((RasterPIC*)pic_container->raster)->ref_count++;\n-      return error;\n-    }\n-\n-    \/* allocate pointer, clear and set global container pointer *\/\n-    if ( FT_ALLOC( container, sizeof ( *container ) ) )\n-      return error;\n-    FT_MEM_SET( container, 0, sizeof ( *container ) );\n-    pic_container->raster = container;\n-\n-    container->ref_count = 1;\n-\n-    \/* initialize pointer table -                       *\/\n-    \/* this is how the module usually expects this data *\/\n-    FT_Init_Class_ft_standard_raster( &container->ft_standard_raster );\n-\n-    return error;\n-  }\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n-\n-\/* END *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/raster\/rastpic.c","additions":0,"deletions":89,"binary":false,"changes":89,"status":"deleted"},{"patch":"@@ -1,63 +0,0 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  rastpic.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    The FreeType position independent code services for raster module.   *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2009-2018 by                                                 *\/\n-\/*  Oran Agra and Mickey Gabel.                                            *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-#ifndef RASTPIC_H_\n-#define RASTPIC_H_\n-\n-\n-#include FT_INTERNAL_PIC_H\n-\n-\n-FT_BEGIN_HEADER\n-\n-#ifndef FT_CONFIG_OPTION_PIC\n-\n-#define FT_STANDARD_RASTER_GET  ft_standard_raster\n-\n-#else \/* FT_CONFIG_OPTION_PIC *\/\n-\n-  typedef struct  RasterPIC_\n-  {\n-    int              ref_count;\n-    FT_Raster_Funcs  ft_standard_raster;\n-\n-  } RasterPIC;\n-\n-\n-#define GET_PIC( lib )                                    \\\n-          ( (RasterPIC*)( (lib)->pic_container.raster ) )\n-#define FT_STANDARD_RASTER_GET  ( GET_PIC( library )->ft_standard_raster )\n-\n-\n-  \/* see rastpic.c for the implementation *\/\n-  void\n-  ft_raster1_renderer_class_pic_free( FT_Library  library );\n-\n-  FT_Error\n-  ft_raster1_renderer_class_pic_init( FT_Library  library );\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n- \/* *\/\n-\n-FT_END_HEADER\n-\n-#endif \/* RASTPIC_H_ *\/\n-\n-\n-\/* END *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/raster\/rastpic.h","additions":0,"deletions":63,"binary":false,"changes":63,"status":"deleted"},{"patch":"@@ -1,17 +1,17 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  pngshim.c                                                              *\/\n-\/*                                                                         *\/\n-\/*    PNG Bitmap glyph support.                                            *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2013-2018 by                                                 *\/\n-\/*  Google, Inc.                                                           *\/\n-\/*  Written by Stuart Gill and Behdad Esfahbod.                            *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * pngshim.c\n+ *\n+ *   PNG Bitmap glyph support.\n+ *\n+ * Copyright (C) 2013-2019 by\n+ * Google, Inc.\n+ * Written by Stuart Gill and Behdad Esfahbod.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/sfnt\/pngshim.c","additions":17,"deletions":17,"binary":false,"changes":34,"status":"modified"},{"patch":"@@ -1,17 +1,17 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  pngshim.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    PNG Bitmap glyph support.                                            *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2013-2018 by                                                 *\/\n-\/*  Google, Inc.                                                           *\/\n-\/*  Written by Stuart Gill and Behdad Esfahbod.                            *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * pngshim.h\n+ *\n+ *   PNG Bitmap glyph support.\n+ *\n+ * Copyright (C) 2013-2019 by\n+ * Google, Inc.\n+ * Written by Stuart Gill and Behdad Esfahbod.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/sfnt\/pngshim.h","additions":17,"deletions":17,"binary":false,"changes":34,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  sfdriver.c                                                             *\/\n-\/*                                                                         *\/\n-\/*    High-level SFNT driver interface (body).                             *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * sfdriver.c\n+ *\n+ *   High-level SFNT driver interface (body).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -28,1 +28,0 @@\n-#include \"sfntpic.h\"\n@@ -36,0 +35,5 @@\n+#ifdef TT_CONFIG_OPTION_COLOR_LAYERS\n+#include \"ttcolr.h\"\n+#include \"ttcpal.h\"\n+#endif\n+\n@@ -60,6 +64,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -67,1 +71,1 @@\n-#define FT_COMPONENT  trace_sfdriver\n+#define FT_COMPONENT  sfdriver\n@@ -71,1 +75,1 @@\n-   *  SFNT TABLE SERVICE\n+   * SFNT TABLE SERVICE\n@@ -158,1 +162,1 @@\n-   *  GLYPH DICT SERVICE\n+   * GLYPH DICT SERVICE\n@@ -225,1 +229,1 @@\n-   *  POSTSCRIPT NAME SERVICE\n+   * POSTSCRIPT NAME SERVICE\n@@ -463,1 +467,1 @@\n-  \/* handling of PID\/EID 3\/0 and 3\/1 is the same *\/\n+  \/* Handling of PID\/EID 3\/0 and 3\/1 is the same. *\/\n@@ -465,2 +469,1 @@\n-                       ( (n)->encodingID == 1 || (n)->encodingID == 0 ) && \\\n-                       (n)->languageID == 0x409                         )\n+                       ( (n)->encodingID == 1 || (n)->encodingID == 0 ) )\n@@ -469,2 +472,1 @@\n-                         (n)->encodingID == 0 && \\\n-                         (n)->languageID == 0 )\n+                         (n)->encodingID == 0 )\n@@ -494,8 +496,1 @@\n-    {\n-      FT_FREE( result );\n-      entry->stringLength = 0;\n-      entry->stringOffset = 0;\n-      FT_FREE( entry->string );\n-\n-      return NULL;\n-    }\n+      goto get_win_string_error;\n@@ -508,1 +503,3 @@\n-      if ( p[0] == 0 )\n+      if ( p[0] == 0 && char_type( p[1] ) )\n+        *r++ = p[1];\n+      else\n@@ -510,13 +507,5 @@\n-        if ( char_type( p[1] ) )\n-          *r++ = p[1];\n-        else\n-        {\n-          if ( report_invalid_characters )\n-          {\n-            FT_TRACE0(( \"get_win_string:\"\n-                        \" Character `%c' (0x%X) invalid in PS name string\\n\",\n-                        p[1], p[1] ));\n-            \/* it's not the job of FreeType to correct PS names... *\/\n-            *r++ = p[1];\n-          }\n-        }\n+        if ( report_invalid_characters )\n+          FT_TRACE0(( \"get_win_string:\"\n+                      \" Character 0x%X invalid in PS name string\\n\",\n+                      ((unsigned)p[0])*256 + (unsigned)p[1] ));\n+        break;\n@@ -525,1 +514,2 @@\n-    *r = '\\0';\n+    if ( !len )\n+      *r = '\\0';\n@@ -529,1 +519,11 @@\n-    return result;\n+    if ( !len )\n+      return result;\n+\n+  get_win_string_error:\n+    FT_FREE( result );\n+\n+    entry->stringLength = 0;\n+    entry->stringOffset = 0;\n+    FT_FREE( entry->string );\n+\n+    return NULL;\n@@ -555,8 +555,1 @@\n-    {\n-      FT_FREE( result );\n-      entry->stringOffset = 0;\n-      entry->stringLength = 0;\n-      FT_FREE( entry->string );\n-\n-      return NULL;\n-    }\n+      goto get_apple_string_error;\n@@ -574,1 +567,0 @@\n-        {\n@@ -578,3 +570,1 @@\n-          \/* it's not the job of FreeType to correct PS names... *\/\n-          *r++ = *p;\n-        }\n+        break;\n@@ -583,1 +573,2 @@\n-    *r = '\\0';\n+    if ( !len )\n+      *r = '\\0';\n@@ -587,1 +578,11 @@\n-    return result;\n+    if ( !len )\n+      return result;\n+\n+  get_apple_string_error:\n+    FT_FREE( result );\n+\n+    entry->stringOffset = 0;\n+    entry->stringLength = 0;\n+    FT_FREE( entry->string );\n+\n+    return NULL;\n@@ -610,1 +611,1 @@\n-        if ( IS_WIN( name ) )\n+        if ( IS_WIN( name ) && ( name->languageID == 0x409 || *win == -1 ) )\n@@ -613,1 +614,1 @@\n-        if ( IS_APPLE( name ) )\n+        if ( IS_APPLE( name ) && ( name->languageID == 0 || *apple == -1 ) )\n@@ -646,3 +647,3 @@\n-   *  Find the shortest decimal representation of a 16.16 fixed point\n-   *  number.  The function fills `buf' with the result, returning a pointer\n-   *  to the position after the representation's last byte.\n+   * Find the shortest decimal representation of a 16.16 fixed point\n+   * number.  The function fills `buf' with the result, returning a pointer\n+   * to the position after the representation's last byte.\n@@ -676,1 +677,1 @@\n-      fixed = -fixed;\n+      fixed = NEG_INT( fixed );\n@@ -831,1 +832,1 @@\n-      else\n+      if ( !result && apple != -1 )\n@@ -838,0 +839,7 @@\n+      if ( !result )\n+      {\n+        FT_TRACE0(( \"sfnt_get_var_ps_name:\"\n+                    \" No valid PS name prefix for font instances found\\n\" ));\n+        return NULL;\n+      }\n+\n@@ -1055,1 +1063,1 @@\n-    else\n+    if ( !result && apple != -1 )\n@@ -1076,1 +1084,1 @@\n-   *  TT CMAP INFO\n+   * TT CMAP INFO\n@@ -1135,1 +1143,1 @@\n-   *  SERVICE LIST\n+   * SERVICE LIST\n@@ -1142,5 +1150,5 @@\n-    FT_SERVICE_ID_SFNT_TABLE,           &SFNT_SERVICE_SFNT_TABLE_GET,\n-    FT_SERVICE_ID_POSTSCRIPT_FONT_NAME, &SFNT_SERVICE_PS_NAME_GET,\n-    FT_SERVICE_ID_GLYPH_DICT,           &SFNT_SERVICE_GLYPH_DICT_GET,\n-    FT_SERVICE_ID_BDF,                  &SFNT_SERVICE_BDF_GET,\n-    FT_SERVICE_ID_TT_CMAP,              &TT_SERVICE_CMAP_INFO_GET )\n+    FT_SERVICE_ID_SFNT_TABLE,           &sfnt_service_sfnt_table,\n+    FT_SERVICE_ID_POSTSCRIPT_FONT_NAME, &sfnt_service_ps_name,\n+    FT_SERVICE_ID_GLYPH_DICT,           &sfnt_service_glyph_dict,\n+    FT_SERVICE_ID_BDF,                  &sfnt_service_bdf,\n+    FT_SERVICE_ID_TT_CMAP,              &tt_service_get_cmap_info )\n@@ -1151,4 +1159,4 @@\n-    FT_SERVICE_ID_SFNT_TABLE,           &SFNT_SERVICE_SFNT_TABLE_GET,\n-    FT_SERVICE_ID_POSTSCRIPT_FONT_NAME, &SFNT_SERVICE_PS_NAME_GET,\n-    FT_SERVICE_ID_GLYPH_DICT,           &SFNT_SERVICE_GLYPH_DICT_GET,\n-    FT_SERVICE_ID_TT_CMAP,              &TT_SERVICE_CMAP_INFO_GET )\n+    FT_SERVICE_ID_SFNT_TABLE,           &sfnt_service_sfnt_table,\n+    FT_SERVICE_ID_POSTSCRIPT_FONT_NAME, &sfnt_service_ps_name,\n+    FT_SERVICE_ID_GLYPH_DICT,           &sfnt_service_glyph_dict,\n+    FT_SERVICE_ID_TT_CMAP,              &tt_service_get_cmap_info )\n@@ -1159,4 +1167,4 @@\n-    FT_SERVICE_ID_SFNT_TABLE,           &SFNT_SERVICE_SFNT_TABLE_GET,\n-    FT_SERVICE_ID_POSTSCRIPT_FONT_NAME, &SFNT_SERVICE_PS_NAME_GET,\n-    FT_SERVICE_ID_BDF,                  &SFNT_SERVICE_BDF_GET,\n-    FT_SERVICE_ID_TT_CMAP,              &TT_SERVICE_CMAP_INFO_GET )\n+    FT_SERVICE_ID_SFNT_TABLE,           &sfnt_service_sfnt_table,\n+    FT_SERVICE_ID_POSTSCRIPT_FONT_NAME, &sfnt_service_ps_name,\n+    FT_SERVICE_ID_BDF,                  &sfnt_service_bdf,\n+    FT_SERVICE_ID_TT_CMAP,              &tt_service_get_cmap_info )\n@@ -1167,3 +1175,3 @@\n-    FT_SERVICE_ID_SFNT_TABLE,           &SFNT_SERVICE_SFNT_TABLE_GET,\n-    FT_SERVICE_ID_POSTSCRIPT_FONT_NAME, &SFNT_SERVICE_PS_NAME_GET,\n-    FT_SERVICE_ID_TT_CMAP,              &TT_SERVICE_CMAP_INFO_GET )\n+    FT_SERVICE_ID_SFNT_TABLE,           &sfnt_service_sfnt_table,\n+    FT_SERVICE_ID_POSTSCRIPT_FONT_NAME, &sfnt_service_ps_name,\n+    FT_SERVICE_ID_TT_CMAP,              &tt_service_get_cmap_info )\n@@ -1177,11 +1185,0 @@\n-    \/* SFNT_SERVICES_GET dereferences `library' in PIC mode *\/\n-#ifdef FT_CONFIG_OPTION_PIC\n-    FT_Library  library;\n-\n-\n-    if ( !module )\n-      return NULL;\n-    library = module->library;\n-    if ( !library )\n-      return NULL;\n-#else\n@@ -1189,1 +1186,0 @@\n-#endif\n@@ -1191,1 +1187,1 @@\n-    return ft_service_list_lookup( SFNT_SERVICES_GET, module_interface );\n+    return ft_service_list_lookup( sfnt_services, module_interface );\n@@ -1201,0 +1197,6 @@\n+#ifdef TT_CONFIG_OPTION_COLOR_LAYERS\n+#define PUT_COLOR_LAYERS( a )  a\n+#else\n+#define PUT_COLOR_LAYERS( a )  NULL\n+#endif\n+\n@@ -1259,1 +1261,1 @@\n-                            \/* TT_Set_SBit_Strike_Func set_sbit_strike *\/\n+                   \/* TT_Set_SBit_Strike_Func      set_sbit_strike     *\/\n@@ -1261,1 +1263,16 @@\n-                    \/* TT_Load_Strike_Metrics_Func load_strike_metrics *\/\n+                   \/* TT_Load_Strike_Metrics_Func  load_strike_metrics *\/\n+\n+    PUT_COLOR_LAYERS( tt_face_load_cpal ),\n+                            \/* TT_Load_Table_Func      load_cpal       *\/\n+    PUT_COLOR_LAYERS( tt_face_load_colr ),\n+                            \/* TT_Load_Table_Func      load_colr       *\/\n+    PUT_COLOR_LAYERS( tt_face_free_cpal ),\n+                            \/* TT_Free_Table_Func      free_cpal       *\/\n+    PUT_COLOR_LAYERS( tt_face_free_colr ),\n+                            \/* TT_Free_Table_Func      free_colr       *\/\n+    PUT_COLOR_LAYERS( tt_face_palette_set ),\n+                            \/* TT_Set_Palette_Func     set_palette     *\/\n+    PUT_COLOR_LAYERS( tt_face_get_colr_layer ),\n+                            \/* TT_Get_Colr_Layer_Func  get_colr_layer  *\/\n+    PUT_COLOR_LAYERS( tt_face_colr_blend_layer ),\n+                            \/* TT_Blend_Colr_Func      colr_blend      *\/\n@@ -1280,1 +1297,1 @@\n-    (const void*)&SFNT_INTERFACE_GET,  \/* module specific interface *\/\n+    (const void*)&sfnt_interface,  \/* module specific interface *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/sfnt\/sfdriver.c","additions":129,"deletions":112,"binary":false,"changes":241,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  sfdriver.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    High-level SFNT driver interface (specification).                    *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * sfdriver.h\n+ *\n+ *   High-level SFNT driver interface (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -29,1 +29,0 @@\n-\n@@ -32,1 +31,0 @@\n-\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/sfnt\/sfdriver.h","additions":16,"deletions":18,"binary":false,"changes":34,"status":"modified"},{"patch":"@@ -1,23 +1,23 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  sferrors.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    SFNT error codes (specification only).                               *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2001-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* This file is used to define the SFNT error enumeration constants.     *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * sferrors.h\n+ *\n+ *   SFNT error codes (specification only).\n+ *\n+ * Copyright (C) 2001-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * This file is used to define the SFNT error enumeration constants.\n+   *\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/sfnt\/sferrors.h","additions":23,"deletions":23,"binary":false,"changes":46,"status":"modified"},{"patch":"@@ -1,143 +0,0 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  sfntpic.c                                                              *\/\n-\/*                                                                         *\/\n-\/*    The FreeType position independent code services for sfnt module.     *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2009-2018 by                                                 *\/\n-\/*  Oran Agra and Mickey Gabel.                                            *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-#include <ft2build.h>\n-#include FT_FREETYPE_H\n-#include FT_INTERNAL_OBJECTS_H\n-#include \"sfntpic.h\"\n-#include \"sferrors.h\"\n-\n-\n-#ifdef FT_CONFIG_OPTION_PIC\n-\n-  \/* forward declaration of PIC init functions from sfdriver.c *\/\n-  FT_Error\n-  FT_Create_Class_sfnt_services( FT_Library           library,\n-                                 FT_ServiceDescRec**  output_class );\n-  void\n-  FT_Destroy_Class_sfnt_services( FT_Library          library,\n-                                  FT_ServiceDescRec*  clazz );\n-  void\n-  FT_Init_Class_sfnt_service_bdf( FT_Service_BDFRec*  clazz );\n-  void\n-  FT_Init_Class_sfnt_interface( FT_Library       library,\n-                                SFNT_Interface*  clazz );\n-  void\n-  FT_Init_Class_sfnt_service_glyph_dict(\n-    FT_Library                library,\n-    FT_Service_GlyphDictRec*  clazz );\n-  void\n-  FT_Init_Class_sfnt_service_ps_name(\n-    FT_Library                 library,\n-    FT_Service_PsFontNameRec*  clazz );\n-  void\n-  FT_Init_Class_tt_service_get_cmap_info(\n-    FT_Library              library,\n-    FT_Service_TTCMapsRec*  clazz );\n-  void\n-  FT_Init_Class_sfnt_service_sfnt_table(\n-    FT_Service_SFNT_TableRec*  clazz );\n-\n-\n-  \/* forward declaration of PIC init functions from ttcmap.c *\/\n-  FT_Error\n-  FT_Create_Class_tt_cmap_classes( FT_Library       library,\n-                                   TT_CMap_Class**  output_class );\n-  void\n-  FT_Destroy_Class_tt_cmap_classes( FT_Library      library,\n-                                    TT_CMap_Class*  clazz );\n-\n-\n-  void\n-  sfnt_module_class_pic_free( FT_Library  library )\n-  {\n-    FT_PIC_Container*  pic_container = &library->pic_container;\n-    FT_Memory          memory        = library->memory;\n-\n-\n-    if ( pic_container->sfnt )\n-    {\n-      sfntModulePIC*  container = (sfntModulePIC*)pic_container->sfnt;\n-\n-\n-      if ( container->sfnt_services )\n-        FT_Destroy_Class_sfnt_services( library,\n-                                        container->sfnt_services );\n-      container->sfnt_services = NULL;\n-\n-      if ( container->tt_cmap_classes )\n-        FT_Destroy_Class_tt_cmap_classes( library,\n-                                          container->tt_cmap_classes );\n-      container->tt_cmap_classes = NULL;\n-\n-      FT_FREE( container );\n-      pic_container->sfnt = NULL;\n-    }\n-  }\n-\n-\n-  FT_Error\n-  sfnt_module_class_pic_init( FT_Library  library )\n-  {\n-    FT_PIC_Container*  pic_container = &library->pic_container;\n-    FT_Error           error         = FT_Err_Ok;\n-    sfntModulePIC*     container     = NULL;\n-    FT_Memory          memory        = library->memory;\n-\n-\n-    \/* allocate pointer, clear and set global container pointer *\/\n-    if ( FT_ALLOC( container, sizeof ( *container ) ) )\n-      return error;\n-    FT_MEM_SET( container, 0, sizeof ( *container ) );\n-    pic_container->sfnt = container;\n-\n-    \/* initialize pointer table -                       *\/\n-    \/* this is how the module usually expects this data *\/\n-    error = FT_Create_Class_sfnt_services( library,\n-                                           &container->sfnt_services );\n-    if ( error )\n-      goto Exit;\n-\n-    error = FT_Create_Class_tt_cmap_classes( library,\n-                                             &container->tt_cmap_classes );\n-    if ( error )\n-      goto Exit;\n-\n-    FT_Init_Class_sfnt_service_glyph_dict(\n-      library, &container->sfnt_service_glyph_dict );\n-    FT_Init_Class_sfnt_service_ps_name(\n-      library, &container->sfnt_service_ps_name );\n-    FT_Init_Class_tt_service_get_cmap_info(\n-      library, &container->tt_service_get_cmap_info );\n-    FT_Init_Class_sfnt_service_sfnt_table(\n-      &container->sfnt_service_sfnt_table );\n-#ifdef TT_CONFIG_OPTION_BDF\n-    FT_Init_Class_sfnt_service_bdf( &container->sfnt_service_bdf );\n-#endif\n-    FT_Init_Class_sfnt_interface( library, &container->sfnt_interface );\n-\n-  Exit:\n-    if ( error )\n-      sfnt_module_class_pic_free( library );\n-    return error;\n-  }\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n-\n-\/* END *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/sfnt\/sfntpic.c","additions":0,"deletions":143,"binary":false,"changes":143,"status":"deleted"},{"patch":"@@ -1,112 +0,0 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  sfntpic.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    The FreeType position independent code services for sfnt module.     *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2009-2018 by                                                 *\/\n-\/*  Oran Agra and Mickey Gabel.                                            *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-#ifndef SFNTPIC_H_\n-#define SFNTPIC_H_\n-\n-\n-#include FT_INTERNAL_PIC_H\n-\n-\n-#ifndef FT_CONFIG_OPTION_PIC\n-\n-#define SFNT_SERVICES_GET            sfnt_services\n-#define SFNT_SERVICE_GLYPH_DICT_GET  sfnt_service_glyph_dict\n-#define SFNT_SERVICE_PS_NAME_GET     sfnt_service_ps_name\n-#define TT_SERVICE_CMAP_INFO_GET     tt_service_get_cmap_info\n-#define TT_CMAP_CLASSES_GET          tt_cmap_classes\n-#define SFNT_SERVICE_SFNT_TABLE_GET  sfnt_service_sfnt_table\n-#define SFNT_SERVICE_BDF_GET         sfnt_service_bdf\n-#define SFNT_INTERFACE_GET           sfnt_interface\n-\n-#else \/* FT_CONFIG_OPTION_PIC *\/\n-\n-  \/* some include files required for members of sfntModulePIC *\/\n-#include FT_SERVICE_GLYPH_DICT_H\n-#include FT_SERVICE_POSTSCRIPT_NAME_H\n-#include FT_SERVICE_SFNT_H\n-#include FT_SERVICE_TT_CMAP_H\n-\n-#ifdef TT_CONFIG_OPTION_BDF\n-#include \"ttbdf.h\"\n-#include FT_SERVICE_BDF_H\n-#endif\n-\n-#include FT_INTERNAL_DEBUG_H\n-#include FT_INTERNAL_STREAM_H\n-#include FT_INTERNAL_SFNT_H\n-#include \"ttcmap.h\"\n-\n-\n-FT_BEGIN_HEADER\n-\n-  typedef struct  sfntModulePIC_\n-  {\n-    FT_ServiceDescRec*        sfnt_services;\n-    FT_Service_GlyphDictRec   sfnt_service_glyph_dict;\n-    FT_Service_PsFontNameRec  sfnt_service_ps_name;\n-    FT_Service_TTCMapsRec     tt_service_get_cmap_info;\n-    TT_CMap_Class*            tt_cmap_classes;\n-    FT_Service_SFNT_TableRec  sfnt_service_sfnt_table;\n-#ifdef TT_CONFIG_OPTION_BDF\n-    FT_Service_BDFRec         sfnt_service_bdf;\n-#endif\n-    SFNT_Interface            sfnt_interface;\n-\n-  } sfntModulePIC;\n-\n-\n-#define GET_PIC( lib )                                      \\\n-          ( (sfntModulePIC*)( (lib)->pic_container.sfnt ) )\n-\n-#define SFNT_SERVICES_GET                       \\\n-          ( GET_PIC( library )->sfnt_services )\n-#define SFNT_SERVICE_GLYPH_DICT_GET                       \\\n-          ( GET_PIC( library )->sfnt_service_glyph_dict )\n-#define SFNT_SERVICE_PS_NAME_GET                       \\\n-          ( GET_PIC( library )->sfnt_service_ps_name )\n-#define TT_SERVICE_CMAP_INFO_GET                           \\\n-          ( GET_PIC( library )->tt_service_get_cmap_info )\n-#define TT_CMAP_CLASSES_GET                       \\\n-          ( GET_PIC( library )->tt_cmap_classes )\n-#define SFNT_SERVICE_SFNT_TABLE_GET                       \\\n-          ( GET_PIC( library )->sfnt_service_sfnt_table )\n-#define SFNT_SERVICE_BDF_GET                       \\\n-          ( GET_PIC( library )->sfnt_service_bdf )\n-#define SFNT_INTERFACE_GET                       \\\n-          ( GET_PIC( library )->sfnt_interface )\n-\n-\n-  \/* see sfntpic.c for the implementation *\/\n-  void\n-  sfnt_module_class_pic_free( FT_Library  library );\n-\n-  FT_Error\n-  sfnt_module_class_pic_init( FT_Library  library );\n-\n-\n-FT_END_HEADER\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n-  \/* *\/\n-\n-#endif \/* SFNTPIC_H_ *\/\n-\n-\n-\/* END *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/sfnt\/sfntpic.h","additions":0,"deletions":112,"binary":false,"changes":112,"status":"deleted"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  sfobjs.c                                                               *\/\n-\/*                                                                         *\/\n-\/*    SFNT object management (base).                                       *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * sfobjs.c\n+ *\n+ *   SFNT object management (base).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -44,6 +44,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -51,1 +51,1 @@\n-#define FT_COMPONENT  trace_sfobjs\n+#define FT_COMPONENT  sfobjs\n@@ -921,1 +921,3 @@\n-    FT_TRACE2(( \"sfnt_init_face: %08p, %d\\n\", face, face_instance_index ));\n+    FT_TRACE2(( \"sfnt_init_face: %08p (index %d)\\n\",\n+                face,\n+                face_instance_index ));\n@@ -1004,5 +1006,5 @@\n-       *  As documented in the OpenType specification, an entry for the\n-       *  default instance may be omitted in the named instance table.  In\n-       *  particular this means that even if there is no named instance\n-       *  table in the font we actually do have a named instance, namely the\n-       *  default instance.\n+       * As documented in the OpenType specification, an entry for the\n+       * default instance may be omitted in the named instance table.  In\n+       * particular this means that even if there is no named instance\n+       * table in the font we actually do have a named instance, namely the\n+       * default instance.\n@@ -1010,3 +1012,3 @@\n-       *  For consistency, we always want the default instance in our list\n-       *  of named instances.  If it is missing, we try to synthesize it\n-       *  later on.  Here, we have to adjust `num_instances' accordingly.\n+       * For consistency, we always want the default instance in our list\n+       * of named instances.  If it is missing, we try to synthesize it\n+       * later on.  Here, we have to adjust `num_instances' accordingly.\n@@ -1147,0 +1149,2 @@\n+    FT_Bool       has_CBLC;\n+    FT_Bool       has_CBDT;\n@@ -1227,0 +1231,7 @@\n+    has_CBLC = !face->goto_table( face, TTAG_CBLC, stream, 0 );\n+    has_CBDT = !face->goto_table( face, TTAG_CBDT, stream, 0 );\n+\n+    \/* Ignore outlines for CBLC\/CBDT fonts. *\/\n+    if ( has_CBLC || has_CBDT )\n+      has_outline = FALSE;\n+\n@@ -1335,0 +1346,7 @@\n+    \/* colored glyph support *\/\n+    if ( sfnt->load_cpal )\n+    {\n+      LOAD_( cpal );\n+      LOAD_( colr );\n+    }\n+\n@@ -1383,4 +1401,4 @@\n-      \/*********************************************************************\/\n-      \/*                                                                   *\/\n-      \/* Compute face flags.                                               *\/\n-      \/*                                                                   *\/\n+      \/**********************************************************************\n+       *\n+       * Compute face flags.\n+       *\/\n@@ -1388,1 +1406,2 @@\n-           face->sbit_table_type == TT_SBIT_TABLE_TYPE_SBIX )\n+           face->sbit_table_type == TT_SBIT_TABLE_TYPE_SBIX ||\n+           face->colr                                       )\n@@ -1432,4 +1451,4 @@\n-      \/*********************************************************************\/\n-      \/*                                                                   *\/\n-      \/* Compute style flags.                                              *\/\n-      \/*                                                                   *\/\n+      \/**********************************************************************\n+       *\n+       * Compute style flags.\n+       *\/\n@@ -1465,8 +1484,8 @@\n-      \/*********************************************************************\/\n-      \/*                                                                   *\/\n-      \/* Polish the charmaps.                                              *\/\n-      \/*                                                                   *\/\n-      \/*   Try to set the charmap encoding according to the platform &     *\/\n-      \/*   encoding ID of each charmap.  Emulate Unicode charmap if one    *\/\n-      \/*   is missing.                                                     *\/\n-      \/*                                                                   *\/\n+      \/**********************************************************************\n+       *\n+       * Polish the charmaps.\n+       *\n+       *   Try to set the charmap encoding according to the platform &\n+       *   encoding ID of each charmap.  Emulate Unicode charmap if one\n+       *   is missing.\n+       *\/\n@@ -1515,1 +1534,2 @@\n-               FT_ERR_NEQ( error, No_Unicode_Glyph_Name ) )\n+               FT_ERR_NEQ( error, No_Unicode_Glyph_Name ) &&\n+               FT_ERR_NEQ( error, Unimplemented_Feature ) )\n@@ -1527,3 +1547,3 @@\n-       *  Now allocate the root array of FT_Bitmap_Size records and\n-       *  populate them.  Unfortunately, it isn't possible to indicate bit\n-       *  depths in the FT_Bitmap_Size record.  This is a design error.\n+       * Now allocate the root array of FT_Bitmap_Size records and\n+       * populate them.  Unfortunately, it isn't possible to indicate bit\n+       * depths in the FT_Bitmap_Size record.  This is a design error.\n@@ -1609,4 +1629,4 @@\n-      \/*********************************************************************\/\n-      \/*                                                                   *\/\n-      \/*  Set up metrics.                                                  *\/\n-      \/*                                                                   *\/\n+      \/**********************************************************************\n+       *\n+       * Set up metrics.\n+       *\/\n@@ -1624,36 +1644,37 @@\n-        \/* XXX: Computing the ascender\/descender\/height is very different *\/\n-        \/*      from what the specification tells you.  Apparently, we    *\/\n-        \/*      must be careful because                                   *\/\n-        \/*                                                                *\/\n-        \/*      - not all fonts have an OS\/2 table; in this case, we take *\/\n-        \/*        the values in the horizontal header.  However, these    *\/\n-        \/*        values very often are not reliable.                     *\/\n-        \/*                                                                *\/\n-        \/*      - otherwise, the correct typographic values are in the    *\/\n-        \/*        sTypoAscender, sTypoDescender & sTypoLineGap fields.    *\/\n-        \/*                                                                *\/\n-        \/*        However, certain fonts have these fields set to 0.      *\/\n-        \/*        Rather, they have usWinAscent & usWinDescent correctly  *\/\n-        \/*        set (but with different values).                        *\/\n-        \/*                                                                *\/\n-        \/*      As an example, Arial Narrow is implemented through four   *\/\n-        \/*      files ARIALN.TTF, ARIALNI.TTF, ARIALNB.TTF & ARIALNBI.TTF *\/\n-        \/*                                                                *\/\n-        \/*      Strangely, all fonts have the same values in their        *\/\n-        \/*      sTypoXXX fields, except ARIALNB which sets them to 0.     *\/\n-        \/*                                                                *\/\n-        \/*      On the other hand, they all have different                *\/\n-        \/*      usWinAscent\/Descent values -- as a conclusion, the OS\/2   *\/\n-        \/*      table cannot be used to compute the text height reliably! *\/\n-        \/*                                                                *\/\n-\n-        \/* The ascender and descender are taken from the `hhea' table. *\/\n-        \/* If zero, they are taken from the `OS\/2' table.              *\/\n-\n-        root->ascender  = face->horizontal.Ascender;\n-        root->descender = face->horizontal.Descender;\n-\n-        root->height = root->ascender - root->descender +\n-                       face->horizontal.Line_Gap;\n-\n-        if ( !( root->ascender || root->descender ) )\n+        \/*\n+         * Computing the ascender\/descender\/height is tricky.\n+         *\n+         * The OpenType specification v1.8.3 says:\n+         *\n+         *   [OS\/2's] sTypoAscender, sTypoDescender and sTypoLineGap fields\n+         *   are intended to allow applications to lay out documents in a\n+         *   typographically-correct and portable fashion.\n+         *\n+         * This is somewhat at odds with the decades of backwards\n+         * compatibility, operating systems and applications doing whatever\n+         * they want, not to mention broken fonts.\n+         *\n+         * Not all fonts have an OS\/2 table; in this case, we take the values\n+         * in the horizontal header, although there is nothing stopping the\n+         * values from being unreliable. Even with a OS\/2 table, certain fonts\n+         * set the sTypoAscender, sTypoDescender and sTypoLineGap fields to 0\n+         * and instead correctly set usWinAscent and usWinDescent.\n+         *\n+         * As an example, Arial Narrow is shipped as four files ARIALN.TTF,\n+         * ARIALNI.TTF, ARIALNB.TTF and ARIALNBI.TTF. Strangely, all fonts have\n+         * the same values in their sTypo* fields, except ARIALNB.ttf which\n+         * sets them to 0. All of them have different usWinAscent\/Descent\n+         * values. The OS\/2 table therefore cannot be trusted for computing the\n+         * text height reliably.\n+         *\n+         * As a compromise, do the following:\n+         *\n+         * 1. If the OS\/2 table exists and the fsSelection bit 7 is set\n+         *    (USE_TYPO_METRICS), trust the font and use the sTypo* metrics.\n+         * 2. Otherwise, use the `hhea' table's metrics.\n+         * 3. If they are zero and the OS\/2 table exists,\n+         *    1. use the OS\/2 table's sTypo* metrics if they are non-zero.\n+         *    2. Otherwise, use the OS\/2 table's usWin* metrics.\n+         *\/\n+\n+        if ( face->os2.version != 0xFFFFU && face->os2.fsSelection & 128 )\n@@ -1661,6 +1682,11 @@\n-          if ( face->os2.version != 0xFFFFU )\n-          {\n-            if ( face->os2.sTypoAscender || face->os2.sTypoDescender )\n-            {\n-              root->ascender  = face->os2.sTypoAscender;\n-              root->descender = face->os2.sTypoDescender;\n+          root->ascender  = face->os2.sTypoAscender;\n+          root->descender = face->os2.sTypoDescender;\n+          root->height    = root->ascender - root->descender +\n+                            face->os2.sTypoLineGap;\n+        }\n+        else\n+        {\n+          root->ascender  = face->horizontal.Ascender;\n+          root->descender = face->horizontal.Descender;\n+          root->height    = root->ascender - root->descender +\n+                            face->horizontal.Line_Gap;\n@@ -1668,4 +1694,3 @@\n-              root->height = root->ascender - root->descender +\n-                             face->os2.sTypoLineGap;\n-            }\n-            else\n+          if ( !( root->ascender || root->descender ) )\n+          {\n+            if ( face->os2.version != 0xFFFFU )\n@@ -1673,4 +1698,13 @@\n-              root->ascender  =  (FT_Short)face->os2.usWinAscent;\n-              root->descender = -(FT_Short)face->os2.usWinDescent;\n-\n-              root->height = root->ascender - root->descender;\n+              if ( face->os2.sTypoAscender || face->os2.sTypoDescender )\n+              {\n+                root->ascender  = face->os2.sTypoAscender;\n+                root->descender = face->os2.sTypoDescender;\n+                root->height    = root->ascender - root->descender +\n+                                  face->os2.sTypoLineGap;\n+              }\n+              else\n+              {\n+                root->ascender  =  (FT_Short)face->os2.usWinAscent;\n+                root->descender = -(FT_Short)face->os2.usWinDescent;\n+                root->height    =  root->ascender - root->descender;\n+              }\n@@ -1731,0 +1765,7 @@\n+\n+      \/* destroy color table data if it is loaded *\/\n+      if ( sfnt->free_cpal )\n+      {\n+        sfnt->free_cpal( face );\n+        sfnt->free_colr( face );\n+      }\n@@ -1786,1 +1827,0 @@\n-#ifdef TT_CONFIG_OPTION_GX_VAR_SUPPORT\n@@ -1788,0 +1828,2 @@\n+\n+#ifdef TT_CONFIG_OPTION_GX_VAR_SUPPORT\n@@ -1791,0 +1833,6 @@\n+    \/* freeing glyph color palette data *\/\n+    FT_FREE( face->palette_data.palette_name_ids );\n+    FT_FREE( face->palette_data.palette_flags );\n+    FT_FREE( face->palette_data.palette_entry_name_ids );\n+    FT_FREE( face->palette );\n+\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/sfnt\/sfobjs.c","additions":156,"deletions":108,"binary":false,"changes":264,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  sfobjs.h                                                               *\/\n-\/*                                                                         *\/\n-\/*    SFNT object management (specification).                              *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * sfobjs.h\n+ *\n+ *   SFNT object management (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/sfnt\/sfobjs.h","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ttcmap.c                                                               *\/\n-\/*                                                                         *\/\n-\/*    TrueType character mapping table (cmap) support (body).              *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2002-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ttcmap.c\n+ *\n+ *   TrueType character mapping table (cmap) support (body).\n+ *\n+ * Copyright (C) 2002-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -30,1 +30,0 @@\n-#include \"sfntpic.h\"\n@@ -33,6 +32,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -40,1 +39,1 @@\n-#define FT_COMPONENT  trace_ttcmap\n+#define FT_COMPONENT  ttcmap\n@@ -80,13 +79,13 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* TABLE OVERVIEW                                                        *\/\n-  \/* --------------                                                        *\/\n-  \/*                                                                       *\/\n-  \/*   NAME        OFFSET         TYPE          DESCRIPTION                *\/\n-  \/*                                                                       *\/\n-  \/*   format      0              USHORT        must be 0                  *\/\n-  \/*   length      2              USHORT        table length in bytes      *\/\n-  \/*   language    4              USHORT        Mac language code          *\/\n-  \/*   glyph_ids   6              BYTE[256]     array of glyph indices     *\/\n-  \/*               262                                                     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * TABLE OVERVIEW\n+   * --------------\n+   *\n+   *   NAME        OFFSET         TYPE          DESCRIPTION\n+   *\n+   *   format      0              USHORT        must be 0\n+   *   length      2              USHORT        table length in bytes\n+   *   language    4              USHORT        Mac language code\n+   *   glyph_ids   6              BYTE[256]     array of glyph indices\n+   *               262\n+   *\/\n@@ -225,1 +224,1 @@\n-  \/*****   - For one byte characters, `charcode' is simply the         *****\/\n+  \/*****   - For one-byte characters, `charcode' is simply the         *****\/\n@@ -228,1 +227,1 @@\n-  \/*****   - For two byte characters, `charcode' is the 2-byte         *****\/\n+  \/*****   - For two-byte characters, `charcode' is the 2-byte         *****\/\n@@ -241,51 +240,51 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* TABLE OVERVIEW                                                        *\/\n-  \/* --------------                                                        *\/\n-  \/*                                                                       *\/\n-  \/*   NAME        OFFSET         TYPE            DESCRIPTION              *\/\n-  \/*                                                                       *\/\n-  \/*   format      0              USHORT          must be 2                *\/\n-  \/*   length      2              USHORT          table length in bytes    *\/\n-  \/*   language    4              USHORT          Mac language code        *\/\n-  \/*   keys        6              USHORT[256]     sub-header keys          *\/\n-  \/*   subs        518            SUBHEAD[NSUBS]  sub-headers array        *\/\n-  \/*   glyph_ids   518+NSUB*8     USHORT[]        glyph ID array           *\/\n-  \/*                                                                       *\/\n-  \/* The `keys' table is used to map charcode high-bytes to sub-headers.   *\/\n-  \/* The value of `NSUBS' is the number of sub-headers defined in the      *\/\n-  \/* table and is computed by finding the maximum of the `keys' table.     *\/\n-  \/*                                                                       *\/\n-  \/* Note that for any n, `keys[n]' is a byte offset within the `subs'     *\/\n-  \/* table, i.e., it is the corresponding sub-header index multiplied      *\/\n-  \/* by 8.                                                                 *\/\n-  \/*                                                                       *\/\n-  \/* Each sub-header has the following format.                             *\/\n-  \/*                                                                       *\/\n-  \/*   NAME        OFFSET      TYPE            DESCRIPTION                 *\/\n-  \/*                                                                       *\/\n-  \/*   first       0           USHORT          first valid low-byte        *\/\n-  \/*   count       2           USHORT          number of valid low-bytes   *\/\n-  \/*   delta       4           SHORT           see below                   *\/\n-  \/*   offset      6           USHORT          see below                   *\/\n-  \/*                                                                       *\/\n-  \/* A sub-header defines, for each high-byte, the range of valid          *\/\n-  \/* low-bytes within the charmap.  Note that the range defined by `first' *\/\n-  \/* and `count' must be completely included in the interval [0..255]      *\/\n-  \/* according to the specification.                                       *\/\n-  \/*                                                                       *\/\n-  \/* If a character code is contained within a given sub-header, then      *\/\n-  \/* mapping it to a glyph index is done as follows.                       *\/\n-  \/*                                                                       *\/\n-  \/* * The value of `offset' is read.  This is a _byte_ distance from the  *\/\n-  \/*   location of the `offset' field itself into a slice of the           *\/\n-  \/*   `glyph_ids' table.  Let's call it `slice' (it is a USHORT[], too).  *\/\n-  \/*                                                                       *\/\n-  \/* * The value `slice[char.lo - first]' is read.  If it is 0, there is   *\/\n-  \/*   no glyph for the charcode.  Otherwise, the value of `delta' is      *\/\n-  \/*   added to it (modulo 65536) to form a new glyph index.               *\/\n-  \/*                                                                       *\/\n-  \/* It is up to the validation routine to check that all offsets fall     *\/\n-  \/* within the glyph IDs table (and not within the `subs' table itself or *\/\n-  \/* outside of the CMap).                                                 *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * TABLE OVERVIEW\n+   * --------------\n+   *\n+   *   NAME        OFFSET         TYPE            DESCRIPTION\n+   *\n+   *   format      0              USHORT          must be 2\n+   *   length      2              USHORT          table length in bytes\n+   *   language    4              USHORT          Mac language code\n+   *   keys        6              USHORT[256]     sub-header keys\n+   *   subs        518            SUBHEAD[NSUBS]  sub-headers array\n+   *   glyph_ids   518+NSUB*8     USHORT[]        glyph ID array\n+   *\n+   * The `keys' table is used to map charcode high bytes to sub-headers.\n+   * The value of `NSUBS' is the number of sub-headers defined in the\n+   * table and is computed by finding the maximum of the `keys' table.\n+   *\n+   * Note that for any `n', `keys[n]' is a byte offset within the `subs'\n+   * table, i.e., it is the corresponding sub-header index multiplied\n+   * by 8.\n+   *\n+   * Each sub-header has the following format.\n+   *\n+   *   NAME        OFFSET      TYPE            DESCRIPTION\n+   *\n+   *   first       0           USHORT          first valid low-byte\n+   *   count       2           USHORT          number of valid low-bytes\n+   *   delta       4           SHORT           see below\n+   *   offset      6           USHORT          see below\n+   *\n+   * A sub-header defines, for each high byte, the range of valid\n+   * low bytes within the charmap.  Note that the range defined by `first'\n+   * and `count' must be completely included in the interval [0..255]\n+   * according to the specification.\n+   *\n+   * If a character code is contained within a given sub-header, then\n+   * mapping it to a glyph index is done as follows.\n+   *\n+   * - The value of `offset' is read.  This is a _byte_ distance from the\n+   *   location of the `offset' field itself into a slice of the\n+   *   `glyph_ids' table.  Let's call it `slice' (it is a USHORT[], too).\n+   *\n+   * - The value `slice[char.lo - first]' is read.  If it is 0, there is\n+   *   no glyph for the charcode.  Otherwise, the value of `delta' is\n+   *   added to it (modulo 65536) to form a new glyph index.\n+   *\n+   * It is up to the validation routine to check that all offsets fall\n+   * within the glyph IDs table (and not within the `subs' table itself or\n+   * outside of the CMap).\n+   *\/\n@@ -363,1 +362,1 @@\n-        if ( first_code >= 256 || first_code + code_count > 256 )\n+        if ( first_code >= 256 || code_count > 256 - first_code )\n@@ -415,1 +414,1 @@\n-      FT_Byte*  p       = table + 6;    \/* keys table *\/\n+      FT_Byte*  p       = table + 6;    \/* keys table       *\/\n@@ -428,2 +427,2 @@\n-        \/* indicates that it is really a valid one-byte value  *\/\n-        \/* Otherwise, return 0                                 *\/\n+        \/* indicates that it is really a valid one-byte value; *\/\n+        \/* otherwise, return 0                                 *\/\n@@ -448,0 +447,1 @@\n+\n@@ -520,0 +520,7 @@\n+        if ( char_lo >= start + count && charcode <= 0xFF )\n+        {\n+          \/* this happens only for a malformed cmap *\/\n+          charcode = 0x100;\n+          continue;\n+        }\n+\n@@ -552,0 +559,5 @@\n+\n+        \/* if unsuccessful, avoid `charcode' leaving *\/\n+        \/* the current 256-character block           *\/\n+        if ( count )\n+          charcode--;\n@@ -554,6 +566,2 @@\n-      \/* If `charcode' is <= 0xFF, retry with `charcode + 1'.  If        *\/\n-      \/* `charcode' is 0x100 after the loop, do nothing since we have    *\/\n-      \/* just reached the first sub-header for two-byte character codes. *\/\n-      \/*                                                                 *\/\n-      \/* For all other cases, we jump to the next sub-header and adjust  *\/\n-      \/* `charcode' accordingly.                                         *\/\n+      \/* If `charcode' is <= 0xFF, retry with `charcode + 1'.      *\/\n+      \/* Otherwise jump to the next 256-character block and retry. *\/\n@@ -563,2 +571,0 @@\n-      else if ( charcode == 0x100 )\n-        ;\n@@ -622,62 +628,62 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* TABLE OVERVIEW                                                        *\/\n-  \/* --------------                                                        *\/\n-  \/*                                                                       *\/\n-  \/*   NAME          OFFSET         TYPE              DESCRIPTION          *\/\n-  \/*                                                                       *\/\n-  \/*   format        0              USHORT            must be 4            *\/\n-  \/*   length        2              USHORT            table length         *\/\n-  \/*                                                  in bytes             *\/\n-  \/*   language      4              USHORT            Mac language code    *\/\n-  \/*                                                                       *\/\n-  \/*   segCountX2    6              USHORT            2*NUM_SEGS           *\/\n-  \/*   searchRange   8              USHORT            2*(1 << LOG_SEGS)    *\/\n-  \/*   entrySelector 10             USHORT            LOG_SEGS             *\/\n-  \/*   rangeShift    12             USHORT            segCountX2 -         *\/\n-  \/*                                                    searchRange        *\/\n-  \/*                                                                       *\/\n-  \/*   endCount      14             USHORT[NUM_SEGS]  end charcode for     *\/\n-  \/*                                                  each segment; last   *\/\n-  \/*                                                  is 0xFFFF            *\/\n-  \/*                                                                       *\/\n-  \/*   pad           14+NUM_SEGS*2  USHORT            padding              *\/\n-  \/*                                                                       *\/\n-  \/*   startCount    16+NUM_SEGS*2  USHORT[NUM_SEGS]  first charcode for   *\/\n-  \/*                                                  each segment         *\/\n-  \/*                                                                       *\/\n-  \/*   idDelta       16+NUM_SEGS*4  SHORT[NUM_SEGS]   delta for each       *\/\n-  \/*                                                  segment              *\/\n-  \/*   idOffset      16+NUM_SEGS*6  SHORT[NUM_SEGS]   range offset for     *\/\n-  \/*                                                  each segment; can be *\/\n-  \/*                                                  zero                 *\/\n-  \/*                                                                       *\/\n-  \/*   glyphIds      16+NUM_SEGS*8  USHORT[]          array of glyph ID    *\/\n-  \/*                                                  ranges               *\/\n-  \/*                                                                       *\/\n-  \/* Character codes are modelled by a series of ordered (increasing)      *\/\n-  \/* intervals called segments.  Each segment has start and end codes,     *\/\n-  \/* provided by the `startCount' and `endCount' arrays.  Segments must    *\/\n-  \/* not overlap, and the last segment should always contain the value     *\/\n-  \/* 0xFFFF for `endCount'.                                                *\/\n-  \/*                                                                       *\/\n-  \/* The fields `searchRange', `entrySelector' and `rangeShift' are better *\/\n-  \/* ignored (they are traces of over-engineering in the TrueType          *\/\n-  \/* specification).                                                       *\/\n-  \/*                                                                       *\/\n-  \/* Each segment also has a signed `delta', as well as an optional offset *\/\n-  \/* within the `glyphIds' table.                                          *\/\n-  \/*                                                                       *\/\n-  \/* If a segment's idOffset is 0, the glyph index corresponding to any    *\/\n-  \/* charcode within the segment is obtained by adding the value of        *\/\n-  \/* `idDelta' directly to the charcode, modulo 65536.                     *\/\n-  \/*                                                                       *\/\n-  \/* Otherwise, a glyph index is taken from the glyph IDs sub-array for    *\/\n-  \/* the segment, and the value of `idDelta' is added to it.               *\/\n-  \/*                                                                       *\/\n-  \/*                                                                       *\/\n-  \/* Finally, note that a lot of fonts contain an invalid last segment,    *\/\n-  \/* where `start' and `end' are correctly set to 0xFFFF but both `delta'  *\/\n-  \/* and `offset' are incorrect (e.g., `opens___.ttf' which comes with     *\/\n-  \/* OpenOffice.org).  We need special code to deal with them correctly.   *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * TABLE OVERVIEW\n+   * --------------\n+   *\n+   *   NAME          OFFSET         TYPE              DESCRIPTION\n+   *\n+   *   format        0              USHORT            must be 4\n+   *   length        2              USHORT            table length\n+   *                                                  in bytes\n+   *   language      4              USHORT            Mac language code\n+   *\n+   *   segCountX2    6              USHORT            2*NUM_SEGS\n+   *   searchRange   8              USHORT            2*(1 << LOG_SEGS)\n+   *   entrySelector 10             USHORT            LOG_SEGS\n+   *   rangeShift    12             USHORT            segCountX2 -\n+   *                                                    searchRange\n+   *\n+   *   endCount      14             USHORT[NUM_SEGS]  end charcode for\n+   *                                                  each segment; last\n+   *                                                  is 0xFFFF\n+   *\n+   *   pad           14+NUM_SEGS*2  USHORT            padding\n+   *\n+   *   startCount    16+NUM_SEGS*2  USHORT[NUM_SEGS]  first charcode for\n+   *                                                  each segment\n+   *\n+   *   idDelta       16+NUM_SEGS*4  SHORT[NUM_SEGS]   delta for each\n+   *                                                  segment\n+   *   idOffset      16+NUM_SEGS*6  SHORT[NUM_SEGS]   range offset for\n+   *                                                  each segment; can be\n+   *                                                  zero\n+   *\n+   *   glyphIds      16+NUM_SEGS*8  USHORT[]          array of glyph ID\n+   *                                                  ranges\n+   *\n+   * Character codes are modelled by a series of ordered (increasing)\n+   * intervals called segments.  Each segment has start and end codes,\n+   * provided by the `startCount' and `endCount' arrays.  Segments must\n+   * not overlap, and the last segment should always contain the value\n+   * 0xFFFF for `endCount'.\n+   *\n+   * The fields `searchRange', `entrySelector' and `rangeShift' are better\n+   * ignored (they are traces of over-engineering in the TrueType\n+   * specification).\n+   *\n+   * Each segment also has a signed `delta', as well as an optional offset\n+   * within the `glyphIds' table.\n+   *\n+   * If a segment's idOffset is 0, the glyph index corresponding to any\n+   * charcode within the segment is obtained by adding the value of\n+   * `idDelta' directly to the charcode, modulo 65536.\n+   *\n+   * Otherwise, a glyph index is taken from the glyph IDs sub-array for\n+   * the segment, and the value of `idDelta' is added to it.\n+   *\n+   *\n+   * Finally, note that a lot of fonts contain an invalid last segment,\n+   * where `start' and `end' are correctly set to 0xFFFF but both `delta'\n+   * and `offset' are incorrect (e.g., `opens___.ttf' which comes with\n+   * OpenOffice.org).  We need special code to deal with them correctly.\n+   *\/\n@@ -1569,17 +1575,17 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* TABLE OVERVIEW                                                        *\/\n-  \/* --------------                                                        *\/\n-  \/*                                                                       *\/\n-  \/*   NAME        OFFSET          TYPE             DESCRIPTION            *\/\n-  \/*                                                                       *\/\n-  \/*   format       0              USHORT           must be 6              *\/\n-  \/*   length       2              USHORT           table length in bytes  *\/\n-  \/*   language     4              USHORT           Mac language code      *\/\n-  \/*                                                                       *\/\n-  \/*   first        6              USHORT           first segment code     *\/\n-  \/*   count        8              USHORT           segment size in chars  *\/\n-  \/*   glyphIds     10             USHORT[count]    glyph IDs              *\/\n-  \/*                                                                       *\/\n-  \/* A very simplified segment mapping.                                    *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * TABLE OVERVIEW\n+   * --------------\n+   *\n+   *   NAME        OFFSET          TYPE             DESCRIPTION\n+   *\n+   *   format       0              USHORT           must be 6\n+   *   length       2              USHORT           table length in bytes\n+   *   language     4              USHORT           Mac language code\n+   *\n+   *   first        6              USHORT           first segment code\n+   *   count        8              USHORT           segment size in chars\n+   *   glyphIds     10             USHORT[count]    glyph IDs\n+   *\n+   * A very simplified segment mapping.\n+   *\/\n@@ -1764,20 +1770,20 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* TABLE OVERVIEW                                                        *\/\n-  \/* --------------                                                        *\/\n-  \/*                                                                       *\/\n-  \/*   NAME        OFFSET         TYPE        DESCRIPTION                  *\/\n-  \/*                                                                       *\/\n-  \/*   format      0              USHORT      must be 8                    *\/\n-  \/*   reserved    2              USHORT      reserved                     *\/\n-  \/*   length      4              ULONG       length in bytes              *\/\n-  \/*   language    8              ULONG       Mac language code            *\/\n-  \/*   is32        12             BYTE[8192]  32-bitness bitmap            *\/\n-  \/*   count       8204           ULONG       number of groups             *\/\n-  \/*                                                                       *\/\n-  \/* This header is followed by `count' groups of the following format:    *\/\n-  \/*                                                                       *\/\n-  \/*   start       0              ULONG       first charcode               *\/\n-  \/*   end         4              ULONG       last charcode                *\/\n-  \/*   startId     8              ULONG       start glyph ID for the group *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * TABLE OVERVIEW\n+   * --------------\n+   *\n+   *   NAME        OFFSET         TYPE        DESCRIPTION\n+   *\n+   *   format      0              USHORT      must be 8\n+   *   reserved    2              USHORT      reserved\n+   *   length      4              ULONG       length in bytes\n+   *   language    8              ULONG       Mac language code\n+   *   is32        12             BYTE[8192]  32-bitness bitmap\n+   *   count       8204           ULONG       number of groups\n+   *\n+   * This header is followed by `count' groups of the following format:\n+   *\n+   *   start       0              ULONG       first charcode\n+   *   end         4              ULONG       last charcode\n+   *   startId     8              ULONG       start glyph ID for the group\n+   *\/\n@@ -2033,16 +2039,16 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* TABLE OVERVIEW                                                        *\/\n-  \/* --------------                                                        *\/\n-  \/*                                                                       *\/\n-  \/*   NAME      OFFSET  TYPE               DESCRIPTION                    *\/\n-  \/*                                                                       *\/\n-  \/*   format     0      USHORT             must be 10                     *\/\n-  \/*   reserved   2      USHORT             reserved                       *\/\n-  \/*   length     4      ULONG              length in bytes                *\/\n-  \/*   language   8      ULONG              Mac language code              *\/\n-  \/*                                                                       *\/\n-  \/*   start     12      ULONG              first char in range            *\/\n-  \/*   count     16      ULONG              number of chars in range       *\/\n-  \/*   glyphIds  20      USHORT[count]      glyph indices covered          *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * TABLE OVERVIEW\n+   * --------------\n+   *\n+   *   NAME      OFFSET  TYPE               DESCRIPTION\n+   *\n+   *   format     0      USHORT             must be 10\n+   *   reserved   2      USHORT             reserved\n+   *   length     4      ULONG              length in bytes\n+   *   language   8      ULONG              Mac language code\n+   *\n+   *   start     12      ULONG              first char in range\n+   *   count     16      ULONG              number of chars in range\n+   *   glyphIds  20      USHORT[count]      glyph indices covered\n+   *\/\n@@ -2205,20 +2211,20 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* TABLE OVERVIEW                                                        *\/\n-  \/* --------------                                                        *\/\n-  \/*                                                                       *\/\n-  \/*   NAME        OFFSET     TYPE       DESCRIPTION                       *\/\n-  \/*                                                                       *\/\n-  \/*   format      0          USHORT     must be 12                        *\/\n-  \/*   reserved    2          USHORT     reserved                          *\/\n-  \/*   length      4          ULONG      length in bytes                   *\/\n-  \/*   language    8          ULONG      Mac language code                 *\/\n-  \/*   count       12         ULONG      number of groups                  *\/\n-  \/*               16                                                      *\/\n-  \/*                                                                       *\/\n-  \/* This header is followed by `count' groups of the following format:    *\/\n-  \/*                                                                       *\/\n-  \/*   start       0          ULONG      first charcode                    *\/\n-  \/*   end         4          ULONG      last charcode                     *\/\n-  \/*   startId     8          ULONG      start glyph ID for the group      *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * TABLE OVERVIEW\n+   * --------------\n+   *\n+   *   NAME        OFFSET     TYPE       DESCRIPTION\n+   *\n+   *   format      0          USHORT     must be 12\n+   *   reserved    2          USHORT     reserved\n+   *   length      4          ULONG      length in bytes\n+   *   language    8          ULONG      Mac language code\n+   *   count       12         ULONG      number of groups\n+   *               16\n+   *\n+   * This header is followed by `count' groups of the following format:\n+   *\n+   *   start       0          ULONG      first charcode\n+   *   end         4          ULONG      last charcode\n+   *   startId     8          ULONG      start glyph ID for the group\n+   *\/\n@@ -2561,20 +2567,20 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* TABLE OVERVIEW                                                        *\/\n-  \/* --------------                                                        *\/\n-  \/*                                                                       *\/\n-  \/*   NAME        OFFSET     TYPE       DESCRIPTION                       *\/\n-  \/*                                                                       *\/\n-  \/*   format      0          USHORT     must be 13                        *\/\n-  \/*   reserved    2          USHORT     reserved                          *\/\n-  \/*   length      4          ULONG      length in bytes                   *\/\n-  \/*   language    8          ULONG      Mac language code                 *\/\n-  \/*   count       12         ULONG      number of groups                  *\/\n-  \/*               16                                                      *\/\n-  \/*                                                                       *\/\n-  \/* This header is followed by `count' groups of the following format:    *\/\n-  \/*                                                                       *\/\n-  \/*   start       0          ULONG      first charcode                    *\/\n-  \/*   end         4          ULONG      last charcode                     *\/\n-  \/*   glyphId     8          ULONG      glyph ID for the whole group      *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * TABLE OVERVIEW\n+   * --------------\n+   *\n+   *   NAME        OFFSET     TYPE       DESCRIPTION\n+   *\n+   *   format      0          USHORT     must be 13\n+   *   reserved    2          USHORT     reserved\n+   *   length      4          ULONG      length in bytes\n+   *   language    8          ULONG      Mac language code\n+   *   count       12         ULONG      number of groups\n+   *               16\n+   *\n+   * This header is followed by `count' groups of the following format:\n+   *\n+   *   start       0          ULONG      first charcode\n+   *   end         4          ULONG      last charcode\n+   *   glyphId     8          ULONG      glyph ID for the whole group\n+   *\/\n@@ -2887,52 +2893,53 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* TABLE OVERVIEW                                                        *\/\n-  \/* --------------                                                        *\/\n-  \/*                                                                       *\/\n-  \/*   NAME         OFFSET  TYPE    DESCRIPTION                            *\/\n-  \/*                                                                       *\/\n-  \/*   format         0     USHORT  must be 14                             *\/\n-  \/*   length         2     ULONG   table length in bytes                  *\/\n-  \/*   numSelector    6     ULONG   number of variation sel. records       *\/\n-  \/*                                                                       *\/\n-  \/* Followed by numSelector records, each of which looks like             *\/\n-  \/*                                                                       *\/\n-  \/*   varSelector    0     UINT24  Unicode codepoint of sel.              *\/\n-  \/*   defaultOff     3     ULONG   offset to a default UVS table          *\/\n-  \/*                                describing any variants to be found in *\/\n-  \/*                                the normal Unicode subtable.           *\/\n-  \/*   nonDefOff      7     ULONG   offset to a non-default UVS table      *\/\n-  \/*                                describing any variants not in the     *\/\n-  \/*                                standard cmap, with GIDs here          *\/\n-  \/* (either offset may be 0 NULL)                                         *\/\n-  \/*                                                                       *\/\n-  \/* Selectors are sorted by code point.                                   *\/\n-  \/*                                                                       *\/\n-  \/* A default Unicode Variation Selector (UVS) subtable is just a list of *\/\n-  \/* ranges of code points which are to be found in the standard cmap.  No *\/\n-  \/* glyph IDs (GIDs) here.                                                *\/\n-  \/*                                                                       *\/\n-  \/*   numRanges      0     ULONG   number of ranges following             *\/\n-  \/*                                                                       *\/\n-  \/* A range looks like                                                    *\/\n-  \/*                                                                       *\/\n-  \/*   uniStart       0     UINT24  code point of the first character in   *\/\n-  \/*                                this range                             *\/\n-  \/*   additionalCnt  3     UBYTE   count of additional characters in this *\/\n-  \/*                                range (zero means a range of a single  *\/\n-  \/*                                character)                             *\/\n-  \/*                                                                       *\/\n-  \/* Ranges are sorted by `uniStart'.                                      *\/\n-  \/*                                                                       *\/\n-  \/* A non-default Unicode Variation Selector (UVS) subtable is a list of  *\/\n-  \/* mappings from codepoint to GID.                                       *\/\n-  \/*                                                                       *\/\n-  \/*   numMappings    0     ULONG   number of mappings                     *\/\n-  \/*                                                                       *\/\n-  \/* A range looks like                                                    *\/\n-  \/*                                                                       *\/\n-  \/*   uniStart       0     UINT24  code point of the first character in   *\/\n-  \/*                                this range                             *\/\n-  \/*   GID            3     USHORT  and its GID                            *\/\n-  \/*                                                                       *\/\n-  \/* Ranges are sorted by `uniStart'.                                      *\/\n+  \/**************************************************************************\n+   *\n+   * TABLE OVERVIEW\n+   * --------------\n+   *\n+   *   NAME         OFFSET  TYPE    DESCRIPTION\n+   *\n+   *   format         0     USHORT  must be 14\n+   *   length         2     ULONG   table length in bytes\n+   *   numSelector    6     ULONG   number of variation sel. records\n+   *\n+   * Followed by numSelector records, each of which looks like\n+   *\n+   *   varSelector    0     UINT24  Unicode codepoint of sel.\n+   *   defaultOff     3     ULONG   offset to a default UVS table\n+   *                                describing any variants to be found in\n+   *                                the normal Unicode subtable.\n+   *   nonDefOff      7     ULONG   offset to a non-default UVS table\n+   *                                describing any variants not in the\n+   *                                standard cmap, with GIDs here\n+   * (either offset may be 0 NULL)\n+   *\n+   * Selectors are sorted by code point.\n+   *\n+   * A default Unicode Variation Selector (UVS) subtable is just a list of\n+   * ranges of code points which are to be found in the standard cmap.  No\n+   * glyph IDs (GIDs) here.\n+   *\n+   *   numRanges      0     ULONG   number of ranges following\n+   *\n+   * A range looks like\n+   *\n+   *   uniStart       0     UINT24  code point of the first character in\n+   *                                this range\n+   *   additionalCnt  3     UBYTE   count of additional characters in this\n+   *                                range (zero means a range of a single\n+   *                                character)\n+   *\n+   * Ranges are sorted by `uniStart'.\n+   *\n+   * A non-default Unicode Variation Selector (UVS) subtable is a list of\n+   * mappings from codepoint to GID.\n+   *\n+   *   numMappings    0     ULONG   number of mappings\n+   *\n+   * A range looks like\n+   *\n+   *   uniStart       0     UINT24  code point of the first character in\n+   *                                this range\n+   *   GID            3     USHORT  and its GID\n+   *\n+   * Ranges are sorted by `uniStart'.\n+   *\/\n@@ -3677,0 +3684,3 @@\n+    if ( !psnames->unicodes_init )\n+      return FT_THROW( Unimplemented_Feature );\n+\n@@ -3745,1 +3755,0 @@\n-#ifndef FT_CONFIG_OPTION_PIC\n@@ -3754,55 +3763,0 @@\n-#else \/*FT_CONFIG_OPTION_PIC*\/\n-\n-  void\n-  FT_Destroy_Class_tt_cmap_classes( FT_Library      library,\n-                                    TT_CMap_Class*  clazz )\n-  {\n-    FT_Memory  memory = library->memory;\n-\n-\n-    if ( clazz )\n-      FT_FREE( clazz );\n-  }\n-\n-\n-  FT_Error\n-  FT_Create_Class_tt_cmap_classes( FT_Library       library,\n-                                   TT_CMap_Class**  output_class )\n-  {\n-    TT_CMap_Class*     clazz  = NULL;\n-    TT_CMap_ClassRec*  recs;\n-    FT_Error           error;\n-    FT_Memory          memory = library->memory;\n-\n-    int  i = 0;\n-\n-\n-#define TTCMAPCITEM( a ) i++;\n-#include \"ttcmapc.h\"\n-\n-    \/* allocate enough space for both the pointers *\/\n-    \/* plus terminator and the class instances     *\/\n-    if ( FT_ALLOC( clazz, sizeof ( *clazz ) * ( i + 1 ) +\n-                          sizeof ( TT_CMap_ClassRec ) * i ) )\n-      return error;\n-\n-    \/* the location of the class instances follows the array of pointers *\/\n-    recs = (TT_CMap_ClassRec*)( (char*)clazz +\n-                                sizeof ( *clazz ) * ( i + 1 ) );\n-    i    = 0;\n-\n-#undef TTCMAPCITEM\n-#define  TTCMAPCITEM( a )             \\\n-    FT_Init_Class_ ## a( &recs[i] );  \\\n-    clazz[i] = &recs[i];              \\\n-    i++;\n-#include \"ttcmapc.h\"\n-\n-    clazz[i] = NULL;\n-\n-    *output_class = clazz;\n-    return FT_Err_Ok;\n-  }\n-\n-#endif \/*FT_CONFIG_OPTION_PIC*\/\n-\n@@ -3855,1 +3809,1 @@\n-        const TT_CMap_Class* volatile  pclazz = TT_CMAP_CLASSES_GET;\n+        const TT_CMap_Class* volatile  pclazz = tt_cmap_classes;\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/sfnt\/ttcmap.c","additions":320,"deletions":366,"binary":false,"changes":686,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ttcmap.h                                                               *\/\n-\/*                                                                         *\/\n-\/*    TrueType character mapping table (cmap) support (specification).     *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2002-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ttcmap.h\n+ *\n+ *   TrueType character mapping table (cmap) support (specification).\n+ *\n+ * Copyright (C) 2002-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -59,2 +59,0 @@\n-#ifndef FT_CONFIG_OPTION_PIC\n-\n@@ -95,36 +93,0 @@\n-#else \/* FT_CONFIG_OPTION_PIC *\/\n-\n-#define FT_DEFINE_TT_CMAP( class_,                      \\\n-                           size_,                       \\\n-                           init_,                       \\\n-                           done_,                       \\\n-                           char_index_,                 \\\n-                           char_next_,                  \\\n-                           char_var_index_,             \\\n-                           char_var_default_,           \\\n-                           variant_list_,               \\\n-                           charvariant_list_,           \\\n-                           variantchar_list_,           \\\n-                           format_,                     \\\n-                           validate_,                   \\\n-                           get_cmap_info_ )             \\\n-  void                                                  \\\n-  FT_Init_Class_ ## class_( TT_CMap_ClassRec*  clazz )  \\\n-  {                                                     \\\n-    clazz->clazz.size             = size_;              \\\n-    clazz->clazz.init             = init_;              \\\n-    clazz->clazz.done             = done_;              \\\n-    clazz->clazz.char_index       = char_index_;        \\\n-    clazz->clazz.char_next        = char_next_;         \\\n-    clazz->clazz.char_var_index   = char_var_index_;    \\\n-    clazz->clazz.char_var_default = char_var_default_;  \\\n-    clazz->clazz.variant_list     = variant_list_;      \\\n-    clazz->clazz.charvariant_list = charvariant_list_;  \\\n-    clazz->clazz.variantchar_list = variantchar_list_;  \\\n-    clazz->format                 = format_;            \\\n-    clazz->validate               = validate_;          \\\n-    clazz->get_cmap_info          = get_cmap_info_;     \\\n-  }\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/sfnt\/ttcmap.h","additions":16,"deletions":54,"binary":false,"changes":70,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ttcmapc.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    TT CMAP classes definitions (specification only).                    *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2009-2018 by                                                 *\/\n-\/*  Oran Agra and Mickey Gabel.                                            *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ttcmapc.h\n+ *\n+ *   TT CMAP classes definitions (specification only).\n+ *\n+ * Copyright (C) 2009-2019 by\n+ * Oran Agra and Mickey Gabel.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/sfnt\/ttcmapc.h","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -0,0 +1,451 @@\n+\/****************************************************************************\n+ *\n+ * ttcolr.c\n+ *\n+ *   TrueType and OpenType colored glyph layer support (body).\n+ *\n+ * Copyright (C) 2018-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * Originally written by Shao Yu Zhang <shaozhang@fb.com>.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * `COLR' table specification:\n+   *\n+   *   https:\/\/www.microsoft.com\/typography\/otspec\/colr.htm\n+   *\n+   *\/\n+\n+\n+#include <ft2build.h>\n+#include FT_INTERNAL_DEBUG_H\n+#include FT_INTERNAL_STREAM_H\n+#include FT_TRUETYPE_TAGS_H\n+#include FT_COLOR_H\n+\n+\n+#ifdef TT_CONFIG_OPTION_COLOR_LAYERS\n+\n+#include \"ttcolr.h\"\n+\n+\n+  \/* NOTE: These are the table sizes calculated through the specs. *\/\n+#define BASE_GLYPH_SIZE            6\n+#define LAYER_SIZE                 4\n+#define COLR_HEADER_SIZE          14\n+\n+\n+  typedef struct BaseGlyphRecord_\n+  {\n+    FT_UShort  gid;\n+    FT_UShort  first_layer_index;\n+    FT_UShort  num_layers;\n+\n+  } BaseGlyphRecord;\n+\n+\n+  typedef struct Colr_\n+  {\n+    FT_UShort  version;\n+    FT_UShort  num_base_glyphs;\n+    FT_UShort  num_layers;\n+\n+    FT_Byte*  base_glyphs;\n+    FT_Byte*  layers;\n+\n+    \/* The memory which backs up the `COLR' table. *\/\n+    void*     table;\n+    FT_ULong  table_size;\n+\n+  } Colr;\n+\n+\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n+#undef  FT_COMPONENT\n+#define FT_COMPONENT  ttcolr\n+\n+\n+  FT_LOCAL_DEF( FT_Error )\n+  tt_face_load_colr( TT_Face    face,\n+                     FT_Stream  stream )\n+  {\n+    FT_Error   error;\n+    FT_Memory  memory = face->root.memory;\n+\n+    FT_Byte*  table = NULL;\n+    FT_Byte*  p     = NULL;\n+\n+    Colr*  colr = NULL;\n+\n+    FT_ULong  base_glyph_offset, layer_offset;\n+    FT_ULong  table_size;\n+\n+\n+    \/* `COLR' always needs `CPAL' *\/\n+    if ( !face->cpal )\n+      return FT_THROW( Invalid_File_Format );\n+\n+    error = face->goto_table( face, TTAG_COLR, stream, &table_size );\n+    if ( error )\n+      goto NoColr;\n+\n+    if ( table_size < COLR_HEADER_SIZE )\n+      goto InvalidTable;\n+\n+    if ( FT_FRAME_EXTRACT( table_size, table ) )\n+      goto NoColr;\n+\n+    p = table;\n+\n+    if ( FT_NEW( colr ) )\n+      goto NoColr;\n+\n+    colr->version = FT_NEXT_USHORT( p );\n+    if ( colr->version != 0 )\n+      goto InvalidTable;\n+\n+    colr->num_base_glyphs = FT_NEXT_USHORT( p );\n+    base_glyph_offset     = FT_NEXT_ULONG( p );\n+\n+    if ( base_glyph_offset >= table_size )\n+      goto InvalidTable;\n+    if ( colr->num_base_glyphs * BASE_GLYPH_SIZE >\n+           table_size - base_glyph_offset )\n+      goto InvalidTable;\n+\n+    layer_offset     = FT_NEXT_ULONG( p );\n+    colr->num_layers = FT_NEXT_USHORT( p );\n+\n+    if ( layer_offset >= table_size )\n+      goto InvalidTable;\n+    if ( colr->num_layers * LAYER_SIZE > table_size - layer_offset )\n+      goto InvalidTable;\n+\n+    colr->base_glyphs = (FT_Byte*)( table + base_glyph_offset );\n+    colr->layers      = (FT_Byte*)( table + layer_offset      );\n+    colr->table       = table;\n+    colr->table_size  = table_size;\n+\n+    face->colr = colr;\n+\n+    return FT_Err_Ok;\n+\n+  InvalidTable:\n+    error = FT_THROW( Invalid_Table );\n+\n+  NoColr:\n+    FT_FRAME_RELEASE( table );\n+    FT_FREE( colr );\n+\n+    return error;\n+  }\n+\n+\n+  FT_LOCAL_DEF( void )\n+  tt_face_free_colr( TT_Face  face )\n+  {\n+    FT_Stream  stream = face->root.stream;\n+    FT_Memory  memory = face->root.memory;\n+\n+    Colr*  colr = (Colr*)face->colr;\n+\n+\n+    if ( colr )\n+    {\n+      FT_FRAME_RELEASE( colr->table );\n+      FT_FREE( colr );\n+    }\n+  }\n+\n+\n+  static FT_Bool\n+  find_base_glyph_record( FT_Byte*          base_glyph_begin,\n+                          FT_Int            num_base_glyph,\n+                          FT_UInt           glyph_id,\n+                          BaseGlyphRecord*  record )\n+  {\n+    FT_Int  min = 0;\n+    FT_Int  max = num_base_glyph - 1;\n+\n+\n+    while ( min <= max )\n+    {\n+      FT_Int    mid = min + ( max - min ) \/ 2;\n+      FT_Byte*  p   = base_glyph_begin + mid * BASE_GLYPH_SIZE;\n+\n+      FT_UShort  gid = FT_NEXT_USHORT( p );\n+\n+\n+      if ( gid < glyph_id )\n+        min = mid + 1;\n+      else if (gid > glyph_id )\n+        max = mid - 1;\n+      else\n+      {\n+        record->gid               = gid;\n+        record->first_layer_index = FT_NEXT_USHORT( p );\n+        record->num_layers        = FT_NEXT_USHORT( p );\n+\n+        return 1;\n+      }\n+    }\n+\n+    return 0;\n+  }\n+\n+\n+  FT_LOCAL_DEF( FT_Bool )\n+  tt_face_get_colr_layer( TT_Face            face,\n+                          FT_UInt            base_glyph,\n+                          FT_UInt           *aglyph_index,\n+                          FT_UInt           *acolor_index,\n+                          FT_LayerIterator*  iterator )\n+  {\n+    Colr*            colr = (Colr*)face->colr;\n+    BaseGlyphRecord  glyph_record;\n+\n+\n+    if ( !colr )\n+      return 0;\n+\n+    if ( !iterator->p )\n+    {\n+      FT_ULong  offset;\n+\n+\n+      \/* first call to function *\/\n+      iterator->layer = 0;\n+\n+      if ( !find_base_glyph_record( colr->base_glyphs,\n+                                    colr->num_base_glyphs,\n+                                    base_glyph,\n+                                    &glyph_record ) )\n+        return 0;\n+\n+      if ( glyph_record.num_layers )\n+        iterator->num_layers = glyph_record.num_layers;\n+      else\n+        return 0;\n+\n+      offset = LAYER_SIZE * glyph_record.first_layer_index;\n+      if ( offset + LAYER_SIZE * glyph_record.num_layers > colr->table_size )\n+        return 0;\n+\n+      iterator->p = colr->layers + offset;\n+    }\n+\n+    if ( iterator->layer >= iterator->num_layers )\n+      return 0;\n+\n+    *aglyph_index = FT_NEXT_USHORT( iterator->p );\n+    *acolor_index = FT_NEXT_USHORT( iterator->p );\n+\n+    if ( *aglyph_index >= (FT_UInt)( FT_FACE( face )->num_glyphs )   ||\n+         ( *acolor_index != 0xFFFF                                 &&\n+           *acolor_index >= face->palette_data.num_palette_entries ) )\n+      return 0;\n+\n+    iterator->layer++;\n+\n+    return 1;\n+  }\n+\n+\n+  FT_LOCAL_DEF( FT_Error )\n+  tt_face_colr_blend_layer( TT_Face       face,\n+                            FT_UInt       color_index,\n+                            FT_GlyphSlot  dstSlot,\n+                            FT_GlyphSlot  srcSlot )\n+  {\n+    FT_Error  error;\n+\n+    FT_UInt  x, y;\n+    FT_Byte  b, g, r, alpha;\n+\n+    FT_ULong  size;\n+    FT_Byte*  src;\n+    FT_Byte*  dst;\n+\n+\n+    if ( !dstSlot->bitmap.buffer )\n+    {\n+      \/* Initialize destination of color bitmap *\/\n+      \/* with the size of first component.      *\/\n+      dstSlot->bitmap_left = srcSlot->bitmap_left;\n+      dstSlot->bitmap_top  = srcSlot->bitmap_top;\n+\n+      dstSlot->bitmap.width      = srcSlot->bitmap.width;\n+      dstSlot->bitmap.rows       = srcSlot->bitmap.rows;\n+      dstSlot->bitmap.pixel_mode = FT_PIXEL_MODE_BGRA;\n+      dstSlot->bitmap.pitch      = (int)dstSlot->bitmap.width * 4;\n+      dstSlot->bitmap.num_grays  = 256;\n+\n+      size = dstSlot->bitmap.rows * (unsigned int)dstSlot->bitmap.pitch;\n+\n+      error = ft_glyphslot_alloc_bitmap( dstSlot, size );\n+      if ( error )\n+        return error;\n+\n+      FT_MEM_ZERO( dstSlot->bitmap.buffer, size );\n+    }\n+    else\n+    {\n+      \/* Resize destination if needed such that new component fits. *\/\n+      FT_Int  x_min, x_max, y_min, y_max;\n+\n+\n+      x_min = FT_MIN( dstSlot->bitmap_left, srcSlot->bitmap_left );\n+      x_max = FT_MAX( dstSlot->bitmap_left + (FT_Int)dstSlot->bitmap.width,\n+                      srcSlot->bitmap_left + (FT_Int)srcSlot->bitmap.width );\n+\n+      y_min = FT_MIN( dstSlot->bitmap_top - (FT_Int)dstSlot->bitmap.rows,\n+                      srcSlot->bitmap_top - (FT_Int)srcSlot->bitmap.rows );\n+      y_max = FT_MAX( dstSlot->bitmap_top, srcSlot->bitmap_top );\n+\n+      if ( x_min != dstSlot->bitmap_left                                 ||\n+           x_max != dstSlot->bitmap_left + (FT_Int)dstSlot->bitmap.width ||\n+           y_min != dstSlot->bitmap_top - (FT_Int)dstSlot->bitmap.rows   ||\n+           y_max != dstSlot->bitmap_top                                  )\n+      {\n+        FT_Memory  memory = face->root.memory;\n+\n+        FT_UInt  width = (FT_UInt)( x_max - x_min );\n+        FT_UInt  rows  = (FT_UInt)( y_max - y_min );\n+        FT_UInt  pitch = width * 4;\n+\n+        FT_Byte*  buf = NULL;\n+        FT_Byte*  p;\n+        FT_Byte*  q;\n+\n+\n+        size  = rows * pitch;\n+        if ( FT_ALLOC( buf, size ) )\n+          return error;\n+\n+        p = dstSlot->bitmap.buffer;\n+        q = buf +\n+            (int)pitch * ( y_max - dstSlot->bitmap_top ) +\n+            4 * ( dstSlot->bitmap_left - x_min );\n+\n+        for ( y = 0; y < dstSlot->bitmap.rows; y++ )\n+        {\n+          FT_MEM_COPY( q, p, dstSlot->bitmap.width * 4 );\n+\n+          p += dstSlot->bitmap.pitch;\n+          q += pitch;\n+        }\n+\n+        ft_glyphslot_set_bitmap( dstSlot, buf );\n+\n+        dstSlot->bitmap_top  = y_max;\n+        dstSlot->bitmap_left = x_min;\n+\n+        dstSlot->bitmap.width = width;\n+        dstSlot->bitmap.rows  = rows;\n+        dstSlot->bitmap.pitch = (int)pitch;\n+\n+        dstSlot->internal->flags |= FT_GLYPH_OWN_BITMAP;\n+        dstSlot->format           = FT_GLYPH_FORMAT_BITMAP;\n+      }\n+    }\n+\n+    if ( color_index == 0xFFFF )\n+    {\n+      if ( face->have_foreground_color )\n+      {\n+        b     = face->foreground_color.blue;\n+        g     = face->foreground_color.green;\n+        r     = face->foreground_color.red;\n+        alpha = face->foreground_color.alpha;\n+      }\n+      else\n+      {\n+        if ( face->palette_data.palette_flags                          &&\n+             ( face->palette_data.palette_flags[face->palette_index] &\n+                 FT_PALETTE_FOR_DARK_BACKGROUND                      ) )\n+        {\n+          \/* white opaque *\/\n+          b     = 0xFF;\n+          g     = 0xFF;\n+          r     = 0xFF;\n+          alpha = 0xFF;\n+        }\n+        else\n+        {\n+          \/* black opaque *\/\n+          b     = 0x00;\n+          g     = 0x00;\n+          r     = 0x00;\n+          alpha = 0xFF;\n+        }\n+      }\n+    }\n+    else\n+    {\n+      b     = face->palette[color_index].blue;\n+      g     = face->palette[color_index].green;\n+      r     = face->palette[color_index].red;\n+      alpha = face->palette[color_index].alpha;\n+    }\n+\n+    \/* XXX Convert if srcSlot.bitmap is not grey? *\/\n+    src = srcSlot->bitmap.buffer;\n+    dst = dstSlot->bitmap.buffer +\n+          dstSlot->bitmap.pitch * ( dstSlot->bitmap_top - srcSlot->bitmap_top ) +\n+          4 * ( srcSlot->bitmap_left - dstSlot->bitmap_left );\n+\n+    for ( y = 0; y < srcSlot->bitmap.rows; y++ )\n+    {\n+      for ( x = 0; x < srcSlot->bitmap.width; x++ )\n+      {\n+        int  aa = src[x];\n+        int  fa = alpha * aa \/ 255;\n+\n+        int  fb = b * fa \/ 255;\n+        int  fg = g * fa \/ 255;\n+        int  fr = r * fa \/ 255;\n+\n+        int  ba2 = 255 - fa;\n+\n+        int  bb = dst[4 * x + 0];\n+        int  bg = dst[4 * x + 1];\n+        int  br = dst[4 * x + 2];\n+        int  ba = dst[4 * x + 3];\n+\n+\n+        dst[4 * x + 0] = (FT_Byte)( bb * ba2 \/ 255 + fb );\n+        dst[4 * x + 1] = (FT_Byte)( bg * ba2 \/ 255 + fg );\n+        dst[4 * x + 2] = (FT_Byte)( br * ba2 \/ 255 + fr );\n+        dst[4 * x + 3] = (FT_Byte)( ba * ba2 \/ 255 + fa );\n+      }\n+\n+      src += srcSlot->bitmap.pitch;\n+      dst += dstSlot->bitmap.pitch;\n+    }\n+\n+    return FT_Err_Ok;\n+  }\n+\n+#else \/* !TT_CONFIG_OPTION_COLOR_LAYERS *\/\n+\n+  \/* ANSI C doesn't like empty source files *\/\n+  typedef int  _tt_colr_dummy;\n+\n+#endif \/* !TT_CONFIG_OPTION_COLOR_LAYERS *\/\n+\n+\/* EOF *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/sfnt\/ttcolr.c","additions":451,"deletions":0,"binary":false,"changes":451,"status":"added"},{"patch":"@@ -0,0 +1,58 @@\n+\/****************************************************************************\n+ *\n+ * ttcolr.h\n+ *\n+ *   TrueType and OpenType colored glyph layer support (specification).\n+ *\n+ * Copyright (C) 2018-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * Originally written by Shao Yu Zhang <shaozhang@fb.com>.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+\n+#ifndef __TTCOLR_H__\n+#define __TTCOLR_H__\n+\n+\n+#include <ft2build.h>\n+#include \"ttload.h\"\n+\n+\n+FT_BEGIN_HEADER\n+\n+\n+  FT_LOCAL( FT_Error )\n+  tt_face_load_colr( TT_Face    face,\n+                     FT_Stream  stream );\n+\n+  FT_LOCAL( void )\n+  tt_face_free_colr( TT_Face  face );\n+\n+  FT_LOCAL( FT_Bool )\n+  tt_face_get_colr_layer( TT_Face            face,\n+                          FT_UInt            base_glyph,\n+                          FT_UInt           *aglyph_index,\n+                          FT_UInt           *acolor_index,\n+                          FT_LayerIterator*  iterator );\n+\n+  FT_LOCAL( FT_Error )\n+  tt_face_colr_blend_layer( TT_Face       face,\n+                            FT_UInt       color_index,\n+                            FT_GlyphSlot  dstSlot,\n+                            FT_GlyphSlot  srcSlot );\n+\n+\n+FT_END_HEADER\n+\n+\n+#endif \/* __TTCOLR_H__ *\/\n+\n+\/* END *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/sfnt\/ttcolr.h","additions":58,"deletions":0,"binary":false,"changes":58,"status":"added"},{"patch":"@@ -0,0 +1,311 @@\n+\/****************************************************************************\n+ *\n+ * ttcpal.c\n+ *\n+ *   TrueType and OpenType color palette support (body).\n+ *\n+ * Copyright (C) 2018-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * Originally written by Shao Yu Zhang <shaozhang@fb.com>.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * `CPAL' table specification:\n+   *\n+   *   https:\/\/www.microsoft.com\/typography\/otspec\/cpal.htm\n+   *\n+   *\/\n+\n+\n+#include <ft2build.h>\n+#include FT_INTERNAL_DEBUG_H\n+#include FT_INTERNAL_STREAM_H\n+#include FT_TRUETYPE_TAGS_H\n+#include FT_COLOR_H\n+\n+\n+#ifdef TT_CONFIG_OPTION_COLOR_LAYERS\n+\n+#include \"ttcpal.h\"\n+\n+\n+  \/* NOTE: These are the table sizes calculated through the specs. *\/\n+#define CPAL_V0_HEADER_BASE_SIZE  12\n+#define COLOR_SIZE                 4\n+\n+\n+  \/* all data from `CPAL' not covered in FT_Palette_Data *\/\n+  typedef struct Cpal_\n+  {\n+    FT_UShort  version;        \/* Table version number (0 or 1 supported). *\/\n+    FT_UShort  num_colors;               \/* Total number of color records, *\/\n+                                         \/* combined for all palettes.     *\/\n+    FT_Byte*  colors;                              \/* RGBA array of colors *\/\n+    FT_Byte*  color_indices; \/* Index of each palette's first color record *\/\n+                             \/* in the combined color record array.        *\/\n+\n+    \/* The memory which backs up the `CPAL' table. *\/\n+    void*     table;\n+    FT_ULong  table_size;\n+\n+  } Cpal;\n+\n+\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n+#undef  FT_COMPONENT\n+#define FT_COMPONENT  ttcpal\n+\n+\n+  FT_LOCAL_DEF( FT_Error )\n+  tt_face_load_cpal( TT_Face    face,\n+                     FT_Stream  stream )\n+  {\n+    FT_Error   error;\n+    FT_Memory  memory = face->root.memory;\n+\n+    FT_Byte*  table = NULL;\n+    FT_Byte*  p     = NULL;\n+\n+    Cpal*  cpal = NULL;\n+\n+    FT_ULong  colors_offset;\n+    FT_ULong  table_size;\n+\n+\n+    error = face->goto_table( face, TTAG_CPAL, stream, &table_size );\n+    if ( error )\n+      goto NoCpal;\n+\n+    if ( table_size < CPAL_V0_HEADER_BASE_SIZE )\n+      goto InvalidTable;\n+\n+    if ( FT_FRAME_EXTRACT( table_size, table ) )\n+      goto NoCpal;\n+\n+    p = table;\n+\n+    if ( FT_NEW( cpal ) )\n+      goto NoCpal;\n+\n+    cpal->version = FT_NEXT_USHORT( p );\n+    if ( cpal->version > 1 )\n+      goto InvalidTable;\n+\n+    face->palette_data.num_palette_entries = FT_NEXT_USHORT( p );\n+    face->palette_data.num_palettes        = FT_NEXT_USHORT( p );\n+\n+    cpal->num_colors = FT_NEXT_USHORT( p );\n+    colors_offset    = FT_NEXT_ULONG( p );\n+\n+    if ( CPAL_V0_HEADER_BASE_SIZE             +\n+         face->palette_data.num_palettes * 2U > table_size )\n+      goto InvalidTable;\n+\n+    if ( colors_offset >= table_size )\n+      goto InvalidTable;\n+    if ( cpal->num_colors * COLOR_SIZE > table_size - colors_offset )\n+      goto InvalidTable;\n+\n+    if ( face->palette_data.num_palette_entries > cpal->num_colors )\n+      goto InvalidTable;\n+\n+    cpal->color_indices = p;\n+    cpal->colors        = (FT_Byte*)( table + colors_offset );\n+\n+    if ( cpal->version == 1 )\n+    {\n+      FT_ULong    type_offset, label_offset, entry_label_offset;\n+      FT_UShort*  array = NULL;\n+      FT_UShort*  limit;\n+      FT_UShort*  q;\n+\n+\n+      if ( CPAL_V0_HEADER_BASE_SIZE             +\n+           face->palette_data.num_palettes * 2U +\n+           3U * 4                               > table_size )\n+        goto InvalidTable;\n+\n+      p += face->palette_data.num_palettes * 2;\n+\n+      type_offset        = FT_NEXT_ULONG( p );\n+      label_offset       = FT_NEXT_ULONG( p );\n+      entry_label_offset = FT_NEXT_ULONG( p );\n+\n+      if ( type_offset )\n+      {\n+        if ( type_offset >= table_size )\n+          goto InvalidTable;\n+        if ( face->palette_data.num_palettes * 2 >\n+               table_size - type_offset )\n+          goto InvalidTable;\n+\n+        if ( FT_QNEW_ARRAY( array, face->palette_data.num_palettes ) )\n+          goto NoCpal;\n+\n+        p     = table + type_offset;\n+        q     = array;\n+        limit = q + face->palette_data.num_palettes;\n+\n+        while ( q < limit )\n+          *q++ = FT_NEXT_USHORT( p );\n+\n+        face->palette_data.palette_flags = array;\n+      }\n+\n+      if ( label_offset )\n+      {\n+        if ( label_offset >= table_size )\n+          goto InvalidTable;\n+        if ( face->palette_data.num_palettes * 2 >\n+               table_size - label_offset )\n+          goto InvalidTable;\n+\n+        if ( FT_QNEW_ARRAY( array, face->palette_data.num_palettes ) )\n+          goto NoCpal;\n+\n+        p     = table + label_offset;\n+        q     = array;\n+        limit = q + face->palette_data.num_palettes;\n+\n+        while ( q < limit )\n+          *q++ = FT_NEXT_USHORT( p );\n+\n+        face->palette_data.palette_name_ids = array;\n+      }\n+\n+      if ( entry_label_offset )\n+      {\n+        if ( entry_label_offset >= table_size )\n+          goto InvalidTable;\n+        if ( face->palette_data.num_palette_entries * 2 >\n+               table_size - entry_label_offset )\n+          goto InvalidTable;\n+\n+        if ( FT_QNEW_ARRAY( array, face->palette_data.num_palette_entries ) )\n+          goto NoCpal;\n+\n+        p     = table + entry_label_offset;\n+        q     = array;\n+        limit = q + face->palette_data.num_palette_entries;\n+\n+        while ( q < limit )\n+          *q++ = FT_NEXT_USHORT( p );\n+\n+        face->palette_data.palette_entry_name_ids = array;\n+      }\n+    }\n+\n+    cpal->table      = table;\n+    cpal->table_size = table_size;\n+\n+    face->cpal = cpal;\n+\n+    \/* set up default palette *\/\n+    if ( FT_NEW_ARRAY( face->palette,\n+                       face->palette_data.num_palette_entries ) )\n+      goto NoCpal;\n+\n+    if ( tt_face_palette_set( face, 0 ) )\n+      goto InvalidTable;\n+\n+    return FT_Err_Ok;\n+\n+  InvalidTable:\n+    error = FT_THROW( Invalid_Table );\n+\n+  NoCpal:\n+    FT_FRAME_RELEASE( table );\n+    FT_FREE( cpal );\n+\n+    face->cpal = NULL;\n+\n+    \/* arrays in `face->palette_data' and `face->palette' *\/\n+    \/* are freed in `sfnt_done_face'                      *\/\n+\n+    return error;\n+  }\n+\n+\n+  FT_LOCAL_DEF( void )\n+  tt_face_free_cpal( TT_Face  face )\n+  {\n+    FT_Stream  stream = face->root.stream;\n+    FT_Memory  memory = face->root.memory;\n+\n+    Cpal*  cpal = (Cpal*)face->cpal;\n+\n+\n+    if ( cpal )\n+    {\n+      FT_FRAME_RELEASE( cpal->table );\n+      FT_FREE( cpal );\n+    }\n+  }\n+\n+\n+  FT_LOCAL_DEF( FT_Error )\n+  tt_face_palette_set( TT_Face  face,\n+                       FT_UInt  palette_index )\n+  {\n+    Cpal*  cpal = (Cpal*)face->cpal;\n+\n+    FT_Byte*   offset;\n+    FT_Byte*   p;\n+\n+    FT_Color*  q;\n+    FT_Color*  limit;\n+\n+    FT_UShort  color_index;\n+\n+\n+    if ( !cpal || palette_index >= face->palette_data.num_palettes )\n+      return FT_THROW( Invalid_Argument );\n+\n+    offset      = cpal->color_indices + 2 * palette_index;\n+    color_index = FT_PEEK_USHORT( offset );\n+\n+    if ( color_index + face->palette_data.num_palette_entries >\n+           cpal->num_colors )\n+      return FT_THROW( Invalid_Table );\n+\n+    p     = cpal->colors + COLOR_SIZE * color_index;\n+    q     = face->palette;\n+    limit = q + face->palette_data.num_palette_entries;\n+\n+    while ( q < limit )\n+    {\n+      q->blue  = FT_NEXT_BYTE( p );\n+      q->green = FT_NEXT_BYTE( p );\n+      q->red   = FT_NEXT_BYTE( p );\n+      q->alpha = FT_NEXT_BYTE( p );\n+\n+      q++;\n+    }\n+\n+    return FT_Err_Ok;\n+  }\n+\n+\n+#else \/* !TT_CONFIG_OPTION_COLOR_LAYERS *\/\n+\n+  \/* ANSI C doesn't like empty source files *\/\n+  typedef int  _tt_cpal_dummy;\n+\n+#endif \/* !TT_CONFIG_OPTION_COLOR_LAYERS *\/\n+\n+\/* EOF *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/sfnt\/ttcpal.c","additions":311,"deletions":0,"binary":false,"changes":311,"status":"added"},{"patch":"@@ -0,0 +1,49 @@\n+\/****************************************************************************\n+ *\n+ * ttcpal.h\n+ *\n+ *   TrueType and OpenType color palette support (specification).\n+ *\n+ * Copyright (C) 2018-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * Originally written by Shao Yu Zhang <shaozhang@fb.com>.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+\n+#ifndef __TTCPAL_H__\n+#define __TTCPAL_H__\n+\n+\n+#include <ft2build.h>\n+#include \"ttload.h\"\n+\n+\n+FT_BEGIN_HEADER\n+\n+\n+  FT_LOCAL( FT_Error )\n+  tt_face_load_cpal( TT_Face    face,\n+                     FT_Stream  stream );\n+\n+  FT_LOCAL( void )\n+  tt_face_free_cpal( TT_Face  face );\n+\n+  FT_LOCAL( FT_Error )\n+  tt_face_palette_set( TT_Face  face,\n+                       FT_UInt  palette_index );\n+\n+\n+FT_END_HEADER\n+\n+\n+#endif \/* __TTCPAL_H__ *\/\n+\n+\/* END *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/sfnt\/ttcpal.h","additions":49,"deletions":0,"binary":false,"changes":49,"status":"added"},{"patch":"@@ -1,17 +1,17 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ttkern.c                                                               *\/\n-\/*                                                                         *\/\n-\/*    Load the basic TrueType kerning table.  This doesn't handle          *\/\n-\/*    kerning data within the GPOS table at the moment.                    *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ttkern.c\n+ *\n+ *   Load the basic TrueType kerning table.  This doesn't handle\n+ *   kerning data within the GPOS table at the moment.\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -29,6 +29,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -36,1 +36,1 @@\n-#define FT_COMPONENT  trace_ttkern\n+#define FT_COMPONENT  ttkern\n@@ -130,2 +130,2 @@\n-       *  Now check whether the pairs in this table are ordered.\n-       *  We then can use binary search.\n+       * Now check whether the pairs in this table are ordered.\n+       * We then can use binary search.\n@@ -286,2 +286,2 @@\n-        *  We don't support format 2 because we haven't seen a single font\n-        *  using it in real life...\n+        * We don't support format 2 because we haven't seen a single font\n+        * using it in real life...\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/sfnt\/ttkern.c","additions":28,"deletions":28,"binary":false,"changes":56,"status":"modified"},{"patch":"@@ -1,17 +1,17 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ttkern.h                                                               *\/\n-\/*                                                                         *\/\n-\/*    Load the basic TrueType kerning table.  This doesn't handle          *\/\n-\/*    kerning data within the GPOS table at the moment.                    *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ttkern.h\n+ *\n+ *   Load the basic TrueType kerning table.  This doesn't handle\n+ *   kerning data within the GPOS table at the moment.\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/sfnt\/ttkern.h","additions":17,"deletions":17,"binary":false,"changes":34,"status":"modified"},{"patch":"@@ -1,17 +1,17 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ttload.c                                                               *\/\n-\/*                                                                         *\/\n-\/*    Load the basic TrueType tables, i.e., tables that can be either in   *\/\n-\/*    TTF or OTF fonts (body).                                             *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ttload.c\n+ *\n+ *   Load the basic TrueType tables, i.e., tables that can be either in\n+ *   TTF or OTF fonts (body).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -29,6 +29,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -36,19 +36,21 @@\n-#define FT_COMPONENT  trace_ttload\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    tt_face_lookup_table                                               *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Looks for a TrueType table by name.                                *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face :: A face object handle.                                      *\/\n-  \/*                                                                       *\/\n-  \/*    tag  :: The searched tag.                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    A pointer to the table directory entry.  0 if not found.           *\/\n-  \/*                                                                       *\/\n+#define FT_COMPONENT  ttload\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_face_lookup_table\n+   *\n+   * @Description:\n+   *   Looks for a TrueType table by name.\n+   *\n+   * @Input:\n+   *   face ::\n+   *     A face object handle.\n+   *\n+   *   tag ::\n+   *     The searched tag.\n+   *\n+   * @Return:\n+   *   A pointer to the table directory entry.  0 if not found.\n+   *\/\n@@ -104,21 +106,25 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    tt_face_goto_table                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Looks for a TrueType table by name, then seek a stream to it.      *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face   :: A face object handle.                                    *\/\n-  \/*                                                                       *\/\n-  \/*    tag    :: The searched tag.                                        *\/\n-  \/*                                                                       *\/\n-  \/*    stream :: The stream to seek when the table is found.              *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    length :: The length of the table if found, undefined otherwise.   *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_face_goto_table\n+   *\n+   * @Description:\n+   *   Looks for a TrueType table by name, then seek a stream to it.\n+   *\n+   * @Input:\n+   *   face ::\n+   *     A face object handle.\n+   *\n+   *   tag ::\n+   *     The searched tag.\n+   *\n+   *   stream ::\n+   *     The stream to seek when the table is found.\n+   *\n+   * @Output:\n+   *   length ::\n+   *     The length of the table if found, undefined otherwise.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -312,22 +318,25 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    tt_face_load_font_dir                                              *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Loads the header of a SFNT font file.                              *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face       :: A handle to the target face object.                  *\/\n-  \/*                                                                       *\/\n-  \/*    stream     :: The input stream.                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    sfnt       :: The SFNT header.                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The stream cursor must be at the beginning of the font directory.  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_face_load_font_dir\n+   *\n+   * @Description:\n+   *   Loads the header of a SFNT font file.\n+   *\n+   * @Input:\n+   *   face ::\n+   *     A handle to the target face object.\n+   *\n+   *   stream ::\n+   *     The input stream.\n+   *\n+   * @Output:\n+   *   sfnt ::\n+   *     The SFNT header.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\n+   * @Note:\n+   *   The stream cursor must be at the beginning of the font directory.\n+   *\/\n@@ -499,40 +508,45 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    tt_face_load_any                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Loads any font table into client memory.                           *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face   :: The face object to look for.                             *\/\n-  \/*                                                                       *\/\n-  \/*    tag    :: The tag of table to load.  Use the value 0 if you want   *\/\n-  \/*              to access the whole font file, else set this parameter   *\/\n-  \/*              to a valid TrueType table tag that you can forge with    *\/\n-  \/*              the MAKE_TT_TAG macro.                                   *\/\n-  \/*                                                                       *\/\n-  \/*    offset :: The starting offset in the table (or the file if         *\/\n-  \/*              tag == 0).                                               *\/\n-  \/*                                                                       *\/\n-  \/*    length :: The address of the decision variable:                    *\/\n-  \/*                                                                       *\/\n-  \/*                If length == NULL:                                     *\/\n-  \/*                  Loads the whole table.  Returns an error if          *\/\n-  \/*                  `offset' == 0!                                       *\/\n-  \/*                                                                       *\/\n-  \/*                If *length == 0:                                       *\/\n-  \/*                  Exits immediately; returning the length of the given *\/\n-  \/*                  table or of the font file, depending on the value of *\/\n-  \/*                  `tag'.                                               *\/\n-  \/*                                                                       *\/\n-  \/*                If *length != 0:                                       *\/\n-  \/*                  Loads the next `length' bytes of table or font,      *\/\n-  \/*                  starting at offset `offset' (in table or font too).  *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    buffer :: The address of target buffer.                            *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_face_load_any\n+   *\n+   * @Description:\n+   *   Loads any font table into client memory.\n+   *\n+   * @Input:\n+   *   face ::\n+   *     The face object to look for.\n+   *\n+   *   tag ::\n+   *     The tag of table to load.  Use the value 0 if you want\n+   *     to access the whole font file, else set this parameter\n+   *     to a valid TrueType table tag that you can forge with\n+   *     the MAKE_TT_TAG macro.\n+   *\n+   *   offset ::\n+   *     The starting offset in the table (or the file if\n+   *     tag == 0).\n+   *\n+   *   length ::\n+   *     The address of the decision variable:\n+   *\n+   *     If length == NULL:\n+   *       Loads the whole table.  Returns an error if\n+   *       `offset' == 0!\n+   *\n+   *     If *length == 0:\n+   *       Exits immediately; returning the length of the given\n+   *       table or of the font file, depending on the value of\n+   *       `tag'.\n+   *\n+   *     If *length != 0:\n+   *       Loads the next `length' bytes of table or font,\n+   *       starting at offset `offset' (in table or font too).\n+   *\n+   * @Output:\n+   *   buffer ::\n+   *     The address of target buffer.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -589,16 +603,18 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    tt_face_load_generic_header                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Loads the TrueType table `head' or `bhed'.                         *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face   :: A handle to the target face object.                      *\/\n-  \/*                                                                       *\/\n-  \/*    stream :: The input stream.                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_face_load_generic_header\n+   *\n+   * @Description:\n+   *   Loads the TrueType table `head' or `bhed'.\n+   *\n+   * @Input:\n+   *   face ::\n+   *     A handle to the target face object.\n+   *\n+   *   stream ::\n+   *     The input stream.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -625,4 +641,4 @@\n-        FT_FRAME_LONG  ( Created[0] ),\n-        FT_FRAME_LONG  ( Created[1] ),\n-        FT_FRAME_LONG  ( Modified[0] ),\n-        FT_FRAME_LONG  ( Modified[1] ),\n+        FT_FRAME_ULONG ( Created[0] ),\n+        FT_FRAME_ULONG ( Created[1] ),\n+        FT_FRAME_ULONG ( Modified[0] ),\n+        FT_FRAME_ULONG ( Modified[1] ),\n@@ -679,16 +695,18 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    tt_face_load_maxp                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Loads the maximum profile into a face object.                      *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face   :: A handle to the target face object.                      *\/\n-  \/*                                                                       *\/\n-  \/*    stream :: The input stream.                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_face_load_maxp\n+   *\n+   * @Description:\n+   *   Loads the maximum profile into a face object.\n+   *\n+   * @Input:\n+   *   face ::\n+   *     A handle to the target face object.\n+   *\n+   *   stream ::\n+   *     The input stream.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -787,16 +805,18 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    tt_face_load_name                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Loads the name records.                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face   :: A handle to the target face object.                      *\/\n-  \/*                                                                       *\/\n-  \/*    stream :: The input stream.                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_face_load_name\n+   *\n+   * @Description:\n+   *   Loads the name records.\n+   *\n+   * @Input:\n+   *   face ::\n+   *     A handle to the target face object.\n+   *\n+   *   stream ::\n+   *     The input stream.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -984,11 +1004,12 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    tt_face_free_name                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Frees the name records.                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face :: A handle to the target face object.                        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_face_free_name\n+   *\n+   * @Description:\n+   *   Frees the name records.\n+   *\n+   * @Input:\n+   *   face ::\n+   *     A handle to the target face object.\n+   *\/\n@@ -1033,17 +1054,19 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    tt_face_load_cmap                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Loads the cmap directory in a face object.  The cmaps themselves   *\/\n-  \/*    are loaded on demand in the `ttcmap.c' module.                     *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face   :: A handle to the target face object.                      *\/\n-  \/*                                                                       *\/\n-  \/*    stream :: A handle to the input stream.                            *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_face_load_cmap\n+   *\n+   * @Description:\n+   *   Loads the cmap directory in a face object.  The cmaps themselves\n+   *   are loaded on demand in the `ttcmap.c' module.\n+   *\n+   * @Input:\n+   *   face ::\n+   *     A handle to the target face object.\n+   *\n+   *   stream ::\n+   *     A handle to the input stream.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -1071,16 +1094,18 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    tt_face_load_os2                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Loads the OS2 table.                                               *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face   :: A handle to the target face object.                      *\/\n-  \/*                                                                       *\/\n-  \/*    stream :: A handle to the input stream.                            *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_face_load_os2\n+   *\n+   * @Description:\n+   *   Loads the OS2 table.\n+   *\n+   * @Input:\n+   *   face ::\n+   *     A handle to the target face object.\n+   *\n+   *   stream ::\n+   *     A handle to the input stream.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -1231,16 +1256,18 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    tt_face_load_postscript                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Loads the Postscript table.                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face   :: A handle to the target face object.                      *\/\n-  \/*                                                                       *\/\n-  \/*    stream :: A handle to the input stream.                            *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_face_load_postscript\n+   *\n+   * @Description:\n+   *   Loads the Postscript table.\n+   *\n+   * @Input:\n+   *   face ::\n+   *     A handle to the target face object.\n+   *\n+   *   stream ::\n+   *     A handle to the input stream.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -1291,16 +1318,18 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    tt_face_load_pclt                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Loads the PCL 5 Table.                                             *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face   :: A handle to the target face object.                      *\/\n-  \/*                                                                       *\/\n-  \/*    stream :: A handle to the input stream.                            *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_face_load_pclt\n+   *\n+   * @Description:\n+   *   Loads the PCL 5 Table.\n+   *\n+   * @Input:\n+   *   face ::\n+   *     A handle to the target face object.\n+   *\n+   *   stream ::\n+   *     A handle to the input stream.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -1352,16 +1381,18 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    tt_face_load_gasp                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Loads the `gasp' table into a face object.                         *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face   :: A handle to the target face object.                      *\/\n-  \/*                                                                       *\/\n-  \/*    stream :: The input stream.                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_face_load_gasp\n+   *\n+   * @Description:\n+   *   Loads the `gasp' table into a face object.\n+   *\n+   * @Input:\n+   *   face ::\n+   *     A handle to the target face object.\n+   *\n+   *   stream ::\n+   *     The input stream.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/sfnt\/ttload.c","additions":300,"deletions":269,"binary":false,"changes":569,"status":"modified"},{"patch":"@@ -1,17 +1,17 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ttload.h                                                               *\/\n-\/*                                                                         *\/\n-\/*    Load the basic TrueType tables, i.e., tables that can be either in   *\/\n-\/*    TTF or OTF fonts (specification).                                    *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ttload.h\n+ *\n+ *   Load the basic TrueType tables, i.e., tables that can be either in\n+ *   TTF or OTF fonts (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/sfnt\/ttload.h","additions":17,"deletions":17,"binary":false,"changes":34,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ttmtx.c                                                                *\/\n-\/*                                                                         *\/\n-\/*    Load the metrics tables common to TTF and OTF fonts (body).          *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2006-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ttmtx.c\n+ *\n+ *   Load the metrics tables common to TTF and OTF fonts (body).\n+ *\n+ * Copyright (C) 2006-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -41,6 +41,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -48,21 +48,24 @@\n-#define FT_COMPONENT  trace_ttmtx\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    tt_face_load_hmtx                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Load the `hmtx' or `vmtx' table into a face object.                *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face     :: A handle to the target face object.                    *\/\n-  \/*                                                                       *\/\n-  \/*    stream   :: The input stream.                                      *\/\n-  \/*                                                                       *\/\n-  \/*    vertical :: A boolean flag.  If set, load `vmtx'.                  *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+#define FT_COMPONENT  ttmtx\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_face_load_hmtx\n+   *\n+   * @Description:\n+   *   Load the `hmtx' or `vmtx' table into a face object.\n+   *\n+   * @Input:\n+   *   face ::\n+   *     A handle to the target face object.\n+   *\n+   *   stream ::\n+   *     The input stream.\n+   *\n+   *   vertical ::\n+   *     A boolean flag.  If set, load `vmtx'.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -105,18 +108,21 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    tt_face_load_hhea                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Load the `hhea' or 'vhea' table into a face object.                *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face     :: A handle to the target face object.                    *\/\n-  \/*                                                                       *\/\n-  \/*    stream   :: The input stream.                                      *\/\n-  \/*                                                                       *\/\n-  \/*    vertical :: A boolean flag.  If set, load `vhea'.                  *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_face_load_hhea\n+   *\n+   * @Description:\n+   *   Load the `hhea' or 'vhea' table into a face object.\n+   *\n+   * @Input:\n+   *   face ::\n+   *     A handle to the target face object.\n+   *\n+   *   stream ::\n+   *     The input stream.\n+   *\n+   *   vertical ::\n+   *     A boolean flag.  If set, load `vhea'.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -193,24 +199,29 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    tt_face_get_metrics                                                *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Return the horizontal or vertical metrics in font units for a      *\/\n-  \/*    given glyph.  The values are the left side bearing (top side       *\/\n-  \/*    bearing for vertical metrics) and advance width (advance height    *\/\n-  \/*    for vertical metrics).                                             *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face     :: A pointer to the TrueType face structure.              *\/\n-  \/*                                                                       *\/\n-  \/*    vertical :: If set to TRUE, get vertical metrics.                  *\/\n-  \/*                                                                       *\/\n-  \/*    gindex   :: The glyph index.                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    abearing :: The bearing, either left side or top side.             *\/\n-  \/*                                                                       *\/\n-  \/*    aadvance :: The advance width or advance height, depending on      *\/\n-  \/*                the `vertical' flag.                                   *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_face_get_metrics\n+   *\n+   * @Description:\n+   *   Return the horizontal or vertical metrics in font units for a\n+   *   given glyph.  The values are the left side bearing (top side\n+   *   bearing for vertical metrics) and advance width (advance height\n+   *   for vertical metrics).\n+   *\n+   * @Input:\n+   *   face ::\n+   *     A pointer to the TrueType face structure.\n+   *\n+   *   vertical ::\n+   *     If set to TRUE, get vertical metrics.\n+   *\n+   *   gindex ::\n+   *     The glyph index.\n+   *\n+   * @Output:\n+   *   abearing ::\n+   *     The bearing, either left side or top side.\n+   *\n+   *   aadvance ::\n+   *     The advance width or advance height, depending on\n+   *     the `vertical' flag.\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/sfnt\/ttmtx.c","additions":96,"deletions":85,"binary":false,"changes":181,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ttmtx.h                                                                *\/\n-\/*                                                                         *\/\n-\/*    Load the metrics tables common to TTF and OTF fonts (specification). *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2006-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ttmtx.h\n+ *\n+ *   Load the metrics tables common to TTF and OTF fonts (specification).\n+ *\n+ * Copyright (C) 2006-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/sfnt\/ttmtx.h","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,25 +1,25 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ttpost.c                                                               *\/\n-\/*                                                                         *\/\n-\/*    PostScript name table processing for TrueType and OpenType fonts     *\/\n-\/*    (body).                                                              *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The post table is not completely loaded by the core engine.  This     *\/\n-  \/* file loads the missing PS glyph names and implements an API to access *\/\n-  \/* them.                                                                 *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ttpost.c\n+ *\n+ *   PostScript name table processing for TrueType and OpenType fonts\n+ *   (body).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+  \/**************************************************************************\n+   *\n+   * The post table is not completely loaded by the core engine.  This\n+   * file loads the missing PS glyph names and implements an API to access\n+   * them.\n+   *\n+   *\/\n@@ -41,6 +41,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -48,1 +48,1 @@\n-#define FT_COMPONENT  trace_ttpost\n+#define FT_COMPONENT  ttpost\n@@ -51,1 +51,1 @@\n-  \/* If this configuration macro is defined, we rely on the `PSNames' *\/\n+  \/* If this configuration macro is defined, we rely on the `psnames' *\/\n@@ -65,1 +65,1 @@\n-   \/* Otherwise, we ignore the `PSNames' module, and provide our own  *\/\n+   \/* Otherwise, we ignore the `psnames' module, and provide our own  *\/\n@@ -67,1 +67,1 @@\n-   \/* FreeType without the Type 1 driver & PSNames module.            *\/\n+   \/* FreeType without the Type 1 driver & psnames module.            *\/\n@@ -462,22 +462,25 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    tt_face_get_ps_name                                                *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Get the PostScript glyph name of a glyph.                          *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face   :: A handle to the parent face.                             *\/\n-  \/*                                                                       *\/\n-  \/*    idx    :: The glyph index.                                         *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    PSname :: The address of a string pointer.  Will be NULL in case   *\/\n-  \/*              of error, otherwise it is a pointer to the glyph name.   *\/\n-  \/*                                                                       *\/\n-  \/*              You must not modify the returned string!                 *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_face_get_ps_name\n+   *\n+   * @Description:\n+   *   Get the PostScript glyph name of a glyph.\n+   *\n+   * @Input:\n+   *   face ::\n+   *     A handle to the parent face.\n+   *\n+   *   idx ::\n+   *     The glyph index.\n+   *\n+   * @InOut:\n+   *   PSname ::\n+   *     The address of a string pointer.  Undefined in case of\n+   *     error, otherwise it is a pointer to the glyph name.\n+   *\n+   *     You must not modify the returned string!\n+   *\n+   * @Output:\n+   *   FreeType error code.  0 means success.\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/sfnt\/ttpost.c","additions":60,"deletions":57,"binary":false,"changes":117,"status":"modified"},{"patch":"@@ -1,17 +1,17 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ttpost.h                                                               *\/\n-\/*                                                                         *\/\n-\/*    PostScript name table processing for TrueType and OpenType fonts     *\/\n-\/*    (specification).                                                     *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ttpost.h\n+ *\n+ *   PostScript name table processing for TrueType and OpenType fonts\n+ *   (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/sfnt\/ttpost.h","additions":17,"deletions":17,"binary":false,"changes":34,"status":"modified"},{"patch":"@@ -1,19 +1,19 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ttsbit.c                                                               *\/\n-\/*                                                                         *\/\n-\/*    TrueType and OpenType embedded bitmap support (body).                *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2005-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2013 by Google, Inc.                                         *\/\n-\/*  Google Author(s): Behdad Esfahbod.                                     *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ttsbit.c\n+ *\n+ *   TrueType and OpenType embedded bitmap support (body).\n+ *\n+ * Copyright (C) 2005-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * Copyright 2013 by Google, Inc.\n+ * Google Author(s): Behdad Esfahbod.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -39,6 +39,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -46,1 +46,1 @@\n-#define FT_COMPONENT  trace_ttsbit\n+#define FT_COMPONENT  ttsbit\n@@ -132,2 +132,2 @@\n-         *  Count the number of strikes available in the table.  We are a bit\n-         *  paranoid there and don't trust the data.\n+         * Count the number of strikes available in the table.  We are a bit\n+         * paranoid there and don't trust the data.\n@@ -185,2 +185,2 @@\n-         *  Count the number of strikes available in the table.  We are a bit\n-         *  paranoid there and don't trust the data.\n+         * Count the number of strikes available in the table.  We are a bit\n+         * paranoid there and don't trust the data.\n@@ -1017,2 +1017,2 @@\n-      FT_Byte  dx     = FT_NEXT_BYTE( p );\n-      FT_Byte  dy     = FT_NEXT_BYTE( p );\n+      FT_Char  dx     = FT_NEXT_CHAR( p );\n+      FT_Char  dy     = FT_NEXT_CHAR( p );\n@@ -1517,1 +1517,1 @@\n-      return FT_THROW( Invalid_Argument );\n+      return FT_THROW( Missing_Bitmap );\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/sfnt\/ttsbit.c","additions":33,"deletions":33,"binary":false,"changes":66,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ttsbit.h                                                               *\/\n-\/*                                                                         *\/\n-\/*    TrueType and OpenType embedded bitmap support (specification).       *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ttsbit.h\n+ *\n+ *   TrueType and OpenType embedded bitmap support (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/sfnt\/ttsbit.h","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,89 +1,89 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftgrays.c                                                              *\/\n-\/*                                                                         *\/\n-\/*    A new `perfect' anti-aliasing renderer (body).                       *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2000-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* This file can be compiled without the rest of the FreeType engine, by *\/\n-  \/* defining the STANDALONE_ macro when compiling it.  You also need to   *\/\n-  \/* put the files `ftgrays.h' and `ftimage.h' into the current            *\/\n-  \/* compilation directory.  Typically, you could do something like        *\/\n-  \/*                                                                       *\/\n-  \/* - copy `src\/smooth\/ftgrays.c' (this file) to your current directory   *\/\n-  \/*                                                                       *\/\n-  \/* - copy `include\/freetype\/ftimage.h' and `src\/smooth\/ftgrays.h' to the *\/\n-  \/*   same directory                                                      *\/\n-  \/*                                                                       *\/\n-  \/* - compile `ftgrays' with the STANDALONE_ macro defined, as in         *\/\n-  \/*                                                                       *\/\n-  \/*     cc -c -DSTANDALONE_ ftgrays.c                                     *\/\n-  \/*                                                                       *\/\n-  \/* The renderer can be initialized with a call to                        *\/\n-  \/* `ft_gray_raster.raster_new'; an anti-aliased bitmap can be generated  *\/\n-  \/* with a call to `ft_gray_raster.raster_render'.                        *\/\n-  \/*                                                                       *\/\n-  \/* See the comments and documentation in the file `ftimage.h' for more   *\/\n-  \/* details on how the raster works.                                      *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* This is a new anti-aliasing scan-converter for FreeType 2.  The       *\/\n-  \/* algorithm used here is _very_ different from the one in the standard  *\/\n-  \/* `ftraster' module.  Actually, `ftgrays' computes the _exact_          *\/\n-  \/* coverage of the outline on each pixel cell.                           *\/\n-  \/*                                                                       *\/\n-  \/* It is based on ideas that I initially found in Raph Levien's          *\/\n-  \/* excellent LibArt graphics library (see http:\/\/www.levien.com\/libart   *\/\n-  \/* for more information, though the web pages do not tell anything       *\/\n-  \/* about the renderer; you'll have to dive into the source code to       *\/\n-  \/* understand how it works).                                             *\/\n-  \/*                                                                       *\/\n-  \/* Note, however, that this is a _very_ different implementation         *\/\n-  \/* compared to Raph's.  Coverage information is stored in a very         *\/\n-  \/* different way, and I don't use sorted vector paths.  Also, it doesn't *\/\n-  \/* use floating point values.                                            *\/\n-  \/*                                                                       *\/\n-  \/* This renderer has the following advantages:                           *\/\n-  \/*                                                                       *\/\n-  \/* - It doesn't need an intermediate bitmap.  Instead, one can supply a  *\/\n-  \/*   callback function that will be called by the renderer to draw gray  *\/\n-  \/*   spans on any target surface.  You can thus do direct composition on *\/\n-  \/*   any kind of bitmap, provided that you give the renderer the right   *\/\n-  \/*   callback.                                                           *\/\n-  \/*                                                                       *\/\n-  \/* - A perfect anti-aliaser, i.e., it computes the _exact_ coverage on   *\/\n-  \/*   each pixel cell.                                                    *\/\n-  \/*                                                                       *\/\n-  \/* - It performs a single pass on the outline (the `standard' FT2        *\/\n-  \/*   renderer makes two passes).                                         *\/\n-  \/*                                                                       *\/\n-  \/* - It can easily be modified to render to _any_ number of gray levels  *\/\n-  \/*   cheaply.                                                            *\/\n-  \/*                                                                       *\/\n-  \/* - For small (< 20) pixel sizes, it is faster than the standard        *\/\n-  \/*   renderer.                                                           *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+\/****************************************************************************\n+ *\n+ * ftgrays.c\n+ *\n+ *   A new `perfect' anti-aliasing renderer (body).\n+ *\n+ * Copyright (C) 2000-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+  \/**************************************************************************\n+   *\n+   * This file can be compiled without the rest of the FreeType engine, by\n+   * defining the STANDALONE_ macro when compiling it.  You also need to\n+   * put the files `ftgrays.h' and `ftimage.h' into the current\n+   * compilation directory.  Typically, you could do something like\n+   *\n+   * - copy `src\/smooth\/ftgrays.c' (this file) to your current directory\n+   *\n+   * - copy `include\/freetype\/ftimage.h' and `src\/smooth\/ftgrays.h' to the\n+   *   same directory\n+   *\n+   * - compile `ftgrays' with the STANDALONE_ macro defined, as in\n+   *\n+   *     cc -c -DSTANDALONE_ ftgrays.c\n+   *\n+   * The renderer can be initialized with a call to\n+   * `ft_gray_raster.raster_new'; an anti-aliased bitmap can be generated\n+   * with a call to `ft_gray_raster.raster_render'.\n+   *\n+   * See the comments and documentation in the file `ftimage.h' for more\n+   * details on how the raster works.\n+   *\n+   *\/\n+\n+  \/**************************************************************************\n+   *\n+   * This is a new anti-aliasing scan-converter for FreeType 2.  The\n+   * algorithm used here is _very_ different from the one in the standard\n+   * `ftraster' module.  Actually, `ftgrays' computes the _exact_\n+   * coverage of the outline on each pixel cell.\n+   *\n+   * It is based on ideas that I initially found in Raph Levien's\n+   * excellent LibArt graphics library (see https:\/\/www.levien.com\/libart\n+   * for more information, though the web pages do not tell anything\n+   * about the renderer; you'll have to dive into the source code to\n+   * understand how it works).\n+   *\n+   * Note, however, that this is a _very_ different implementation\n+   * compared to Raph's.  Coverage information is stored in a very\n+   * different way, and I don't use sorted vector paths.  Also, it doesn't\n+   * use floating point values.\n+   *\n+   * This renderer has the following advantages:\n+   *\n+   * - It doesn't need an intermediate bitmap.  Instead, one can supply a\n+   *   callback function that will be called by the renderer to draw gray\n+   *   spans on any target surface.  You can thus do direct composition on\n+   *   any kind of bitmap, provided that you give the renderer the right\n+   *   callback.\n+   *\n+   * - A perfect anti-aliaser, i.e., it computes the _exact_ coverage on\n+   *   each pixel cell.\n+   *\n+   * - It performs a single pass on the outline (the `standard' FT2\n+   *   renderer makes two passes).\n+   *\n+   * - It can easily be modified to render to _any_ number of gray levels\n+   *   cheaply.\n+   *\n+   * - For small (< 20) pixel sizes, it is faster than the standard\n+   *   renderer.\n+   *\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -91,1 +91,1 @@\n-#define FT_COMPONENT  trace_smooth\n+#define FT_COMPONENT  smooth\n@@ -115,3 +115,3 @@\n-   *  Approximate sqrt(x*x+y*y) using the `alpha max plus beta min'\n-   *  algorithm.  We use alpha = 1, beta = 3\/8, giving us results with a\n-   *  largest error less than 7% compared to the exact value.\n+   * Approximate sqrt(x*x+y*y) using the `alpha max plus beta min'\n+   * algorithm.  We use alpha = 1, beta = 3\/8, giving us results with a\n+   * largest error less than 7% compared to the exact value.\n@@ -225,1 +225,1 @@\n-          ( FT_Throw( FT_ERR_CAT( ErrRaster, e ),   \\\n+          ( FT_Throw( FT_ERR_CAT( ErrRaster_, e ),  \\\n@@ -228,1 +228,1 @@\n-            FT_ERR_CAT( ErrRaster, e )            )\n+            FT_ERR_CAT( ErrRaster_, e )           )\n@@ -282,2 +282,0 @@\n-#include \"ftspic.h\"\n-\n@@ -398,4 +396,4 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*   TYPE DEFINITIONS                                                    *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * TYPE DEFINITIONS\n+   *\/\n@@ -407,1 +405,1 @@\n-  typedef long  TPos;     \/* sub-pixel coordinate              *\/\n+  typedef long  TPos;     \/* subpixel coordinate               *\/\n@@ -519,4 +517,4 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Record the current cell in the table.                                 *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Record the current cell in the table.\n+   *\/\n@@ -564,4 +562,4 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Set the current cell to a new position.                               *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Set the current cell to a new position.\n+   *\/\n@@ -601,4 +599,4 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Render a scanline as one or more cells.                               *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Render a scanline as one or more cells.\n+   *\/\n@@ -699,4 +697,4 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Render a given line as a series of scanlines.                         *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Render a given line as a series of scanlines.\n+   *\/\n@@ -840,4 +838,4 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Render a straight line across multiple cells in any direction.        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Render a straight line across multiple cells in any direction.\n+   *\/\n@@ -1333,34 +1331,37 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*  The following functions should only compile in stand-alone mode,     *\/\n-  \/*  i.e., when building this component without the rest of FreeType.     *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Outline_Decompose                                               *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Walk over an outline's structure to decompose it into individual   *\/\n-  \/*    segments and Bzier arcs.  This function is also able to emit      *\/\n-  \/*    `move to' and `close to' operations to indicate the start and end  *\/\n-  \/*    of new contours in the outline.                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    outline        :: A pointer to the source target.                  *\/\n-  \/*                                                                       *\/\n-  \/*    func_interface :: A table of `emitters', i.e., function pointers   *\/\n-  \/*                      called during decomposition to indicate path     *\/\n-  \/*                      operations.                                      *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    user           :: A typeless pointer which is passed to each       *\/\n-  \/*                      emitter during the decomposition.  It can be     *\/\n-  \/*                      used to store the state during the               *\/\n-  \/*                      decomposition.                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    Error code.  0 means success.                                      *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The following functions should only compile in stand-alone mode,\n+   * i.e., when building this component without the rest of FreeType.\n+   *\n+   *\/\n+\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   FT_Outline_Decompose\n+   *\n+   * @Description:\n+   *   Walk over an outline's structure to decompose it into individual\n+   *   segments and Bzier arcs.  This function is also able to emit\n+   *   `move to' and `close to' operations to indicate the start and end\n+   *   of new contours in the outline.\n+   *\n+   * @Input:\n+   *   outline ::\n+   *     A pointer to the source target.\n+   *\n+   *   func_interface ::\n+   *     A table of `emitters', i.e., function pointers\n+   *     called during decomposition to indicate path\n+   *     operations.\n+   *\n+   * @InOut:\n+   *   user ::\n+   *     A typeless pointer which is passed to each\n+   *     emitter during the decomposition.  It can be\n+   *     used to store the state during the\n+   *     decomposition.\n+   *\n+   * @Return:\n+   *   Error code.  0 means success.\n+   *\/\n@@ -1613,75 +1614,0 @@\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    FT_Outline_Get_CBox                                                *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Return an outline's `control box'.  The control box encloses all   *\/\n-  \/*    the outline's points, including Bzier control points.  Though it  *\/\n-  \/*    coincides with the exact bounding box for most glyphs, it can be   *\/\n-  \/*    slightly larger in some situations (like when rotating an outline  *\/\n-  \/*    that contains Bzier outside arcs).                                *\/\n-  \/*                                                                       *\/\n-  \/*    Computing the control box is very fast, while getting the bounding *\/\n-  \/*    box can take much more time as it needs to walk over all segments  *\/\n-  \/*    and arcs in the outline.  To get the latter, you can use the       *\/\n-  \/*    `ftbbox' component, which is dedicated to this single task.        *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    outline :: A pointer to the source outline descriptor.             *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    acbox   :: The outline's control box.                              *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    See @FT_Glyph_Get_CBox for a discussion of tricky fonts.           *\/\n-  \/*                                                                       *\/\n-\n-  static void\n-  FT_Outline_Get_CBox( const FT_Outline*  outline,\n-                       FT_BBox           *acbox )\n-  {\n-    TPos  xMin, yMin, xMax, yMax;\n-\n-\n-    if ( outline && acbox )\n-    {\n-      if ( outline->n_points == 0 )\n-      {\n-        xMin = 0;\n-        yMin = 0;\n-        xMax = 0;\n-        yMax = 0;\n-      }\n-      else\n-      {\n-        FT_Vector*  vec   = outline->points;\n-        FT_Vector*  limit = vec + outline->n_points;\n-\n-\n-        xMin = xMax = vec->x;\n-        yMin = yMax = vec->y;\n-        vec++;\n-\n-        for ( ; vec < limit; vec++ )\n-        {\n-          TPos  x, y;\n-\n-\n-          x = vec->x;\n-          if ( x < xMin ) xMin = x;\n-          if ( x > xMax ) xMax = x;\n-\n-          y = vec->y;\n-          if ( y < yMin ) yMin = y;\n-          if ( y > yMax ) yMax = y;\n-        }\n-      }\n-      acbox->xMin = xMin;\n-      acbox->xMax = xMax;\n-      acbox->yMin = yMin;\n-      acbox->yMax = yMax;\n-    }\n-  }\n-\n@@ -1705,1 +1631,2 @@\n-  gray_convert_glyph_inner( RAS_ARG )\n+  gray_convert_glyph_inner( RAS_ARG,\n+                            int  continued )\n@@ -1707,1 +1634,0 @@\n-\n@@ -1710,4 +1636,0 @@\n-#ifdef FT_CONFIG_OPTION_PIC\n-      FT_Outline_Funcs func_interface;\n-      Init_Class_func_interface(&func_interface);\n-#endif\n@@ -1717,0 +1639,2 @@\n+      if ( continued )\n+        FT_Trace_Disable();\n@@ -1718,0 +1642,3 @@\n+      if ( continued )\n+        FT_Trace_Enable();\n+\n@@ -1744,2 +1671,0 @@\n-    const TCoord  xMin = ras.min_ex;\n-    const TCoord  xMax = ras.max_ex;\n@@ -1754,0 +1679,2 @@\n+    int  continued = 0;\n+\n@@ -1777,2 +1704,2 @@\n-      band[1] = xMin;\n-      band[0] = xMax;\n+      band[1] = ras.min_ey;\n+      band[0] = ras.max_ey;\n@@ -1790,2 +1717,2 @@\n-        ras.min_ex    = band[1];\n-        ras.max_ex    = band[0];\n+        ras.min_ey    = band[1];\n+        ras.max_ey    = band[0];\n@@ -1793,1 +1720,2 @@\n-        error = gray_convert_glyph_inner( RAS_VAR );\n+        error     = gray_convert_glyph_inner( RAS_VAR, continued );\n+        continued = 1;\n@@ -1830,1 +1758,1 @@\n-    FT_BBox            cbox, clip;\n+    FT_BBox            clip;\n@@ -1893,13 +1821,0 @@\n-    FT_Outline_Get_CBox( outline, &cbox );\n-\n-    \/* reject too large outline coordinates *\/\n-    if ( cbox.xMin < -0x1000000L || cbox.xMax > 0x1000000L ||\n-         cbox.yMin < -0x1000000L || cbox.yMax > 0x1000000L )\n-      return FT_THROW( Invalid_Outline );\n-\n-    \/* truncate the bounding box to integer pixels *\/\n-    cbox.xMin = cbox.xMin >> 6;\n-    cbox.yMin = cbox.yMin >> 6;\n-    cbox.xMax = ( cbox.xMax + 63 ) >> 6;\n-    cbox.yMax = ( cbox.yMax + 63 ) >> 6;\n-\n@@ -1907,1 +1822,4 @@\n-    if ( !( params->flags & FT_RASTER_FLAG_DIRECT ) )\n+    if ( params->flags & FT_RASTER_FLAG_DIRECT &&\n+         params->flags & FT_RASTER_FLAG_CLIP   )\n+      clip = params->clip_box;\n+    else\n@@ -1915,9 +1833,0 @@\n-    else if ( params->flags & FT_RASTER_FLAG_CLIP )\n-      clip = params->clip_box;\n-    else\n-    {\n-      clip.xMin = -32768L;\n-      clip.yMin = -32768L;\n-      clip.xMax =  32767L;\n-      clip.yMax =  32767L;\n-    }\n@@ -1926,4 +1835,4 @@\n-    ras.min_ex = FT_MAX( cbox.xMin, clip.xMin );\n-    ras.min_ey = FT_MAX( cbox.yMin, clip.yMin );\n-    ras.max_ex = FT_MIN( cbox.xMax, clip.xMax );\n-    ras.max_ey = FT_MIN( cbox.yMax, clip.yMax );\n+    ras.min_ex = clip.xMin;\n+    ras.min_ey = clip.yMin;\n+    ras.max_ex = clip.xMax;\n+    ras.max_ey = clip.yMax;\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/smooth\/ftgrays.c","additions":181,"deletions":272,"binary":false,"changes":453,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftgrays.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    FreeType smooth renderer declaration                                 *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftgrays.h\n+ *\n+ *   FreeType smooth renderer declaration\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -31,1 +31,0 @@\n-#include FT_CONFIG_CONFIG_H \/* for FT_CONFIG_OPTION_PIC *\/\n@@ -36,8 +35,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* To make ftgrays.h independent from configuration files we check       *\/\n-  \/* whether FT_EXPORT_VAR has been defined already.                       *\/\n-  \/*                                                                       *\/\n-  \/* On some systems and compilers (Win32 mostly), an extra keyword is     *\/\n-  \/* necessary to compile the library as a DLL.                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * To make ftgrays.h independent from configuration files we check\n+   * whether FT_EXPORT_VAR has been defined already.\n+   *\n+   * On some systems and compilers (Win32 mostly), an extra keyword is\n+   * necessary to compile the library as a DLL.\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/smooth\/ftgrays.h","additions":24,"deletions":25,"binary":false,"changes":49,"status":"modified"},{"patch":"@@ -1,24 +1,24 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftsmerrs.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    smooth renderer error codes (specification only).                    *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2001-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* This file is used to define the smooth renderer error enumeration     *\/\n-  \/* constants.                                                            *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftsmerrs.h\n+ *\n+ *   smooth renderer error codes (specification only).\n+ *\n+ * Copyright (C) 2001-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * This file is used to define the smooth renderer error enumeration\n+   * constants.\n+   *\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/smooth\/ftsmerrs.h","additions":24,"deletions":24,"binary":false,"changes":48,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftsmooth.c                                                             *\/\n-\/*                                                                         *\/\n-\/*    Anti-aliasing renderer interface (body).                             *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2000-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftsmooth.c\n+ *\n+ *   Anti-aliasing renderer interface (body).\n+ *\n+ * Copyright (C) 2000-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -25,1 +25,0 @@\n-#include \"ftspic.h\"\n@@ -34,0 +33,20 @@\n+\n+#ifndef FT_CONFIG_OPTION_SUBPIXEL_RENDERING\n+\n+    FT_Vector*  sub = render->root.library->lcd_geometry;\n+\n+\n+    \/* set up default subpixel geometry for striped RGB panels. *\/\n+    sub[0].x = -21;\n+    sub[0].y = 0;\n+    sub[1].x = 0;\n+    sub[1].y = 0;\n+    sub[2].x = 21;\n+    sub[2].y = 0;\n+\n+#elif 0   \/* or else, once ClearType patents expire *\/\n+\n+    FT_Library_SetLcdFilter( render->root.library, FT_LCD_FILTER_DEFAULT );\n+\n+#endif\n+\n@@ -133,1 +152,5 @@\n-    ft_glyphslot_preset_bitmap( slot, mode, origin );\n+    if ( ft_glyphslot_preset_bitmap( slot, mode, origin ) )\n+    {\n+      error = FT_THROW( Raster_Overflow );\n+      goto Exit;\n+    }\n@@ -238,0 +261,1 @@\n+      FT_Vector*  sub = slot->library->lcd_geometry;\n@@ -239,3 +263,0 @@\n-      \/* Render 3 separate monochrome bitmaps, shifting the outline  *\/\n-      \/* by 1\/3 pixel.                                               *\/\n-      width \/= 3;\n@@ -243,1 +264,2 @@\n-      bitmap->buffer += width;\n+      \/* Render 3 separate monochrome bitmaps, shifting the outline.  *\/\n+      width \/= 3;\n@@ -245,0 +267,3 @@\n+      FT_Outline_Translate( outline,\n+                            -sub[0].x,\n+                            -sub[0].y );\n@@ -249,2 +274,0 @@\n-      FT_Outline_Translate( outline, -21, 0 );\n-      x_shift        -= 21;\n@@ -252,1 +275,3 @@\n-\n+      FT_Outline_Translate( outline,\n+                            sub[0].x - sub[1].x,\n+                            sub[0].y - sub[1].y );\n@@ -254,0 +279,1 @@\n+      bitmap->buffer -= width;\n@@ -257,4 +283,4 @@\n-      FT_Outline_Translate( outline,  42, 0 );\n-      x_shift        += 42;\n-      bitmap->buffer -= 2 * width;\n-\n+      bitmap->buffer += 2 * width;\n+      FT_Outline_Translate( outline,\n+                            sub[1].x - sub[2].x,\n+                            sub[1].y - sub[2].y );\n@@ -262,0 +288,1 @@\n+      bitmap->buffer -= 2 * width;\n@@ -265,0 +292,3 @@\n+      x_shift -= sub[2].x;\n+      y_shift -= sub[2].y;\n+\n@@ -289,0 +319,2 @@\n+      FT_Vector*  sub = slot->library->lcd_geometry;\n+\n@@ -290,2 +322,3 @@\n-      \/* Render 3 separate monochrome bitmaps, shifting the outline  *\/\n-      \/* by 1\/3 pixel. Triple the pitch to render on each third row. *\/\n+      \/* Render 3 separate monochrome bitmaps, shifting the outline. *\/\n+      \/* Notice that the subpixel geometry vectors are rotated.      *\/\n+      \/* Triple the pitch to render on each third row.               *\/\n@@ -295,2 +328,3 @@\n-      bitmap->buffer += pitch;\n-\n+      FT_Outline_Translate( outline,\n+                            -sub[0].y,\n+                            sub[0].x );\n@@ -301,2 +335,0 @@\n-      FT_Outline_Translate( outline, 0,  21 );\n-      y_shift        += 21;\n@@ -304,1 +336,3 @@\n-\n+      FT_Outline_Translate( outline,\n+                            sub[0].y - sub[1].y,\n+                            sub[1].x - sub[0].x );\n@@ -306,0 +340,1 @@\n+      bitmap->buffer -= pitch;\n@@ -309,4 +344,4 @@\n-      FT_Outline_Translate( outline, 0, -42 );\n-      y_shift        -= 42;\n-      bitmap->buffer -= 2 * pitch;\n-\n+      bitmap->buffer += 2 * pitch;\n+      FT_Outline_Translate( outline,\n+                            sub[1].y - sub[2].y,\n+                            sub[2].x - sub[1].x );\n@@ -314,0 +349,1 @@\n+      bitmap->buffer -= 2 * pitch;\n@@ -317,0 +353,3 @@\n+      x_shift -= sub[2].y;\n+      y_shift += sub[2].x;\n+\n@@ -406,1 +445,1 @@\n-    (FT_Raster_Funcs*)&FT_GRAYS_RASTER_GET           \/* raster_class    *\/\n+    (FT_Raster_Funcs*)&ft_grays_raster               \/* raster_class    *\/\n@@ -433,1 +472,1 @@\n-    (FT_Raster_Funcs*)&FT_GRAYS_RASTER_GET            \/* raster_class    *\/\n+    (FT_Raster_Funcs*)&ft_grays_raster                \/* raster_class    *\/\n@@ -460,1 +499,1 @@\n-    (FT_Raster_Funcs*)&FT_GRAYS_RASTER_GET              \/* raster_class    *\/\n+    (FT_Raster_Funcs*)&ft_grays_raster                  \/* raster_class    *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/smooth\/ftsmooth.c","additions":82,"deletions":43,"binary":false,"changes":125,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftsmooth.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    Anti-aliasing renderer interface (specification).                    *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ftsmooth.h\n+ *\n+ *   Anti-aliasing renderer interface (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/smooth\/ftsmooth.h","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,118 +0,0 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftspic.c                                                               *\/\n-\/*                                                                         *\/\n-\/*    The FreeType position independent code services for smooth module.   *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2009-2018 by                                                 *\/\n-\/*  Oran Agra and Mickey Gabel.                                            *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-#include <ft2build.h>\n-#include FT_FREETYPE_H\n-#include FT_INTERNAL_OBJECTS_H\n-#include \"ftspic.h\"\n-#include \"ftsmerrs.h\"\n-\n-\n-#ifdef FT_CONFIG_OPTION_PIC\n-\n-  \/* forward declaration of PIC init functions from ftgrays.c *\/\n-  void\n-  FT_Init_Class_ft_grays_raster( FT_Raster_Funcs*  funcs );\n-\n-\n-  void\n-  ft_smooth_renderer_class_pic_free( FT_Library  library )\n-  {\n-    FT_PIC_Container*  pic_container = &library->pic_container;\n-    FT_Memory          memory        = library->memory;\n-\n-\n-    if ( pic_container->smooth )\n-    {\n-      SmoothPIC*  container = (SmoothPIC*)pic_container->smooth;\n-\n-\n-      if ( --container->ref_count )\n-        return;\n-\n-      FT_FREE( container );\n-      pic_container->smooth = NULL;\n-    }\n-  }\n-\n-\n-  FT_Error\n-  ft_smooth_renderer_class_pic_init( FT_Library  library )\n-  {\n-    FT_PIC_Container*  pic_container = &library->pic_container;\n-    FT_Error           error         = FT_Err_Ok;\n-    SmoothPIC*         container     = NULL;\n-    FT_Memory          memory        = library->memory;\n-\n-\n-    \/* since this function also serve smooth_lcd and smooth_lcdv renderers,\n-       it implements reference counting *\/\n-    if ( pic_container->smooth )\n-    {\n-      ((SmoothPIC*)pic_container->smooth)->ref_count++;\n-      return error;\n-    }\n-\n-    \/* allocate pointer, clear and set global container pointer *\/\n-    if ( FT_ALLOC( container, sizeof ( *container ) ) )\n-      return error;\n-    FT_MEM_SET( container, 0, sizeof ( *container ) );\n-    pic_container->smooth = container;\n-\n-    container->ref_count = 1;\n-\n-    \/* initialize pointer table -                       *\/\n-    \/* this is how the module usually expects this data *\/\n-    FT_Init_Class_ft_grays_raster( &container->ft_grays_raster );\n-\n-    return error;\n-  }\n-\n-\n-  \/* re-route these init and free functions to the above functions *\/\n-  FT_Error\n-  ft_smooth_lcd_renderer_class_pic_init( FT_Library  library )\n-  {\n-    return ft_smooth_renderer_class_pic_init( library );\n-  }\n-\n-\n-  void\n-  ft_smooth_lcd_renderer_class_pic_free( FT_Library  library )\n-  {\n-    ft_smooth_renderer_class_pic_free( library );\n-  }\n-\n-\n-  FT_Error\n-  ft_smooth_lcdv_renderer_class_pic_init( FT_Library  library )\n-  {\n-    return ft_smooth_renderer_class_pic_init( library );\n-  }\n-\n-\n-  void\n-  ft_smooth_lcdv_renderer_class_pic_free( FT_Library  library )\n-  {\n-    ft_smooth_renderer_class_pic_free( library );\n-  }\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n-\n-\/* END *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/smooth\/ftspic.c","additions":0,"deletions":118,"binary":false,"changes":118,"status":"deleted"},{"patch":"@@ -1,75 +0,0 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ftspic.h                                                               *\/\n-\/*                                                                         *\/\n-\/*    The FreeType position independent code services for smooth module.   *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2009-2018 by                                                 *\/\n-\/*  Oran Agra and Mickey Gabel.                                            *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-#ifndef FTSPIC_H_\n-#define FTSPIC_H_\n-\n-\n-#include FT_INTERNAL_PIC_H\n-\n-\n-FT_BEGIN_HEADER\n-\n-#ifndef FT_CONFIG_OPTION_PIC\n-\n-#define FT_GRAYS_RASTER_GET  ft_grays_raster\n-\n-#else \/* FT_CONFIG_OPTION_PIC *\/\n-\n-  typedef struct  SmoothPIC_\n-  {\n-    int              ref_count;\n-    FT_Raster_Funcs  ft_grays_raster;\n-\n-  } SmoothPIC;\n-\n-\n-#define GET_PIC( lib ) \\\n-          ( (SmoothPIC*)( (lib)->pic_container.smooth ) )\n-#define FT_GRAYS_RASTER_GET  ( GET_PIC( library )->ft_grays_raster )\n-\n-\n-  \/* see ftspic.c for the implementation *\/\n-  void\n-  ft_smooth_renderer_class_pic_free( FT_Library  library );\n-\n-  void\n-  ft_smooth_lcd_renderer_class_pic_free( FT_Library  library );\n-\n-  void\n-  ft_smooth_lcdv_renderer_class_pic_free( FT_Library  library );\n-\n-  FT_Error\n-  ft_smooth_renderer_class_pic_init( FT_Library  library );\n-\n-  FT_Error\n-  ft_smooth_lcd_renderer_class_pic_init( FT_Library  library );\n-\n-  FT_Error\n-  ft_smooth_lcdv_renderer_class_pic_init( FT_Library  library );\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n- \/* *\/\n-\n-FT_END_HEADER\n-\n-#endif \/* FTSPIC_H_ *\/\n-\n-\n-\/* END *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/smooth\/ftspic.h","additions":0,"deletions":75,"binary":false,"changes":75,"status":"deleted"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ttdriver.c                                                             *\/\n-\/*                                                                         *\/\n-\/*    TrueType font driver implementation (body).                          *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ttdriver.c\n+ *\n+ *   TrueType font driver implementation (body).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -46,1 +46,0 @@\n-#include \"ttpic.h\"\n@@ -48,6 +47,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -55,1 +54,1 @@\n-#define FT_COMPONENT  trace_ttdriver\n+#define FT_COMPONENT  ttdriver\n@@ -59,1 +58,1 @@\n-   *  PROPERTY SERVICE\n+   * PROPERTY SERVICE\n@@ -167,32 +166,36 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    tt_get_kerning                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A driver method used to return the kerning vector between two      *\/\n-  \/*    glyphs of the same face.                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face        :: A handle to the source face object.                 *\/\n-  \/*                                                                       *\/\n-  \/*    left_glyph  :: The index of the left glyph in the kern pair.       *\/\n-  \/*                                                                       *\/\n-  \/*    right_glyph :: The index of the right glyph in the kern pair.      *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    kerning     :: The kerning vector.  This is in font units for      *\/\n-  \/*                   scalable formats, and in pixels for fixed-sizes     *\/\n-  \/*                   formats.                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    Only horizontal layouts (left-to-right & right-to-left) are        *\/\n-  \/*    supported by this function.  Other layouts, or more sophisticated  *\/\n-  \/*    kernings, are out of scope of this method (the basic driver        *\/\n-  \/*    interface is meant to be simple).                                  *\/\n-  \/*                                                                       *\/\n-  \/*    They can be implemented by format-specific interfaces.             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_get_kerning\n+   *\n+   * @Description:\n+   *   A driver method used to return the kerning vector between two\n+   *   glyphs of the same face.\n+   *\n+   * @Input:\n+   *   face ::\n+   *     A handle to the source face object.\n+   *\n+   *   left_glyph ::\n+   *     The index of the left glyph in the kern pair.\n+   *\n+   *   right_glyph ::\n+   *     The index of the right glyph in the kern pair.\n+   *\n+   * @Output:\n+   *   kerning ::\n+   *     The kerning vector.  This is in font units for\n+   *     scalable formats, and in pixels for fixed-sizes\n+   *     formats.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\n+   * @Note:\n+   *   Only horizontal layouts (left-to-right & right-to-left) are\n+   *   supported by this function.  Other layouts, or more sophisticated\n+   *   kernings, are out of scope of this method (the basic driver\n+   *   interface is meant to be simple).\n+   *\n+   *   They can be implemented by format-specific interfaces.\n+   *\/\n@@ -387,26 +390,30 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    tt_glyph_load                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A driver method used to load a glyph within a given glyph slot.    *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    slot        :: A handle to the target slot object where the glyph  *\/\n-  \/*                   will be loaded.                                     *\/\n-  \/*                                                                       *\/\n-  \/*    size        :: A handle to the source face size at which the glyph *\/\n-  \/*                   must be scaled, loaded, etc.                        *\/\n-  \/*                                                                       *\/\n-  \/*    glyph_index :: The index of the glyph in the font file.            *\/\n-  \/*                                                                       *\/\n-  \/*    load_flags  :: A flag indicating what to load for this glyph.  The *\/\n-  \/*                   FT_LOAD_XXX constants can be used to control the    *\/\n-  \/*                   glyph loading process (e.g., whether the outline    *\/\n-  \/*                   should be scaled, whether to load bitmaps or not,   *\/\n-  \/*                   whether to hint the outline, etc).                  *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_glyph_load\n+   *\n+   * @Description:\n+   *   A driver method used to load a glyph within a given glyph slot.\n+   *\n+   * @Input:\n+   *   slot ::\n+   *     A handle to the target slot object where the glyph\n+   *     will be loaded.\n+   *\n+   *   size ::\n+   *     A handle to the source face size at which the glyph\n+   *     must be scaled, loaded, etc.\n+   *\n+   *   glyph_index ::\n+   *     The index of the glyph in the font file.\n+   *\n+   *   load_flags ::\n+   *     A flag indicating what to load for this glyph.  The\n+   *     FT_LOAD_XXX constants can be used to control the\n+   *     glyph loading process (e.g., whether the outline\n+   *     should be scaled, whether to load bitmaps or not,\n+   *     whether to hint the outline, etc).\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -467,1 +474,1 @@\n-    \/* now load the glyph outline if necessary *\/\n+    \/* now fill in the glyph slot with outline\/bitmap\/layered *\/\n@@ -494,11 +501,13 @@\n-    (FT_Get_MM_Func)        NULL,                   \/* get_mm         *\/\n-    (FT_Set_MM_Design_Func) NULL,                   \/* set_mm_design  *\/\n-    (FT_Set_MM_Blend_Func)  TT_Set_MM_Blend,        \/* set_mm_blend   *\/\n-    (FT_Get_MM_Blend_Func)  TT_Get_MM_Blend,        \/* get_mm_blend   *\/\n-    (FT_Get_MM_Var_Func)    TT_Get_MM_Var,          \/* get_mm_var     *\/\n-    (FT_Set_Var_Design_Func)TT_Set_Var_Design,      \/* set_var_design *\/\n-    (FT_Get_Var_Design_Func)TT_Get_Var_Design,      \/* get_var_design *\/\n-    (FT_Set_Instance_Func)  TT_Set_Named_Instance,  \/* set_instance   *\/\n-\n-    (FT_Get_Var_Blend_Func) tt_get_var_blend,       \/* get_var_blend  *\/\n-    (FT_Done_Blend_Func)    tt_done_blend           \/* done_blend     *\/\n+    (FT_Get_MM_Func)             NULL,                  \/* get_mm              *\/\n+    (FT_Set_MM_Design_Func)      NULL,                  \/* set_mm_design       *\/\n+    (FT_Set_MM_Blend_Func)       TT_Set_MM_Blend,       \/* set_mm_blend        *\/\n+    (FT_Get_MM_Blend_Func)       TT_Get_MM_Blend,       \/* get_mm_blend        *\/\n+    (FT_Get_MM_Var_Func)         TT_Get_MM_Var,         \/* get_mm_var          *\/\n+    (FT_Set_Var_Design_Func)     TT_Set_Var_Design,     \/* set_var_design      *\/\n+    (FT_Get_Var_Design_Func)     TT_Get_Var_Design,     \/* get_var_design      *\/\n+    (FT_Set_Instance_Func)       TT_Set_Named_Instance, \/* set_instance        *\/\n+    (FT_Set_MM_WeightVector_Func)NULL,                  \/* set_mm_weightvector *\/\n+    (FT_Get_MM_WeightVector_Func)NULL,                  \/* get_mm_weightvector *\/\n+\n+    (FT_Get_Var_Blend_Func)      tt_get_var_blend,      \/* get_var_blend       *\/\n+    (FT_Done_Blend_Func)         tt_done_blend          \/* done_blend          *\/\n@@ -551,2 +560,2 @@\n-    FT_SERVICE_ID_MULTI_MASTERS,      &TT_SERVICE_GX_MULTI_MASTERS_GET,\n-    FT_SERVICE_ID_METRICS_VARIATIONS, &TT_SERVICE_METRICS_VARIATIONS_GET,\n+    FT_SERVICE_ID_MULTI_MASTERS,      &tt_service_gx_multi_masters,\n+    FT_SERVICE_ID_METRICS_VARIATIONS, &tt_service_metrics_variations,\n@@ -554,2 +563,2 @@\n-    FT_SERVICE_ID_TT_GLYF,            &TT_SERVICE_TRUETYPE_GLYF_GET,\n-    FT_SERVICE_ID_PROPERTIES,         &TT_SERVICE_PROPERTIES_GET )\n+    FT_SERVICE_ID_TT_GLYF,            &tt_service_truetype_glyf,\n+    FT_SERVICE_ID_PROPERTIES,         &tt_service_properties )\n@@ -562,2 +571,2 @@\n-    FT_SERVICE_ID_TT_GLYF,         &TT_SERVICE_TRUETYPE_GLYF_GET,\n-    FT_SERVICE_ID_PROPERTIES,      &TT_SERVICE_PROPERTIES_GET )\n+    FT_SERVICE_ID_TT_GLYF,         &tt_service_truetype_glyf,\n+    FT_SERVICE_ID_PROPERTIES,      &tt_service_properties )\n@@ -577,10 +586,1 @@\n-    \/* TT_SERVICES_GET dereferences `library' in PIC mode *\/\n-#ifdef FT_CONFIG_OPTION_PIC\n-    if ( !driver )\n-      return NULL;\n-    library = driver->library;\n-    if ( !library )\n-      return NULL;\n-#endif\n-\n-    result = ft_service_list_lookup( TT_SERVICES_GET, tt_interface );\n+    result = ft_service_list_lookup( tt_services, tt_interface );\n@@ -590,1 +590,0 @@\n-#ifndef FT_CONFIG_OPTION_PIC\n@@ -596,1 +595,0 @@\n-#endif\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/truetype\/ttdriver.c","additions":111,"deletions":113,"binary":false,"changes":224,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ttdriver.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    High-level TrueType driver interface (specification).                *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ttdriver.h\n+ *\n+ *   High-level TrueType driver interface (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -29,1 +29,0 @@\n-\n@@ -32,1 +31,0 @@\n-\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/truetype\/ttdriver.h","additions":16,"deletions":18,"binary":false,"changes":34,"status":"modified"},{"patch":"@@ -1,24 +1,24 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  tterrors.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    TrueType error codes (specification only).                           *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2001-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* This file is used to define the TrueType error enumeration            *\/\n-  \/* constants.                                                            *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * tterrors.h\n+ *\n+ *   TrueType error codes (specification only).\n+ *\n+ * Copyright (C) 2001-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * This file is used to define the TrueType error enumeration\n+   * constants.\n+   *\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/truetype\/tterrors.h","additions":24,"deletions":24,"binary":false,"changes":48,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ttgload.c                                                              *\/\n-\/*                                                                         *\/\n-\/*    TrueType Glyph Loader (body).                                        *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ttgload.c\n+ *\n+ *   TrueType Glyph Loader (body).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -41,6 +41,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -48,1 +48,1 @@\n-#define FT_COMPONENT  trace_ttgload\n+#define FT_COMPONENT  ttgload\n@@ -51,4 +51,19 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Composite glyph flags.                                                *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Simple glyph flags.\n+   *\/\n+#define ON_CURVE_POINT  0x01  \/* same value as FT_CURVE_TAG_ON            *\/\n+#define X_SHORT_VECTOR  0x02\n+#define Y_SHORT_VECTOR  0x04\n+#define REPEAT_FLAG     0x08\n+#define X_POSITIVE      0x10  \/* two meanings depending on X_SHORT_VECTOR *\/\n+#define SAME_X          0x10\n+#define Y_POSITIVE      0x20  \/* two meanings depending on Y_SHORT_VECTOR *\/\n+#define SAME_Y          0x20\n+#define OVERLAP_SIMPLE  0x40  \/* we ignore this value                     *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * Composite glyph flags.\n+   *\/\n@@ -65,1 +80,1 @@\n-#define OVERLAP_COMPOUND           0x0400\n+#define OVERLAP_COMPOUND           0x0400  \/* we ignore this value *\/\n@@ -70,4 +85,4 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Return the horizontal metrics in font units for a given glyph.        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Return the horizontal metrics in font units for a given glyph.\n+   *\/\n@@ -87,5 +102,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Return the vertical metrics in font units for a given glyph.          *\/\n-  \/* See function `tt_loader_set_pp' below for explanations.               *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Return the vertical metrics in font units for a given glyph.\n+   * See function `tt_loader_set_pp' below for explanations.\n+   *\/\n@@ -253,7 +268,7 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The following functions are used by default with TrueType fonts.      *\/\n-  \/* However, they can be replaced by alternatives if we need to support   *\/\n-  \/* TrueType-compressed formats (like MicroType) in the future.           *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * The following functions are used by default with TrueType fonts.\n+   * However, they can be replaced by alternatives if we need to support\n+   * TrueType-compressed formats (like MicroType) in the future.\n+   *\n+   *\/\n@@ -270,1 +285,0 @@\n-    \/* for non-debug mode *\/\n@@ -274,2 +288,0 @@\n-    FT_TRACE4(( \"Glyph %ld\\n\", glyph_index ));\n-\n@@ -340,1 +352,1 @@\n-    FT_Pos          x;\n+    FT_Pos          x, y;\n@@ -385,0 +397,2 @@\n+    FT_TRACE5(( \"  # of points: %d\\n\", n_points ));\n+\n@@ -455,1 +469,1 @@\n-      if ( c & 8 )\n+      if ( c & REPEAT_FLAG )\n@@ -481,2 +495,2 @@\n-      FT_Pos   y = 0;\n-      FT_Byte  f = *flag;\n+      FT_Pos   delta = 0;\n+      FT_Byte  f     = *flag;\n@@ -485,1 +499,1 @@\n-      if ( f & 2 )\n+      if ( f & X_SHORT_VECTOR )\n@@ -490,3 +504,3 @@\n-        y = (FT_Pos)FT_NEXT_BYTE( p );\n-        if ( ( f & 16 ) == 0 )\n-          y = -y;\n+        delta = (FT_Pos)FT_NEXT_BYTE( p );\n+        if ( !( f & X_POSITIVE ) )\n+          delta = -delta;\n@@ -494,1 +508,1 @@\n-      else if ( ( f & 16 ) == 0 )\n+      else if ( !( f & SAME_X ) )\n@@ -499,1 +513,1 @@\n-        y = (FT_Pos)FT_NEXT_SHORT( p );\n+        delta = (FT_Pos)FT_NEXT_SHORT( p );\n@@ -502,1 +516,1 @@\n-      x     += y;\n+      x     += delta;\n@@ -504,2 +518,0 @@\n-      \/* the cast is for stupid compilers *\/\n-      *flag  = (FT_Byte)( f & ~( 2 | 16 ) );\n@@ -513,1 +525,1 @@\n-    x         = 0;\n+    y         = 0;\n@@ -517,2 +529,2 @@\n-      FT_Pos   y = 0;\n-      FT_Byte  f = *flag;\n+      FT_Pos   delta = 0;\n+      FT_Byte  f     = *flag;\n@@ -521,1 +533,1 @@\n-      if ( f & 4 )\n+      if ( f & Y_SHORT_VECTOR )\n@@ -526,3 +538,3 @@\n-        y = (FT_Pos)FT_NEXT_BYTE( p );\n-        if ( ( f & 32 ) == 0 )\n-          y = -y;\n+        delta = (FT_Pos)FT_NEXT_BYTE( p );\n+        if ( !( f & Y_POSITIVE ) )\n+          delta = -delta;\n@@ -530,1 +542,1 @@\n-      else if ( ( f & 32 ) == 0 )\n+      else if ( !( f & SAME_Y ) )\n@@ -535,1 +547,1 @@\n-        y = (FT_Pos)FT_NEXT_SHORT( p );\n+        delta = (FT_Pos)FT_NEXT_SHORT( p );\n@@ -538,2 +550,3 @@\n-      x     += y;\n-      vec->y = x;\n+      y     += delta;\n+      vec->y = y;\n+\n@@ -541,1 +554,1 @@\n-      *flag  = (FT_Byte)( f & FT_CURVE_TAG_ON );\n+      *flag  = (FT_Byte)( f & ON_CURVE_POINT );\n@@ -562,3 +575,4 @@\n-    FT_Byte*        p       = loader->cursor;\n-    FT_Byte*        limit   = loader->limit;\n-    FT_GlyphLoader  gloader = loader->gloader;\n+    FT_Byte*        p          = loader->cursor;\n+    FT_Byte*        limit      = loader->limit;\n+    FT_GlyphLoader  gloader    = loader->gloader;\n+    FT_Long         num_glyphs = loader->face->root.num_glyphs;\n@@ -593,0 +607,5 @@\n+      \/* we reject composites that have components *\/\n+      \/* with invalid glyph indices                *\/\n+      if ( subglyph->index >= num_glyphs )\n+        goto Invalid_Composite;\n+\n@@ -771,9 +790,9 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    TT_Hint_Glyph                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Hint the glyph using the zone prepared by the caller.  Note that   *\/\n-  \/*    the zone is supposed to include four phantom points.               *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   TT_Hint_Glyph\n+   *\n+   * @Description:\n+   *   Hint the glyph using the zone prepared by the caller.  Note that\n+   *   the zone is supposed to include four phantom points.\n+   *\/\n@@ -800,6 +819,0 @@\n-    if ( loader->glyph->control_len > 0xFFFFL )\n-    {\n-      FT_TRACE1(( \"TT_Hint_Glyph: too long instructions\" ));\n-      FT_TRACE1(( \" (0x%lx byte) is truncated\\n\",\n-                  loader->glyph->control_len ));\n-    }\n@@ -808,1 +821,1 @@\n-    \/* save original point position in org *\/\n+    \/* save original point positions in `org' array *\/\n@@ -899,10 +912,10 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    TT_Process_Simple_Glyph                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Once a simple glyph has been loaded, it needs to be processed.     *\/\n-  \/*    Usually, this means scaling and hinting through bytecode           *\/\n-  \/*    interpretation.                                                    *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   TT_Process_Simple_Glyph\n+   *\n+   * @Description:\n+   *   Once a simple glyph has been loaded, it needs to be processed.\n+   *   Usually, this means scaling and hinting through bytecode\n+   *   interpretation.\n+   *\/\n@@ -1074,9 +1087,9 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    TT_Process_Composite_Component                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Once a composite component has been loaded, it needs to be         *\/\n-  \/*    processed.  Usually, this means transforming and translating.      *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   TT_Process_Composite_Component\n+   *\n+   * @Description:\n+   *   Once a composite component has been loaded, it needs to be\n+   *   processed.  Usually, this means transforming and translating.\n+   *\/\n@@ -1156,4 +1169,4 @@\n-        \/*******************************************************************\/\n-        \/*                                                                 *\/\n-        \/* This algorithm is what Apple documents.  But it doesn't work.   *\/\n-        \/*                                                                 *\/\n+        \/********************************************************************\n+         *\n+         * This algorithm is what Apple documents.  But it doesn't work.\n+         *\/\n@@ -1181,4 +1194,4 @@\n-        \/*******************************************************************\/\n-        \/*                                                                 *\/\n-        \/* This algorithm is a guess and works much better than the above. *\/\n-        \/*                                                                 *\/\n+        \/********************************************************************\n+         *\n+         * This algorithm is a guess and works much better than the above.\n+         *\/\n@@ -1222,1 +1235,1 @@\n-             * neither allow nor expect modified advance widths if sub-pixel\n+             * neither allow nor expect modified advance widths if subpixel\n@@ -1242,10 +1255,10 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    TT_Process_Composite_Glyph                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    This is slightly different from TT_Process_Simple_Glyph, in that   *\/\n-  \/*    its sole purpose is to hint the glyph.  Thus this function is      *\/\n-  \/*    only available when bytecode interpreter is enabled.               *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   TT_Process_Composite_Glyph\n+   *\n+   * @Description:\n+   *   This is slightly different from TT_Process_Simple_Glyph, in that\n+   *   its sole purpose is to hint the glyph.  Thus this function is\n+   *   only available when bytecode interpreter is enabled.\n+   *\/\n@@ -1463,1 +1476,1 @@\n-    use_aw_2 = (FT_Bool)( subpixel_hinting && grayscale );\n+    use_aw_2 = FT_BOOL( subpixel_hinting && grayscale );\n@@ -1500,9 +1513,9 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    load_truetype_glyph                                                *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Loads a given truetype glyph.  Handles composites and uses a       *\/\n-  \/*    TT_Loader object.                                                  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   load_truetype_glyph\n+   *\n+   * @Description:\n+   *   Loads a given truetype glyph.  Handles composites and uses a\n+   *   TT_Loader object.\n+   *\/\n@@ -1515,1 +1528,1 @@\n-    FT_Error        error        = FT_Err_Ok;\n+    FT_Error        error   = FT_Err_Ok;\n@@ -1518,3 +1531,4 @@\n-    TT_Face         face         = loader->face;\n-    FT_GlyphLoader  gloader      = loader->gloader;\n-    FT_Bool         opened_frame = 0;\n+    TT_Face         face    = loader->face;\n+    FT_GlyphLoader  gloader = loader->gloader;\n+\n+    FT_Bool  opened_frame = 0;\n@@ -1553,1 +1567,1 @@\n-    if ( ( loader->load_flags & FT_LOAD_NO_SCALE ) == 0 )\n+    if ( loader->load_flags & FT_LOAD_NO_SCALE )\n@@ -1555,2 +1569,2 @@\n-      x_scale = loader->size->metrics->x_scale;\n-      y_scale = loader->size->metrics->y_scale;\n+      x_scale = 0x10000L;\n+      y_scale = 0x10000L;\n@@ -1560,2 +1574,2 @@\n-      x_scale = 0x10000L;\n-      y_scale = 0x10000L;\n+      x_scale = loader->size->metrics->x_scale;\n+      y_scale = loader->size->metrics->y_scale;\n@@ -1620,2 +1634,0 @@\n-      opened_frame = 1;\n-\n@@ -1624,2 +1636,0 @@\n-      if ( error )\n-        goto Exit;\n@@ -1627,6 +1637,1 @@\n-      \/* the metrics must be computed after loading the glyph header *\/\n-      \/* since we need the glyph's `yMax' value in case the vertical *\/\n-      \/* metrics must be emulated                                    *\/\n-      error = tt_get_metrics( loader, glyph_index );\n-      if ( error )\n-        goto Exit;\n+      face->forget_glyph_frame( loader );\n@@ -1634,1 +1639,1 @@\n-      if ( header_only )\n+      if ( error )\n@@ -1638,0 +1643,1 @@\n+    \/* a space glyph *\/\n@@ -1644,0 +1650,1 @@\n+    }\n@@ -1645,3 +1652,6 @@\n-      error = tt_get_metrics( loader, glyph_index );\n-      if ( error )\n-        goto Exit;\n+    \/* the metrics must be computed after loading the glyph header *\/\n+    \/* since we need the glyph's `yMax' value in case the vertical *\/\n+    \/* metrics must be emulated                                    *\/\n+    error = tt_get_metrics( loader, glyph_index );\n+    if ( error )\n+      goto Exit;\n@@ -1649,2 +1659,2 @@\n-      if ( header_only )\n-        goto Exit;\n+    if ( header_only )\n+      goto Exit;\n@@ -1652,0 +1662,2 @@\n+    if ( loader->byte_len == 0 || loader->n_contours == 0 )\n+    {\n@@ -1707,1 +1719,0 @@\n-\n@@ -1748,0 +1759,10 @@\n+    \/* we now open a frame again, right after the glyph header *\/\n+    \/* (which consists of 10 bytes)                            *\/\n+    error = face->access_glyph_frame( loader, glyph_index,\n+                                      face->glyf_offset + offset + 10,\n+                                      (FT_UInt)loader->byte_len - 10 );\n+    if ( error )\n+      goto Exit;\n+\n+    opened_frame = 1;\n+\n@@ -1793,1 +1814,0 @@\n-\n@@ -2005,1 +2025,1 @@\n-          \/* Each time we call load_truetype_glyph in this loop, the   *\/\n+          \/* Each time we call `load_truetype_glyph' in this loop, the *\/\n@@ -2048,6 +2068,8 @@\n-          \/* gloader->base.outline consists of three parts:               *\/\n-          \/* 0 -(1)-> start_point -(2)-> num_base_points -(3)-> n_points. *\/\n-          \/*                                                              *\/\n-          \/* (1): exists from the beginning                               *\/\n-          \/* (2): components that have been loaded so far                 *\/\n-          \/* (3): the newly loaded component                              *\/\n+          \/* gloader->base.outline consists of three parts:           *\/\n+          \/*                                                          *\/\n+          \/* 0 ----> start_point ----> num_base_points ----> n_points *\/\n+          \/*    (1)               (2)                   (3)           *\/\n+          \/*                                                          *\/\n+          \/* (1) points that exist from the beginning                 *\/\n+          \/* (2) component points that have been loaded so far        *\/\n+          \/* (3) points of the newly loaded component                 *\/\n@@ -2135,1 +2157,1 @@\n-    glyph->metrics.horiAdvance  = loader->pp2.x - loader->pp1.x;\n+    glyph->metrics.horiAdvance  = SUB_LONG(loader->pp2.x, loader->pp1.x);\n@@ -2279,2 +2301,2 @@\n-      glyph->metrics.vertBearingX = glyph->metrics.horiBearingX -\n-                                      glyph->metrics.horiAdvance \/ 2;\n+      glyph->metrics.vertBearingX = SUB_LONG( glyph->metrics.horiBearingX,\n+                                              glyph->metrics.horiAdvance \/ 2 );\n@@ -2285,1 +2307,1 @@\n-    return 0;\n+    return FT_Err_Ok;\n@@ -2659,27 +2681,31 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    TT_Load_Glyph                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A function used to load a single glyph within a given glyph slot,  *\/\n-  \/*    for a given size.                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    glyph       :: A handle to a target slot object where the glyph    *\/\n-  \/*                   will be loaded.                                     *\/\n-  \/*                                                                       *\/\n-  \/*    size        :: A handle to the source face size at which the glyph *\/\n-  \/*                   must be scaled\/loaded.                              *\/\n-  \/*                                                                       *\/\n-  \/*    glyph_index :: The index of the glyph in the font file.            *\/\n-  \/*                                                                       *\/\n-  \/*    load_flags  :: A flag indicating what to load for this glyph.  The *\/\n-  \/*                   FT_LOAD_XXX constants can be used to control the    *\/\n-  \/*                   glyph loading process (e.g., whether the outline    *\/\n-  \/*                   should be scaled, whether to load bitmaps or not,   *\/\n-  \/*                   whether to hint the outline, etc).                  *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   TT_Load_Glyph\n+   *\n+   * @Description:\n+   *   A function used to load a single glyph within a given glyph slot,\n+   *   for a given size.\n+   *\n+   * @Input:\n+   *   glyph ::\n+   *     A handle to a target slot object where the glyph\n+   *     will be loaded.\n+   *\n+   *   size ::\n+   *     A handle to the source face size at which the glyph\n+   *     must be scaled\/loaded.\n+   *\n+   *   glyph_index ::\n+   *     The index of the glyph in the font file.\n+   *\n+   *   load_flags ::\n+   *     A flag indicating what to load for this glyph.  The\n+   *     FT_LOAD_XXX constants can be used to control the\n+   *     glyph loading process (e.g., whether the outline\n+   *     should be scaled, whether to load bitmaps or not,\n+   *     whether to hint the outline, etc).\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -2712,0 +2738,4 @@\n+      FT_Fixed  x_scale = size->root.metrics.x_scale;\n+      FT_Fixed  y_scale = size->root.metrics.y_scale;\n+\n+\n@@ -2719,3 +2749,7 @@\n-          TT_Face    face = (TT_Face)glyph->face;\n-          FT_Short   left_bearing = 0, top_bearing = 0;\n-          FT_UShort  advance_width = 0, advance_height = 0;\n+          TT_Face  face = (TT_Face)glyph->face;\n+\n+          FT_Short  left_bearing = 0;\n+          FT_Short  top_bearing  = 0;\n+\n+          FT_UShort  advance_width  = 0;\n+          FT_UShort  advance_height = 0;\n@@ -2747,1 +2781,1 @@\n-          glyph->metrics.horiBearingX = left_bearing;\n+          glyph->metrics.horiBearingX = FT_MulFix( left_bearing, x_scale );\n@@ -2749,1 +2783,1 @@\n-          glyph->metrics.horiAdvance  = advance_width;\n+          glyph->metrics.horiAdvance  = FT_MulFix( advance_width, x_scale );\n@@ -2752,2 +2786,2 @@\n-          glyph->metrics.vertBearingY = top_bearing;\n-          glyph->metrics.vertAdvance  = advance_height;\n+          glyph->metrics.vertBearingY = FT_MulFix( top_bearing, y_scale );\n+          glyph->metrics.vertAdvance  = FT_MulFix( advance_height, y_scale );\n@@ -2784,3 +2818,2 @@\n-            glyph->metrics.horiAdvance =\n-              FT_MulFix( glyph->linearHoriAdvance,\n-                         size->metrics->x_scale );\n+            glyph->metrics.horiAdvance = FT_MulFix( glyph->linearHoriAdvance,\n+                                                    x_scale );\n@@ -2788,3 +2821,2 @@\n-            glyph->metrics.vertAdvance =\n-              FT_MulFix( glyph->linearVertAdvance,\n-                         size->metrics->y_scale );\n+            glyph->metrics.vertAdvance = FT_MulFix( glyph->linearVertAdvance,\n+                                                    y_scale );\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/truetype\/ttgload.c","additions":249,"deletions":217,"binary":false,"changes":466,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ttgload.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    TrueType Glyph Loader (specification).                               *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ttgload.h\n+ *\n+ *   TrueType Glyph Loader (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/truetype\/ttgload.h","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,39 +1,39 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ttgxvar.c                                                              *\/\n-\/*                                                                         *\/\n-\/*    TrueType GX Font Variation loader                                    *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2004-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, Werner Lemberg, and George Williams.     *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Apple documents the `fvar', `gvar', `cvar', and `avar' tables at      *\/\n-  \/*                                                                       *\/\n-  \/*   https:\/\/developer.apple.com\/fonts\/TrueType-Reference-Manual\/RM06\/Chap6[fgca]var.html *\/\n-  \/*                                                                       *\/\n-  \/* The documentation for `gvar' is not intelligible; `cvar' refers you   *\/\n-  \/* to `gvar' and is thus also incomprehensible.                          *\/\n-  \/*                                                                       *\/\n-  \/* The documentation for `avar' appears correct, but Apple has no fonts  *\/\n-  \/* with an `avar' table, so it is hard to test.                          *\/\n-  \/*                                                                       *\/\n-  \/* Many thanks to John Jenkins (at Apple) in figuring this out.          *\/\n-  \/*                                                                       *\/\n-  \/*                                                                       *\/\n-  \/* Apple's `kern' table has some references to tuple indices, but as     *\/\n-  \/* there is no indication where these indices are defined, nor how to    *\/\n-  \/* interpolate the kerning values (different tuples have different       *\/\n-  \/* classes) this issue is ignored.                                       *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ttgxvar.c\n+ *\n+ *   TrueType GX Font Variation loader\n+ *\n+ * Copyright (C) 2004-2019 by\n+ * David Turner, Robert Wilhelm, Werner Lemberg, and George Williams.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * Apple documents the `fvar', `gvar', `cvar', and `avar' tables at\n+   *\n+   *   https:\/\/developer.apple.com\/fonts\/TrueType-Reference-Manual\/RM06\/Chap6[fgca]var.html\n+   *\n+   * The documentation for `gvar' is not intelligible; `cvar' refers you\n+   * to `gvar' and is thus also incomprehensible.\n+   *\n+   * The documentation for `avar' appears correct, but Apple has no fonts\n+   * with an `avar' table, so it is hard to test.\n+   *\n+   * Many thanks to John Jenkins (at Apple) in figuring this out.\n+   *\n+   *\n+   * Apple's `kern' table has some references to tuple indices, but as\n+   * there is no indication where these indices are defined, nor how to\n+   * interpolate the kerning values (different tuples have different\n+   * classes) this issue is ignored.\n+   *\n+   *\/\n@@ -70,6 +70,15 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/* some macros we need *\/\n+#define FT_fdot14ToFixed( x )                \\\n+        ( (FT_Fixed)( (FT_ULong)(x) << 2 ) )\n+#define FT_intToFixed( i )                    \\\n+        ( (FT_Fixed)( (FT_ULong)(i) << 16 ) )\n+#define FT_fixedToInt( x )                                   \\\n+        ( (FT_Short)( ( (FT_UInt32)(x) + 0x8000U ) >> 16 ) )\n+\n+\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -77,1 +86,1 @@\n-#define FT_COMPONENT  trace_ttgxvar\n+#define FT_COMPONENT  ttgxvar\n@@ -89,6 +98,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro ALL_POINTS is used in `ft_var_readpackedpoints'.  It        *\/\n-  \/* indicates that there is a delta for every point without needing to    *\/\n-  \/* enumerate all of them.                                                *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro ALL_POINTS is used in `ft_var_readpackedpoints'.  It\n+   * indicates that there is a delta for every point without needing to\n+   * enumerate all of them.\n+   *\/\n@@ -104,23 +113,26 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    ft_var_readpackedpoints                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Read a set of points to which the following deltas will apply.     *\/\n-  \/*    Points are packed with a run length encoding.                      *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    stream    :: The data stream.                                      *\/\n-  \/*                                                                       *\/\n-  \/*    size      :: The size of the table holding the data.               *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    point_cnt :: The number of points read.  A zero value means that   *\/\n-  \/*                 all points in the glyph will be affected, without     *\/\n-  \/*                 enumerating them individually.                        *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    An array of FT_UShort containing the affected points or the        *\/\n-  \/*    special value ALL_POINTS.                                          *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   ft_var_readpackedpoints\n+   *\n+   * @Description:\n+   *   Read a set of points to which the following deltas will apply.\n+   *   Points are packed with a run length encoding.\n+   *\n+   * @Input:\n+   *   stream ::\n+   *     The data stream.\n+   *\n+   *   size ::\n+   *     The size of the table holding the data.\n+   *\n+   * @Output:\n+   *   point_cnt ::\n+   *     The number of points read.  A zero value means that\n+   *     all points in the glyph will be affected, without\n+   *     enumerating them individually.\n+   *\n+   * @Return:\n+   *   An array of FT_UShort containing the affected points or the\n+   *   special value ALL_POINTS.\n+   *\/\n@@ -214,23 +226,30 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    ft_var_readpackeddeltas                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Read a set of deltas.  These are packed slightly differently than  *\/\n-  \/*    points.  In particular there is no overall count.                  *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    stream    :: The data stream.                                      *\/\n-  \/*                                                                       *\/\n-  \/*    size      :: The size of the table holding the data.               *\/\n-  \/*                                                                       *\/\n-  \/*    delta_cnt :: The number of deltas to be read.                      *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    An array of FT_Short containing the deltas for the affected        *\/\n-  \/*    points.  (This only gets the deltas for one dimension.  It will    *\/\n-  \/*    generally be called twice, once for x, once for y.  When used in   *\/\n-  \/*    cvt table, it will only be called once.)                           *\/\n-  \/*                                                                       *\/\n-  static FT_Short*\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   ft_var_readpackeddeltas\n+   *\n+   * @Description:\n+   *   Read a set of deltas.  These are packed slightly differently than\n+   *   points.  In particular there is no overall count.\n+   *\n+   * @Input:\n+   *   stream ::\n+   *     The data stream.\n+   *\n+   *   size ::\n+   *     The size of the table holding the data.\n+   *\n+   *   delta_cnt ::\n+   *     The number of deltas to be read.\n+   *\n+   * @Return:\n+   *   An array of FT_Fixed containing the deltas for the affected\n+   *   points.  (This only gets the deltas for one dimension.  It will\n+   *   generally be called twice, once for x, once for y.  When used in\n+   *   cvt table, it will only be called once.)\n+   *\n+   *   We use FT_Fixed to avoid accumulation errors while summing up all\n+   *   deltas (the rounding to integer values happens as the very last\n+   *   step).\n+   *\/\n+  static FT_Fixed*\n@@ -241,1 +260,1 @@\n-    FT_Short  *deltas = NULL;\n+    FT_Fixed  *deltas = NULL;\n@@ -275,1 +294,1 @@\n-          deltas[i++] = FT_GET_SHORT();\n+          deltas[i++] = FT_intToFixed( FT_GET_SHORT() );\n@@ -281,1 +300,1 @@\n-          deltas[i++] = FT_GET_CHAR();\n+          deltas[i++] = FT_intToFixed( FT_GET_CHAR() );\n@@ -296,12 +315,13 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    ft_var_load_avar                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Parse the `avar' table if present.  It need not be, so we return   *\/\n-  \/*    nothing.                                                           *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    face :: The font face.                                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   ft_var_load_avar\n+   *\n+   * @Description:\n+   *   Parse the `avar' table if present.  It need not be, so we return\n+   *   nothing.\n+   *\n+   * @InOut:\n+   *   face ::\n+   *     The font face.\n+   *\/\n@@ -397,11 +417,0 @@\n-  \/* some macros we need *\/\n-#define FT_FIXED_ONE  ( (FT_Fixed)0x10000 )\n-\n-#define FT_fdot14ToFixed( x )                \\\n-        ( (FT_Fixed)( (FT_ULong)(x) << 2 ) )\n-#define FT_intToFixed( i )                    \\\n-        ( (FT_Fixed)( (FT_ULong)(i) << 16 ) )\n-#define FT_fixedToInt( x )                                   \\\n-        ( (FT_Short)( ( (FT_UInt32)(x) + 0x8000U ) >> 16 ) )\n-\n-\n@@ -705,23 +714,24 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    ft_var_load_hvvar                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    If `vertical' is zero, parse the `HVAR' table and set              *\/\n-  \/*    `blend->hvar_loaded' to TRUE.  On success, `blend->hvar_checked'   *\/\n-  \/*    is set to TRUE.                                                    *\/\n-  \/*                                                                       *\/\n-  \/*    If `vertical' is not zero, parse the `VVAR' table and set          *\/\n-  \/*    `blend->vvar_loaded' to TRUE.  On success, `blend->vvar_checked'   *\/\n-  \/*    is set to TRUE.                                                    *\/\n-  \/*                                                                       *\/\n-  \/*    Some memory may remain allocated on error; it is always freed in   *\/\n-  \/*    `tt_done_blend', however.                                          *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    face :: The font face.                                             *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   ft_var_load_hvvar\n+   *\n+   * @Description:\n+   *   If `vertical' is zero, parse the `HVAR' table and set\n+   *   `blend->hvar_loaded' to TRUE.  On success, `blend->hvar_checked'\n+   *   is set to TRUE.\n+   *\n+   *   If `vertical' is not zero, parse the `VVAR' table and set\n+   *   `blend->vvar_loaded' to TRUE.  On success, `blend->vvar_checked'\n+   *   is set to TRUE.\n+   *\n+   *   Some memory may remain allocated on error; it is always freed in\n+   *   `tt_done_blend', however.\n+   *\n+   * @InOut:\n+   *   face ::\n+   *     The font face.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -875,1 +885,1 @@\n-      FT_Fixed  scalar      = FT_FIXED_ONE;\n+      FT_Fixed  scalar      = 0x10000L;\n@@ -884,3 +894,0 @@\n-        FT_Fixed  axisScalar;\n-\n-\n@@ -891,1 +898,1 @@\n-          axisScalar = FT_FIXED_ONE;\n+          continue;\n@@ -896,1 +903,1 @@\n-          axisScalar = FT_FIXED_ONE;\n+          continue;\n@@ -900,1 +907,1 @@\n-          axisScalar = FT_FIXED_ONE;\n+          continue;\n@@ -902,4 +909,2 @@\n-        \/* ignore this region if coords are out of range *\/\n-        else if ( face->blend->normalizedcoords[j] < axis->startCoord ||\n-                  face->blend->normalizedcoords[j] > axis->endCoord   )\n-          axisScalar = 0;\n+        else if ( face->blend->normalizedcoords[j] == axis->peakCoord )\n+          continue;\n@@ -907,2 +912,3 @@\n-        \/* calculate a proportional factor *\/\n-        else\n+        \/* ignore this region if coords are out of range *\/\n+        else if ( face->blend->normalizedcoords[j] <= axis->startCoord ||\n+                  face->blend->normalizedcoords[j] >= axis->endCoord   )\n@@ -910,10 +916,2 @@\n-          if ( face->blend->normalizedcoords[j] == axis->peakCoord )\n-            axisScalar = FT_FIXED_ONE;\n-          else if ( face->blend->normalizedcoords[j] < axis->peakCoord )\n-            axisScalar =\n-              FT_DivFix( face->blend->normalizedcoords[j] - axis->startCoord,\n-                         axis->peakCoord - axis->startCoord );\n-          else\n-            axisScalar =\n-              FT_DivFix( axis->endCoord - face->blend->normalizedcoords[j],\n-                         axis->endCoord - axis->peakCoord );\n+          scalar = 0;\n+          break;\n@@ -922,3 +920,11 @@\n-        \/* take product of all the axis scalars *\/\n-        scalar = FT_MulFix( scalar, axisScalar );\n-\n+        \/* cumulative product of all the axis scalars *\/\n+        else if ( face->blend->normalizedcoords[j] < axis->peakCoord )\n+          scalar =\n+            FT_MulDiv( scalar,\n+                       face->blend->normalizedcoords[j] - axis->startCoord,\n+                       axis->peakCoord - axis->startCoord );\n+        else\n+          scalar =\n+            FT_MulDiv( scalar,\n+                       axis->endCoord - face->blend->normalizedcoords[j],\n+                       axis->endCoord - axis->peakCoord );\n@@ -940,19 +946,23 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    tt_hvadvance_adjust                                                *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Apply `HVAR' advance width or `VVAR' advance height adjustment of  *\/\n-  \/*    a given glyph.                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    gindex   :: The glyph index.                                       *\/\n-  \/*                                                                       *\/\n-  \/*    vertical :: If set, handle `VVAR' table.                           *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    face     :: The font face.                                         *\/\n-  \/*                                                                       *\/\n-  \/*    adelta   :: Points to width or height value that gets modified.    *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_hvadvance_adjust\n+   *\n+   * @Description:\n+   *   Apply `HVAR' advance width or `VVAR' advance height adjustment of\n+   *   a given glyph.\n+   *\n+   * @Input:\n+   *   gindex ::\n+   *     The glyph index.\n+   *\n+   *   vertical ::\n+   *     If set, handle `VVAR' table.\n+   *\n+   * @InOut:\n+   *   face ::\n+   *     The font face.\n+   *\n+   *   adelta ::\n+   *     Points to width or height value that gets modified.\n+   *\/\n@@ -1154,14 +1164,15 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    ft_var_load_mvar                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Parse the `MVAR' table.                                            *\/\n-  \/*                                                                       *\/\n-  \/*    Some memory may remain allocated on error; it is always freed in   *\/\n-  \/*    `tt_done_blend', however.                                          *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    face :: The font face.                                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   ft_var_load_mvar\n+   *\n+   * @Description:\n+   *   Parse the `MVAR' table.\n+   *\n+   *   Some memory may remain allocated on error; it is always freed in\n+   *   `tt_done_blend', however.\n+   *\n+   * @InOut:\n+   *   face ::\n+   *     The font face.\n+   *\/\n@@ -1300,11 +1311,12 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    tt_apply_mvar                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Apply `MVAR' table adjustments.                                    *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    face :: The font face.                                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_apply_mvar\n+   *\n+   * @Description:\n+   *   Apply `MVAR' table adjustments.\n+   *\n+   * @InOut:\n+   *   face ::\n+   *     The font face.\n+   *\/\n@@ -1316,0 +1328,3 @@\n+    FT_Short  mvar_hasc_delta = 0;\n+    FT_Short  mvar_hdsc_delta = 0;\n+    FT_Short  mvar_hlgp_delta = 0;\n@@ -1350,0 +1365,8 @@\n+\n+        \/* Treat hasc, hdsc and hlgp specially, see below. *\/\n+        if ( value->tag == MVAR_TAG_HASC )\n+          mvar_hasc_delta = (FT_Short)delta;\n+        else if ( value->tag == MVAR_TAG_HDSC )\n+          mvar_hdsc_delta = (FT_Short)delta;\n+        else if ( value->tag == MVAR_TAG_HLGP )\n+          mvar_hlgp_delta = (FT_Short)delta;\n@@ -1357,19 +1380,34 @@\n-\n-      if ( face->os2.version != 0xFFFFU )\n-      {\n-        if ( face->os2.sTypoAscender || face->os2.sTypoDescender )\n-        {\n-          root->ascender  = face->os2.sTypoAscender;\n-          root->descender = face->os2.sTypoDescender;\n-\n-          root->height = root->ascender - root->descender +\n-                         face->os2.sTypoLineGap;\n-        }\n-        else\n-        {\n-          root->ascender  =  (FT_Short)face->os2.usWinAscent;\n-          root->descender = -(FT_Short)face->os2.usWinDescent;\n-\n-          root->height = root->ascender - root->descender;\n-        }\n-      }\n+      \/*\n+       * Apply the deltas of hasc, hdsc and hlgp to the FT_Face's ascender,\n+       * descender and height attributes, no matter how they were originally\n+       * computed.\n+       *\n+       * (Code that ignores those and accesses the font's metrics values\n+       * directly is already served by the delta application code above.)\n+       *\n+       * The MVAR table supports variations for both typo and win metrics.\n+       * According to Behdad Esfahbod, the thinking of the working group was\n+       * that no one uses win metrics anymore for setting line metrics (the\n+       * specification even calls these metrics \"horizontal clipping\n+       * ascent\/descent\", probably for their role on the Windows platform in\n+       * computing clipping boxes), and new fonts should use typo metrics, so\n+       * typo deltas should be applied to whatever sfnt_load_face decided the\n+       * line metrics should be.\n+       *\n+       * Before, the following led to different line metrics between default\n+       * outline and instances, visible when e.g. the default outlines were\n+       * used as the regular face and instances for everything else:\n+       *\n+       * 1. sfnt_load_face applied the hhea metrics by default.\n+       * 2. This code later applied the typo metrics by default, regardless of\n+       *    whether they were actually changed or the font had the OS\/2 table's\n+       *    fsSelection's bit 7 (USE_TYPO_METRICS) set.\n+       *\/\n+      FT_Short  current_line_gap = root->height - root->ascender +\n+                                   root->descender;\n+\n+\n+      root->ascender  = root->ascender + mvar_hasc_delta;\n+      root->descender = root->descender + mvar_hdsc_delta;\n+      root->height    = root->ascender - root->descender +\n+                        current_line_gap + mvar_hlgp_delta;\n@@ -1403,15 +1441,16 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    ft_var_load_gvar                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Parse the `gvar' table if present.  If `fvar' is there, `gvar' had *\/\n-  \/*    better be there too.                                               *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    face :: The font face.                                             *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   ft_var_load_gvar\n+   *\n+   * @Description:\n+   *   Parse the `gvar' table if present.  If `fvar' is there, `gvar' had\n+   *   better be there too.\n+   *\n+   * @InOut:\n+   *   face ::\n+   *     The font face.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -1515,0 +1554,3 @@\n+      FT_ULong  limit = gvar_start + table_len;\n+\n+\n@@ -1520,0 +1562,1 @@\n+      {\n@@ -1521,2 +1564,10 @@\n-\n-      FT_FRAME_EXIT();\n+        \/* use `>', not `>=' *\/\n+        if ( blend->glyphoffsets[i] > limit )\n+        {\n+          FT_TRACE2(( \"ft_var_load_gvar:\"\n+                      \" invalid glyph variation data offset for index %d\\n\",\n+                      i ));\n+          error = FT_THROW( Invalid_Table );\n+          break;\n+        }\n+      }\n@@ -1526,0 +1577,3 @@\n+      FT_ULong  limit = gvar_start + table_len;\n+\n+\n@@ -1531,0 +1585,1 @@\n+      {\n@@ -1532,3 +1587,10 @@\n-                                               \/* XXX: Undocumented: `*2'! *\/\n-\n-      FT_FRAME_EXIT();\n+        \/* use `>', not `>=' *\/\n+        if ( blend->glyphoffsets[i] > limit )\n+        {\n+          FT_TRACE2(( \"ft_var_load_gvar:\"\n+                      \" invalid glyph variation data offset for index %d\\n\",\n+                      i ));\n+          error = FT_THROW( Invalid_Table );\n+          break;\n+        }\n+      }\n@@ -1537,0 +1599,4 @@\n+    FT_FRAME_EXIT();\n+    if ( error )\n+      goto Exit;\n+\n@@ -1570,27 +1636,32 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    ft_var_apply_tuple                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Figure out whether a given tuple (design) applies to the current   *\/\n-  \/*    blend, and if so, what is the scaling factor.                      *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    blend           :: The current blend of the font.                  *\/\n-  \/*                                                                       *\/\n-  \/*    tupleIndex      :: A flag saying whether this is an intermediate   *\/\n-  \/*                       tuple or not.                                   *\/\n-  \/*                                                                       *\/\n-  \/*    tuple_coords    :: The coordinates of the tuple in normalized axis *\/\n-  \/*                       units.                                          *\/\n-  \/*                                                                       *\/\n-  \/*    im_start_coords :: The initial coordinates where this tuple starts *\/\n-  \/*                       to apply (for intermediate coordinates).        *\/\n-  \/*                                                                       *\/\n-  \/*    im_end_coords   :: The final coordinates after which this tuple no *\/\n-  \/*                       longer applies (for intermediate coordinates).  *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    An FT_Fixed value containing the scaling factor.                   *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   ft_var_apply_tuple\n+   *\n+   * @Description:\n+   *   Figure out whether a given tuple (design) applies to the current\n+   *   blend, and if so, what is the scaling factor.\n+   *\n+   * @Input:\n+   *   blend ::\n+   *     The current blend of the font.\n+   *\n+   *   tupleIndex ::\n+   *     A flag saying whether this is an intermediate\n+   *     tuple or not.\n+   *\n+   *   tuple_coords ::\n+   *     The coordinates of the tuple in normalized axis\n+   *     units.\n+   *\n+   *   im_start_coords ::\n+   *     The initial coordinates where this tuple starts\n+   *     to apply (for intermediate coordinates).\n+   *\n+   *   im_end_coords ::\n+   *     The final coordinates after which this tuple no\n+   *     longer applies (for intermediate coordinates).\n+   *\n+   * @Return:\n+   *   An FT_Fixed value containing the scaling factor.\n+   *\/\n@@ -1610,1 +1681,1 @@\n-      FT_TRACE6(( \"    axis coordinate %d (%.5f):\\n\",\n+      FT_TRACE6(( \"    axis %d coordinate %.5f:\\n\",\n@@ -1612,5 +1683,0 @@\n-      if ( !( tupleIndex & GX_TI_INTERMEDIATE_TUPLE ) )\n-        FT_TRACE6(( \"      intermediate coordinates %d (%.5f, %.5f):\\n\",\n-                    i,\n-                    im_start_coords[i] \/ 65536.0,\n-                    im_end_coords[i] \/ 65536.0 ));\n@@ -1625,1 +1691,1 @@\n-        FT_TRACE6(( \"      tuple coordinate is zero, ignored\\n\", i ));\n+        FT_TRACE6(( \"      tuple coordinate is zero, ignore\\n\", i ));\n@@ -1638,1 +1704,1 @@\n-        FT_TRACE6(( \"      tuple coordinate value %.5f fits perfectly\\n\",\n+        FT_TRACE6(( \"      tuple coordinate %.5f fits perfectly\\n\",\n@@ -1651,1 +1717,1 @@\n-          FT_TRACE6(( \"      tuple coordinate value %.5f is exceeded, stop\\n\",\n+          FT_TRACE6(( \"      tuple coordinate %.5f is exceeded, stop\\n\",\n@@ -1657,1 +1723,1 @@\n-        FT_TRACE6(( \"      tuple coordinate value %.5f fits\\n\",\n+        FT_TRACE6(( \"      tuple coordinate %.5f fits\\n\",\n@@ -1667,2 +1733,2 @@\n-        if ( blend->normalizedcoords[i] < im_start_coords[i] ||\n-             blend->normalizedcoords[i] > im_end_coords[i]   )\n+        if ( blend->normalizedcoords[i] <= im_start_coords[i] ||\n+             blend->normalizedcoords[i] >= im_end_coords[i]   )\n@@ -1670,1 +1736,1 @@\n-          FT_TRACE6(( \"      intermediate tuple range [%.5f;%.5f] is exceeded,\"\n+          FT_TRACE6(( \"      intermediate tuple range ]%.5f;%.5f[ is exceeded,\"\n@@ -1678,5 +1744,4 @@\n-        else if ( blend->normalizedcoords[i] < tuple_coords[i] )\n-        {\n-          FT_TRACE6(( \"      intermediate tuple range [%.5f;%.5f] fits\\n\",\n-                      im_start_coords[i] \/ 65536.0,\n-                      im_end_coords[i] \/ 65536.0 ));\n+        FT_TRACE6(( \"      intermediate tuple range ]%.5f;%.5f[ fits\\n\",\n+                    im_start_coords[i] \/ 65536.0,\n+                    im_end_coords[i] \/ 65536.0 ));\n+        if ( blend->normalizedcoords[i] < tuple_coords[i] )\n@@ -1686,2 +1751,0 @@\n-        }\n-\n@@ -1689,4 +1752,0 @@\n-        {\n-          FT_TRACE6(( \"      intermediate tuple range [%.5f;%.5f] fits\\n\",\n-                      im_start_coords[i] \/ 65536.0,\n-                      im_end_coords[i] \/ 65536.0 ));\n@@ -1696,1 +1755,0 @@\n-        }\n@@ -1736,4 +1794,0 @@\n-    FT_TRACE5(( \"%d design coordinate%s:\\n\",\n-                num_coords,\n-                num_coords == 1 ? \"\" : \"s\" ));\n-\n@@ -1746,1 +1800,1 @@\n-      FT_TRACE5(( \"  %.5f\\n\", coord \/ 65536.0 ));\n+      FT_TRACE5(( \"    %d: %.5f\\n\", i, coord \/ 65536.0 ));\n@@ -1763,2 +1817,2 @@\n-        normalized[i] = -FT_DivFix( coord - a->def,\n-                                    a->minimum - a->def );\n+        normalized[i] = -FT_DivFix( SUB_LONG( coord, a->def ),\n+                                    SUB_LONG( a->minimum, a->def ) );\n@@ -1766,2 +1820,2 @@\n-        normalized[i] = FT_DivFix( coord - a->def,\n-                                   a->maximum - a->def );\n+        normalized[i] = FT_DivFix( SUB_LONG( coord, a->def ),\n+                                   SUB_LONG( a->maximum, a->def ) );\n@@ -1917,21 +1971,23 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    TT_Get_MM_Var                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Check that the font's `fvar' table is valid, parse it, and return  *\/\n-  \/*    those data.  It also loads (and parses) the `MVAR' table, if       *\/\n-  \/*    possible.                                                          *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    face   :: The font face.                                           *\/\n-  \/*              TT_Get_MM_Var initializes the blend structure.           *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    master :: The `fvar' data (must be freed by caller).  Can be NULL, *\/\n-  \/*              which makes this function simply load MM support.        *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   TT_Get_MM_Var\n+   *\n+   * @Description:\n+   *   Check that the font's `fvar' table is valid, parse it, and return\n+   *   those data.  It also loads (and parses) the `MVAR' table, if\n+   *   possible.\n+   *\n+   * @InOut:\n+   *   face ::\n+   *     The font face.\n+   *     TT_Get_MM_Var initializes the blend structure.\n+   *\n+   * @Output:\n+   *   master ::\n+   *     The `fvar' data (must be freed by caller).  Can be NULL,\n+   *     which makes this function simply load MM support.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -2046,1 +2102,3 @@\n-      FT_TRACE5(( \"number of GX style axes: %d\\n\", fvar_head.axisCount ));\n+      FT_TRACE5(( \"%d variation ax%s\\n\",\n+                  fvar_head.axisCount,\n+                  fvar_head.axisCount == 1 ? \"is\" : \"es\" ));\n@@ -2051,1 +2109,2 @@\n-      num_axes = fvar_head.axisCount;\n+      num_axes              = fvar_head.axisCount;\n+      face->blend->num_axis = num_axes;\n@@ -2145,0 +2204,4 @@\n+#ifdef FT_DEBUG_LEVEL_TRACE\n+        int  invalid = 0;\n+#endif\n+\n@@ -2165,4 +2228,0 @@\n-          FT_TRACE2(( \"TT_Get_MM_Var:\"\n-                      \" invalid \\\"%s\\\" axis record; disabling\\n\",\n-                      a->name ));\n-\n@@ -2171,0 +2230,4 @@\n+\n+#ifdef FT_DEBUG_LEVEL_TRACE\n+          invalid = 1;\n+#endif\n@@ -2173,3 +2236,10 @@\n-        FT_TRACE5(( \"  \\\"%s\\\":\"\n-                    \" minimum=%.5f, default=%.5f, maximum=%.5f,\"\n-                    \" flags=0x%04X\\n\",\n+#ifdef FT_DEBUG_LEVEL_TRACE\n+        if ( i == 0 )\n+          FT_TRACE5(( \"  idx   tag  \"\n+                   \/* \"  XXX  `XXXX'\" *\/\n+                      \"    minimum     default     maximum   flags\\n\" ));\n+                   \/* \"  XXXX.XXXXX  XXXX.XXXXX  XXXX.XXXXX  0xXXXX\" *\/\n+\n+        FT_TRACE5(( \"  %3d  `%s'\"\n+                    \"  %10.5f  %10.5f  %10.5f  0x%04X%s\\n\",\n+                    i,\n@@ -2180,1 +2250,3 @@\n-                    *axis_flags ));\n+                    *axis_flags,\n+                    invalid ? \" (invalid, disabled)\" : \"\" ));\n+#endif\n@@ -2205,0 +2277,4 @@\n+      FT_TRACE5(( \"%d instance%s\\n\",\n+                  fvar_head.instanceCount,\n+                  fvar_head.instanceCount == 1 ? \"\" : \"s\" ));\n+\n@@ -2227,0 +2303,46 @@\n+#ifdef FT_DEBUG_LEVEL_TRACE\n+        {\n+          SFNT_Service  sfnt = (SFNT_Service)face->sfnt;\n+\n+          FT_String*  strname = NULL;\n+          FT_String*  psname  = NULL;\n+\n+          FT_ULong  pos;\n+\n+\n+          pos = FT_STREAM_POS();\n+\n+          if ( ns->strid != 0xFFFF )\n+          {\n+            (void)sfnt->get_name( face,\n+                                  (FT_UShort)ns->strid,\n+                                  &strname );\n+            if ( strname && !ft_strcmp( strname, \".notdef\" ) )\n+              strname = NULL;\n+          }\n+\n+          if ( ns->psid != 0xFFFF )\n+          {\n+            (void)sfnt->get_name( face,\n+                                  (FT_UShort)ns->psid,\n+                                  &psname );\n+            if ( psname && !ft_strcmp( psname, \".notdef\" ) )\n+              psname = NULL;\n+          }\n+\n+          (void)FT_STREAM_SEEK( pos );\n+\n+          FT_TRACE5(( \"  instance %d (%s%s%s, %s%s%s)\\n\",\n+                      i,\n+                      strname ? \"name: `\" : \"\",\n+                      strname ? strname : \"unnamed\",\n+                      strname ? \"'\" : \"\",\n+                      psname ? \"PS name: `\" : \"\",\n+                      psname ? psname : \"no PS name\",\n+                      psname ? \"'\" : \"\" ));\n+\n+          FT_FREE( strname );\n+          FT_FREE( psname );\n+        }\n+#endif \/* FT_DEBUG_LEVEL_TRACE *\/\n+\n@@ -2384,1 +2506,2 @@\n-    FT_TRACE5(( \"normalized design coordinates:\\n\" ));\n+    FT_TRACE5(( \"TT_Set_MM_Blend:\\n\"\n+                \"  normalized design coordinates:\\n\" ));\n@@ -2388,1 +2511,1 @@\n-      FT_TRACE5(( \"  %.5f\\n\", coords[i] \/ 65536.0 ));\n+      FT_TRACE5(( \"    %.5f\\n\", coords[i] \/ 65536.0 ));\n@@ -2447,1 +2570,1 @@\n-        FT_UInt  idx = (FT_UInt)face->root.face_index >> 16;\n+        FT_UInt  instance_index = (FT_UInt)face->root.face_index >> 16;\n@@ -2451,1 +2574,4 @@\n-        n = blend->normalized_stylecoords + idx * mmvar->num_axis + i;\n+        n = blend->normalized_stylecoords            +\n+            ( instance_index - 1 ) * mmvar->num_axis +\n+            i;\n+\n@@ -2466,0 +2592,3 @@\n+      {\n+        face->doblend = TRUE;\n+\n@@ -2467,0 +2596,1 @@\n+      }\n@@ -2530,25 +2660,28 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    TT_Set_MM_Blend                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Set the blend (normalized) coordinates for this instance of the    *\/\n-  \/*    font.  Check that the `gvar' table is reasonable and does some     *\/\n-  \/*    initial preparation.                                               *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    face       :: The font.                                            *\/\n-  \/*                  Initialize the blend structure with `gvar' data.     *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    num_coords :: The number of available coordinates.  If it is       *\/\n-  \/*                  larger than the number of axes, ignore the excess    *\/\n-  \/*                  values.  If it is smaller than the number of axes,   *\/\n-  \/*                  use the default value (0) for the remaining axes.    *\/\n-  \/*                                                                       *\/\n-  \/*    coords     :: An array of `num_coords', each between [-1,1].       *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   TT_Set_MM_Blend\n+   *\n+   * @Description:\n+   *   Set the blend (normalized) coordinates for this instance of the\n+   *   font.  Check that the `gvar' table is reasonable and does some\n+   *   initial preparation.\n+   *\n+   * @InOut:\n+   *   face ::\n+   *     The font.\n+   *     Initialize the blend structure with `gvar' data.\n+   *\n+   * @Input:\n+   *   num_coords ::\n+   *     The number of available coordinates.  If it is\n+   *     larger than the number of axes, ignore the excess\n+   *     values.  If it is smaller than the number of axes,\n+   *     use the default value (0) for the remaining axes.\n+   *\n+   *   coords ::\n+   *     An array of `num_coords', each between [-1,1].\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -2576,23 +2709,26 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    TT_Get_MM_Blend                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Get the blend (normalized) coordinates for this instance of the    *\/\n-  \/*    font.                                                              *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    face       :: The font.                                            *\/\n-  \/*                  Initialize the blend structure with `gvar' data.     *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    num_coords :: The number of available coordinates.  If it is       *\/\n-  \/*                  larger than the number of axes, set the excess       *\/\n-  \/*                  values to 0.                                         *\/\n-  \/*                                                                       *\/\n-  \/*    coords     :: An array of `num_coords', each between [-1,1].       *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   TT_Get_MM_Blend\n+   *\n+   * @Description:\n+   *   Get the blend (normalized) coordinates for this instance of the\n+   *   font.\n+   *\n+   * @InOut:\n+   *   face ::\n+   *     The font.\n+   *     Initialize the blend structure with `gvar' data.\n+   *\n+   * @Input:\n+   *   num_coords ::\n+   *     The number of available coordinates.  If it is\n+   *     larger than the number of axes, set the excess\n+   *     values to 0.\n+   *\n+   *   coords ::\n+   *     An array of `num_coords', each between [-1,1].\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -2652,25 +2788,28 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    TT_Set_Var_Design                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Set the coordinates for the instance, measured in the user         *\/\n-  \/*    coordinate system.  Parse the `avar' table (if present) to convert *\/\n-  \/*    from user to normalized coordinates.                               *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    face       :: The font face.                                       *\/\n-  \/*                  Initialize the blend struct with `gvar' data.        *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    num_coords :: The number of available coordinates.  If it is       *\/\n-  \/*                  larger than the number of axes, ignore the excess    *\/\n-  \/*                  values.  If it is smaller than the number of axes,   *\/\n-  \/*                  use the default values for the remaining axes.       *\/\n-  \/*                                                                       *\/\n-  \/*    coords     :: A coordinate array with `num_coords' elements.       *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   TT_Set_Var_Design\n+   *\n+   * @Description:\n+   *   Set the coordinates for the instance, measured in the user\n+   *   coordinate system.  Parse the `avar' table (if present) to convert\n+   *   from user to normalized coordinates.\n+   *\n+   * @InOut:\n+   *   face ::\n+   *     The font face.\n+   *     Initialize the blend struct with `gvar' data.\n+   *\n+   * @Input:\n+   *   num_coords ::\n+   *     The number of available coordinates.  If it is\n+   *     larger than the number of axes, ignore the excess\n+   *     values.  If it is smaller than the number of axes,\n+   *     use the default values for the remaining axes.\n+   *\n+   *   coords ::\n+   *     A coordinate array with `num_coords' elements.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -2764,2 +2903,3 @@\n-    \/* return value -1 indicates `no change' *\/\n-    if ( !have_diff )\n+    \/* return value -1 indicates `no change';                      *\/\n+    \/* we can exit early if `normalizedcoords' is already computed *\/\n+    if ( blend->normalizedcoords && !have_diff )\n@@ -2774,0 +2914,2 @@\n+    FT_TRACE5(( \"TT_Set_Var_Design:\\n\"\n+                \"  normalized design coordinates:\\n\" ));\n@@ -2791,22 +2933,25 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    TT_Get_Var_Design                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Get the design coordinates of the currently selected interpolated  *\/\n-  \/*    font.                                                              *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face       :: A handle to the source face.                         *\/\n-  \/*                                                                       *\/\n-  \/*    num_coords :: The number of design coordinates to retrieve.  If it *\/\n-  \/*                  is larger than the number of axes, set the excess    *\/\n-  \/*                  values to~0.                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    coords     :: The design coordinates array.                        *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   TT_Get_Var_Design\n+   *\n+   * @Description:\n+   *   Get the design coordinates of the currently selected interpolated\n+   *   font.\n+   *\n+   * @Input:\n+   *   face ::\n+   *     A handle to the source face.\n+   *\n+   *   num_coords ::\n+   *     The number of design coordinates to retrieve.  If it\n+   *     is larger than the number of axes, set the excess\n+   *     values to~0.\n+   *\n+   * @Output:\n+   *   coords ::\n+   *     The design coordinates array.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0~means success.\n+   *\/\n@@ -2866,18 +3011,20 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    TT_Set_Named_Instance                                              *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Set the given named instance, also resetting any further           *\/\n-  \/*    variation.                                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face           :: A handle to the source face.                     *\/\n-  \/*                                                                       *\/\n-  \/*    instance_index :: The instance index, starting with value 1.       *\/\n-  \/*                      Value 0 indicates to not use an instance.        *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0~means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   TT_Set_Named_Instance\n+   *\n+   * @Description:\n+   *   Set the given named instance, also resetting any further\n+   *   variation.\n+   *\n+   * @Input:\n+   *   face ::\n+   *     A handle to the source face.\n+   *\n+   *   instance_index ::\n+   *     The instance index, starting with value 1.\n+   *     Value 0 indicates to not use an instance.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0~means success.\n+   *\/\n@@ -2959,21 +3106,23 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    tt_face_vary_cvt                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Modify the loaded cvt table according to the `cvar' table and the  *\/\n-  \/*    font's blend.                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    face   :: A handle to the target face object.                      *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    stream :: A handle to the input stream.                            *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n-  \/*    Most errors are ignored.  It is perfectly valid not to have a      *\/\n-  \/*    `cvar' table even if there is a `gvar' and `fvar' table.           *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_face_vary_cvt\n+   *\n+   * @Description:\n+   *   Modify the loaded cvt table according to the `cvar' table and the\n+   *   font's blend.\n+   *\n+   * @InOut:\n+   *   face ::\n+   *     A handle to the target face object.\n+   *\n+   * @Input:\n+   *   stream ::\n+   *     A handle to the input stream.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\n+   *   Most errors are ignored.  It is perfectly valid not to have a\n+   *   `cvar' table even if there is a `gvar' and `fvar' table.\n+   *\/\n@@ -2984,13 +3133,21 @@\n-    FT_Error    error;\n-    FT_Memory   memory = stream->memory;\n-    FT_ULong    table_start;\n-    FT_ULong    table_len;\n-    FT_UInt     tupleCount;\n-    FT_ULong    offsetToData;\n-    FT_ULong    here;\n-    FT_UInt     i, j;\n-    FT_Fixed*   tuple_coords    = NULL;\n-    FT_Fixed*   im_start_coords = NULL;\n-    FT_Fixed*   im_end_coords   = NULL;\n-    GX_Blend    blend           = face->blend;\n-    FT_UInt     point_count, spoint_count = 0;\n+    FT_Error   error;\n+    FT_Memory  memory = stream->memory;\n+\n+    FT_ULong  table_start;\n+    FT_ULong  table_len;\n+\n+    FT_UInt   tupleCount;\n+    FT_ULong  offsetToData;\n+\n+    FT_ULong  here;\n+    FT_UInt   i, j;\n+\n+    FT_Fixed*  tuple_coords    = NULL;\n+    FT_Fixed*  im_start_coords = NULL;\n+    FT_Fixed*  im_end_coords   = NULL;\n+\n+    GX_Blend  blend = face->blend;\n+\n+    FT_UInt  point_count;\n+    FT_UInt  spoint_count = 0;\n+\n@@ -3000,1 +3157,3 @@\n-    FT_Short*   deltas;\n+\n+    FT_Fixed*  deltas     = NULL;\n+    FT_Fixed*  cvt_deltas = NULL;\n@@ -3083,3 +3242,6 @@\n-                ( tupleCount & 0xFFF ) == 1 ? \"is\" : \"are\",\n-                tupleCount & 0xFFF,\n-                ( tupleCount & 0xFFF ) == 1 ? \"\" : \"s\" ));\n+                ( tupleCount & GX_TC_TUPLE_COUNT_MASK ) == 1 ? \"is\" : \"are\",\n+                tupleCount & GX_TC_TUPLE_COUNT_MASK,\n+                ( tupleCount & GX_TC_TUPLE_COUNT_MASK ) == 1 ? \"\" : \"s\" ));\n+\n+    if ( FT_NEW_ARRAY( cvt_deltas, face->cvt_size ) )\n+      goto FExit;\n@@ -3087,1 +3249,1 @@\n-    for ( i = 0; i < ( tupleCount & 0xFFF ); i++ )\n+    for ( i = 0; i < ( tupleCount & GX_TC_TUPLE_COUNT_MASK ); i++ )\n@@ -3111,1 +3273,1 @@\n-        goto Exit;\n+        goto FExit;\n@@ -3114,0 +3276,10 @@\n+      {\n+        if ( !blend->tuplecoords )\n+        {\n+          FT_TRACE2(( \"tt_face_vary_cvt:\"\n+                      \" no valid tuple coordinates available\\n\" ));\n+\n+          error = FT_THROW( Invalid_Table );\n+          goto FExit;\n+        }\n+\n@@ -3116,1 +3288,2 @@\n-          &blend->tuplecoords[( tupleIndex & 0xFFF ) * blend->num_axis],\n+          blend->tuplecoords +\n+            ( tupleIndex & GX_TI_TUPLE_INDEX_MASK ) * blend->num_axis,\n@@ -3118,0 +3291,1 @@\n+      }\n@@ -3178,1 +3352,1 @@\n-          FT_Long  orig_cvt = face->cvt[j];\n+          FT_Fixed  old_cvt_delta;\n@@ -3181,2 +3355,2 @@\n-          face->cvt[j] = (FT_Short)( orig_cvt +\n-                                     FT_MulFix( deltas[j], apply ) );\n+          old_cvt_delta = cvt_deltas[j];\n+          cvt_deltas[j] = old_cvt_delta + FT_MulFix( deltas[j], apply );\n@@ -3185,1 +3359,1 @@\n-          if ( orig_cvt != face->cvt[j] )\n+          if ( old_cvt_delta != cvt_deltas[j] )\n@@ -3187,2 +3361,6 @@\n-            FT_TRACE7(( \"      %d: %d -> %d\\n\",\n-                        j, orig_cvt, face->cvt[j] ));\n+            FT_TRACE7(( \"      %d: %f -> %f\\n\",\n+                        j,\n+                        ( FT_intToFixed( face->cvt[j] ) +\n+                          old_cvt_delta ) \/ 65536.0,\n+                        ( FT_intToFixed( face->cvt[j] ) +\n+                          cvt_deltas[j] ) \/ 65536.0 ));\n@@ -3211,2 +3389,2 @@\n-          int      pindex;\n-          FT_Long  orig_cvt;\n+          int       pindex;\n+          FT_Fixed  old_cvt_delta;\n@@ -3219,3 +3397,2 @@\n-          orig_cvt          = face->cvt[pindex];\n-          face->cvt[pindex] = (FT_Short)( orig_cvt +\n-                                          FT_MulFix( deltas[j], apply ) );\n+          old_cvt_delta      = cvt_deltas[pindex];\n+          cvt_deltas[pindex] = old_cvt_delta + FT_MulFix( deltas[j], apply );\n@@ -3224,1 +3401,1 @@\n-          if ( orig_cvt != face->cvt[pindex] )\n+          if ( old_cvt_delta != cvt_deltas[pindex] )\n@@ -3226,2 +3403,6 @@\n-            FT_TRACE7(( \"      %d: %d -> %d\\n\",\n-                        pindex, orig_cvt, face->cvt[pindex] ));\n+            FT_TRACE7(( \"      %d: %f -> %f\\n\",\n+                        pindex,\n+                        ( FT_intToFixed( face->cvt[pindex] ) +\n+                          old_cvt_delta ) \/ 65536.0,\n+                        ( FT_intToFixed( face->cvt[pindex] ) +\n+                          cvt_deltas[pindex] ) \/ 65536.0 ));\n@@ -3250,0 +3431,3 @@\n+    for ( i = 0; i < face->cvt_size; i++ )\n+      face->cvt[i] += FT_fixedToInt( cvt_deltas[i] );\n+\n@@ -3259,0 +3443,1 @@\n+    FT_FREE( cvt_deltas );\n@@ -3304,3 +3489,2 @@\n-  \/* modeled after `af_iup_interp', `_iup_worker_interpolate', and *\/\n-  \/* `Ins_IUP'                                                     *\/\n-\n+  \/* modeled after `af_iup_interp', `_iup_worker_interpolate', and   *\/\n+  \/* `Ins_IUP' with spec differences in handling ill-defined cases.  *\/\n@@ -3465,22 +3649,26 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    TT_Vary_Apply_Glyph_Deltas                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Apply the appropriate deltas to the current glyph.                 *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face        :: A handle to the target face object.                 *\/\n-  \/*                                                                       *\/\n-  \/*    glyph_index :: The index of the glyph being modified.              *\/\n-  \/*                                                                       *\/\n-  \/*    n_points    :: The number of the points in the glyph, including    *\/\n-  \/*                   phantom points.                                     *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    outline     :: The outline to change.                              *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   TT_Vary_Apply_Glyph_Deltas\n+   *\n+   * @Description:\n+   *   Apply the appropriate deltas to the current glyph.\n+   *\n+   * @Input:\n+   *   face ::\n+   *     A handle to the target face object.\n+   *\n+   *   glyph_index ::\n+   *     The index of the glyph being modified.\n+   *\n+   *   n_points ::\n+   *     The number of the points in the glyph, including\n+   *     phantom points.\n+   *\n+   * @InOut:\n+   *   outline ::\n+   *     The outline to change.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -3493,3 +3681,3 @@\n-    FT_Stream   stream = face->root.stream;\n-    FT_Memory   memory = stream->memory;\n-    GX_Blend    blend  = face->blend;\n+    FT_Error   error;\n+    FT_Stream  stream = face->root.stream;\n+    FT_Memory  memory = stream->memory;\n@@ -3497,2 +3685,2 @@\n-    FT_Vector*  points_org = NULL;\n-    FT_Vector*  points_out = NULL;\n+    FT_Vector*  points_org = NULL;  \/* coordinates in 16.16 format *\/\n+    FT_Vector*  points_out = NULL;  \/* coordinates in 16.16 format *\/\n@@ -3501,10 +3689,18 @@\n-    FT_Error    error;\n-    FT_ULong    glyph_start;\n-    FT_UInt     tupleCount;\n-    FT_ULong    offsetToData;\n-    FT_ULong    here;\n-    FT_UInt     i, j;\n-    FT_Fixed*   tuple_coords    = NULL;\n-    FT_Fixed*   im_start_coords = NULL;\n-    FT_Fixed*   im_end_coords   = NULL;\n-    FT_UInt     point_count, spoint_count = 0;\n+    FT_ULong  glyph_start;\n+\n+    FT_UInt   tupleCount;\n+    FT_ULong  offsetToData;\n+    FT_ULong  dataSize;\n+\n+    FT_ULong  here;\n+    FT_UInt   i, j;\n+\n+    FT_Fixed*  tuple_coords    = NULL;\n+    FT_Fixed*  im_start_coords = NULL;\n+    FT_Fixed*  im_end_coords   = NULL;\n+\n+    GX_Blend  blend = face->blend;\n+\n+    FT_UInt  point_count;\n+    FT_UInt  spoint_count = 0;\n+\n@@ -3514,1 +3710,5 @@\n-    FT_Short    *deltas_x, *deltas_y;\n+\n+    FT_Fixed*  deltas_x       = NULL;\n+    FT_Fixed*  deltas_y       = NULL;\n+    FT_Fixed*  point_deltas_x = NULL;\n+    FT_Fixed*  point_deltas_y = NULL;\n@@ -3534,3 +3734,5 @@\n-    if ( FT_STREAM_SEEK( blend->glyphoffsets[glyph_index] )   ||\n-         FT_FRAME_ENTER( blend->glyphoffsets[glyph_index + 1] -\n-                           blend->glyphoffsets[glyph_index] ) )\n+    dataSize = blend->glyphoffsets[glyph_index + 1] -\n+                 blend->glyphoffsets[glyph_index];\n+\n+    if ( FT_STREAM_SEEK( blend->glyphoffsets[glyph_index] ) ||\n+         FT_FRAME_ENTER( dataSize )                         )\n@@ -3552,2 +3754,2 @@\n-    if ( offsetToData + ( tupleCount & GX_TC_TUPLE_COUNT_MASK ) * 4 >\n-           blend->gvar_size )\n+    if ( offsetToData > dataSize                                ||\n+         ( tupleCount & GX_TC_TUPLE_COUNT_MASK ) * 4 > dataSize )\n@@ -3583,0 +3785,4 @@\n+    if ( FT_NEW_ARRAY( point_deltas_x, n_points ) ||\n+         FT_NEW_ARRAY( point_deltas_y, n_points ) )\n+      goto Fail3;\n+\n@@ -3584,1 +3790,4 @@\n-      points_org[j] = outline->points[j];\n+    {\n+      points_org[j].x = FT_intToFixed( outline->points[j].x );\n+      points_org[j].y = FT_intToFixed( outline->points[j].y );\n+    }\n@@ -3610,1 +3819,1 @@\n-        goto Fail2;\n+        goto Fail3;\n@@ -3615,1 +3824,2 @@\n-          &blend->tuplecoords[( tupleIndex & 0xFFF ) * blend->num_axis],\n+          blend->tuplecoords +\n+            ( tupleIndex & GX_TI_TUPLE_INDEX_MASK ) * blend->num_axis,\n@@ -3679,2 +3889,5 @@\n-          FT_Pos  delta_x = FT_MulFix( deltas_x[j], apply );\n-          FT_Pos  delta_y = FT_MulFix( deltas_y[j], apply );\n+          FT_Fixed  old_point_delta_x = point_deltas_x[j];\n+          FT_Fixed  old_point_delta_y = point_deltas_y[j];\n+\n+          FT_Fixed  point_delta_x = FT_MulFix( deltas_x[j], apply );\n+          FT_Fixed  point_delta_y = FT_MulFix( deltas_y[j], apply );\n@@ -3685,2 +3898,2 @@\n-            outline->points[j].x += delta_x;\n-            outline->points[j].y += delta_y;\n+            point_deltas_x[j] = old_point_delta_x + point_delta_x;\n+            point_deltas_y[j] = old_point_delta_y + point_delta_y;\n@@ -3696,1 +3909,1 @@\n-              outline->points[j].x += delta_x;\n+              point_deltas_x[j] = old_point_delta_x + point_delta_x;\n@@ -3701,1 +3914,1 @@\n-              outline->points[j].x += delta_x;\n+              point_deltas_x[j] = old_point_delta_x + point_delta_x;\n@@ -3706,1 +3919,1 @@\n-              outline->points[j].y += delta_y;\n+              point_deltas_y[j] = old_point_delta_y + point_delta_y;\n@@ -3711,1 +3924,1 @@\n-              outline->points[j].y += delta_y;\n+              point_deltas_y[j] = old_point_delta_y + point_delta_y;\n@@ -3715,1 +3928,1 @@\n-          if ( delta_x || delta_y )\n+          if ( point_delta_x || point_delta_y )\n@@ -3717,1 +3930,1 @@\n-            FT_TRACE7(( \"      %d: (%d, %d) -> (%d, %d)\\n\",\n+            FT_TRACE7(( \"      %d: (%f, %f) -> (%f, %f)\\n\",\n@@ -3719,4 +3932,8 @@\n-                        outline->points[j].x - delta_x,\n-                        outline->points[j].y - delta_y,\n-                        outline->points[j].x,\n-                        outline->points[j].y ));\n+                        ( FT_intToFixed( outline->points[j].x ) +\n+                          old_point_delta_x ) \/ 65536.0,\n+                        ( FT_intToFixed( outline->points[j].y ) +\n+                          old_point_delta_y ) \/ 65536.0,\n+                        ( FT_intToFixed( outline->points[j].x ) +\n+                          point_deltas_x[j] ) \/ 65536.0,\n+                        ( FT_intToFixed( outline->points[j].y ) +\n+                          point_deltas_y[j] ) \/ 65536.0 ));\n@@ -3774,2 +3991,5 @@\n-          FT_Pos  delta_x = points_out[j].x - points_org[j].x;\n-          FT_Pos  delta_y = points_out[j].y - points_org[j].y;\n+          FT_Fixed  old_point_delta_x = point_deltas_x[j];\n+          FT_Fixed  old_point_delta_y = point_deltas_y[j];\n+\n+          FT_Pos  point_delta_x = points_out[j].x - points_org[j].x;\n+          FT_Pos  point_delta_y = points_out[j].y - points_org[j].y;\n@@ -3780,2 +4000,2 @@\n-            outline->points[j].x += delta_x;\n-            outline->points[j].y += delta_y;\n+            point_deltas_x[j] = old_point_delta_x + point_delta_x;\n+            point_deltas_y[j] = old_point_delta_y + point_delta_y;\n@@ -3791,1 +4011,1 @@\n-              outline->points[j].x += delta_x;\n+              point_deltas_x[j] = old_point_delta_x + point_delta_x;\n@@ -3796,1 +4016,1 @@\n-              outline->points[j].x += delta_x;\n+              point_deltas_x[j] = old_point_delta_x + point_delta_x;\n@@ -3801,1 +4021,1 @@\n-              outline->points[j].y += delta_y;\n+              point_deltas_y[j] = old_point_delta_y + point_delta_y;\n@@ -3806,1 +4026,1 @@\n-              outline->points[j].y += delta_y;\n+              point_deltas_y[j] = old_point_delta_y + point_delta_y;\n@@ -3810,1 +4030,1 @@\n-          if ( delta_x || delta_y )\n+          if ( point_delta_x || point_delta_y )\n@@ -3812,1 +4032,1 @@\n-            FT_TRACE7(( \"      %d: (%d, %d) -> (%d, %d)\\n\",\n+            FT_TRACE7(( \"      %d: (%f, %f) -> (%f, %f)\\n\",\n@@ -3814,4 +4034,8 @@\n-                        outline->points[j].x - delta_x,\n-                        outline->points[j].y - delta_y,\n-                        outline->points[j].x,\n-                        outline->points[j].y ));\n+                        ( FT_intToFixed( outline->points[j].x ) +\n+                          old_point_delta_x ) \/ 65536.0,\n+                        ( FT_intToFixed( outline->points[j].y ) +\n+                          old_point_delta_y ) \/ 65536.0,\n+                        ( FT_intToFixed( outline->points[j].x ) +\n+                          point_deltas_x[j] ) \/ 65536.0,\n+                        ( FT_intToFixed( outline->points[j].y ) +\n+                          point_deltas_y[j] ) \/ 65536.0 ));\n@@ -3841,0 +4065,10 @@\n+    for ( i = 0; i < n_points; i++ )\n+    {\n+      outline->points[i].x += FT_fixedToInt( point_deltas_x[i] );\n+      outline->points[i].y += FT_fixedToInt( point_deltas_y[i] );\n+    }\n+\n+  Fail3:\n+    FT_FREE( point_deltas_x );\n+    FT_FREE( point_deltas_y );\n+\n@@ -3859,10 +4093,10 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    tt_get_var_blend                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    An extended internal version of `TT_Get_MM_Blend' that returns     *\/\n-  \/*    pointers instead of copying data, without any initialization of    *\/\n-  \/*    the MM machinery in case it isn't loaded yet.                      *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_get_var_blend\n+   *\n+   * @Description:\n+   *   An extended internal version of `TT_Get_MM_Blend' that returns\n+   *   pointers instead of copying data, without any initialization of\n+   *   the MM machinery in case it isn't loaded yet.\n+   *\/\n@@ -3930,8 +4164,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    tt_done_blend                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Free the blend internal data structure.                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_done_blend\n+   *\n+   * @Description:\n+   *   Free the blend internal data structure.\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/truetype\/ttgxvar.c","additions":851,"deletions":617,"binary":false,"changes":1468,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ttgxvar.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    TrueType GX Font Variation loader (specification)                    *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2004-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, Werner Lemberg and George Williams.      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ttgxvar.h\n+ *\n+ *   TrueType GX Font Variation loader (specification)\n+ *\n+ * Copyright (C) 2004-2019 by\n+ * David Turner, Robert Wilhelm, Werner Lemberg and George Williams.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -32,9 +32,9 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    GX_AVarCorrespondenceRec                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A data structure representing `shortFracCorrespondence' in `avar'  *\/\n-  \/*    table according to the specifications from Apple.                  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Struct:\n+   *   GX_AVarCorrespondenceRec\n+   *\n+   * @Description:\n+   *   A data structure representing `shortFracCorrespondence' in `avar'\n+   *   table according to the specifications from Apple.\n+   *\/\n@@ -49,9 +49,9 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    GX_AVarRec                                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Data from the segment field of `avar' table.                       *\/\n-  \/*    There is one of these for each axis.                               *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Struct:\n+   *   GX_AVarRec\n+   *\n+   * @Description:\n+   *   Data from the segment field of `avar' table.\n+   *   There is one of these for each axis.\n+   *\/\n@@ -117,8 +117,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    GX_HVVarTableRec                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Data from either the `HVAR' or `VVAR' table.                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Struct:\n+   *   GX_HVVarTableRec\n+   *\n+   * @Description:\n+   *   Data from either the `HVAR' or `VVAR' table.\n+   *\/\n@@ -194,8 +194,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    GX_MVarTableRec                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Data from the `MVAR' table.                                        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Struct:\n+   *   GX_MVarTableRec\n+   *\n+   * @Description:\n+   *   Data from the `MVAR' table.\n+   *\/\n@@ -212,89 +212,89 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    GX_BlendRec                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Data for interpolating a font from a distortable font specified    *\/\n-  \/*    by the GX *var tables ([fgcahvm]var).                              *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    num_axis ::                                                        *\/\n-  \/*      The number of axes along which interpolation may happen.         *\/\n-  \/*                                                                       *\/\n-  \/*    coords ::                                                          *\/\n-  \/*      An array of design coordinates (in user space) indicating the    *\/\n-  \/*      contribution along each axis to the final interpolated font.     *\/\n-  \/*      `normalizedcoords' holds the same values.                        *\/\n-  \/*                                                                       *\/\n-  \/*    normalizedcoords ::                                                *\/\n-  \/*      An array of normalized values (between [-1,1]) indicating the    *\/\n-  \/*      contribution along each axis to the final interpolated font.     *\/\n-  \/*      `coords' holds the same values.                                  *\/\n-  \/*                                                                       *\/\n-  \/*    mmvar ::                                                           *\/\n-  \/*      Data from the `fvar' table.                                      *\/\n-  \/*                                                                       *\/\n-  \/*    mmvar_len ::                                                       *\/\n-  \/*      The length of the `mmvar' structure.                             *\/\n-  \/*                                                                       *\/\n-  \/*    normalized_stylecoords ::                                          *\/\n-  \/*      A two-dimensional array that holds the named instance data from  *\/\n-  \/*      `mmvar' as normalized values.                                    *\/\n-  \/*                                                                       *\/\n-  \/*    avar_loaded ::                                                     *\/\n-  \/*      A Boolean; if set, FreeType tried to load (and parse) the `avar' *\/\n-  \/*      table.                                                           *\/\n-  \/*                                                                       *\/\n-  \/*    avar_segment ::                                                    *\/\n-  \/*      Data from the `avar' table.                                      *\/\n-  \/*                                                                       *\/\n-  \/*    hvar_loaded ::                                                     *\/\n-  \/*      A Boolean; if set, FreeType tried to load (and parse) the `hvar' *\/\n-  \/*      table.                                                           *\/\n-  \/*                                                                       *\/\n-  \/*    hvar_checked ::                                                    *\/\n-  \/*      A Boolean; if set, FreeType successfully loaded and parsed the   *\/\n-  \/*      `hvar' table.                                                    *\/\n-  \/*                                                                       *\/\n-  \/*    hvar_error ::                                                      *\/\n-  \/*      If loading and parsing of the `hvar' table failed, this field    *\/\n-  \/*      holds the corresponding error code.                              *\/\n-  \/*                                                                       *\/\n-  \/*    hvar_table ::                                                      *\/\n-  \/*      Data from the `hvar' table.                                      *\/\n-  \/*                                                                       *\/\n-  \/*    vvar_loaded ::                                                     *\/\n-  \/*      A Boolean; if set, FreeType tried to load (and parse) the `vvar' *\/\n-  \/*      table.                                                           *\/\n-  \/*                                                                       *\/\n-  \/*    vvar_checked ::                                                    *\/\n-  \/*      A Boolean; if set, FreeType successfully loaded and parsed the   *\/\n-  \/*      `vvar' table.                                                    *\/\n-  \/*                                                                       *\/\n-  \/*    vvar_error ::                                                      *\/\n-  \/*      If loading and parsing of the `vvar' table failed, this field    *\/\n-  \/*      holds the corresponding error code.                              *\/\n-  \/*                                                                       *\/\n-  \/*    vvar_table ::                                                      *\/\n-  \/*      Data from the `vvar' table.                                      *\/\n-  \/*                                                                       *\/\n-  \/*    mvar_table ::                                                      *\/\n-  \/*      Data from the `mvar' table.                                      *\/\n-  \/*                                                                       *\/\n-  \/*    tuplecount ::                                                      *\/\n-  \/*      The number of shared tuples in the `gvar' table.                 *\/\n-  \/*                                                                       *\/\n-  \/*    tuplecoords ::                                                     *\/\n-  \/*      A two-dimensional array that holds the shared tuple coordinates  *\/\n-  \/*      in the `gvar' table.                                             *\/\n-  \/*                                                                       *\/\n-  \/*    gv_glyphcnt ::                                                     *\/\n-  \/*      The number of glyphs handled in the `gvar' table.                *\/\n-  \/*                                                                       *\/\n-  \/*    glyphoffsets ::                                                    *\/\n-  \/*      Offsets into the glyph variation data array.                     *\/\n-  \/*                                                                       *\/\n-  \/*    gvar_size ::                                                       *\/\n-  \/*      The size of the `gvar' table.                                    *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Struct:\n+   *   GX_BlendRec\n+   *\n+   * @Description:\n+   *   Data for interpolating a font from a distortable font specified\n+   *   by the GX *var tables ([fgcahvm]var).\n+   *\n+   * @Fields:\n+   *   num_axis ::\n+   *     The number of axes along which interpolation may happen.\n+   *\n+   *   coords ::\n+   *     An array of design coordinates (in user space) indicating the\n+   *     contribution along each axis to the final interpolated font.\n+   *     `normalizedcoords' holds the same values.\n+   *\n+   *   normalizedcoords ::\n+   *     An array of normalized values (between [-1,1]) indicating the\n+   *     contribution along each axis to the final interpolated font.\n+   *     `coords' holds the same values.\n+   *\n+   *   mmvar ::\n+   *     Data from the `fvar' table.\n+   *\n+   *   mmvar_len ::\n+   *     The length of the `mmvar' structure.\n+   *\n+   *   normalized_stylecoords ::\n+   *     A two-dimensional array that holds the named instance data from\n+   *     `mmvar' as normalized values.\n+   *\n+   *   avar_loaded ::\n+   *     A Boolean; if set, FreeType tried to load (and parse) the `avar'\n+   *     table.\n+   *\n+   *   avar_segment ::\n+   *     Data from the `avar' table.\n+   *\n+   *   hvar_loaded ::\n+   *     A Boolean; if set, FreeType tried to load (and parse) the `hvar'\n+   *     table.\n+   *\n+   *   hvar_checked ::\n+   *     A Boolean; if set, FreeType successfully loaded and parsed the\n+   *     `hvar' table.\n+   *\n+   *   hvar_error ::\n+   *     If loading and parsing of the `hvar' table failed, this field\n+   *     holds the corresponding error code.\n+   *\n+   *   hvar_table ::\n+   *     Data from the `hvar' table.\n+   *\n+   *   vvar_loaded ::\n+   *     A Boolean; if set, FreeType tried to load (and parse) the `vvar'\n+   *     table.\n+   *\n+   *   vvar_checked ::\n+   *     A Boolean; if set, FreeType successfully loaded and parsed the\n+   *     `vvar' table.\n+   *\n+   *   vvar_error ::\n+   *     If loading and parsing of the `vvar' table failed, this field\n+   *     holds the corresponding error code.\n+   *\n+   *   vvar_table ::\n+   *     Data from the `vvar' table.\n+   *\n+   *   mvar_table ::\n+   *     Data from the `mvar' table.\n+   *\n+   *   tuplecount ::\n+   *     The number of shared tuples in the `gvar' table.\n+   *\n+   *   tuplecoords ::\n+   *     A two-dimensional array that holds the shared tuple coordinates\n+   *     in the `gvar' table.\n+   *\n+   *   gv_glyphcnt ::\n+   *     The number of glyphs handled in the `gvar' table.\n+   *\n+   *   glyphoffsets ::\n+   *     Offsets into the glyph variation data array.\n+   *\n+   *   gvar_size ::\n+   *     The size of the `gvar' table.\n+   *\/\n@@ -339,8 +339,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <enum>                                                                *\/\n-  \/*    GX_TupleCountFlags                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Flags used within the `TupleCount' field of the `gvar' table.      *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @enum:\n+   *   GX_TupleCountFlags\n+   *\n+   * @Description:\n+   *   Flags used within the `TupleCount' field of the `gvar' table.\n+   *\/\n@@ -356,9 +356,9 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <enum>                                                                *\/\n-  \/*    GX_TupleIndexFlags                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Flags used within the `TupleIndex' field of the `gvar' and `cvar'  *\/\n-  \/*    tables.                                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @enum:\n+   *   GX_TupleIndexFlags\n+   *\n+   * @Description:\n+   *   Flags used within the `TupleIndex' field of the `gvar' and `cvar'\n+   *   tables.\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/truetype\/ttgxvar.h","additions":156,"deletions":156,"binary":false,"changes":312,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ttinterp.c                                                             *\/\n-\/*                                                                         *\/\n-\/*    TrueType bytecode interpreter (body).                                *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ttinterp.c\n+ *\n+ *   TrueType bytecode interpreter (body).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -42,6 +42,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -49,1 +49,1 @@\n-#define FT_COMPONENT  trace_ttinterp\n+#define FT_COMPONENT  ttinterp\n@@ -85,4 +85,4 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Two simple bounds-checking macros.                                    *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Two simple bounds-checking macros.\n+   *\/\n@@ -100,24 +100,27 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*                        CODERANGE FUNCTIONS                            *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    TT_Goto_CodeRange                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Switches to a new code range (updates the code related elements in *\/\n-  \/*    `exec', and `IP').                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    range :: The new execution code range.                             *\/\n-  \/*                                                                       *\/\n-  \/*    IP    :: The new IP in the new code range.                         *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    exec  :: The target execution context.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   *                       CODERANGE FUNCTIONS\n+   *\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   TT_Goto_CodeRange\n+   *\n+   * @Description:\n+   *   Switches to a new code range (updates the code related elements in\n+   *   `exec', and `IP').\n+   *\n+   * @Input:\n+   *   range ::\n+   *     The new execution code range.\n+   *\n+   *   IP ::\n+   *     The new IP in the new code range.\n+   *\n+   * @InOut:\n+   *   exec ::\n+   *     The target execution context.\n+   *\/\n@@ -151,18 +154,22 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    TT_Set_CodeRange                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Sets a code range.                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    range  :: The code range index.                                    *\/\n-  \/*                                                                       *\/\n-  \/*    base   :: The new code base.                                       *\/\n-  \/*                                                                       *\/\n-  \/*    length :: The range size in bytes.                                 *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    exec   :: The target execution context.                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   TT_Set_CodeRange\n+   *\n+   * @Description:\n+   *   Sets a code range.\n+   *\n+   * @Input:\n+   *   range ::\n+   *     The code range index.\n+   *\n+   *   base ::\n+   *     The new code base.\n+   *\n+   *   length ::\n+   *     The range size in bytes.\n+   *\n+   * @InOut:\n+   *   exec ::\n+   *     The target execution context.\n+   *\/\n@@ -182,14 +189,16 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    TT_Clear_CodeRange                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Clears a code range.                                               *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    range :: The code range index.                                     *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    exec  :: The target execution context.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   TT_Clear_CodeRange\n+   *\n+   * @Description:\n+   *   Clears a code range.\n+   *\n+   * @Input:\n+   *   range ::\n+   *     The code range index.\n+   *\n+   * @InOut:\n+   *   exec ::\n+   *     The target execution context.\n+   *\/\n@@ -207,23 +216,25 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*                   EXECUTION CONTEXT ROUTINES                          *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    TT_Done_Context                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Destroys a given context.                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    exec   :: A handle to the target execution context.                *\/\n-  \/*                                                                       *\/\n-  \/*    memory :: A handle to the parent memory object.                    *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    Only the glyph loader and debugger should call this function.      *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   *                  EXECUTION CONTEXT ROUTINES\n+   *\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   TT_Done_Context\n+   *\n+   * @Description:\n+   *   Destroys a given context.\n+   *\n+   * @Input:\n+   *   exec ::\n+   *     A handle to the target execution context.\n+   *\n+   *   memory ::\n+   *     A handle to the parent memory object.\n+   *\n+   * @Note:\n+   *   Only the glyph loader and debugger should call this function.\n+   *\/\n@@ -260,17 +271,19 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    Init_Context                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Initializes a context object.                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    memory :: A handle to the parent memory object.                    *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    exec   :: A handle to the target execution context.                *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   Init_Context\n+   *\n+   * @Description:\n+   *   Initializes a context object.\n+   *\n+   * @Input:\n+   *   memory ::\n+   *     A handle to the parent memory object.\n+   *\n+   * @InOut:\n+   *   exec ::\n+   *     A handle to the target execution context.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -316,24 +329,29 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    Update_Max                                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Checks the size of a buffer and reallocates it if necessary.       *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    memory     :: A handle to the parent memory object.                *\/\n-  \/*                                                                       *\/\n-  \/*    multiplier :: The size in bytes of each element in the buffer.     *\/\n-  \/*                                                                       *\/\n-  \/*    new_max    :: The new capacity (size) of the buffer.               *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    size       :: The address of the buffer's current size expressed   *\/\n-  \/*                  in elements.                                         *\/\n-  \/*                                                                       *\/\n-  \/*    buff       :: The address of the buffer base pointer.              *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   Update_Max\n+   *\n+   * @Description:\n+   *   Checks the size of a buffer and reallocates it if necessary.\n+   *\n+   * @Input:\n+   *   memory ::\n+   *     A handle to the parent memory object.\n+   *\n+   *   multiplier ::\n+   *     The size in bytes of each element in the buffer.\n+   *\n+   *   new_max ::\n+   *     The new capacity (size) of the buffer.\n+   *\n+   * @InOut:\n+   *   size ::\n+   *     The address of the buffer's current size expressed\n+   *     in elements.\n+   *\n+   *   buff ::\n+   *     The address of the buffer base pointer.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -362,22 +380,25 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    TT_Load_Context                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Prepare an execution context for glyph hinting.                    *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face :: A handle to the source face object.                        *\/\n-  \/*                                                                       *\/\n-  \/*    size :: A handle to the source size object.                        *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    exec :: A handle to the target execution context.                  *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    Only the glyph loader and debugger should call this function.      *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   TT_Load_Context\n+   *\n+   * @Description:\n+   *   Prepare an execution context for glyph hinting.\n+   *\n+   * @Input:\n+   *   face ::\n+   *     A handle to the source face object.\n+   *\n+   *   size ::\n+   *     A handle to the source size object.\n+   *\n+   * @InOut:\n+   *   exec ::\n+   *     A handle to the target execution context.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\n+   * @Note:\n+   *   Only the glyph loader and debugger should call this function.\n+   *\/\n@@ -470,17 +491,19 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    TT_Save_Context                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Saves the code ranges in a `size' object.                          *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    exec :: A handle to the source execution context.                  *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    size :: A handle to the target size object.                        *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    Only the glyph loader and debugger should call this function.      *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   TT_Save_Context\n+   *\n+   * @Description:\n+   *   Saves the code ranges in a `size' object.\n+   *\n+   * @Input:\n+   *   exec ::\n+   *     A handle to the source execution context.\n+   *\n+   * @InOut:\n+   *   size ::\n+   *     A handle to the target size object.\n+   *\n+   * @Note:\n+   *   Only the glyph loader and debugger should call this function.\n+   *\/\n@@ -508,21 +531,15 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    TT_Run_Context                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Executes one or more instructions in the execution context.        *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    debug :: A Boolean flag.  If set, the function sets some internal  *\/\n-  \/*             variables and returns immediately, otherwise TT_RunIns()  *\/\n-  \/*             is called.                                                *\/\n-  \/*                                                                       *\/\n-  \/*             This is commented out currently.                          *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    exec  :: A handle to the target execution context.                 *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    TrueType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   TT_Run_Context\n+   *\n+   * @Description:\n+   *   Executes one or more instructions in the execution context.\n+   *\n+   * @Input:\n+   *   exec ::\n+   *     A handle to the target execution context.\n+   *\n+   * @Return:\n+   *   TrueType error code.  0 means success.\n+   *\/\n@@ -612,16 +629,16 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Before an opcode is executed, the interpreter verifies that there are *\/\n-  \/* enough arguments on the stack, with the help of the `Pop_Push_Count'  *\/\n-  \/* table.                                                                *\/\n-  \/*                                                                       *\/\n-  \/* For each opcode, the first column gives the number of arguments that  *\/\n-  \/* are popped from the stack; the second one gives the number of those   *\/\n-  \/* that are pushed in result.                                            *\/\n-  \/*                                                                       *\/\n-  \/* Opcodes which have a varying number of parameters in the data stream  *\/\n-  \/* (NPUSHB, NPUSHW) are handled specially; they have a negative value in *\/\n-  \/* the `opcode_length' table, and the value in `Pop_Push_Count' is set   *\/\n-  \/* to zero.                                                              *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * Before an opcode is executed, the interpreter verifies that there are\n+   * enough arguments on the stack, with the help of the `Pop_Push_Count'\n+   * table.\n+   *\n+   * For each opcode, the first column gives the number of arguments that\n+   * are popped from the stack; the second one gives the number of those\n+   * that are pushed in result.\n+   *\n+   * Opcodes which have a varying number of parameters in the data stream\n+   * (NPUSHB, NPUSHW) are handled specially; they have a negative value in\n+   * the `opcode_length' table, and the value in `Pop_Push_Count' is set\n+   * to zero.\n+   *\n+   *\/\n@@ -1132,67 +1149,67 @@\n-    \"8 MDRP[00]\",\n-    \"8 MDRP[01]\",\n-    \"8 MDRP[02]\",\n-    \"8 MDRP[03]\",\n-    \"8 MDRP[04]\",\n-    \"8 MDRP[05]\",\n-    \"8 MDRP[06]\",\n-    \"8 MDRP[07]\",\n-    \"8 MDRP[08]\",\n-    \"8 MDRP[09]\",\n-    \"8 MDRP[10]\",\n-    \"8 MDRP[11]\",\n-    \"8 MDRP[12]\",\n-    \"8 MDRP[13]\",\n-    \"8 MDRP[14]\",\n-    \"8 MDRP[15]\",\n-\n-    \"8 MDRP[16]\",\n-    \"8 MDRP[17]\",\n-    \"8 MDRP[18]\",\n-    \"8 MDRP[19]\",\n-    \"8 MDRP[20]\",\n-    \"8 MDRP[21]\",\n-    \"8 MDRP[22]\",\n-    \"8 MDRP[23]\",\n-    \"8 MDRP[24]\",\n-    \"8 MDRP[25]\",\n-    \"8 MDRP[26]\",\n-    \"8 MDRP[27]\",\n-    \"8 MDRP[28]\",\n-    \"8 MDRP[29]\",\n-    \"8 MDRP[30]\",\n-    \"8 MDRP[31]\",\n-\n-    \"8 MIRP[00]\",\n-    \"8 MIRP[01]\",\n-    \"8 MIRP[02]\",\n-    \"8 MIRP[03]\",\n-    \"8 MIRP[04]\",\n-    \"8 MIRP[05]\",\n-    \"8 MIRP[06]\",\n-    \"8 MIRP[07]\",\n-    \"8 MIRP[08]\",\n-    \"8 MIRP[09]\",\n-    \"8 MIRP[10]\",\n-    \"8 MIRP[11]\",\n-    \"8 MIRP[12]\",\n-    \"8 MIRP[13]\",\n-    \"8 MIRP[14]\",\n-    \"8 MIRP[15]\",\n-\n-    \"8 MIRP[16]\",\n-    \"8 MIRP[17]\",\n-    \"8 MIRP[18]\",\n-    \"8 MIRP[19]\",\n-    \"8 MIRP[20]\",\n-    \"8 MIRP[21]\",\n-    \"8 MIRP[22]\",\n-    \"8 MIRP[23]\",\n-    \"8 MIRP[24]\",\n-    \"8 MIRP[25]\",\n-    \"8 MIRP[26]\",\n-    \"8 MIRP[27]\",\n-    \"8 MIRP[28]\",\n-    \"8 MIRP[29]\",\n-    \"8 MIRP[30]\",\n-    \"8 MIRP[31]\"\n+    \"7 MDRP[G]\",\n+    \"7 MDRP[B]\",\n+    \"7 MDRP[W]\",\n+    \"7 MDRP[?]\",\n+    \"8 MDRP[rG]\",\n+    \"8 MDRP[rB]\",\n+    \"8 MDRP[rW]\",\n+    \"8 MDRP[r?]\",\n+    \"8 MDRP[mG]\",\n+    \"8 MDRP[mB]\",\n+    \"8 MDRP[mW]\",\n+    \"8 MDRP[m?]\",\n+    \"9 MDRP[mrG]\",\n+    \"9 MDRP[mrB]\",\n+    \"9 MDRP[mrW]\",\n+    \"9 MDRP[mr?]\",\n+\n+    \"8 MDRP[pG]\",\n+    \"8 MDRP[pB]\",\n+    \"8 MDRP[pW]\",\n+    \"8 MDRP[p?]\",\n+    \"9 MDRP[prG]\",\n+    \"9 MDRP[prB]\",\n+    \"9 MDRP[prW]\",\n+    \"9 MDRP[pr?]\",\n+    \"9 MDRP[pmG]\",\n+    \"9 MDRP[pmB]\",\n+    \"9 MDRP[pmW]\",\n+    \"9 MDRP[pm?]\",\n+    \"A MDRP[pmrG]\",\n+    \"A MDRP[pmrB]\",\n+    \"A MDRP[pmrW]\",\n+    \"A MDRP[pmr?]\",\n+\n+    \"7 MIRP[G]\",\n+    \"7 MIRP[B]\",\n+    \"7 MIRP[W]\",\n+    \"7 MIRP[?]\",\n+    \"8 MIRP[rG]\",\n+    \"8 MIRP[rB]\",\n+    \"8 MIRP[rW]\",\n+    \"8 MIRP[r?]\",\n+    \"8 MIRP[mG]\",\n+    \"8 MIRP[mB]\",\n+    \"8 MIRP[mW]\",\n+    \"8 MIRP[m?]\",\n+    \"9 MIRP[mrG]\",\n+    \"9 MIRP[mrB]\",\n+    \"9 MIRP[mrW]\",\n+    \"9 MIRP[mr?]\",\n+\n+    \"8 MIRP[pG]\",\n+    \"8 MIRP[pB]\",\n+    \"8 MIRP[pW]\",\n+    \"8 MIRP[p?]\",\n+    \"9 MIRP[prG]\",\n+    \"9 MIRP[prB]\",\n+    \"9 MIRP[prW]\",\n+    \"9 MIRP[pr?]\",\n+    \"9 MIRP[pmG]\",\n+    \"9 MIRP[pmB]\",\n+    \"9 MIRP[pmW]\",\n+    \"9 MIRP[pm?]\",\n+    \"A MIRP[pmrG]\",\n+    \"A MIRP[pmrB]\",\n+    \"A MIRP[pmrW]\",\n+    \"A MIRP[pmr?]\"\n@@ -1451,12 +1468,12 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    Current_Ratio                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Returns the current aspect ratio scaling factor depending on the   *\/\n-  \/*    projection vector's state and device resolutions.                  *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    The aspect ratio in 16.16 format, always <= 1.0 .                  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   Current_Ratio\n+   *\n+   * @Description:\n+   *   Returns the current aspect ratio scaling factor depending on the\n+   *   projection vector's state and device resolutions.\n+   *\n+   * @Return:\n+   *   The aspect ratio in 16.16 format, always <= 1.0 .\n+   *\/\n@@ -1504,5 +1521,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Functions related to the control value table (CVT).                   *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * Functions related to the control value table (CVT).\n+   *\n+   *\/\n@@ -1550,1 +1567,1 @@\n-    exc->cvt[idx] += value;\n+    exc->cvt[idx] = ADD_LONG( exc->cvt[idx], value );\n@@ -1559,19 +1576,20 @@\n-    exc->cvt[idx] += FT_DivFix( value, Current_Ratio( exc ) );\n-  }\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    GetShortIns                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Returns a short integer taken from the instruction stream at       *\/\n-  \/*    address IP.                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    Short read at code[IP].                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    This one could become a macro.                                     *\/\n-  \/*                                                                       *\/\n+    exc->cvt[idx] = ADD_LONG( exc->cvt[idx],\n+                              FT_DivFix( value, Current_Ratio( exc ) ) );\n+  }\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   GetShortIns\n+   *\n+   * @Description:\n+   *   Returns a short integer taken from the instruction stream at\n+   *   address IP.\n+   *\n+   * @Return:\n+   *   Short read at code[IP].\n+   *\n+   * @Note:\n+   *   This one could become a macro.\n+   *\/\n@@ -1588,16 +1606,18 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    Ins_Goto_CodeRange                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Goes to a certain code range in the instruction stream.            *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    aRange :: The index of the code range.                             *\/\n-  \/*                                                                       *\/\n-  \/*    aIP    :: The new IP address in the code range.                    *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    SUCCESS or FAILURE.                                                *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   Ins_Goto_CodeRange\n+   *\n+   * @Description:\n+   *   Goes to a certain code range in the instruction stream.\n+   *\n+   * @Input:\n+   *   aRange ::\n+   *     The index of the code range.\n+   *\n+   *   aIP ::\n+   *     The new IP address in the code range.\n+   *\n+   * @Return:\n+   *   SUCCESS or FAILURE.\n+   *\/\n@@ -1645,21 +1665,24 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    Direct_Move                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Moves a point by a given distance along the freedom vector.  The   *\/\n-  \/*    point will be `touched'.                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    point    :: The index of the point to move.                        *\/\n-  \/*                                                                       *\/\n-  \/*    distance :: The distance to apply.                                 *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    zone     :: The affected glyph zone.                               *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    See `ttinterp.h' for details on backward compatibility mode.       *\/\n-  \/*    `Touches' the point.                                               *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   Direct_Move\n+   *\n+   * @Description:\n+   *   Moves a point by a given distance along the freedom vector.  The\n+   *   point will be `touched'.\n+   *\n+   * @Input:\n+   *   point ::\n+   *     The index of the point to move.\n+   *\n+   *   distance ::\n+   *     The distance to apply.\n+   *\n+   * @InOut:\n+   *   zone ::\n+   *     The affected glyph zone.\n+   *\n+   * @Note:\n+   *   See `ttinterp.h' for details on backward compatibility mode.\n+   *   `Touches' the point.\n+   *\/\n@@ -1731,17 +1754,20 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    Direct_Move_Orig                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Moves the *original* position of a point by a given distance along *\/\n-  \/*    the freedom vector.  Obviously, the point will not be `touched'.   *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    point    :: The index of the point to move.                        *\/\n-  \/*                                                                       *\/\n-  \/*    distance :: The distance to apply.                                 *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    zone     :: The affected glyph zone.                               *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   Direct_Move_Orig\n+   *\n+   * @Description:\n+   *   Moves the *original* position of a point by a given distance along\n+   *   the freedom vector.  Obviously, the point will not be `touched'.\n+   *\n+   * @Input:\n+   *   point ::\n+   *     The index of the point to move.\n+   *\n+   *   distance ::\n+   *     The distance to apply.\n+   *\n+   * @InOut:\n+   *   zone ::\n+   *     The affected glyph zone.\n+   *\/\n@@ -1775,9 +1801,9 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Special versions of Direct_Move()                                     *\/\n-  \/*                                                                       *\/\n-  \/*   The following versions are used whenever both vectors are both      *\/\n-  \/*   along one of the coordinate unit vectors, i.e. in 90% of the cases. *\/\n-  \/*   See `ttinterp.h' for details on backward compatibility mode.        *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * Special versions of Direct_Move()\n+   *\n+   *   The following versions are used whenever both vectors are both\n+   *   along one of the coordinate unit vectors, i.e. in 90% of the cases.\n+   *   See `ttinterp.h' for details on backward compatibility mode.\n+   *\n+   *\/\n@@ -1830,8 +1856,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Special versions of Direct_Move_Orig()                                *\/\n-  \/*                                                                       *\/\n-  \/*   The following versions are used whenever both vectors are both      *\/\n-  \/*   along one of the coordinate unit vectors, i.e. in 90% of the cases. *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * Special versions of Direct_Move_Orig()\n+   *\n+   *   The following versions are used whenever both vectors are both\n+   *   along one of the coordinate unit vectors, i.e. in 90% of the cases.\n+   *\n+   *\/\n@@ -1864,22 +1890,24 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    Round_None                                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Does not round, but adds engine compensation.                      *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    distance     :: The distance (not) to round.                       *\/\n-  \/*                                                                       *\/\n-  \/*    compensation :: The engine compensation.                           *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    The compensated distance.                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The TrueType specification says very few about the relationship    *\/\n-  \/*    between rounding and engine compensation.  However, it seems from  *\/\n-  \/*    the description of super round that we should add the compensation *\/\n-  \/*    before rounding.                                                   *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   Round_None\n+   *\n+   * @Description:\n+   *   Does not round, but adds engine compensation.\n+   *\n+   * @Input:\n+   *   distance ::\n+   *     The distance (not) to round.\n+   *\n+   *   compensation ::\n+   *     The engine compensation.\n+   *\n+   * @Return:\n+   *   The compensated distance.\n+   *\n+   * @Note:\n+   *   The TrueType specification says very few about the relationship\n+   *   between rounding and engine compensation.  However, it seems from\n+   *   the description of super round that we should add the compensation\n+   *   before rounding.\n+   *\/\n@@ -1912,16 +1940,18 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    Round_To_Grid                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Rounds value to grid after adding engine compensation.             *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    distance     :: The distance to round.                             *\/\n-  \/*                                                                       *\/\n-  \/*    compensation :: The engine compensation.                           *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    Rounded distance.                                                  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   Round_To_Grid\n+   *\n+   * @Description:\n+   *   Rounds value to grid after adding engine compensation.\n+   *\n+   * @Input:\n+   *   distance ::\n+   *     The distance to round.\n+   *\n+   *   compensation ::\n+   *     The engine compensation.\n+   *\n+   * @Return:\n+   *   Rounded distance.\n+   *\/\n@@ -1956,16 +1986,18 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    Round_To_Half_Grid                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Rounds value to half grid after adding engine compensation.        *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    distance     :: The distance to round.                             *\/\n-  \/*                                                                       *\/\n-  \/*    compensation :: The engine compensation.                           *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    Rounded distance.                                                  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   Round_To_Half_Grid\n+   *\n+   * @Description:\n+   *   Rounds value to half grid after adding engine compensation.\n+   *\n+   * @Input:\n+   *   distance ::\n+   *     The distance to round.\n+   *\n+   *   compensation ::\n+   *     The engine compensation.\n+   *\n+   * @Return:\n+   *   Rounded distance.\n+   *\/\n@@ -2002,16 +2034,18 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    Round_Down_To_Grid                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Rounds value down to grid after adding engine compensation.        *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    distance     :: The distance to round.                             *\/\n-  \/*                                                                       *\/\n-  \/*    compensation :: The engine compensation.                           *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    Rounded distance.                                                  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   Round_Down_To_Grid\n+   *\n+   * @Description:\n+   *   Rounds value down to grid after adding engine compensation.\n+   *\n+   * @Input:\n+   *   distance ::\n+   *     The distance to round.\n+   *\n+   *   compensation ::\n+   *     The engine compensation.\n+   *\n+   * @Return:\n+   *   Rounded distance.\n+   *\/\n@@ -2045,16 +2079,18 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    Round_Up_To_Grid                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Rounds value up to grid after adding engine compensation.          *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    distance     :: The distance to round.                             *\/\n-  \/*                                                                       *\/\n-  \/*    compensation :: The engine compensation.                           *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    Rounded distance.                                                  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   Round_Up_To_Grid\n+   *\n+   * @Description:\n+   *   Rounds value up to grid after adding engine compensation.\n+   *\n+   * @Input:\n+   *   distance ::\n+   *     The distance to round.\n+   *\n+   *   compensation ::\n+   *     The engine compensation.\n+   *\n+   * @Return:\n+   *   Rounded distance.\n+   *\/\n@@ -2089,16 +2125,18 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    Round_To_Double_Grid                                               *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Rounds value to double grid after adding engine compensation.      *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    distance     :: The distance to round.                             *\/\n-  \/*                                                                       *\/\n-  \/*    compensation :: The engine compensation.                           *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    Rounded distance.                                                  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   Round_To_Double_Grid\n+   *\n+   * @Description:\n+   *   Rounds value to double grid after adding engine compensation.\n+   *\n+   * @Input:\n+   *   distance ::\n+   *     The distance to round.\n+   *\n+   *   compensation ::\n+   *     The engine compensation.\n+   *\n+   * @Return:\n+   *   Rounded distance.\n+   *\/\n@@ -2133,22 +2171,24 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    Round_Super                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Super-rounds value to grid after adding engine compensation.       *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    distance     :: The distance to round.                             *\/\n-  \/*                                                                       *\/\n-  \/*    compensation :: The engine compensation.                           *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    Rounded distance.                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The TrueType specification says very little about the relationship *\/\n-  \/*    between rounding and engine compensation.  However, it seems from  *\/\n-  \/*    the description of super round that we should add the compensation *\/\n-  \/*    before rounding.                                                   *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   Round_Super\n+   *\n+   * @Description:\n+   *   Super-rounds value to grid after adding engine compensation.\n+   *\n+   * @Input:\n+   *   distance ::\n+   *     The distance to round.\n+   *\n+   *   compensation ::\n+   *     The engine compensation.\n+   *\n+   * @Return:\n+   *   Rounded distance.\n+   *\n+   * @Note:\n+   *   The TrueType specification says very little about the relationship\n+   *   between rounding and engine compensation.  However, it seems from\n+   *   the description of super round that we should add the compensation\n+   *   before rounding.\n+   *\/\n@@ -2168,1 +2208,1 @@\n-      val += exc->phase;\n+      val = ADD_LONG( val, exc->phase );\n@@ -2177,1 +2217,1 @@\n-      val -= exc->phase;\n+      val = SUB_LONG( val, exc->phase );\n@@ -2186,20 +2226,22 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    Round_Super_45                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Super-rounds value to grid after adding engine compensation.       *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    distance     :: The distance to round.                             *\/\n-  \/*                                                                       *\/\n-  \/*    compensation :: The engine compensation.                           *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    Rounded distance.                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    There is a separate function for Round_Super_45() as we may need   *\/\n-  \/*    greater precision.                                                 *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   Round_Super_45\n+   *\n+   * @Description:\n+   *   Super-rounds value to grid after adding engine compensation.\n+   *\n+   * @Input:\n+   *   distance ::\n+   *     The distance to round.\n+   *\n+   *   compensation ::\n+   *     The engine compensation.\n+   *\n+   * @Return:\n+   *   Rounded distance.\n+   *\n+   * @Note:\n+   *   There is a separate function for Round_Super_45() as we may need\n+   *   greater precision.\n+   *\/\n@@ -2219,1 +2261,1 @@\n-      val += exc->phase;\n+      val = ADD_LONG( val, exc->phase );\n@@ -2228,1 +2270,1 @@\n-      val -= exc->phase;\n+      val = SUB_LONG( val, exc->phase );\n@@ -2237,11 +2279,12 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    Compute_Round                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Sets the rounding mode.                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    round_mode :: The rounding mode to be used.                        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   Compute_Round\n+   *\n+   * @Description:\n+   *   Sets the rounding mode.\n+   *\n+   * @Input:\n+   *   round_mode ::\n+   *     The rounding mode to be used.\n+   *\/\n@@ -2289,13 +2332,15 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    SetSuperRound                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Sets Super Round parameters.                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    GridPeriod :: The grid period.                                     *\/\n-  \/*                                                                       *\/\n-  \/*    selector   :: The SROUND opcode.                                   *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   SetSuperRound\n+   *\n+   * @Description:\n+   *   Sets Super Round parameters.\n+   *\n+   * @Input:\n+   *   GridPeriod ::\n+   *     The grid period.\n+   *\n+   *   selector ::\n+   *     The SROUND opcode.\n+   *\/\n@@ -2358,16 +2403,18 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    Project                                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Computes the projection of vector given by (v2-v1) along the       *\/\n-  \/*    current projection vector.                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    v1 :: First input vector.                                          *\/\n-  \/*    v2 :: Second input vector.                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    The distance in F26dot6 format.                                    *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   Project\n+   *\n+   * @Description:\n+   *   Computes the projection of vector given by (v2-v1) along the\n+   *   current projection vector.\n+   *\n+   * @Input:\n+   *   v1 ::\n+   *     First input vector.\n+   *   v2 ::\n+   *     Second input vector.\n+   *\n+   * @Return:\n+   *   The distance in F26dot6 format.\n+   *\/\n@@ -2385,16 +2432,18 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    Dual_Project                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Computes the projection of the vector given by (v2-v1) along the   *\/\n-  \/*    current dual vector.                                               *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    v1 :: First input vector.                                          *\/\n-  \/*    v2 :: Second input vector.                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    The distance in F26dot6 format.                                    *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   Dual_Project\n+   *\n+   * @Description:\n+   *   Computes the projection of the vector given by (v2-v1) along the\n+   *   current dual vector.\n+   *\n+   * @Input:\n+   *   v1 ::\n+   *     First input vector.\n+   *   v2 ::\n+   *     Second input vector.\n+   *\n+   * @Return:\n+   *   The distance in F26dot6 format.\n+   *\/\n@@ -2412,16 +2461,18 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    Project_x                                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Computes the projection of the vector given by (v2-v1) along the   *\/\n-  \/*    horizontal axis.                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    v1 :: First input vector.                                          *\/\n-  \/*    v2 :: Second input vector.                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    The distance in F26dot6 format.                                    *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   Project_x\n+   *\n+   * @Description:\n+   *   Computes the projection of the vector given by (v2-v1) along the\n+   *   horizontal axis.\n+   *\n+   * @Input:\n+   *   v1 ::\n+   *     First input vector.\n+   *   v2 ::\n+   *     Second input vector.\n+   *\n+   * @Return:\n+   *   The distance in F26dot6 format.\n+   *\/\n@@ -2440,16 +2491,18 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    Project_y                                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Computes the projection of the vector given by (v2-v1) along the   *\/\n-  \/*    vertical axis.                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    v1 :: First input vector.                                          *\/\n-  \/*    v2 :: Second input vector.                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    The distance in F26dot6 format.                                    *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   Project_y\n+   *\n+   * @Description:\n+   *   Computes the projection of the vector given by (v2-v1) along the\n+   *   vertical axis.\n+   *\n+   * @Input:\n+   *   v1 ::\n+   *     First input vector.\n+   *   v2 ::\n+   *     Second input vector.\n+   *\n+   * @Return:\n+   *   The distance in F26dot6 format.\n+   *\/\n@@ -2468,9 +2521,9 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    Compute_Funcs                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Computes the projection and movement function pointers according   *\/\n-  \/*    to the current graphics state.                                     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   Compute_Funcs\n+   *\n+   * @Description:\n+   *   Computes the projection and movement function pointers according\n+   *   to the current graphics state.\n+   *\/\n@@ -2531,22 +2584,25 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    Normalize                                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Norms a vector.                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    Vx :: The horizontal input vector coordinate.                      *\/\n-  \/*    Vy :: The vertical input vector coordinate.                        *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    R  :: The normed unit vector.                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    Returns FAILURE if a vector parameter is zero.                     *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    In case Vx and Vy are both zero, `Normalize' returns SUCCESS, and  *\/\n-  \/*    R is undefined.                                                    *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   Normalize\n+   *\n+   * @Description:\n+   *   Norms a vector.\n+   *\n+   * @Input:\n+   *   Vx ::\n+   *     The horizontal input vector coordinate.\n+   *   Vy ::\n+   *     The vertical input vector coordinate.\n+   *\n+   * @Output:\n+   *   R ::\n+   *     The normed unit vector.\n+   *\n+   * @Return:\n+   *   Returns FAILURE if a vector parameter is zero.\n+   *\n+   * @Note:\n+   *   In case Vx and Vy are both zero, `Normalize' returns SUCCESS, and\n+   *   R is undefined.\n+   *\/\n@@ -2580,5 +2636,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Here we start with the implementation of the various opcodes.         *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * Here we start with the implementation of the various opcodes.\n+   *\n+   *\/\n@@ -2595,6 +2651,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* MPPEM[]:      Measure Pixel Per EM                                    *\/\n-  \/* Opcode range: 0x4B                                                    *\/\n-  \/* Stack:        --> Euint16                                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * MPPEM[]:      Measure Pixel Per EM\n+   * Opcode range: 0x4B\n+   * Stack:        --> Euint16\n+   *\/\n@@ -2609,6 +2665,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* MPS[]:        Measure Point Size                                      *\/\n-  \/* Opcode range: 0x4C                                                    *\/\n-  \/* Stack:        --> Euint16                                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * MPS[]:        Measure Point Size\n+   * Opcode range: 0x4C\n+   * Stack:        --> Euint16\n+   *\/\n@@ -2636,6 +2692,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* DUP[]:        DUPlicate the stack's top element                       *\/\n-  \/* Opcode range: 0x20                                                    *\/\n-  \/* Stack:        StkElt --> StkElt StkElt                                *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * DUP[]:        DUPlicate the stack's top element\n+   * Opcode range: 0x20\n+   * Stack:        StkElt --> StkElt StkElt\n+   *\/\n@@ -2649,6 +2705,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* POP[]:        POP the stack's top element                             *\/\n-  \/* Opcode range: 0x21                                                    *\/\n-  \/* Stack:        StkElt -->                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * POP[]:        POP the stack's top element\n+   * Opcode range: 0x21\n+   * Stack:        StkElt -->\n+   *\/\n@@ -2662,6 +2718,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* CLEAR[]:      CLEAR the entire stack                                  *\/\n-  \/* Opcode range: 0x22                                                    *\/\n-  \/* Stack:        StkElt... -->                                           *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * CLEAR[]:      CLEAR the entire stack\n+   * Opcode range: 0x22\n+   * Stack:        StkElt... -->\n+   *\/\n@@ -2675,6 +2731,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* SWAP[]:       SWAP the stack's top two elements                       *\/\n-  \/* Opcode range: 0x23                                                    *\/\n-  \/* Stack:        2 * StkElt --> 2 * StkElt                               *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * SWAP[]:       SWAP the stack's top two elements\n+   * Opcode range: 0x23\n+   * Stack:        2 * StkElt --> 2 * StkElt\n+   *\/\n@@ -2693,6 +2749,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* DEPTH[]:      return the stack DEPTH                                  *\/\n-  \/* Opcode range: 0x24                                                    *\/\n-  \/* Stack:        --> uint32                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * DEPTH[]:      return the stack DEPTH\n+   * Opcode range: 0x24\n+   * Stack:        --> uint32\n+   *\/\n@@ -2707,6 +2763,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* LT[]:         Less Than                                               *\/\n-  \/* Opcode range: 0x50                                                    *\/\n-  \/* Stack:        int32? int32? --> bool                                  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * LT[]:         Less Than\n+   * Opcode range: 0x50\n+   * Stack:        int32? int32? --> bool\n+   *\/\n@@ -2720,6 +2776,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* LTEQ[]:       Less Than or EQual                                      *\/\n-  \/* Opcode range: 0x51                                                    *\/\n-  \/* Stack:        int32? int32? --> bool                                  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * LTEQ[]:       Less Than or EQual\n+   * Opcode range: 0x51\n+   * Stack:        int32? int32? --> bool\n+   *\/\n@@ -2733,6 +2789,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* GT[]:         Greater Than                                            *\/\n-  \/* Opcode range: 0x52                                                    *\/\n-  \/* Stack:        int32? int32? --> bool                                  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * GT[]:         Greater Than\n+   * Opcode range: 0x52\n+   * Stack:        int32? int32? --> bool\n+   *\/\n@@ -2746,6 +2802,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* GTEQ[]:       Greater Than or EQual                                   *\/\n-  \/* Opcode range: 0x53                                                    *\/\n-  \/* Stack:        int32? int32? --> bool                                  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * GTEQ[]:       Greater Than or EQual\n+   * Opcode range: 0x53\n+   * Stack:        int32? int32? --> bool\n+   *\/\n@@ -2759,6 +2815,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* EQ[]:         EQual                                                   *\/\n-  \/* Opcode range: 0x54                                                    *\/\n-  \/* Stack:        StkElt StkElt --> bool                                  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * EQ[]:         EQual\n+   * Opcode range: 0x54\n+   * Stack:        StkElt StkElt --> bool\n+   *\/\n@@ -2772,6 +2828,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* NEQ[]:        Not EQual                                               *\/\n-  \/* Opcode range: 0x55                                                    *\/\n-  \/* Stack:        StkElt StkElt --> bool                                  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * NEQ[]:        Not EQual\n+   * Opcode range: 0x55\n+   * Stack:        StkElt StkElt --> bool\n+   *\/\n@@ -2785,6 +2841,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* ODD[]:        Is ODD                                                  *\/\n-  \/* Opcode range: 0x56                                                    *\/\n-  \/* Stack:        f26.6 --> bool                                          *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * ODD[]:        Is ODD\n+   * Opcode range: 0x56\n+   * Stack:        f26.6 --> bool\n+   *\/\n@@ -2799,6 +2855,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* EVEN[]:       Is EVEN                                                 *\/\n-  \/* Opcode range: 0x57                                                    *\/\n-  \/* Stack:        f26.6 --> bool                                          *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * EVEN[]:       Is EVEN\n+   * Opcode range: 0x57\n+   * Stack:        f26.6 --> bool\n+   *\/\n@@ -2813,6 +2869,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* AND[]:        logical AND                                             *\/\n-  \/* Opcode range: 0x5A                                                    *\/\n-  \/* Stack:        uint32 uint32 --> uint32                                *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * AND[]:        logical AND\n+   * Opcode range: 0x5A\n+   * Stack:        uint32 uint32 --> uint32\n+   *\/\n@@ -2826,6 +2882,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* OR[]:         logical OR                                              *\/\n-  \/* Opcode range: 0x5B                                                    *\/\n-  \/* Stack:        uint32 uint32 --> uint32                                *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * OR[]:         logical OR\n+   * Opcode range: 0x5B\n+   * Stack:        uint32 uint32 --> uint32\n+   *\/\n@@ -2839,6 +2895,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* NOT[]:        logical NOT                                             *\/\n-  \/* Opcode range: 0x5C                                                    *\/\n-  \/* Stack:        StkElt --> uint32                                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * NOT[]:        logical NOT\n+   * Opcode range: 0x5C\n+   * Stack:        StkElt --> uint32\n+   *\/\n@@ -2852,6 +2908,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* ADD[]:        ADD                                                     *\/\n-  \/* Opcode range: 0x60                                                    *\/\n-  \/* Stack:        f26.6 f26.6 --> f26.6                                   *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * ADD[]:        ADD\n+   * Opcode range: 0x60\n+   * Stack:        f26.6 f26.6 --> f26.6\n+   *\/\n@@ -2865,6 +2921,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* SUB[]:        SUBtract                                                *\/\n-  \/* Opcode range: 0x61                                                    *\/\n-  \/* Stack:        f26.6 f26.6 --> f26.6                                   *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * SUB[]:        SUBtract\n+   * Opcode range: 0x61\n+   * Stack:        f26.6 f26.6 --> f26.6\n+   *\/\n@@ -2878,6 +2934,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* DIV[]:        DIVide                                                  *\/\n-  \/* Opcode range: 0x62                                                    *\/\n-  \/* Stack:        f26.6 f26.6 --> f26.6                                   *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * DIV[]:        DIVide\n+   * Opcode range: 0x62\n+   * Stack:        f26.6 f26.6 --> f26.6\n+   *\/\n@@ -2895,6 +2951,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* MUL[]:        MULtiply                                                *\/\n-  \/* Opcode range: 0x63                                                    *\/\n-  \/* Stack:        f26.6 f26.6 --> f26.6                                   *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * MUL[]:        MULtiply\n+   * Opcode range: 0x63\n+   * Stack:        f26.6 f26.6 --> f26.6\n+   *\/\n@@ -2908,6 +2964,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* ABS[]:        ABSolute value                                          *\/\n-  \/* Opcode range: 0x64                                                    *\/\n-  \/* Stack:        f26.6 --> f26.6                                         *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * ABS[]:        ABSolute value\n+   * Opcode range: 0x64\n+   * Stack:        f26.6 --> f26.6\n+   *\/\n@@ -2922,6 +2978,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* NEG[]:        NEGate                                                  *\/\n-  \/* Opcode range: 0x65                                                    *\/\n-  \/* Stack:        f26.6 --> f26.6                                         *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * NEG[]:        NEGate\n+   * Opcode range: 0x65\n+   * Stack:        f26.6 --> f26.6\n+   *\/\n@@ -2935,6 +2991,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* FLOOR[]:      FLOOR                                                   *\/\n-  \/* Opcode range: 0x66                                                    *\/\n-  \/* Stack:        f26.6 --> f26.6                                         *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * FLOOR[]:      FLOOR\n+   * Opcode range: 0x66\n+   * Stack:        f26.6 --> f26.6\n+   *\/\n@@ -2948,6 +3004,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* CEILING[]:    CEILING                                                 *\/\n-  \/* Opcode range: 0x67                                                    *\/\n-  \/* Stack:        f26.6 --> f26.6                                         *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * CEILING[]:    CEILING\n+   * Opcode range: 0x67\n+   * Stack:        f26.6 --> f26.6\n+   *\/\n@@ -2957,1 +3013,1 @@\n-    args[0] = FT_PIX_CEIL( args[0] );\n+    args[0] = FT_PIX_CEIL_LONG( args[0] );\n@@ -2961,6 +3017,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* RS[]:         Read Store                                              *\/\n-  \/* Opcode range: 0x43                                                    *\/\n-  \/* Stack:        uint32 --> uint32                                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * RS[]:         Read Store\n+   * Opcode range: 0x43\n+   * Stack:        uint32 --> uint32\n+   *\/\n@@ -3007,6 +3063,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* WS[]:         Write Store                                             *\/\n-  \/* Opcode range: 0x42                                                    *\/\n-  \/* Stack:        uint32 uint32 -->                                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * WS[]:         Write Store\n+   * Opcode range: 0x42\n+   * Stack:        uint32 uint32 -->\n+   *\/\n@@ -3030,6 +3086,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* WCVTP[]:      Write CVT in Pixel units                                *\/\n-  \/* Opcode range: 0x44                                                    *\/\n-  \/* Stack:        f26.6 uint32 -->                                        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * WCVTP[]:      Write CVT in Pixel units\n+   * Opcode range: 0x44\n+   * Stack:        f26.6 uint32 -->\n+   *\/\n@@ -3053,6 +3109,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* WCVTF[]:      Write CVT in Funits                                     *\/\n-  \/* Opcode range: 0x70                                                    *\/\n-  \/* Stack:        uint32 uint32 -->                                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * WCVTF[]:      Write CVT in Funits\n+   * Opcode range: 0x70\n+   * Stack:        uint32 uint32 -->\n+   *\/\n@@ -3076,6 +3132,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* RCVT[]:       Read CVT                                                *\/\n-  \/* Opcode range: 0x45                                                    *\/\n-  \/* Stack:        uint32 --> f26.6                                        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * RCVT[]:       Read CVT\n+   * Opcode range: 0x45\n+   * Stack:        uint32 --> f26.6\n+   *\/\n@@ -3101,6 +3157,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* AA[]:         Adjust Angle                                            *\/\n-  \/* Opcode range: 0x7F                                                    *\/\n-  \/* Stack:        uint32 -->                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * AA[]:         Adjust Angle\n+   * Opcode range: 0x7F\n+   * Stack:        uint32 -->\n+   *\/\n@@ -3114,8 +3170,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* DEBUG[]:      DEBUG.  Unsupported.                                    *\/\n-  \/* Opcode range: 0x4F                                                    *\/\n-  \/* Stack:        uint32 -->                                              *\/\n-  \/*                                                                       *\/\n-  \/* Note: The original instruction pops a value from the stack.           *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * DEBUG[]:      DEBUG.  Unsupported.\n+   * Opcode range: 0x4F\n+   * Stack:        uint32 -->\n+   *\n+   * Note: The original instruction pops a value from the stack.\n+   *\/\n@@ -3129,6 +3185,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* ROUND[ab]:    ROUND value                                             *\/\n-  \/* Opcode range: 0x68-0x6B                                               *\/\n-  \/* Stack:        f26.6 --> f26.6                                         *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * ROUND[ab]:    ROUND value\n+   * Opcode range: 0x68-0x6B\n+   * Stack:        f26.6 --> f26.6\n+   *\/\n@@ -3146,6 +3202,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* NROUND[ab]:   No ROUNDing of value                                    *\/\n-  \/* Opcode range: 0x6C-0x6F                                               *\/\n-  \/* Stack:        f26.6 --> f26.6                                         *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * NROUND[ab]:   No ROUNDing of value\n+   * Opcode range: 0x6C-0x6F\n+   * Stack:        f26.6 --> f26.6\n+   *\/\n@@ -3163,6 +3219,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* MAX[]:        MAXimum                                                 *\/\n-  \/* Opcode range: 0x8B                                                    *\/\n-  \/* Stack:        int32? int32? --> int32                                 *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * MAX[]:        MAXimum\n+   * Opcode range: 0x8B\n+   * Stack:        int32? int32? --> int32\n+   *\/\n@@ -3177,6 +3233,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* MIN[]:        MINimum                                                 *\/\n-  \/* Opcode range: 0x8C                                                    *\/\n-  \/* Stack:        int32? int32? --> int32                                 *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * MIN[]:        MINimum\n+   * Opcode range: 0x8C\n+   * Stack:        int32? int32? --> int32\n+   *\/\n@@ -3191,6 +3247,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* MINDEX[]:     Move INDEXed element                                    *\/\n-  \/* Opcode range: 0x26                                                    *\/\n-  \/* Stack:        int32? --> StkElt                                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * MINDEX[]:     Move INDEXed element\n+   * Opcode range: 0x26\n+   * Stack:        int32? --> StkElt\n+   *\/\n@@ -3224,6 +3280,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* CINDEX[]:     Copy INDEXed element                                    *\/\n-  \/* Opcode range: 0x25                                                    *\/\n-  \/* Stack:        int32 --> StkElt                                        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * CINDEX[]:     Copy INDEXed element\n+   * Opcode range: 0x25\n+   * Stack:        int32 --> StkElt\n+   *\/\n@@ -3250,6 +3306,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* ROLL[]:       ROLL top three elements                                 *\/\n-  \/* Opcode range: 0x8A                                                    *\/\n-  \/* Stack:        3 * StkElt --> 3 * StkElt                               *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * ROLL[]:       ROLL top three elements\n+   * Opcode range: 0x8A\n+   * Stack:        3 * StkElt --> 3 * StkElt\n+   *\/\n@@ -3272,5 +3328,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* MANAGING THE FLOW OF CONTROL                                          *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * MANAGING THE FLOW OF CONTROL\n+   *\n+   *\/\n@@ -3279,6 +3335,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* SLOOP[]:      Set LOOP variable                                       *\/\n-  \/* Opcode range: 0x17                                                    *\/\n-  \/* Stack:        int32? -->                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * SLOOP[]:      Set LOOP variable\n+   * Opcode range: 0x17\n+   * Stack:        int32? -->\n+   *\/\n@@ -3292,1 +3348,4 @@\n-      exc->GS.loop = args[0];\n+    {\n+      \/* we heuristically limit the number of loops to 16 bits *\/\n+      exc->GS.loop = args[0] > 0xFFFFL ? 0xFFFFL : args[0];\n+    }\n@@ -3323,6 +3382,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* IF[]:         IF test                                                 *\/\n-  \/* Opcode range: 0x58                                                    *\/\n-  \/* Stack:        StkElt -->                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * IF[]:         IF test\n+   * Opcode range: 0x58\n+   * Stack:        StkElt -->\n+   *\/\n@@ -3367,6 +3426,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* ELSE[]:       ELSE                                                    *\/\n-  \/* Opcode range: 0x1B                                                    *\/\n-  \/* Stack:        -->                                                     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * ELSE[]:       ELSE\n+   * Opcode range: 0x1B\n+   * Stack:        -->\n+   *\/\n@@ -3400,6 +3459,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* EIF[]:        End IF                                                  *\/\n-  \/* Opcode range: 0x59                                                    *\/\n-  \/* Stack:        -->                                                     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * EIF[]:        End IF\n+   * Opcode range: 0x59\n+   * Stack:        -->\n+   *\/\n@@ -3413,6 +3472,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* JMPR[]:       JuMP Relative                                           *\/\n-  \/* Opcode range: 0x1C                                                    *\/\n-  \/* Stack:        int32 -->                                               *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * JMPR[]:       JuMP Relative\n+   * Opcode range: 0x1C\n+   * Stack:        int32 -->\n+   *\/\n@@ -3448,6 +3507,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* JROT[]:       Jump Relative On True                                   *\/\n-  \/* Opcode range: 0x78                                                    *\/\n-  \/* Stack:        StkElt int32 -->                                        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * JROT[]:       Jump Relative On True\n+   * Opcode range: 0x78\n+   * Stack:        StkElt int32 -->\n+   *\/\n@@ -3463,6 +3522,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* JROF[]:       Jump Relative On False                                  *\/\n-  \/* Opcode range: 0x79                                                    *\/\n-  \/* Stack:        StkElt int32 -->                                        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * JROF[]:       Jump Relative On False\n+   * Opcode range: 0x79\n+   * Stack:        StkElt int32 -->\n+   *\/\n@@ -3478,5 +3537,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* DEFINING AND USING FUNCTIONS AND INSTRUCTIONS                         *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * DEFINING AND USING FUNCTIONS AND INSTRUCTIONS\n+   *\n+   *\/\n@@ -3485,6 +3544,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* FDEF[]:       Function DEFinition                                     *\/\n-  \/* Opcode range: 0x2C                                                    *\/\n-  \/* Stack:        uint32 -->                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * FDEF[]:       Function DEFinition\n+   * Opcode range: 0x2C\n+   * Stack:        uint32 -->\n+   *\/\n@@ -3788,6 +3847,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* ENDF[]:       END Function definition                                 *\/\n-  \/* Opcode range: 0x2D                                                    *\/\n-  \/* Stack:        -->                                                     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * ENDF[]:       END Function definition\n+   * Opcode range: 0x2D\n+   * Stack:        -->\n+   *\/\n@@ -3837,6 +3896,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* CALL[]:       CALL function                                           *\/\n-  \/* Opcode range: 0x2B                                                    *\/\n-  \/* Stack:        uint32? -->                                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * CALL[]:       CALL function\n+   * Opcode range: 0x2B\n+   * Stack:        uint32? -->\n+   *\/\n@@ -3926,6 +3985,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* LOOPCALL[]:   LOOP and CALL function                                  *\/\n-  \/* Opcode range: 0x2A                                                    *\/\n-  \/* Stack:        uint32? Eint16? -->                                     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * LOOPCALL[]:   LOOP and CALL function\n+   * Opcode range: 0x2A\n+   * Stack:        uint32? Eint16? -->\n+   *\/\n@@ -4019,6 +4078,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* IDEF[]:       Instruction DEFinition                                  *\/\n-  \/* Opcode range: 0x89                                                    *\/\n-  \/* Stack:        Eint8 -->                                               *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * IDEF[]:       Instruction DEFinition\n+   * Opcode range: 0x89\n+   * Stack:        Eint8 -->\n+   *\/\n@@ -4094,5 +4153,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* PUSHING DATA ONTO THE INTERPRETER STACK                               *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * PUSHING DATA ONTO THE INTERPRETER STACK\n+   *\n+   *\/\n@@ -4101,6 +4160,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* NPUSHB[]:     PUSH N Bytes                                            *\/\n-  \/* Opcode range: 0x40                                                    *\/\n-  \/* Stack:        --> uint32...                                           *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * NPUSHB[]:     PUSH N Bytes\n+   * Opcode range: 0x40\n+   * Stack:        --> uint32...\n+   *\/\n@@ -4129,6 +4188,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* NPUSHW[]:     PUSH N Words                                            *\/\n-  \/* Opcode range: 0x41                                                    *\/\n-  \/* Stack:        --> int32...                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * NPUSHW[]:     PUSH N Words\n+   * Opcode range: 0x41\n+   * Stack:        --> int32...\n+   *\/\n@@ -4160,6 +4219,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* PUSHB[abc]:   PUSH Bytes                                              *\/\n-  \/* Opcode range: 0xB0-0xB7                                               *\/\n-  \/* Stack:        --> uint32...                                           *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * PUSHB[abc]:   PUSH Bytes\n+   * Opcode range: 0xB0-0xB7\n+   * Stack:        --> uint32...\n+   *\/\n@@ -4186,6 +4245,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* PUSHW[abc]:   PUSH Words                                              *\/\n-  \/* Opcode range: 0xB8-0xBF                                               *\/\n-  \/* Stack:        --> int32...                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * PUSHW[abc]:   PUSH Words\n+   * Opcode range: 0xB8-0xBF\n+   * Stack:        --> int32...\n+   *\/\n@@ -4216,5 +4275,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* MANAGING THE GRAPHICS STATE                                           *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * MANAGING THE GRAPHICS STATE\n+   *\n+   *\/\n@@ -4274,14 +4333,14 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* SVTCA[a]:     Set (F and P) Vectors to Coordinate Axis                *\/\n-  \/* Opcode range: 0x00-0x01                                               *\/\n-  \/* Stack:        -->                                                     *\/\n-  \/*                                                                       *\/\n-  \/* SPvTCA[a]:    Set PVector to Coordinate Axis                          *\/\n-  \/* Opcode range: 0x02-0x03                                               *\/\n-  \/* Stack:        -->                                                     *\/\n-  \/*                                                                       *\/\n-  \/* SFvTCA[a]:    Set FVector to Coordinate Axis                          *\/\n-  \/* Opcode range: 0x04-0x05                                               *\/\n-  \/* Stack:        -->                                                     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * SVTCA[a]:     Set (F and P) Vectors to Coordinate Axis\n+   * Opcode range: 0x00-0x01\n+   * Stack:        -->\n+   *\n+   * SPvTCA[a]:    Set PVector to Coordinate Axis\n+   * Opcode range: 0x02-0x03\n+   * Stack:        -->\n+   *\n+   * SFvTCA[a]:    Set FVector to Coordinate Axis\n+   * Opcode range: 0x04-0x05\n+   * Stack:        -->\n+   *\/\n@@ -4318,6 +4377,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* SPvTL[a]:     Set PVector To Line                                     *\/\n-  \/* Opcode range: 0x06-0x07                                               *\/\n-  \/* Stack:        uint32 uint32 -->                                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * SPvTL[a]:     Set PVector To Line\n+   * Opcode range: 0x06-0x07\n+   * Stack:        uint32 uint32 -->\n+   *\/\n@@ -4339,6 +4398,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* SFvTL[a]:     Set FVector To Line                                     *\/\n-  \/* Opcode range: 0x08-0x09                                               *\/\n-  \/* Stack:        uint32 uint32 -->                                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * SFvTL[a]:     Set FVector To Line\n+   * Opcode range: 0x08-0x09\n+   * Stack:        uint32 uint32 -->\n+   *\/\n@@ -4359,6 +4418,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* SFvTPv[]:     Set FVector To PVector                                  *\/\n-  \/* Opcode range: 0x0E                                                    *\/\n-  \/* Stack:        -->                                                     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * SFvTPv[]:     Set FVector To PVector\n+   * Opcode range: 0x0E\n+   * Stack:        -->\n+   *\/\n@@ -4373,6 +4432,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* SPvFS[]:      Set PVector From Stack                                  *\/\n-  \/* Opcode range: 0x0A                                                    *\/\n-  \/* Stack:        f2.14 f2.14 -->                                         *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * SPvFS[]:      Set PVector From Stack\n+   * Opcode range: 0x0A\n+   * Stack:        f2.14 f2.14 -->\n+   *\/\n@@ -4400,6 +4459,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* SFvFS[]:      Set FVector From Stack                                  *\/\n-  \/* Opcode range: 0x0B                                                    *\/\n-  \/* Stack:        f2.14 f2.14 -->                                         *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * SFvFS[]:      Set FVector From Stack\n+   * Opcode range: 0x0B\n+   * Stack:        f2.14 f2.14 -->\n+   *\/\n@@ -4425,6 +4484,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* GPv[]:        Get Projection Vector                                   *\/\n-  \/* Opcode range: 0x0C                                                    *\/\n-  \/* Stack:        ef2.14 --> ef2.14                                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * GPv[]:        Get Projection Vector\n+   * Opcode range: 0x0C\n+   * Stack:        ef2.14 --> ef2.14\n+   *\/\n@@ -4440,6 +4499,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* GFv[]:        Get Freedom Vector                                      *\/\n-  \/* Opcode range: 0x0D                                                    *\/\n-  \/* Stack:        ef2.14 --> ef2.14                                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * GFv[]:        Get Freedom Vector\n+   * Opcode range: 0x0D\n+   * Stack:        ef2.14 --> ef2.14\n+   *\/\n@@ -4455,6 +4514,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* SRP0[]:       Set Reference Point 0                                   *\/\n-  \/* Opcode range: 0x10                                                    *\/\n-  \/* Stack:        uint32 -->                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * SRP0[]:       Set Reference Point 0\n+   * Opcode range: 0x10\n+   * Stack:        uint32 -->\n+   *\/\n@@ -4469,6 +4528,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* SRP1[]:       Set Reference Point 1                                   *\/\n-  \/* Opcode range: 0x11                                                    *\/\n-  \/* Stack:        uint32 -->                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * SRP1[]:       Set Reference Point 1\n+   * Opcode range: 0x11\n+   * Stack:        uint32 -->\n+   *\/\n@@ -4483,6 +4542,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* SRP2[]:       Set Reference Point 2                                   *\/\n-  \/* Opcode range: 0x12                                                    *\/\n-  \/* Stack:        uint32 -->                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * SRP2[]:       Set Reference Point 2\n+   * Opcode range: 0x12\n+   * Stack:        uint32 -->\n+   *\/\n@@ -4497,6 +4556,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* SMD[]:        Set Minimum Distance                                    *\/\n-  \/* Opcode range: 0x1A                                                    *\/\n-  \/* Stack:        f26.6 -->                                               *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * SMD[]:        Set Minimum Distance\n+   * Opcode range: 0x1A\n+   * Stack:        f26.6 -->\n+   *\/\n@@ -4511,6 +4570,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* SCVTCI[]:     Set Control Value Table Cut In                          *\/\n-  \/* Opcode range: 0x1D                                                    *\/\n-  \/* Stack:        f26.6 -->                                               *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * SCVTCI[]:     Set Control Value Table Cut In\n+   * Opcode range: 0x1D\n+   * Stack:        f26.6 -->\n+   *\/\n@@ -4525,6 +4584,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* SSWCI[]:      Set Single Width Cut In                                 *\/\n-  \/* Opcode range: 0x1E                                                    *\/\n-  \/* Stack:        f26.6 -->                                               *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * SSWCI[]:      Set Single Width Cut In\n+   * Opcode range: 0x1E\n+   * Stack:        f26.6 -->\n+   *\/\n@@ -4539,6 +4598,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* SSW[]:        Set Single Width                                        *\/\n-  \/* Opcode range: 0x1F                                                    *\/\n-  \/* Stack:        int32? -->                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * SSW[]:        Set Single Width\n+   * Opcode range: 0x1F\n+   * Stack:        int32? -->\n+   *\/\n@@ -4554,6 +4613,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* FLIPON[]:     Set auto-FLIP to ON                                     *\/\n-  \/* Opcode range: 0x4D                                                    *\/\n-  \/* Stack:        -->                                                     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * FLIPON[]:     Set auto-FLIP to ON\n+   * Opcode range: 0x4D\n+   * Stack:        -->\n+   *\/\n@@ -4567,6 +4626,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* FLIPOFF[]:    Set auto-FLIP to OFF                                    *\/\n-  \/* Opcode range: 0x4E                                                    *\/\n-  \/* Stack:        -->                                                     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * FLIPOFF[]:    Set auto-FLIP to OFF\n+   * Opcode range: 0x4E\n+   * Stack:        -->\n+   *\/\n@@ -4580,6 +4639,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* SANGW[]:      Set ANGle Weight                                        *\/\n-  \/* Opcode range: 0x7E                                                    *\/\n-  \/* Stack:        uint32 -->                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * SANGW[]:      Set ANGle Weight\n+   * Opcode range: 0x7E\n+   * Stack:        uint32 -->\n+   *\/\n@@ -4593,6 +4652,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* SDB[]:        Set Delta Base                                          *\/\n-  \/* Opcode range: 0x5E                                                    *\/\n-  \/* Stack:        uint32 -->                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * SDB[]:        Set Delta Base\n+   * Opcode range: 0x5E\n+   * Stack:        uint32 -->\n+   *\/\n@@ -4607,6 +4666,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* SDS[]:        Set Delta Shift                                         *\/\n-  \/* Opcode range: 0x5F                                                    *\/\n-  \/* Stack:        uint32 -->                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * SDS[]:        Set Delta Shift\n+   * Opcode range: 0x5F\n+   * Stack:        uint32 -->\n+   *\/\n@@ -4624,6 +4683,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* RTHG[]:       Round To Half Grid                                      *\/\n-  \/* Opcode range: 0x19                                                    *\/\n-  \/* Stack:        -->                                                     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * RTHG[]:       Round To Half Grid\n+   * Opcode range: 0x19\n+   * Stack:        -->\n+   *\/\n@@ -4638,6 +4697,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* RTG[]:        Round To Grid                                           *\/\n-  \/* Opcode range: 0x18                                                    *\/\n-  \/* Stack:        -->                                                     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * RTG[]:        Round To Grid\n+   * Opcode range: 0x18\n+   * Stack:        -->\n+   *\/\n@@ -4652,5 +4711,5 @@\n-  \/*************************************************************************\/\n-  \/* RTDG[]:       Round To Double Grid                                    *\/\n-  \/* Opcode range: 0x3D                                                    *\/\n-  \/* Stack:        -->                                                     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   * RTDG[]:       Round To Double Grid\n+   * Opcode range: 0x3D\n+   * Stack:        -->\n+   *\/\n@@ -4665,5 +4724,5 @@\n-  \/*************************************************************************\/\n-  \/* RUTG[]:       Round Up To Grid                                        *\/\n-  \/* Opcode range: 0x7C                                                    *\/\n-  \/* Stack:        -->                                                     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   * RUTG[]:       Round Up To Grid\n+   * Opcode range: 0x7C\n+   * Stack:        -->\n+   *\/\n@@ -4678,6 +4737,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* RDTG[]:       Round Down To Grid                                      *\/\n-  \/* Opcode range: 0x7D                                                    *\/\n-  \/* Stack:        -->                                                     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * RDTG[]:       Round Down To Grid\n+   * Opcode range: 0x7D\n+   * Stack:        -->\n+   *\/\n@@ -4692,6 +4751,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* ROFF[]:       Round OFF                                               *\/\n-  \/* Opcode range: 0x7A                                                    *\/\n-  \/* Stack:        -->                                                     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * ROFF[]:       Round OFF\n+   * Opcode range: 0x7A\n+   * Stack:        -->\n+   *\/\n@@ -4706,6 +4765,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* SROUND[]:     Super ROUND                                             *\/\n-  \/* Opcode range: 0x76                                                    *\/\n-  \/* Stack:        Eint8 -->                                               *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * SROUND[]:     Super ROUND\n+   * Opcode range: 0x76\n+   * Stack:        Eint8 -->\n+   *\/\n@@ -4723,6 +4782,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* S45ROUND[]:   Super ROUND 45 degrees                                  *\/\n-  \/* Opcode range: 0x77                                                    *\/\n-  \/* Stack:        uint32 -->                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * S45ROUND[]:   Super ROUND 45 degrees\n+   * Opcode range: 0x77\n+   * Stack:        uint32 -->\n+   *\/\n@@ -4740,9 +4799,9 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* GC[a]:        Get Coordinate projected onto                           *\/\n-  \/* Opcode range: 0x46-0x47                                               *\/\n-  \/* Stack:        uint32 --> f26.6                                        *\/\n-  \/*                                                                       *\/\n-  \/* XXX: UNDOCUMENTED: Measures from the original glyph must be taken     *\/\n-  \/*      along the dual projection vector!                                *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * GC[a]:        Get Coordinate projected onto\n+   * Opcode range: 0x46-0x47\n+   * Stack:        uint32 --> f26.6\n+   *\n+   * XXX: UNDOCUMENTED: Measures from the original glyph must be taken\n+   *      along the dual projection vector!\n+   *\/\n@@ -4777,10 +4836,10 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* SCFS[]:       Set Coordinate From Stack                               *\/\n-  \/* Opcode range: 0x48                                                    *\/\n-  \/* Stack:        f26.6 uint32 -->                                        *\/\n-  \/*                                                                       *\/\n-  \/* Formula:                                                              *\/\n-  \/*                                                                       *\/\n-  \/*   OA := OA + ( value - OA.p )\/( f.p ) * f                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * SCFS[]:       Set Coordinate From Stack\n+   * Opcode range: 0x48\n+   * Stack:        f26.6 uint32 -->\n+   *\n+   * Formula:\n+   *\n+   *   OA := OA + ( value - OA.p )\/( f.p ) * f\n+   *\/\n@@ -4815,15 +4874,15 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* MD[a]:        Measure Distance                                        *\/\n-  \/* Opcode range: 0x49-0x4A                                               *\/\n-  \/* Stack:        uint32 uint32 --> f26.6                                 *\/\n-  \/*                                                                       *\/\n-  \/* XXX: UNDOCUMENTED: Measure taken in the original glyph must be along  *\/\n-  \/*                    the dual projection vector.                        *\/\n-  \/*                                                                       *\/\n-  \/* XXX: UNDOCUMENTED: Flag attributes are inverted!                      *\/\n-  \/*                      0 => measure distance in original outline        *\/\n-  \/*                      1 => measure distance in grid-fitted outline     *\/\n-  \/*                                                                       *\/\n-  \/* XXX: UNDOCUMENTED: `zp0 - zp1', and not `zp2 - zp1!                   *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * MD[a]:        Measure Distance\n+   * Opcode range: 0x49-0x4A\n+   * Stack:        uint32 uint32 --> f26.6\n+   *\n+   * XXX: UNDOCUMENTED: Measure taken in the original glyph must be along\n+   *                    the dual projection vector.\n+   *\n+   * XXX: UNDOCUMENTED: Flag attributes are inverted!\n+   *                      0 => measure distance in original outline\n+   *                      1 => measure distance in grid-fitted outline\n+   *\n+   * XXX: UNDOCUMENTED: `zp0 - zp1', and not `zp2 - zp1!\n+   *\/\n@@ -4902,6 +4961,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* SDPvTL[a]:    Set Dual PVector to Line                                *\/\n-  \/* Opcode range: 0x86-0x87                                               *\/\n-  \/* Stack:        uint32 uint32 -->                                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * SDPvTL[a]:    Set Dual PVector to Line\n+   * Opcode range: 0x86-0x87\n+   * Stack:        uint32 uint32 -->\n+   *\/\n@@ -4985,6 +5044,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* SZP0[]:       Set Zone Pointer 0                                      *\/\n-  \/* Opcode range: 0x13                                                    *\/\n-  \/* Stack:        uint32 -->                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * SZP0[]:       Set Zone Pointer 0\n+   * Opcode range: 0x13\n+   * Stack:        uint32 -->\n+   *\/\n@@ -5015,6 +5074,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* SZP1[]:       Set Zone Pointer 1                                      *\/\n-  \/* Opcode range: 0x14                                                    *\/\n-  \/* Stack:        uint32 -->                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * SZP1[]:       Set Zone Pointer 1\n+   * Opcode range: 0x14\n+   * Stack:        uint32 -->\n+   *\/\n@@ -5045,6 +5104,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* SZP2[]:       Set Zone Pointer 2                                      *\/\n-  \/* Opcode range: 0x15                                                    *\/\n-  \/* Stack:        uint32 -->                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * SZP2[]:       Set Zone Pointer 2\n+   * Opcode range: 0x15\n+   * Stack:        uint32 -->\n+   *\/\n@@ -5075,6 +5134,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* SZPS[]:       Set Zone PointerS                                       *\/\n-  \/* Opcode range: 0x16                                                    *\/\n-  \/* Stack:        uint32 -->                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * SZPS[]:       Set Zone PointerS\n+   * Opcode range: 0x16\n+   * Stack:        uint32 -->\n+   *\/\n@@ -5110,6 +5169,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* INSTCTRL[]:   INSTruction ConTRoL                                     *\/\n-  \/* Opcode range: 0x8E                                                    *\/\n-  \/* Stack:        int32 int32 -->                                         *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * INSTCTRL[]:   INSTruction ConTRoL\n+   * Opcode range: 0x8E\n+   * Stack:        int32 int32 -->\n+   *\/\n@@ -5172,6 +5231,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* SCANCTRL[]:   SCAN ConTRoL                                            *\/\n-  \/* Opcode range: 0x85                                                    *\/\n-  \/* Stack:        uint32? -->                                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * SCANCTRL[]:   SCAN ConTRoL\n+   * Opcode range: 0x85\n+   * Stack:        uint32? -->\n+   *\/\n@@ -5219,6 +5278,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* SCANTYPE[]:   SCAN TYPE                                               *\/\n-  \/* Opcode range: 0x8D                                                    *\/\n-  \/* Stack:        uint16 -->                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * SCANTYPE[]:   SCAN TYPE\n+   * Opcode range: 0x8D\n+   * Stack:        uint16 -->\n+   *\/\n@@ -5234,5 +5293,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* MANAGING OUTLINES                                                     *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * MANAGING OUTLINES\n+   *\n+   *\/\n@@ -5241,6 +5300,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* FLIPPT[]:     FLIP PoinT                                              *\/\n-  \/* Opcode range: 0x80                                                    *\/\n-  \/* Stack:        uint32... -->                                           *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * FLIPPT[]:     FLIP PoinT\n+   * Opcode range: 0x80\n+   * Stack:        uint32... -->\n+   *\/\n@@ -5295,6 +5354,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* FLIPRGON[]:   FLIP RanGe ON                                           *\/\n-  \/* Opcode range: 0x81                                                    *\/\n-  \/* Stack:        uint32 uint32 -->                                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * FLIPRGON[]:   FLIP RanGe ON\n+   * Opcode range: 0x81\n+   * Stack:        uint32 uint32 -->\n+   *\/\n@@ -5333,6 +5392,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* FLIPRGOFF:    FLIP RanGe OFF                                          *\/\n-  \/* Opcode range: 0x82                                                    *\/\n-  \/* Stack:        uint32 uint32 -->                                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * FLIPRGOFF:    FLIP RanGe OFF\n+   * Opcode range: 0x82\n+   * Stack:        uint32 uint32 -->\n+   *\/\n@@ -5450,6 +5509,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* SHP[a]:       SHift Point by the last point                           *\/\n-  \/* Opcode range: 0x32-0x33                                               *\/\n-  \/* Stack:        uint32... -->                                           *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * SHP[a]:       SHift Point by the last point\n+   * Opcode range: 0x32-0x33\n+   * Stack:        uint32... -->\n+   *\/\n@@ -5507,10 +5566,10 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* SHC[a]:       SHift Contour                                           *\/\n-  \/* Opcode range: 0x34-35                                                 *\/\n-  \/* Stack:        uint32 -->                                              *\/\n-  \/*                                                                       *\/\n-  \/* UNDOCUMENTED: According to Greg Hitchcock, there is one (virtual)     *\/\n-  \/*               contour in the twilight zone, namely contour number     *\/\n-  \/*               zero which includes all points of it.                   *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * SHC[a]:       SHift Contour\n+   * Opcode range: 0x34-35\n+   * Stack:        uint32 -->\n+   *\n+   * UNDOCUMENTED: According to Greg Hitchcock, there is one (virtual)\n+   *               contour in the twilight zone, namely contour number\n+   *               zero which includes all points of it.\n+   *\/\n@@ -5563,6 +5622,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* SHZ[a]:       SHift Zone                                              *\/\n-  \/* Opcode range: 0x36-37                                                 *\/\n-  \/* Stack:        uint32 -->                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * SHZ[a]:       SHift Zone\n+   * Opcode range: 0x36-37\n+   * Stack:        uint32 -->\n+   *\/\n@@ -5611,6 +5670,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* SHPIX[]:      SHift points by a PIXel amount                          *\/\n-  \/* Opcode range: 0x38                                                    *\/\n-  \/* Stack:        f26.6 uint32... -->                                     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * SHPIX[]:      SHift points by a PIXel amount\n+   * Opcode range: 0x38\n+   * Stack:        f26.6 uint32... -->\n+   *\/\n@@ -5771,6 +5830,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* MSIRP[a]:     Move Stack Indirect Relative Position                   *\/\n-  \/* Opcode range: 0x3A-0x3B                                               *\/\n-  \/* Stack:        f26.6 uint32 -->                                        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * MSIRP[a]:     Move Stack Indirect Relative Position\n+   * Opcode range: 0x3A-0x3B\n+   * Stack:        f26.6 uint32 -->\n+   *\/\n@@ -5785,0 +5844,1 @@\n+    FT_F26Dot6  delta;\n@@ -5820,0 +5880,4 @@\n+    delta = SUB_LONG( distance, args[1] );\n+    if ( delta < 0 )\n+      delta = NEG_LONG( delta );\n+\n@@ -5821,4 +5885,4 @@\n-    if ( SUBPIXEL_HINTING_INFINALITY                                    &&\n-         exc->ignore_x_mode                                             &&\n-         exc->GS.freeVector.x != 0                                      &&\n-         FT_ABS( SUB_LONG( distance, args[1] ) ) >= control_value_cutin )\n+    if ( SUBPIXEL_HINTING_INFINALITY  &&\n+         exc->ignore_x_mode           &&\n+         exc->GS.freeVector.x != 0    &&\n+         delta >= control_value_cutin )\n@@ -5841,6 +5905,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* MDAP[a]:      Move Direct Absolute Point                              *\/\n-  \/* Opcode range: 0x2E-0x2F                                               *\/\n-  \/* Stack:        uint32 -->                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * MDAP[a]:      Move Direct Absolute Point\n+   * Opcode range: 0x2E-0x2F\n+   * Stack:        uint32 -->\n+   *\/\n@@ -5872,4 +5936,5 @@\n-        distance = Round_None(\n-                     exc,\n-                     cur_dist,\n-                     exc->tt_metrics.compensations[0] ) - cur_dist;\n+        distance = SUB_LONG(\n+                     Round_None( exc,\n+                                 cur_dist,\n+                                 exc->tt_metrics.compensations[0] ),\n+                     cur_dist );\n@@ -5878,4 +5943,5 @@\n-        distance = exc->func_round(\n-                     exc,\n-                     cur_dist,\n-                     exc->tt_metrics.compensations[0] ) - cur_dist;\n+        distance = SUB_LONG(\n+                     exc->func_round( exc,\n+                                      cur_dist,\n+                                      exc->tt_metrics.compensations[0] ),\n+                     cur_dist );\n@@ -5893,6 +5959,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* MIAP[a]:      Move Indirect Absolute Point                            *\/\n-  \/* Opcode range: 0x3E-0x3F                                               *\/\n-  \/* Stack:        uint32 uint32 -->                                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * MIAP[a]:      Move Indirect Absolute Point\n+   * Opcode range: 0x3E-0x3F\n+   * Stack:        uint32 uint32 -->\n+   *\/\n@@ -5981,1 +6047,8 @@\n-      if ( FT_ABS( distance - org_dist ) > control_value_cutin )\n+      FT_F26Dot6  delta;\n+\n+\n+      delta = SUB_LONG( distance, org_dist );\n+      if ( delta < 0 )\n+        delta = NEG_LONG( delta );\n+\n+      if ( delta > control_value_cutin )\n@@ -6006,6 +6079,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* MDRP[abcde]:  Move Direct Relative Point                              *\/\n-  \/* Opcode range: 0xC0-0xDF                                               *\/\n-  \/* Stack:        uint32 -->                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * MDRP[abcde]:  Move Direct Relative Point\n+   * Opcode range: 0xC0-0xDF\n+   * Stack:        uint32 -->\n+   *\/\n@@ -6150,6 +6223,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* MIRP[abcde]:  Move Indirect Relative Point                            *\/\n-  \/* Opcode range: 0xE0-0xFF                                               *\/\n-  \/* Stack:        int32? uint32 -->                                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * MIRP[abcde]:  Move Indirect Relative Point\n+   * Opcode range: 0xE0-0xFF\n+   * Stack:        int32? uint32 -->\n+   *\/\n@@ -6175,0 +6248,2 @@\n+    FT_F26Dot6  delta;\n+\n@@ -6179,1 +6254,1 @@\n-    cvtEntry            = (FT_ULong)( args[1] + 1 );\n+    cvtEntry            = (FT_ULong)( ADD_LONG( args[1], 1 ) );\n@@ -6207,2 +6282,5 @@\n-    if ( FT_ABS( cvt_dist - exc->GS.single_width_value ) <\n-         exc->GS.single_width_cutin )\n+    delta = SUB_LONG( cvt_dist, exc->GS.single_width_value );\n+    if ( delta < 0 )\n+      delta = NEG_LONG( delta );\n+\n+    if ( delta < exc->GS.single_width_cutin )\n@@ -6237,1 +6315,1 @@\n-        cvt_dist = -cvt_dist;\n+        cvt_dist = NEG_LONG( cvt_dist );\n@@ -6274,1 +6352,5 @@\n-        if ( FT_ABS( cvt_dist - org_dist ) > control_value_cutin )\n+        delta = SUB_LONG( cvt_dist, org_dist );\n+        if ( delta < 0 )\n+          delta = NEG_LONG( delta );\n+\n+        if ( delta > control_value_cutin )\n@@ -6292,1 +6374,5 @@\n-        if ( FT_ABS( cvt_dist - org_dist ) > control_value_cutin )\n+        delta = SUB_LONG( cvt_dist, org_dist );\n+        if ( delta < 0 )\n+          delta = NEG_LONG( delta );\n+\n+        if ( delta > control_value_cutin )\n@@ -6384,6 +6470,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* ALIGNRP[]:    ALIGN Relative Point                                    *\/\n-  \/* Opcode range: 0x3C                                                    *\/\n-  \/* Stack:        uint32 uint32... -->                                    *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * ALIGNRP[]:    ALIGN Relative Point\n+   * Opcode range: 0x3C\n+   * Stack:        uint32 uint32... -->\n+   *\/\n@@ -6447,6 +6533,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* ISECT[]:      moves point to InterSECTion                             *\/\n-  \/* Opcode range: 0x0F                                                    *\/\n-  \/* Stack:        5 * uint32 -->                                          *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * ISECT[]:      moves point to InterSECTion\n+   * Opcode range: 0x0F\n+   * Stack:        5 * uint32 -->\n+   *\/\n@@ -6543,6 +6629,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* ALIGNPTS[]:   ALIGN PoinTS                                            *\/\n-  \/* Opcode range: 0x27                                                    *\/\n-  \/* Stack:        uint32 uint32 -->                                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * ALIGNPTS[]:   ALIGN PoinTS\n+   * Opcode range: 0x27\n+   * Stack:        uint32 uint32 -->\n+   *\/\n@@ -6575,6 +6661,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* IP[]:         Interpolate Point                                       *\/\n-  \/* Opcode range: 0x39                                                    *\/\n-  \/* Stack:        uint32... -->                                           *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * IP[]:         Interpolate Point\n+   * Opcode range: 0x39\n+   * Stack:        uint32... -->\n+   *\/\n@@ -6735,6 +6821,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* UTP[a]:       UnTouch Point                                           *\/\n-  \/* Opcode range: 0x29                                                    *\/\n-  \/* Stack:        uint32 -->                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * UTP[a]:       UnTouch Point\n+   * Opcode range: 0x29\n+   * Stack:        uint32 -->\n+   *\/\n@@ -6904,6 +6990,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* IUP[a]:       Interpolate Untouched Points                            *\/\n-  \/* Opcode range: 0x30-0x31                                               *\/\n-  \/* Stack:        -->                                                     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * IUP[a]:       Interpolate Untouched Points\n+   * Opcode range: 0x30-0x31\n+   * Stack:        -->\n+   *\/\n@@ -7032,6 +7118,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* DELTAPn[]:    DELTA exceptions P1, P2, P3                             *\/\n-  \/* Opcode range: 0x5D,0x71,0x72                                          *\/\n-  \/* Stack:        uint32 (2 * uint32)... -->                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * DELTAPn[]:    DELTA exceptions P1, P2, P3\n+   * Opcode range: 0x5D,0x71,0x72\n+   * Stack:        uint32 (2 * uint32)... -->\n+   *\/\n@@ -7114,1 +7200,1 @@\n-             *  Allow delta move if\n+             * Allow delta move if\n@@ -7116,4 +7202,4 @@\n-             *  - not using ignore_x_mode rendering,\n-             *  - glyph is specifically set to allow it, or\n-             *  - glyph is composite and freedom vector is not in subpixel\n-             *    direction.\n+             * - not using ignore_x_mode rendering,\n+             * - glyph is specifically set to allow it, or\n+             * - glyph is composite and freedom vector is not in subpixel\n+             *   direction.\n@@ -7199,6 +7285,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* DELTACn[]:    DELTA exceptions C1, C2, C3                             *\/\n-  \/* Opcode range: 0x73,0x74,0x75                                          *\/\n-  \/* Stack:        uint32 (2 * uint32)... -->                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * DELTACn[]:    DELTA exceptions C1, C2, C3\n+   * Opcode range: 0x73,0x74,0x75\n+   * Stack:        uint32 (2 * uint32)... -->\n+   *\/\n@@ -7277,5 +7363,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* MISC. INSTRUCTIONS                                                    *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * MISC. INSTRUCTIONS\n+   *\n+   *\/\n@@ -7284,14 +7370,14 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* GETINFO[]:    GET INFOrmation                                         *\/\n-  \/* Opcode range: 0x88                                                    *\/\n-  \/* Stack:        uint32 --> uint32                                       *\/\n-  \/*                                                                       *\/\n-  \/* XXX: UNDOCUMENTED: Selector bits higher than 9 are currently (May     *\/\n-  \/*      2015) not documented in the OpenType specification.              *\/\n-  \/*                                                                       *\/\n-  \/*      Selector bit 11 is incorrectly described as bit 8, while the     *\/\n-  \/*      real meaning of bit 8 (vertical LCD subpixels) stays             *\/\n-  \/*      undocumented.  The same mistake can be found in Greg Hitchcock's *\/\n-  \/*      whitepaper.                                                      *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * GETINFO[]:    GET INFOrmation\n+   * Opcode range: 0x88\n+   * Stack:        uint32 --> uint32\n+   *\n+   * XXX: UNDOCUMENTED: Selector bits higher than 9 are currently (May\n+   *      2015) not documented in the OpenType specification.\n+   *\n+   *      Selector bit 11 is incorrectly described as bit 8, while the\n+   *      real meaning of bit 8 (vertical LCD subpixels) stays\n+   *      undocumented.  The same mistake can be found in Greg Hitchcock's\n+   *      whitepaper.\n+   *\/\n@@ -7309,5 +7395,5 @@\n-    \/********************************\/\n-    \/* RASTERIZER VERSION           *\/\n-    \/* Selector Bit:  0             *\/\n-    \/* Return Bit(s): 0-7           *\/\n-    \/*                              *\/\n+    \/*********************************\n+     * RASTERIZER VERSION\n+     * Selector Bit:  0\n+     * Return Bit(s): 0-7\n+     *\/\n@@ -7334,5 +7420,5 @@\n-    \/********************************\/\n-    \/* GLYPH ROTATED                *\/\n-    \/* Selector Bit:  1             *\/\n-    \/* Return Bit(s): 8             *\/\n-    \/*                              *\/\n+    \/*********************************\n+     * GLYPH ROTATED\n+     * Selector Bit:  1\n+     * Return Bit(s): 8\n+     *\/\n@@ -7342,5 +7428,5 @@\n-    \/********************************\/\n-    \/* GLYPH STRETCHED              *\/\n-    \/* Selector Bit:  2             *\/\n-    \/* Return Bit(s): 9             *\/\n-    \/*                              *\/\n+    \/*********************************\n+     * GLYPH STRETCHED\n+     * Selector Bit:  2\n+     * Return Bit(s): 9\n+     *\/\n@@ -7351,6 +7437,7 @@\n-    \/********************************\/\n-    \/* VARIATION GLYPH              *\/\n-    \/* Selector Bit:  3             *\/\n-    \/* Return Bit(s): 10            *\/\n-    \/*                              *\/\n-    \/* XXX: UNDOCUMENTED!           *\/\n+    \/*********************************\n+     * VARIATION GLYPH\n+     * Selector Bit:  3\n+     * Return Bit(s): 10\n+     *\n+     * XXX: UNDOCUMENTED!\n+     *\/\n@@ -7361,6 +7448,6 @@\n-    \/********************************\/\n-    \/* BI-LEVEL HINTING AND         *\/\n-    \/* GRAYSCALE RENDERING          *\/\n-    \/* Selector Bit:  5             *\/\n-    \/* Return Bit(s): 12            *\/\n-    \/*                              *\/\n+    \/*********************************\n+     * BI-LEVEL HINTING AND\n+     * GRAYSCALE RENDERING\n+     * Selector Bit:  5\n+     * Return Bit(s): 12\n+     *\/\n@@ -7377,6 +7464,7 @@\n-      \/********************************\/\n-      \/* HINTING FOR SUBPIXEL         *\/\n-      \/* Selector Bit:  6             *\/\n-      \/* Return Bit(s): 13            *\/\n-      \/*                              *\/\n-      \/* v40 does subpixel hinting by default. *\/\n+      \/*********************************\n+       * HINTING FOR SUBPIXEL\n+       * Selector Bit:  6\n+       * Return Bit(s): 13\n+       *\n+       * v40 does subpixel hinting by default.\n+       *\/\n@@ -7386,5 +7474,5 @@\n-      \/********************************\/\n-      \/* VERTICAL LCD SUBPIXELS?      *\/\n-      \/* Selector Bit:  8             *\/\n-      \/* Return Bit(s): 15            *\/\n-      \/*                              *\/\n+      \/*********************************\n+       * VERTICAL LCD SUBPIXELS?\n+       * Selector Bit:  8\n+       * Return Bit(s): 15\n+       *\/\n@@ -7394,6 +7482,7 @@\n-      \/********************************\/\n-      \/* SUBPIXEL POSITIONED?         *\/\n-      \/* Selector Bit:  10            *\/\n-      \/* Return Bit(s): 17            *\/\n-      \/*                              *\/\n-      \/* XXX: FreeType supports it, dependent on what client does? *\/\n+      \/*********************************\n+       * SUBPIXEL POSITIONED?\n+       * Selector Bit:  10\n+       * Return Bit(s): 17\n+       *\n+       * XXX: FreeType supports it, dependent on what client does?\n+       *\/\n@@ -7403,7 +7492,8 @@\n-      \/********************************\/\n-      \/* SYMMETRICAL SMOOTHING        *\/\n-      \/* Selector Bit:  11            *\/\n-      \/* Return Bit(s): 18            *\/\n-      \/*                              *\/\n-      \/* The only smoothing method FreeType supports unless someone sets *\/\n-      \/* FT_LOAD_TARGET_MONO.                                            *\/\n+      \/*********************************\n+       * SYMMETRICAL SMOOTHING\n+       * Selector Bit:  11\n+       * Return Bit(s): 18\n+       *\n+       * The only smoothing method FreeType supports unless someone sets\n+       * FT_LOAD_TARGET_MONO.\n+       *\/\n@@ -7413,8 +7503,9 @@\n-      \/********************************\/\n-      \/* CLEARTYPE HINTING AND        *\/\n-      \/* GRAYSCALE RENDERING          *\/\n-      \/* Selector Bit:  12            *\/\n-      \/* Return Bit(s): 19            *\/\n-      \/*                              *\/\n-      \/* Grayscale rendering is what FreeType does anyway unless someone *\/\n-      \/* sets FT_LOAD_TARGET_MONO or FT_LOAD_TARGET_LCD(_V)              *\/\n+      \/*********************************\n+       * CLEARTYPE HINTING AND\n+       * GRAYSCALE RENDERING\n+       * Selector Bit:  12\n+       * Return Bit(s): 19\n+       *\n+       * Grayscale rendering is what FreeType does anyway unless someone\n+       * sets FT_LOAD_TARGET_MONO or FT_LOAD_TARGET_LCD(_V)\n+       *\/\n@@ -7434,5 +7525,5 @@\n-        \/********************************\/\n-        \/* HINTING FOR SUBPIXEL         *\/\n-        \/* Selector Bit:  6             *\/\n-        \/* Return Bit(s): 13            *\/\n-        \/*                              *\/\n+        \/*********************************\n+         * HINTING FOR SUBPIXEL\n+         * Selector Bit:  6\n+         * Return Bit(s): 13\n+         *\/\n@@ -7442,6 +7533,7 @@\n-        \/********************************\/\n-        \/* COMPATIBLE WIDTHS ENABLED    *\/\n-        \/* Selector Bit:  7             *\/\n-        \/* Return Bit(s): 14            *\/\n-        \/*                              *\/\n-        \/* Functionality still needs to be added *\/\n+        \/*********************************\n+         * COMPATIBLE WIDTHS ENABLED\n+         * Selector Bit:  7\n+         * Return Bit(s): 14\n+         *\n+         * Functionality still needs to be added\n+         *\/\n@@ -7451,6 +7543,7 @@\n-        \/********************************\/\n-        \/* VERTICAL LCD SUBPIXELS?      *\/\n-        \/* Selector Bit:  8             *\/\n-        \/* Return Bit(s): 15            *\/\n-        \/*                              *\/\n-        \/* Functionality still needs to be added *\/\n+        \/*********************************\n+         * VERTICAL LCD SUBPIXELS?\n+         * Selector Bit:  8\n+         * Return Bit(s): 15\n+         *\n+         * Functionality still needs to be added\n+         *\/\n@@ -7460,6 +7553,7 @@\n-        \/********************************\/\n-        \/* HINTING FOR BGR?             *\/\n-        \/* Selector Bit:  9             *\/\n-        \/* Return Bit(s): 16            *\/\n-        \/*                              *\/\n-        \/* Functionality still needs to be added *\/\n+        \/*********************************\n+         * HINTING FOR BGR?\n+         * Selector Bit:  9\n+         * Return Bit(s): 16\n+         *\n+         * Functionality still needs to be added\n+         *\/\n@@ -7471,6 +7565,7 @@\n-          \/********************************\/\n-          \/* SUBPIXEL POSITIONED?         *\/\n-          \/* Selector Bit:  10            *\/\n-          \/* Return Bit(s): 17            *\/\n-          \/*                              *\/\n-          \/* Functionality still needs to be added *\/\n+          \/*********************************\n+           * SUBPIXEL POSITIONED?\n+           * Selector Bit:  10\n+           * Return Bit(s): 17\n+           *\n+           * Functionality still needs to be added\n+           *\/\n@@ -7480,6 +7575,7 @@\n-          \/********************************\/\n-          \/* SYMMETRICAL SMOOTHING        *\/\n-          \/* Selector Bit:  11            *\/\n-          \/* Return Bit(s): 18            *\/\n-          \/*                              *\/\n-          \/* Functionality still needs to be added *\/\n+          \/*********************************\n+           * SYMMETRICAL SMOOTHING\n+           * Selector Bit:  11\n+           * Return Bit(s): 18\n+           *\n+           * Functionality still needs to be added\n+           *\/\n@@ -7489,6 +7585,7 @@\n-          \/********************************\/\n-          \/* GRAY CLEARTYPE               *\/\n-          \/* Selector Bit:  12            *\/\n-          \/* Return Bit(s): 19            *\/\n-          \/*                              *\/\n-          \/* Functionality still needs to be added *\/\n+          \/*********************************\n+           * GRAY CLEARTYPE\n+           * Selector Bit:  12\n+           * Return Bit(s): 19\n+           *\n+           * Functionality still needs to be added\n+           *\/\n@@ -7509,10 +7606,10 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* GETVARIATION[]: get normalized variation (blend) coordinates          *\/\n-  \/* Opcode range: 0x91                                                    *\/\n-  \/* Stack:        --> f2.14...                                            *\/\n-  \/*                                                                       *\/\n-  \/* XXX: UNDOCUMENTED!  There is no official documentation from Apple for *\/\n-  \/*      this bytecode instruction.  Active only if a font has GX         *\/\n-  \/*      variation axes.                                                  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * GETVARIATION[]: get normalized variation (blend) coordinates\n+   * Opcode range: 0x91\n+   * Stack:        --> f2.14...\n+   *\n+   * XXX: UNDOCUMENTED!  There is no official documentation from Apple for\n+   *      this bytecode instruction.  Active only if a font has GX\n+   *      variation axes.\n+   *\/\n@@ -7535,2 +7632,10 @@\n-    for ( i = 0; i < num_axes; i++ )\n-      args[i] = coords[i] >> 2; \/* convert 16.16 to 2.14 format *\/\n+    if ( coords )\n+    {\n+      for ( i = 0; i < num_axes; i++ )\n+        args[i] = coords[i] >> 2; \/* convert 16.16 to 2.14 format *\/\n+    }\n+    else\n+    {\n+      for ( i = 0; i < num_axes; i++ )\n+        args[i] = 0;\n+    }\n@@ -7540,9 +7645,9 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* GETDATA[]:    no idea what this is good for                           *\/\n-  \/* Opcode range: 0x92                                                    *\/\n-  \/* Stack:        --> 17                                                  *\/\n-  \/*                                                                       *\/\n-  \/* XXX: UNDOCUMENTED!  There is no documentation from Apple for this     *\/\n-  \/*      very weird bytecode instruction.                                 *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * GETDATA[]:    no idea what this is good for\n+   * Opcode range: 0x92\n+   * Stack:        --> 17\n+   *\n+   * XXX: UNDOCUMENTED!  There is no documentation from Apple for this\n+   *      very weird bytecode instruction.\n+   *\/\n@@ -7596,28 +7701,28 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* RUN                                                                   *\/\n-  \/*                                                                       *\/\n-  \/*  This function executes a run of opcodes.  It will exit in the        *\/\n-  \/*  following cases:                                                     *\/\n-  \/*                                                                       *\/\n-  \/*  - Errors (in which case it returns FALSE).                           *\/\n-  \/*                                                                       *\/\n-  \/*  - Reaching the end of the main code range (returns TRUE).            *\/\n-  \/*    Reaching the end of a code range within a function call is an      *\/\n-  \/*    error.                                                             *\/\n-  \/*                                                                       *\/\n-  \/*  - After executing one single opcode, if the flag `Instruction_Trap'  *\/\n-  \/*    is set to TRUE (returns TRUE).                                     *\/\n-  \/*                                                                       *\/\n-  \/*  On exit with TRUE, test IP < CodeSize to know whether it comes from  *\/\n-  \/*  an instruction trap or a normal termination.                         *\/\n-  \/*                                                                       *\/\n-  \/*                                                                       *\/\n-  \/*  Note: The documented DEBUG opcode pops a value from the stack.  This *\/\n-  \/*        behaviour is unsupported; here a DEBUG opcode is always an     *\/\n-  \/*        error.                                                         *\/\n-  \/*                                                                       *\/\n-  \/*                                                                       *\/\n-  \/* THIS IS THE INTERPRETER'S MAIN LOOP.                                  *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * RUN\n+   *\n+   * This function executes a run of opcodes.  It will exit in the\n+   * following cases:\n+   *\n+   * - Errors (in which case it returns FALSE).\n+   *\n+   * - Reaching the end of the main code range (returns TRUE).\n+   *   Reaching the end of a code range within a function call is an\n+   *   error.\n+   *\n+   * - After executing one single opcode, if the flag `Instruction_Trap'\n+   *   is set to TRUE (returns TRUE).\n+   *\n+   * On exit with TRUE, test IP < CodeSize to know whether it comes from\n+   * an instruction trap or a normal termination.\n+   *\n+   *\n+   * Note: The documented DEBUG opcode pops a value from the stack.  This\n+   *       behaviour is unsupported; here a DEBUG opcode is always an\n+   *       error.\n+   *\n+   *\n+   * THIS IS THE INTERPRETER'S MAIN LOOP.\n+   *\n+   *\/\n@@ -7655,2 +7760,2 @@\n-     *  Toggle backward compatibility according to what font wants, except\n-     *  when\n+     * Toggle backward compatibility according to what font wants, except\n+     * when\n@@ -7658,3 +7763,3 @@\n-     *  1) we have a `tricky' font that heavily relies on the interpreter to\n-     *     render glyphs correctly, for example DFKai-SB, or\n-     *  2) FT_RENDER_MODE_MONO (i.e, monochome rendering) is requested.\n+     * 1) we have a `tricky' font that heavily relies on the interpreter to\n+     *    render glyphs correctly, for example DFKai-SB, or\n+     * 2) FT_RENDER_MODE_MONO (i.e, monochome rendering) is requested.\n@@ -7662,3 +7767,3 @@\n-     *  In those cases, backward compatibility needs to be turned off to get\n-     *  correct rendering.  The rendering is then completely up to the\n-     *  font's programming.\n+     * In those cases, backward compatibility needs to be turned off to get\n+     * correct rendering.  The rendering is then completely up to the\n+     * font's programming.\n@@ -7765,1 +7870,1 @@\n-        FT_TRACE6(( opcode_name[exc->opcode] + 2 ));\n+        FT_TRACE6(( \"%s\", opcode_name[exc->opcode] + 2 ));\n@@ -8490,2 +8595,2 @@\n-                ins_counter == 1 ? \"\" : \"s\",\n-                ins_counter ));\n+                ins_counter,\n+                ins_counter == 1 ? \"\" : \"s\" ));\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/truetype\/ttinterp.c","additions":1723,"deletions":1618,"binary":false,"changes":3341,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ttinterp.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    TrueType bytecode interpreter (specification).                       *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ttinterp.h\n+ *\n+ *   TrueType bytecode interpreter (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -29,4 +29,4 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Rounding mode constants.                                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Rounding mode constants.\n+   *\/\n@@ -43,7 +43,7 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Function types used by the interpreter, depending on various modes    *\/\n-  \/* (e.g. the rounding mode, whether to render a vertical or horizontal   *\/\n-  \/* line etc).                                                            *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * Function types used by the interpreter, depending on various modes\n+   * (e.g. the rounding mode, whether to render a vertical or horizontal\n+   * line etc).\n+   *\n+   *\/\n@@ -87,4 +87,4 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* This structure defines a call record, used to manage function calls.  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * This structure defines a call record, used to manage function calls.\n+   *\/\n@@ -104,5 +104,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* These structures define rules used to tweak subpixel hinting for      *\/\n-  \/* various fonts.  \"\", 0, \"\", NULL value indicates to match any value.   *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * These structures define rules used to tweak subpixel hinting for\n+   * various fonts.  \"\", 0, \"\", NULL value indicates to match any value.\n+   *\/\n@@ -144,5 +144,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The main structure for the interpreter which collects all necessary   *\/\n-  \/* variables and states.                                                 *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The main structure for the interpreter which collects all necessary\n+   * variables and states.\n+   *\/\n@@ -355,1 +355,1 @@\n-     *     http:\/\/www.beatstamm.com\/typography\/RTRCh4.htm#Sec12\n+     *     http:\/\/rastertragedy.com\/RTRCh4.htm#Sec12.\n@@ -467,20 +467,21 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    TT_New_Context                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Queries the face context for a given font.  Note that there is     *\/\n-  \/*    now a _single_ execution context in the TrueType driver which is   *\/\n-  \/*    shared among faces.                                                *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face :: A handle to the source face object.                        *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    A handle to the execution context.  Initialized for `face'.        *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    Only the glyph loader and debugger should call this function.      *\/\n-  \/*    (And right now only the glyph loader uses it.)                     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   TT_New_Context\n+   *\n+   * @Description:\n+   *   Queries the face context for a given font.  Note that there is\n+   *   now a _single_ execution context in the TrueType driver which is\n+   *   shared among faces.\n+   *\n+   * @Input:\n+   *   face ::\n+   *     A handle to the source face object.\n+   *\n+   * @Return:\n+   *   A handle to the execution context.  Initialized for `face'.\n+   *\n+   * @Note:\n+   *   Only the glyph loader and debugger should call this function.\n+   *   (And right now only the glyph loader uses it.)\n+   *\/\n@@ -509,21 +510,22 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    TT_RunIns                                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Executes one or more instruction in the execution context.  This   *\/\n-  \/*    is the main function of the TrueType opcode interpreter.           *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    exec :: A handle to the target execution context.                  *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    Only the object manager and debugger should call this function.    *\/\n-  \/*                                                                       *\/\n-  \/*    This function is publicly exported because it is directly          *\/\n-  \/*    invoked by the TrueType debugger.                                  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   TT_RunIns\n+   *\n+   * @Description:\n+   *   Executes one or more instruction in the execution context.  This\n+   *   is the main function of the TrueType opcode interpreter.\n+   *\n+   * @Input:\n+   *   exec ::\n+   *     A handle to the target execution context.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\n+   * @Note:\n+   *   Only the object manager and debugger should call this function.\n+   *\n+   *   This function is publicly exported because it is directly\n+   *   invoked by the TrueType debugger.\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/truetype\/ttinterp.h","additions":85,"deletions":83,"binary":false,"changes":168,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ttobjs.c                                                               *\/\n-\/*                                                                         *\/\n-\/*    Objects manager (body).                                              *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ttobjs.c\n+ *\n+ *   Objects manager (body).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -39,6 +39,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -46,1 +46,1 @@\n-#define FT_COMPONENT  trace_ttobjs\n+#define FT_COMPONENT  ttobjs\n@@ -51,18 +51,19 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*                       GLYPH ZONE FUNCTIONS                            *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    tt_glyphzone_done                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Deallocate a glyph zone.                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    zone :: A pointer to the target glyph zone.                        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   *                      GLYPH ZONE FUNCTIONS\n+   *\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_glyphzone_done\n+   *\n+   * @Description:\n+   *   Deallocate a glyph zone.\n+   *\n+   * @Input:\n+   *   zone ::\n+   *     A pointer to the target glyph zone.\n+   *\/\n@@ -90,21 +91,25 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    tt_glyphzone_new                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Allocate a new glyph zone.                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    memory      :: A handle to the current memory object.              *\/\n-  \/*                                                                       *\/\n-  \/*    maxPoints   :: The capacity of glyph zone in points.               *\/\n-  \/*                                                                       *\/\n-  \/*    maxContours :: The capacity of glyph zone in contours.             *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    zone        :: A pointer to the target glyph zone record.          *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_glyphzone_new\n+   *\n+   * @Description:\n+   *   Allocate a new glyph zone.\n+   *\n+   * @Input:\n+   *   memory ::\n+   *     A handle to the current memory object.\n+   *\n+   *   maxPoints ::\n+   *     The capacity of glyph zone in points.\n+   *\n+   *   maxContours ::\n+   *     The capacity of glyph zone in contours.\n+   *\n+   * @Output:\n+   *   zone ::\n+   *     A pointer to the target glyph zone record.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -150,1 +155,1 @@\n-#define TRICK_NAMES_COUNT           23\n+#define TRICK_NAMES_COUNT           26\n@@ -170,0 +175,1 @@\n+      \"DFHei-Md-HK-BF\",     \/* maybe DynaLab Inc. *\/\n@@ -175,0 +181,1 @@\n+      \"DFKaiShu-Md-HK-BF\",  \/* maybe DynaLab Inc. *\/\n@@ -176,0 +183,1 @@\n+      \"DFMing-Bd-HK-BF\",    \/* maybe DynaLab Inc. *\/\n@@ -273,1 +281,1 @@\n-#define TRICK_SFNT_IDS_NUM_FACES  26\n+#define TRICK_SFNT_IDS_NUM_FACES  29\n@@ -302,0 +310,5 @@\n+      { \/* DFHei-Md-HK-BF *\/\n+        { 0x1257EB46UL, 0x00000350UL }, \/* cvt  *\/\n+        { 0xF699D160UL, 0x0000715FUL }, \/* fpgm *\/\n+        { 0xD222F568UL, 0x000003BCUL }  \/* prep *\/\n+      },\n@@ -327,0 +340,10 @@\n+      { \/* DFKaiShu-Md-HK-BF *\/\n+        { 0x11E5EAD4UL, 0x00000360UL }, \/* cvt  *\/\n+        { 0x9DB282B2UL, 0x0000C06EUL }, \/* fpgm *\/\n+        { 0x53E6D7CAUL, 0x00000082UL }  \/* prep *\/\n+      },\n+      { \/* DFMing-Bd-HK-BF *\/\n+        { 0x1243EB18UL, 0x00000350UL }, \/* cvt  *\/\n+        { 0xBA0A8C30UL, 0x000074ADUL }, \/* fpgm *\/\n+        { 0xF3D83409UL, 0x0000037BUL }  \/* prep *\/\n+      },\n@@ -551,26 +574,31 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    tt_face_init                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Initialize a given TrueType face object.                           *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    stream     :: The source font stream.                              *\/\n-  \/*                                                                       *\/\n-  \/*    face_index :: The index of the TrueType font, if we are opening a  *\/\n-  \/*                  collection, in bits 0-15.  The numbered instance     *\/\n-  \/*                  index~+~1 of a GX (sub)font, if applicable, in bits  *\/\n-  \/*                  16-30.                                               *\/\n-  \/*                                                                       *\/\n-  \/*    num_params :: Number of additional generic parameters.  Ignored.   *\/\n-  \/*                                                                       *\/\n-  \/*    params     :: Additional generic parameters.  Ignored.             *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    face       :: The newly built face object.                         *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_face_init\n+   *\n+   * @Description:\n+   *   Initialize a given TrueType face object.\n+   *\n+   * @Input:\n+   *   stream ::\n+   *     The source font stream.\n+   *\n+   *   face_index ::\n+   *     The index of the TrueType font, if we are opening a\n+   *     collection, in bits 0-15.  The numbered instance\n+   *     index~+~1 of a GX (sub)font, if applicable, in bits\n+   *     16-30.\n+   *\n+   *   num_params ::\n+   *     Number of additional generic parameters.  Ignored.\n+   *\n+   *   params ::\n+   *     Additional generic parameters.  Ignored.\n+   *\n+   * @InOut:\n+   *   face ::\n+   *     The newly built face object.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -728,11 +756,12 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    tt_face_done                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Finalize a given face object.                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face :: A pointer to the face object to destroy.                   *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_face_done\n+   *\n+   * @Description:\n+   *   Finalize a given face object.\n+   *\n+   * @Input:\n+   *   face ::\n+   *     A pointer to the face object to destroy.\n+   *\/\n@@ -784,5 +813,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*                           SIZE  FUNCTIONS                             *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   *                          SIZE  FUNCTIONS\n+   *\n+   *\/\n@@ -792,16 +821,18 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    tt_size_run_fpgm                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Run the font program.                                              *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    size     :: A handle to the size object.                           *\/\n-  \/*                                                                       *\/\n-  \/*    pedantic :: Set if bytecode execution should be pedantic.          *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_size_run_fpgm\n+   *\n+   * @Description:\n+   *   Run the font program.\n+   *\n+   * @Input:\n+   *   size ::\n+   *     A handle to the size object.\n+   *\n+   *   pedantic ::\n+   *     Set if bytecode execution should be pedantic.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -884,16 +915,18 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    tt_size_run_prep                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Run the control value program.                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    size     :: A handle to the size object.                           *\/\n-  \/*                                                                       *\/\n-  \/*    pedantic :: Set if bytecode execution should be pedantic.          *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_size_run_prep\n+   *\n+   * @Description:\n+   *   Run the control value program.\n+   *\n+   * @Input:\n+   *   size ::\n+   *     A handle to the size object.\n+   *\n+   *   pedantic ::\n+   *     Set if bytecode execution should be pedantic.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -1144,2 +1177,3 @@\n-      \/* Scale the cvt values to the new ppem.          *\/\n-      \/* We use by default the y ppem to scale the CVT. *\/\n+      \/* Scale the cvt values to the new ppem.            *\/\n+      \/* By default, we use the y ppem value for scaling. *\/\n+      FT_TRACE6(( \"CVT values:\\n\" ));\n@@ -1147,0 +1181,1 @@\n+      {\n@@ -1148,0 +1183,4 @@\n+        FT_TRACE6(( \"  %3d: %d (%f)\\n\",\n+                    i, face->cvt[i], size->cvt[i] \/ 64.0 ));\n+      }\n+      FT_TRACE6(( \"\\n\" ));\n@@ -1176,14 +1215,15 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    tt_size_init                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Initialize a new TrueType size object.                             *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    size :: A handle to the size object.                               *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_size_init\n+   *\n+   * @Description:\n+   *   Initialize a new TrueType size object.\n+   *\n+   * @InOut:\n+   *   size ::\n+   *     A handle to the size object.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -1209,11 +1249,12 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    tt_size_done                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    The TrueType size object finalizer.                                *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    size :: A handle to the target size object.                        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_size_done\n+   *\n+   * @Description:\n+   *   The TrueType size object finalizer.\n+   *\n+   * @Input:\n+   *   size ::\n+   *     A handle to the target size object.\n+   *\/\n@@ -1234,16 +1275,18 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    tt_size_reset                                                      *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Reset a TrueType size when resolutions and character dimensions    *\/\n-  \/*    have been changed.                                                 *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    size        :: A handle to the target size object.                 *\/\n-  \/*                                                                       *\/\n-  \/*    only_height :: Only recompute ascender, descender, and height;     *\/\n-  \/*                   this flag is used for variation fonts where         *\/\n-  \/*                   `tt_size_reset' is used as an iterator function.    *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_size_reset\n+   *\n+   * @Description:\n+   *   Reset a TrueType size when resolutions and character dimensions\n+   *   have been changed.\n+   *\n+   * @Input:\n+   *   size ::\n+   *     A handle to the target size object.\n+   *\n+   *   only_height ::\n+   *     Only recompute ascender, descender, and height;\n+   *     this flag is used for variation fonts where\n+   *     `tt_size_reset' is used as an iterator function.\n+   *\/\n@@ -1343,14 +1386,15 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    tt_driver_init                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Initialize a given TrueType driver object.                         *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    driver :: A handle to the target driver object.                    *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_driver_init\n+   *\n+   * @Description:\n+   *   Initialize a given TrueType driver object.\n+   *\n+   * @Input:\n+   *   driver ::\n+   *     A handle to the target driver object.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -1383,11 +1427,12 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    tt_driver_done                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Finalize a given TrueType driver.                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    driver :: A handle to the target TrueType driver.                  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_driver_done\n+   *\n+   * @Description:\n+   *   Finalize a given TrueType driver.\n+   *\n+   * @Input:\n+   *   driver ::\n+   *     A handle to the target TrueType driver.\n+   *\/\n@@ -1401,14 +1446,15 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    tt_slot_init                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Initialize a new slot object.                                      *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    slot :: A handle to the slot object.                               *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_slot_init\n+   *\n+   * @Description:\n+   *   Initialize a new slot object.\n+   *\n+   * @InOut:\n+   *   slot ::\n+   *     A handle to the slot object.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/truetype\/ttobjs.c","additions":266,"deletions":220,"binary":false,"changes":486,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ttobjs.h                                                               *\/\n-\/*                                                                         *\/\n-\/*    Objects manager (specification).                                     *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ttobjs.h\n+ *\n+ *   Objects manager (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -31,8 +31,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    TT_Driver                                                          *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A handle to a TrueType driver object.                              *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Type:\n+   *   TT_Driver\n+   *\n+   * @Description:\n+   *   A handle to a TrueType driver object.\n+   *\/\n@@ -42,12 +42,12 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    TT_GlyphSlot                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A handle to a TrueType glyph slot object.                          *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    This is a direct typedef of FT_GlyphSlot, as there is nothing      *\/\n-  \/*    specific about the TrueType glyph slot.                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Type:\n+   *   TT_GlyphSlot\n+   *\n+   * @Description:\n+   *   A handle to a TrueType glyph slot object.\n+   *\n+   * @Note:\n+   *   This is a direct typedef of FT_GlyphSlot, as there is nothing\n+   *   specific about the TrueType glyph slot.\n+   *\/\n@@ -57,8 +57,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    TT_GraphicsState                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    The TrueType graphics state used during bytecode interpretation.   *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Struct:\n+   *   TT_GraphicsState\n+   *\n+   * @Description:\n+   *   The TrueType graphics state used during bytecode interpretation.\n+   *\/\n@@ -116,7 +116,7 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*  EXECUTION SUBTABLES                                                  *\/\n-  \/*                                                                       *\/\n-  \/*  These sub-tables relate to instruction execution.                    *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * EXECUTION SUBTABLES\n+   *\n+   * These sub-tables relate to instruction execution.\n+   *\n+   *\/\n@@ -128,7 +128,7 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* There can only be 3 active code ranges at once:                       *\/\n-  \/*   - the Font Program                                                  *\/\n-  \/*   - the CVT Program                                                   *\/\n-  \/*   - a glyph's instructions set                                        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * There can only be 3 active code ranges at once:\n+   *   - the Font Program\n+   *   - the CVT Program\n+   *   - a glyph's instructions set\n+   *\/\n@@ -155,4 +155,4 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Defines a function\/instruction definition record.                     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Defines a function\/instruction definition record.\n+   *\/\n@@ -172,4 +172,4 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Subglyph transformation record.                                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Subglyph transformation record.\n+   *\/\n@@ -185,66 +185,66 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* A note regarding non-squared pixels:                                  *\/\n-  \/*                                                                       *\/\n-  \/* (This text will probably go into some docs at some time; for now, it  *\/\n-  \/* is kept here to explain some definitions in the TT_Size_Metrics       *\/\n-  \/* record).                                                              *\/\n-  \/*                                                                       *\/\n-  \/* The CVT is a one-dimensional array containing values that control     *\/\n-  \/* certain important characteristics in a font, like the height of all   *\/\n-  \/* capitals, all lowercase letter, default spacing or stem width\/height. *\/\n-  \/*                                                                       *\/\n-  \/* These values are found in FUnits in the font file, and must be scaled *\/\n-  \/* to pixel coordinates before being used by the CVT and glyph programs. *\/\n-  \/* Unfortunately, when using distinct x and y resolutions (or distinct x *\/\n-  \/* and y pointsizes), there are two possible scalings.                   *\/\n-  \/*                                                                       *\/\n-  \/* A first try was to implement a `lazy' scheme where all values were    *\/\n-  \/* scaled when first used.  However, while some values are always used   *\/\n-  \/* in the same direction, some others are used under many different      *\/\n-  \/* circumstances and orientations.                                       *\/\n-  \/*                                                                       *\/\n-  \/* I have found a simpler way to do the same, and it even seems to work  *\/\n-  \/* in most of the cases:                                                 *\/\n-  \/*                                                                       *\/\n-  \/* - All CVT values are scaled to the maximum ppem size.                 *\/\n-  \/*                                                                       *\/\n-  \/* - When performing a read or write in the CVT, a ratio factor is used  *\/\n-  \/*   to perform adequate scaling.  Example:                              *\/\n-  \/*                                                                       *\/\n-  \/*     x_ppem = 14                                                       *\/\n-  \/*     y_ppem = 10                                                       *\/\n-  \/*                                                                       *\/\n-  \/*   We choose ppem = x_ppem = 14 as the CVT scaling size.  All cvt      *\/\n-  \/*   entries are scaled to it.                                           *\/\n-  \/*                                                                       *\/\n-  \/*     x_ratio = 1.0                                                     *\/\n-  \/*     y_ratio = y_ppem\/ppem (< 1.0)                                     *\/\n-  \/*                                                                       *\/\n-  \/*   We compute the current ratio like:                                  *\/\n-  \/*                                                                       *\/\n-  \/*   - If projVector is horizontal,                                      *\/\n-  \/*       ratio = x_ratio = 1.0                                           *\/\n-  \/*                                                                       *\/\n-  \/*   - if projVector is vertical,                                        *\/\n-  \/*       ratio = y_ratio                                                 *\/\n-  \/*                                                                       *\/\n-  \/*   - else,                                                             *\/\n-  \/*       ratio = sqrt( (proj.x * x_ratio) ^ 2 + (proj.y * y_ratio) ^ 2 ) *\/\n-  \/*                                                                       *\/\n-  \/*   Reading a cvt value returns                                         *\/\n-  \/*     ratio * cvt[index]                                                *\/\n-  \/*                                                                       *\/\n-  \/*   Writing a cvt value in pixels:                                      *\/\n-  \/*     cvt[index] \/ ratio                                                *\/\n-  \/*                                                                       *\/\n-  \/*   The current ppem is simply                                          *\/\n-  \/*     ratio * ppem                                                      *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Metrics used by the TrueType size and context objects.                *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * A note regarding non-squared pixels:\n+   *\n+   * (This text will probably go into some docs at some time; for now, it\n+   * is kept here to explain some definitions in the TT_Size_Metrics\n+   * record).\n+   *\n+   * The CVT is a one-dimensional array containing values that control\n+   * certain important characteristics in a font, like the height of all\n+   * capitals, all lowercase letter, default spacing or stem width\/height.\n+   *\n+   * These values are found in FUnits in the font file, and must be scaled\n+   * to pixel coordinates before being used by the CVT and glyph programs.\n+   * Unfortunately, when using distinct x and y resolutions (or distinct x\n+   * and y pointsizes), there are two possible scalings.\n+   *\n+   * A first try was to implement a `lazy' scheme where all values were\n+   * scaled when first used.  However, while some values are always used\n+   * in the same direction, some others are used under many different\n+   * circumstances and orientations.\n+   *\n+   * I have found a simpler way to do the same, and it even seems to work\n+   * in most of the cases:\n+   *\n+   * - All CVT values are scaled to the maximum ppem size.\n+   *\n+   * - When performing a read or write in the CVT, a ratio factor is used\n+   *   to perform adequate scaling.  Example:\n+   *\n+   *     x_ppem = 14\n+   *     y_ppem = 10\n+   *\n+   *   We choose ppem = x_ppem = 14 as the CVT scaling size.  All cvt\n+   *   entries are scaled to it.\n+   *\n+   *     x_ratio = 1.0\n+   *     y_ratio = y_ppem\/ppem (< 1.0)\n+   *\n+   *   We compute the current ratio like:\n+   *\n+   *   - If projVector is horizontal,\n+   *       ratio = x_ratio = 1.0\n+   *\n+   *   - if projVector is vertical,\n+   *       ratio = y_ratio\n+   *\n+   *   - else,\n+   *       ratio = sqrt( (proj.x * x_ratio) ^ 2 + (proj.y * y_ratio) ^ 2 )\n+   *\n+   *   Reading a cvt value returns\n+   *     ratio * cvt[index]\n+   *\n+   *   Writing a cvt value in pixels:\n+   *     cvt[index] \/ ratio\n+   *\n+   *   The current ppem is simply\n+   *     ratio * ppem\n+   *\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * Metrics used by the TrueType size and context objects.\n+   *\/\n@@ -271,4 +271,4 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* TrueType size class.                                                  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * TrueType size class.\n+   *\/\n@@ -327,4 +327,4 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* TrueType driver class.                                                *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * TrueType driver class.\n+   *\/\n@@ -351,4 +351,4 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Face functions                                                        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Face functions\n+   *\/\n@@ -366,4 +366,4 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Size functions                                                        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Size functions\n+   *\/\n@@ -397,4 +397,4 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Driver functions                                                      *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Driver functions\n+   *\/\n@@ -408,4 +408,4 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Slot functions                                                        *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Slot functions\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/truetype\/ttobjs.h","additions":156,"deletions":156,"binary":false,"changes":312,"status":"modified"},{"patch":"@@ -1,101 +0,0 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ttpic.c                                                                *\/\n-\/*                                                                         *\/\n-\/*    The FreeType position independent code services for truetype module. *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2009-2018 by                                                 *\/\n-\/*  Oran Agra and Mickey Gabel.                                            *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-#include <ft2build.h>\n-#include FT_FREETYPE_H\n-#include FT_INTERNAL_OBJECTS_H\n-#include \"ttpic.h\"\n-#include \"tterrors.h\"\n-\n-\n-#ifdef FT_CONFIG_OPTION_PIC\n-\n-  \/* forward declaration of PIC init functions from ttdriver.c *\/\n-  FT_Error\n-  FT_Create_Class_tt_services( FT_Library           library,\n-                               FT_ServiceDescRec**  output_class );\n-  void\n-  FT_Destroy_Class_tt_services( FT_Library          library,\n-                                FT_ServiceDescRec*  clazz );\n-  void\n-  FT_Init_Class_tt_service_gx_multi_masters(\n-    FT_Service_MultiMastersRec*  sv_mm );\n-  void\n-  FT_Init_Class_tt_service_truetype_glyf(\n-    FT_Service_TTGlyfRec*  sv_ttglyf );\n-\n-\n-  void\n-  tt_driver_class_pic_free( FT_Library  library )\n-  {\n-    FT_PIC_Container*  pic_container = &library->pic_container;\n-    FT_Memory          memory        = library->memory;\n-\n-\n-    if ( pic_container->truetype )\n-    {\n-      TTModulePIC*  container = (TTModulePIC*)pic_container->truetype;\n-\n-\n-      if ( container->tt_services )\n-        FT_Destroy_Class_tt_services( library, container->tt_services );\n-      container->tt_services = NULL;\n-      FT_FREE( container );\n-      pic_container->truetype = NULL;\n-    }\n-  }\n-\n-\n-  FT_Error\n-  tt_driver_class_pic_init( FT_Library  library )\n-  {\n-    FT_PIC_Container*  pic_container = &library->pic_container;\n-    FT_Error           error         = FT_Err_Ok;\n-    TTModulePIC*       container     = NULL;\n-    FT_Memory          memory        = library->memory;\n-\n-\n-    \/* allocate pointer, clear and set global container pointer *\/\n-    if ( FT_ALLOC( container, sizeof ( *container ) ) )\n-      return error;\n-    FT_MEM_SET( container, 0, sizeof ( *container ) );\n-    pic_container->truetype = container;\n-\n-    \/* initialize pointer table - this is how the module usually *\/\n-    \/* expects this data                                         *\/\n-    error = FT_Create_Class_tt_services( library,\n-                                         &container->tt_services );\n-    if ( error )\n-      goto Exit;\n-#ifdef TT_CONFIG_OPTION_GX_VAR_SUPPORT\n-    FT_Init_Class_tt_service_gx_multi_masters(\n-      &container->tt_service_gx_multi_masters );\n-#endif\n-    FT_Init_Class_tt_service_truetype_glyf(\n-      &container->tt_service_truetype_glyf );\n-\n-  Exit:\n-    if ( error )\n-      tt_driver_class_pic_free( library );\n-    return error;\n-  }\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n-\n-\/* END *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/truetype\/ttpic.c","additions":0,"deletions":101,"binary":false,"changes":101,"status":"deleted"},{"patch":"@@ -1,88 +0,0 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ttpic.h                                                                *\/\n-\/*                                                                         *\/\n-\/*    The FreeType position independent code services for truetype module. *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2009-2018 by                                                 *\/\n-\/*  Oran Agra and Mickey Gabel.                                            *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-#ifndef TTPIC_H_\n-#define TTPIC_H_\n-\n-\n-#include FT_INTERNAL_PIC_H\n-\n-\n-#ifndef FT_CONFIG_OPTION_PIC\n-\n-#define TT_SERVICES_GET                    tt_services\n-#define TT_SERVICE_GX_MULTI_MASTERS_GET    tt_service_gx_multi_masters\n-#define TT_SERVICE_METRICS_VARIATIONS_GET  tt_service_metrics_variations\n-#define TT_SERVICE_TRUETYPE_GLYF_GET       tt_service_truetype_glyf\n-#define TT_SERVICE_PROPERTIES_GET          tt_service_properties\n-\n-#else \/* FT_CONFIG_OPTION_PIC *\/\n-\n-#include FT_MULTIPLE_MASTERS_H\n-#include FT_SERVICE_MULTIPLE_MASTERS_H\n-#include FT_SERVICE_METRICS_VARIATIONS_H\n-#include FT_SERVICE_TRUETYPE_GLYF_H\n-#include FT_SERVICE_PROPERTIES_H\n-\n-\n-FT_BEGIN_HEADER\n-\n-  typedef struct  TTModulePIC_\n-  {\n-    FT_ServiceDescRec*               tt_services;\n-#ifdef TT_CONFIG_OPTION_GX_VAR_SUPPORT\n-    FT_Service_MultiMastersRec       tt_service_gx_multi_masters;\n-    FT_Service_MetricsVariationsRec  tt_service_metrics_variations;\n-#endif\n-    FT_Service_TTGlyfRec             tt_service_truetype_glyf;\n-    FT_Service_PropertiesRec         tt_service_properties;\n-\n-  } TTModulePIC;\n-\n-\n-#define GET_PIC( lib )                                      \\\n-          ( (TTModulePIC*)((lib)->pic_container.truetype) )\n-#define TT_SERVICES_GET                       \\\n-          ( GET_PIC( library )->tt_services )\n-#define TT_SERVICE_METRICS_VARIATIONS_GET                       \\\n-          ( GET_PIC( library )->tt_service_metrics_variations )\n-#define TT_SERVICE_GX_MULTI_MASTERS_GET                       \\\n-          ( GET_PIC( library )->tt_service_gx_multi_masters )\n-#define TT_SERVICE_TRUETYPE_GLYF_GET                       \\\n-          ( GET_PIC( library )->tt_service_truetype_glyf )\n-#define TT_SERVICE_PROPERTIES_GET                       \\\n-          ( GET_PIC( library )->tt_service_properties )\n-\n-\n-  \/* see ttpic.c for the implementation *\/\n-  void\n-  tt_driver_class_pic_free( FT_Library  library );\n-\n-  FT_Error\n-  tt_driver_class_pic_init( FT_Library  library );\n-\n-FT_END_HEADER\n-\n-#endif \/* FT_CONFIG_OPTION_PIC *\/\n-\n- \/* *\/\n-\n-#endif \/* TTPIC_H_ *\/\n-\n-\n-\/* END *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/truetype\/ttpic.h","additions":0,"deletions":88,"binary":false,"changes":88,"status":"deleted"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ttpload.c                                                              *\/\n-\/*                                                                         *\/\n-\/*    TrueType-specific tables loader (body).                              *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ttpload.c\n+ *\n+ *   TrueType-specific tables loader (body).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -34,6 +34,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -41,20 +41,22 @@\n-#define FT_COMPONENT  trace_ttpload\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    tt_face_load_loca                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Load the locations table.                                          *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    face   :: A handle to the target face object.                      *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    stream :: The input stream.                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+#define FT_COMPONENT  ttpload\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_face_load_loca\n+   *\n+   * @Description:\n+   *   Load the locations table.\n+   *\n+   * @InOut:\n+   *   face ::\n+   *     A handle to the target face object.\n+   *\n+   * @Input:\n+   *   stream ::\n+   *     The input stream.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -300,17 +302,19 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    tt_face_load_cvt                                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Load the control value table into a face object.                   *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    face   :: A handle to the target face object.                      *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    stream :: A handle to the input stream.                            *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_face_load_cvt\n+   *\n+   * @Description:\n+   *   Load the control value table into a face object.\n+   *\n+   * @InOut:\n+   *   face ::\n+   *     A handle to the target face object.\n+   *\n+   * @Input:\n+   *   stream ::\n+   *     A handle to the input stream.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -381,17 +385,19 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    tt_face_load_fpgm                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Load the font program.                                             *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    face   :: A handle to the target face object.                      *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    stream :: A handle to the input stream.                            *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_face_load_fpgm\n+   *\n+   * @Description:\n+   *   Load the font program.\n+   *\n+   * @InOut:\n+   *   face ::\n+   *     A handle to the target face object.\n+   *\n+   * @Input:\n+   *   stream ::\n+   *     A handle to the input stream.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -443,17 +449,19 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    tt_face_load_prep                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Load the cvt program.                                              *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    face   :: A handle to the target face object.                      *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    stream :: A handle to the input stream.                            *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_face_load_prep\n+   *\n+   * @Description:\n+   *   Load the cvt program.\n+   *\n+   * @InOut:\n+   *   face ::\n+   *     A handle to the target face object.\n+   *\n+   * @Input:\n+   *   stream ::\n+   *     A handle to the input stream.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -504,16 +512,18 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    tt_face_load_hdmx                                                  *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Load the `hdmx' table into the face object.                        *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face   :: A handle to the target face object.                      *\/\n-  \/*                                                                       *\/\n-  \/*    stream :: A handle to the input stream.                            *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_face_load_hdmx\n+   *\n+   * @Description:\n+   *   Load the `hdmx' table into the face object.\n+   *\n+   * @Input:\n+   *   face ::\n+   *     A handle to the target face object.\n+   *\n+   *   stream ::\n+   *     A handle to the input stream.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -613,5 +623,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Return the advance width table for a given pixel size if it is found  *\/\n-  \/* in the font's `hdmx' table (if any).                                  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Return the advance width table for a given pixel size if it is found\n+   * in the font's `hdmx' table (if any).\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/truetype\/ttpload.c","additions":124,"deletions":114,"binary":false,"changes":238,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ttpload.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    TrueType-specific tables loader (specification).                     *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ttpload.h\n+ *\n+ *   TrueType-specific tables loader (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/truetype\/ttpload.h","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ttsubpix.c                                                             *\/\n-\/*                                                                         *\/\n-\/*    TrueType Subpixel Hinting.                                           *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2010-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ttsubpix.c\n+ *\n+ *   TrueType Subpixel Hinting.\n+ *\n+ * Copyright (C) 2010-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -33,29 +33,29 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* These rules affect how the TT Interpreter does hinting, with the      *\/\n-  \/* goal of doing subpixel hinting by (in general) ignoring x moves.      *\/\n-  \/* Some of these rules are fixes that go above and beyond the            *\/\n-  \/* stated techniques in the MS whitepaper on Cleartype, due to           *\/\n-  \/* artifacts in many glyphs.  So, these rules make some glyphs render    *\/\n-  \/* better than they do in the MS rasterizer.                             *\/\n-  \/*                                                                       *\/\n-  \/* \"\" string or 0 int\/char indicates to apply to all glyphs.             *\/\n-  \/* \"-\" used as dummy placeholders, but any non-matching string works.    *\/\n-  \/*                                                                       *\/\n-  \/* Some of this could arguably be implemented in fontconfig, however:    *\/\n-  \/*                                                                       *\/\n-  \/*  - Fontconfig can't set things on a glyph-by-glyph basis.             *\/\n-  \/*  - The tweaks that happen here are very low-level, from an average    *\/\n-  \/*    user's point of view and are best implemented in the hinter.       *\/\n-  \/*                                                                       *\/\n-  \/* The goal is to make the subpixel hinting techniques as generalized    *\/\n-  \/* as possible across all fonts to prevent the need for extra rules such *\/\n-  \/* as these.                                                             *\/\n-  \/*                                                                       *\/\n-  \/* The rule structure is designed so that entirely new rules can easily  *\/\n-  \/* be added when a new compatibility feature is discovered.              *\/\n-  \/*                                                                       *\/\n-  \/* The rule structures could also use some enhancement to handle ranges. *\/\n-  \/*                                                                       *\/\n-  \/*     ****************** WORK IN PROGRESS *******************           *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * These rules affect how the TT Interpreter does hinting, with the\n+   * goal of doing subpixel hinting by (in general) ignoring x moves.\n+   * Some of these rules are fixes that go above and beyond the\n+   * stated techniques in the MS whitepaper on Cleartype, due to\n+   * artifacts in many glyphs.  So, these rules make some glyphs render\n+   * better than they do in the MS rasterizer.\n+   *\n+   * \"\" string or 0 int\/char indicates to apply to all glyphs.\n+   * \"-\" used as dummy placeholders, but any non-matching string works.\n+   *\n+   * Some of this could arguably be implemented in fontconfig, however:\n+   *\n+   * - Fontconfig can't set things on a glyph-by-glyph basis.\n+   * - The tweaks that happen here are very low-level, from an average\n+   *   user's point of view and are best implemented in the hinter.\n+   *\n+   * The goal is to make the subpixel hinting techniques as generalized\n+   * as possible across all fonts to prevent the need for extra rules such\n+   * as these.\n+   *\n+   * The rule structure is designed so that entirely new rules can easily\n+   * be added when a new compatibility feature is discovered.\n+   *\n+   * The rule structures could also use some enhancement to handle ranges.\n+   *\n+   *     ****************** WORK IN PROGRESS *******************\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/truetype\/ttsubpix.c","additions":45,"deletions":45,"binary":false,"changes":90,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  ttsubpix.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    TrueType Subpixel Hinting.                                           *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2010-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * ttsubpix.h\n+ *\n+ *   TrueType Subpixel Hinting.\n+ *\n+ * Copyright (C) 2010-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -32,5 +32,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* ID flags to identify special functions at FDEF and runtime.           *\/\n-  \/*                                                                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * ID flags to identify special functions at FDEF and runtime.\n+   *\n+   *\/\n@@ -48,5 +48,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Tweak flags that are set for each glyph by the below rules.           *\/\n-  \/*                                                                       *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Tweak flags that are set for each glyph by the below rules.\n+   *\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/truetype\/ttsubpix.h","additions":26,"deletions":26,"binary":false,"changes":52,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  t1afm.c                                                                *\/\n-\/*                                                                         *\/\n-\/*    AFM support for Type 1 fonts (body).                                 *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * t1afm.c\n+ *\n+ *   AFM support for Type 1 fonts (body).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -29,6 +29,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -36,1 +36,1 @@\n-#define FT_COMPONENT  trace_t1afm\n+#define FT_COMPONENT  t1afm\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/type1\/t1afm.c","additions":23,"deletions":23,"binary":false,"changes":46,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  t1afm.h                                                                *\/\n-\/*                                                                         *\/\n-\/*    AFM support for Type 1 fonts (specification).                        *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * t1afm.h\n+ *\n+ *   AFM support for Type 1 fonts (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/type1\/t1afm.h","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  t1driver.c                                                             *\/\n-\/*                                                                         *\/\n-\/*    Type 1 driver interface (body).                                      *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * t1driver.c\n+ *\n+ *   Type 1 driver interface (body).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -46,6 +46,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -53,1 +53,1 @@\n-#define FT_COMPONENT  trace_t1driver\n+#define FT_COMPONENT  t1driver\n@@ -55,4 +55,4 @@\n- \/*\n-  *  GLYPH DICT SERVICE\n-  *\n-  *\/\n+  \/*\n+   * GLYPH DICT SERVICE\n+   *\n+   *\/\n@@ -100,1 +100,1 @@\n-   *  POSTSCRIPT NAME SERVICE\n+   * POSTSCRIPT NAME SERVICE\n@@ -118,1 +118,1 @@\n-   *  MULTIPLE MASTERS SERVICE\n+   * MULTIPLE MASTERS SERVICE\n@@ -125,11 +125,13 @@\n-    (FT_Get_MM_Func)        T1_Get_Multi_Master,   \/* get_mm         *\/\n-    (FT_Set_MM_Design_Func) T1_Set_MM_Design,      \/* set_mm_design  *\/\n-    (FT_Set_MM_Blend_Func)  T1_Set_MM_Blend,       \/* set_mm_blend   *\/\n-    (FT_Get_MM_Blend_Func)  T1_Get_MM_Blend,       \/* get_mm_blend   *\/\n-    (FT_Get_MM_Var_Func)    T1_Get_MM_Var,         \/* get_mm_var     *\/\n-    (FT_Set_Var_Design_Func)T1_Set_Var_Design,     \/* set_var_design *\/\n-    (FT_Get_Var_Design_Func)T1_Get_Var_Design,     \/* get_var_design *\/\n-    (FT_Set_Instance_Func)  T1_Reset_MM_Blend,     \/* set_instance   *\/\n-\n-    (FT_Get_Var_Blend_Func) NULL,                  \/* get_var_blend  *\/\n-    (FT_Done_Blend_Func)    T1_Done_Blend          \/* done_blend     *\/\n+    (FT_Get_MM_Func)             T1_Get_Multi_Master,    \/* get_mm              *\/\n+    (FT_Set_MM_Design_Func)      T1_Set_MM_Design,       \/* set_mm_design       *\/\n+    (FT_Set_MM_Blend_Func)       T1_Set_MM_Blend,        \/* set_mm_blend        *\/\n+    (FT_Get_MM_Blend_Func)       T1_Get_MM_Blend,        \/* get_mm_blend        *\/\n+    (FT_Get_MM_Var_Func)         T1_Get_MM_Var,          \/* get_mm_var          *\/\n+    (FT_Set_Var_Design_Func)     T1_Set_Var_Design,      \/* set_var_design      *\/\n+    (FT_Get_Var_Design_Func)     T1_Get_Var_Design,      \/* get_var_design      *\/\n+    (FT_Set_Instance_Func)       T1_Reset_MM_Blend,      \/* set_instance        *\/\n+    (FT_Set_MM_WeightVector_Func)T1_Set_MM_WeightVector, \/* set_mm_weightvector *\/\n+    (FT_Get_MM_WeightVector_Func)T1_Get_MM_WeightVector, \/* get_mm_weightvector *\/\n+\n+    (FT_Get_Var_Blend_Func)      NULL,                   \/* get_var_blend       *\/\n+    (FT_Done_Blend_Func)         T1_Done_Blend           \/* done_blend          *\/\n@@ -141,1 +143,1 @@\n-   *  POSTSCRIPT INFO SERVICE\n+   * POSTSCRIPT INFO SERVICE\n@@ -273,3 +275,6 @@\n-      retval = ft_strlen( type1->font_name ) + 1;\n-      if ( value && value_len >= retval )\n-        ft_memcpy( value, (void *)( type1->font_name ), retval );\n+      if ( type1->font_name )\n+      {\n+        retval = ft_strlen( type1->font_name ) + 1;\n+        if ( value && value_len >= retval )\n+          ft_memcpy( value, (void *)( type1->font_name ), retval );\n+      }\n@@ -365,1 +370,1 @@\n-        if ( ok )\n+        if ( ok && type1->subrs )\n@@ -562,3 +567,6 @@\n-      retval = ft_strlen( type1->font_info.version ) + 1;\n-      if ( value && value_len >= retval )\n-        ft_memcpy( value, (void *)( type1->font_info.version ), retval );\n+      if ( type1->font_info.version )\n+      {\n+        retval = ft_strlen( type1->font_info.version ) + 1;\n+        if ( value && value_len >= retval )\n+          ft_memcpy( value, (void *)( type1->font_info.version ), retval );\n+      }\n@@ -568,3 +576,6 @@\n-      retval = ft_strlen( type1->font_info.notice ) + 1;\n-      if ( value && value_len >= retval )\n-        ft_memcpy( value, (void *)( type1->font_info.notice ), retval );\n+      if ( type1->font_info.notice )\n+      {\n+        retval = ft_strlen( type1->font_info.notice ) + 1;\n+        if ( value && value_len >= retval )\n+          ft_memcpy( value, (void *)( type1->font_info.notice ), retval );\n+      }\n@@ -574,3 +585,6 @@\n-      retval = ft_strlen( type1->font_info.full_name ) + 1;\n-      if ( value && value_len >= retval )\n-        ft_memcpy( value, (void *)( type1->font_info.full_name ), retval );\n+      if ( type1->font_info.full_name )\n+      {\n+        retval = ft_strlen( type1->font_info.full_name ) + 1;\n+        if ( value && value_len >= retval )\n+          ft_memcpy( value, (void *)( type1->font_info.full_name ), retval );\n+      }\n@@ -580,3 +594,7 @@\n-      retval = ft_strlen( type1->font_info.family_name ) + 1;\n-      if ( value && value_len >= retval )\n-        ft_memcpy( value, (void *)( type1->font_info.family_name ), retval );\n+      if ( type1->font_info.family_name )\n+      {\n+        retval = ft_strlen( type1->font_info.family_name ) + 1;\n+        if ( value && value_len >= retval )\n+          ft_memcpy( value, (void *)( type1->font_info.family_name ),\n+                     retval );\n+      }\n@@ -586,3 +604,6 @@\n-      retval = ft_strlen( type1->font_info.weight ) + 1;\n-      if ( value && value_len >= retval )\n-        ft_memcpy( value, (void *)( type1->font_info.weight ), retval );\n+      if ( type1->font_info.weight )\n+      {\n+        retval = ft_strlen( type1->font_info.weight ) + 1;\n+        if ( value && value_len >= retval )\n+          ft_memcpy( value, (void *)( type1->font_info.weight ), retval );\n+      }\n@@ -621,1 +642,1 @@\n-   *  PROPERTY SERVICE\n+   * PROPERTY SERVICE\n@@ -633,1 +654,1 @@\n-   *  SERVICE LIST\n+   * SERVICE LIST\n@@ -668,32 +689,36 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    Get_Kerning                                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A driver method used to return the kerning vector between two      *\/\n-  \/*    glyphs of the same face.                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face        :: A handle to the source face object.                 *\/\n-  \/*                                                                       *\/\n-  \/*    left_glyph  :: The index of the left glyph in the kern pair.       *\/\n-  \/*                                                                       *\/\n-  \/*    right_glyph :: The index of the right glyph in the kern pair.      *\/\n-  \/*                                                                       *\/\n-  \/* <Output>                                                              *\/\n-  \/*    kerning     :: The kerning vector.  This is in font units for      *\/\n-  \/*                   scalable formats, and in pixels for fixed-sizes     *\/\n-  \/*                   formats.                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    Only horizontal layouts (left-to-right & right-to-left) are        *\/\n-  \/*    supported by this function.  Other layouts, or more sophisticated  *\/\n-  \/*    kernings are out of scope of this method (the basic driver         *\/\n-  \/*    interface is meant to be simple).                                  *\/\n-  \/*                                                                       *\/\n-  \/*    They can be implemented by format-specific interfaces.             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   Get_Kerning\n+   *\n+   * @Description:\n+   *   A driver method used to return the kerning vector between two\n+   *   glyphs of the same face.\n+   *\n+   * @Input:\n+   *   face ::\n+   *     A handle to the source face object.\n+   *\n+   *   left_glyph ::\n+   *     The index of the left glyph in the kern pair.\n+   *\n+   *   right_glyph ::\n+   *     The index of the right glyph in the kern pair.\n+   *\n+   * @Output:\n+   *   kerning ::\n+   *     The kerning vector.  This is in font units for\n+   *     scalable formats, and in pixels for fixed-sizes\n+   *     formats.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\n+   * @Note:\n+   *   Only horizontal layouts (left-to-right & right-to-left) are\n+   *   supported by this function.  Other layouts, or more sophisticated\n+   *   kernings are out of scope of this method (the basic driver\n+   *   interface is meant to be simple).\n+   *\n+   *   They can be implemented by format-specific interfaces.\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/type1\/t1driver.c","additions":119,"deletions":94,"binary":false,"changes":213,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  t1driver.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    High-level Type 1 driver interface (specification).                  *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * t1driver.h\n+ *\n+ *   High-level Type 1 driver interface (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -29,5 +29,0 @@\n-#ifdef FT_CONFIG_OPTION_PIC\n-#error \"this module does not support PIC yet\"\n-#endif\n-\n-\n@@ -36,1 +31,0 @@\n-\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/type1\/t1driver.h","additions":16,"deletions":22,"binary":false,"changes":38,"status":"modified"},{"patch":"@@ -1,23 +1,23 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  t1errors.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    Type 1 error codes (specification only).                             *\/\n-\/*                                                                         *\/\n-\/*  Copyright 2001-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* This file is used to define the Type 1 error enumeration constants.   *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * t1errors.h\n+ *\n+ *   Type 1 error codes (specification only).\n+ *\n+ * Copyright (C) 2001-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * This file is used to define the Type 1 error enumeration constants.\n+   *\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/type1\/t1errors.h","additions":23,"deletions":23,"binary":false,"changes":46,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  t1gload.c                                                              *\/\n-\/*                                                                         *\/\n-\/*    Type 1 Glyph Loader (body).                                          *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * t1gload.c\n+ *\n+ *   Type 1 Glyph Loader (body).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -32,6 +32,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -39,1 +39,1 @@\n-#define FT_COMPONENT  trace_t1gload\n+#define FT_COMPONENT  t1gload\n@@ -65,0 +65,1 @@\n+\n@@ -252,0 +253,2 @@\n+    FT_TRACE6(( \"T1_Compute_Max_Advance:\\n\" ));\n+\n@@ -264,0 +267,3 @@\n+    FT_TRACE6(( \"T1_Compute_Max_Advance: max advance: %f\\n\",\n+                *max_advance \/ 65536.0 ));\n+\n@@ -285,0 +291,2 @@\n+    FT_TRACE5(( \"T1_Get_Advances:\\n\" ));\n+\n@@ -288,0 +296,1 @@\n+      {\n@@ -290,0 +299,4 @@\n+        FT_TRACE5(( \"  idx %d: advance height 0 font units\\n\",\n+                    first + nn ));\n+      }\n+\n@@ -323,0 +336,5 @@\n+\n+      FT_TRACE5(( \"  idx %d: advance width %d font unit%s\\n\",\n+                  first + nn,\n+                  advances[nn],\n+                  advances[nn] == 1 ? \"\" : \"s\" ));\n@@ -387,3 +405,3 @@\n-    hinting = FT_BOOL( ( load_flags & FT_LOAD_NO_SCALE   ) == 0 &&\n-                       ( load_flags & FT_LOAD_NO_HINTING ) == 0 );\n-    scaled  = FT_BOOL( ( load_flags & FT_LOAD_NO_SCALE   ) == 0 );\n+    hinting = FT_BOOL( !( load_flags & FT_LOAD_NO_SCALE   ) &&\n+                       !( load_flags & FT_LOAD_NO_HINTING ) );\n+    scaled  = FT_BOOL( !( load_flags & FT_LOAD_NO_SCALE   ) );\n@@ -401,1 +419,1 @@\n-                                 FT_BOOL( hinting ),\n+                                 hinting,\n@@ -409,2 +427,1 @@\n-    decoder.builder.no_recurse = FT_BOOL(\n-                                   ( load_flags & FT_LOAD_NO_RECURSE ) != 0 );\n+    decoder.builder.no_recurse = FT_BOOL( load_flags & FT_LOAD_NO_RECURSE );\n@@ -531,1 +548,1 @@\n-          if ( !hinting || ! decoder.builder.hints_funcs )\n+          if ( !hinting || !decoder.builder.hints_funcs )\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/type1\/t1gload.c","additions":47,"deletions":30,"binary":false,"changes":77,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  t1gload.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    Type 1 Glyph Loader (specification).                                 *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * t1gload.h\n+ *\n+ *   Type 1 Glyph Loader (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/type1\/t1gload.h","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1,60 +1,60 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  t1load.c                                                               *\/\n-\/*                                                                         *\/\n-\/*    Type 1 font loader (body).                                           *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* This is the new and improved Type 1 data loader for FreeType 2.  The  *\/\n-  \/* old loader has several problems: it is slow, complex, difficult to    *\/\n-  \/* maintain, and contains incredible hacks to make it accept some        *\/\n-  \/* ill-formed Type 1 fonts without hiccup-ing.  Moreover, about 5% of    *\/\n-  \/* the Type 1 fonts on my machine still aren't loaded correctly by it.   *\/\n-  \/*                                                                       *\/\n-  \/* This version is much simpler, much faster and also easier to read and *\/\n-  \/* maintain by a great order of magnitude.  The idea behind it is to     *\/\n-  \/* _not_ try to read the Type 1 token stream with a state machine (i.e.  *\/\n-  \/* a Postscript-like interpreter) but rather to perform simple pattern   *\/\n-  \/* matching.                                                             *\/\n-  \/*                                                                       *\/\n-  \/* Indeed, nearly all data definitions follow a simple pattern like      *\/\n-  \/*                                                                       *\/\n-  \/*  ... \/Field <data> ...                                                *\/\n-  \/*                                                                       *\/\n-  \/* where <data> can be a number, a boolean, a string, or an array of     *\/\n-  \/* numbers.  There are a few exceptions, namely the encoding, font name, *\/\n-  \/* charstrings, and subrs; they are handled with a special pattern       *\/\n-  \/* matching routine.                                                     *\/\n-  \/*                                                                       *\/\n-  \/* All other common cases are handled very simply.  The matching rules   *\/\n-  \/* are defined in the file `t1tokens.h' through the use of several       *\/\n-  \/* macros calls PARSE_XXX.  This file is included twice here; the first  *\/\n-  \/* time to generate parsing callback functions, the second time to       *\/\n-  \/* generate a table of keywords (with pointers to the associated         *\/\n-  \/* callback functions).                                                  *\/\n-  \/*                                                                       *\/\n-  \/* The function `parse_dict' simply scans *linearly* a given dictionary  *\/\n-  \/* (either the top-level or private one) and calls the appropriate       *\/\n-  \/* callback when it encounters an immediate keyword.                     *\/\n-  \/*                                                                       *\/\n-  \/* This is by far the fastest way one can find to parse and read all     *\/\n-  \/* data.                                                                 *\/\n-  \/*                                                                       *\/\n-  \/* This led to tremendous code size reduction.  Note that later, the     *\/\n-  \/* glyph loader will also be _greatly_ simplified, and the automatic     *\/\n-  \/* hinter will replace the clumsy `t1hinter'.                            *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * t1load.c\n+ *\n+ *   Type 1 font loader (body).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * This is the new and improved Type 1 data loader for FreeType 2.  The\n+   * old loader has several problems: it is slow, complex, difficult to\n+   * maintain, and contains incredible hacks to make it accept some\n+   * ill-formed Type 1 fonts without hiccup-ing.  Moreover, about 5% of\n+   * the Type 1 fonts on my machine still aren't loaded correctly by it.\n+   *\n+   * This version is much simpler, much faster and also easier to read and\n+   * maintain by a great order of magnitude.  The idea behind it is to\n+   * _not_ try to read the Type 1 token stream with a state machine (i.e.\n+   * a Postscript-like interpreter) but rather to perform simple pattern\n+   * matching.\n+   *\n+   * Indeed, nearly all data definitions follow a simple pattern like\n+   *\n+   * ... \/Field <data> ...\n+   *\n+   * where <data> can be a number, a boolean, a string, or an array of\n+   * numbers.  There are a few exceptions, namely the encoding, font name,\n+   * charstrings, and subrs; they are handled with a special pattern\n+   * matching routine.\n+   *\n+   * All other common cases are handled very simply.  The matching rules\n+   * are defined in the file `t1tokens.h' through the use of several\n+   * macros calls PARSE_XXX.  This file is included twice here; the first\n+   * time to generate parsing callback functions, the second time to\n+   * generate a table of keywords (with pointers to the associated\n+   * callback functions).\n+   *\n+   * The function `parse_dict' simply scans *linearly* a given dictionary\n+   * (either the top-level or private one) and calls the appropriate\n+   * callback when it encounters an immediate keyword.\n+   *\n+   * This is by far the fastest way one can find to parse and read all\n+   * data.\n+   *\n+   * This led to tremendous code size reduction.  Note that later, the\n+   * glyph loader will also be _greatly_ simplified, and the automatic\n+   * hinter will replace the clumsy `t1hinter'.\n+   *\n+   *\/\n@@ -76,1 +76,1 @@\n-#define IS_INCREMENTAL  (FT_Bool)( face->root.internal->incremental_interface != 0 )\n+#define IS_INCREMENTAL  FT_BOOL( face->root.internal->incremental_interface )\n@@ -82,6 +82,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -89,1 +89,1 @@\n-#define FT_COMPONENT  trace_t1load\n+#define FT_COMPONENT  t1load\n@@ -225,5 +225,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Given a normalized (blend) coordinate, figure out the design          *\/\n-  \/* coordinate appropriate for that value.                                *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Given a normalized (blend) coordinate, figure out the design\n+   * coordinate appropriate for that value.\n+   *\/\n@@ -254,5 +254,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Given a vector of weights, one for each design, figure out the        *\/\n-  \/* normalized axis coordinates which gave rise to those weights.         *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Given a vector of weights, one for each design, figure out the\n+   * normalized axis coordinates which gave rise to those weights.\n+   *\/\n@@ -296,5 +296,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Just a wrapper around T1_Get_Multi_Master to support the different    *\/\n-  \/*  arguments needed by the GX var distortable fonts.                    *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Just a wrapper around T1_Get_Multi_Master to support the different\n+   * arguments needed by the GX var distortable fonts.\n+   *\/\n@@ -351,5 +351,3 @@\n-    if ( blend->num_designs == ( 1U << blend->num_axis ) )\n-    {\n-      mm_weights_unmap( blend->default_weight_vector,\n-                        axiscoords,\n-                        blend->num_axis );\n+    mm_weights_unmap( blend->default_weight_vector,\n+                      axiscoords,\n+                      blend->num_axis );\n@@ -357,4 +355,3 @@\n-      for ( i = 0; i < mmaster.num_axis; i++ )\n-        mmvar->axis[i].def = mm_axis_unmap( &blend->design_map[i],\n-                                            axiscoords[i] );\n-    }\n+    for ( i = 0; i < mmaster.num_axis; i++ )\n+      mmvar->axis[i].def = mm_axis_unmap( &blend->design_map[i],\n+                                          axiscoords[i] );\n@@ -390,0 +387,1 @@\n+      FT_Fixed  factor;\n@@ -394,4 +392,0 @@\n-        FT_Fixed  factor;\n-\n-\n-        \/* get current blend axis position;                  *\/\n@@ -399,5 +393,5 @@\n-        factor = m < num_coords ? coords[m] : 0x8000;\n-        if ( factor < 0 )\n-          factor = 0;\n-        if ( factor > 0x10000L )\n-          factor = 0x10000L;\n+        if ( m >= num_coords )\n+        {\n+          result >>= 1;\n+          continue;\n+        }\n@@ -405,0 +399,2 @@\n+        \/* get current blend axis position *\/\n+        factor = coords[m];\n@@ -408,0 +404,8 @@\n+        if ( factor <= 0 )\n+        {\n+          result = 0;\n+          break;\n+        }\n+        else if ( factor >= 0x10000L )\n+          continue;\n+\n@@ -479,0 +483,69 @@\n+  FT_LOCAL_DEF( FT_Error )\n+  T1_Set_MM_WeightVector( T1_Face    face,\n+                          FT_UInt    len,\n+                          FT_Fixed*  weightvector )\n+  {\n+    PS_Blend  blend = face->blend;\n+    FT_UInt   i, n;\n+\n+\n+    if ( !blend )\n+     return FT_THROW( Invalid_Argument );\n+\n+    if ( !len && !weightvector )\n+    {\n+      for ( i = 0; i < blend->num_designs; i++ )\n+        blend->weight_vector[i] = blend->default_weight_vector[i];\n+    }\n+    else\n+    {\n+      if ( !weightvector )\n+        return FT_THROW( Invalid_Argument );\n+\n+      n = len < blend->num_designs ? len : blend->num_designs;\n+\n+      for ( i = 0; i < n; i++ )\n+        blend->weight_vector[i] = weightvector[i];\n+\n+      for ( ; i < blend->num_designs; i++ )\n+        blend->weight_vector[i] = (FT_Fixed)0;\n+\n+      if ( len )\n+        face->root.face_flags |= FT_FACE_FLAG_VARIATION;\n+      else\n+        face->root.face_flags &= ~FT_FACE_FLAG_VARIATION;\n+    }\n+\n+    return FT_Err_Ok;\n+  }\n+\n+\n+  FT_LOCAL_DEF( FT_Error )\n+  T1_Get_MM_WeightVector( T1_Face    face,\n+                          FT_UInt*   len,\n+                          FT_Fixed*  weightvector )\n+  {\n+    PS_Blend  blend = face->blend;\n+    FT_UInt   i;\n+\n+\n+    if ( !blend )\n+      return FT_THROW( Invalid_Argument );\n+\n+    if ( *len < blend->num_designs )\n+    {\n+      *len = blend->num_designs;\n+      return FT_THROW( Invalid_Argument );\n+    }\n+\n+    for ( i = 0; i < blend->num_designs; i++ )\n+      weightvector[i] = blend->weight_vector[i];\n+    for ( ; i < *len; i++ )\n+      weightvector[i] = (FT_Fixed)0;\n+\n+    *len = blend->num_designs;\n+\n+    return FT_Err_Ok;\n+  }\n+\n+\n@@ -576,5 +649,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Just a wrapper around T1_Set_MM_Design to support the different       *\/\n-  \/* arguments needed by the GX var distortable fonts.                     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * Just a wrapper around T1_Set_MM_Design to support the different\n+   * arguments needed by the GX var distortable fonts.\n+   *\/\n@@ -722,0 +795,2 @@\n+    FT_TRACE4(( \" [\" ));\n+\n@@ -744,0 +819,2 @@\n+      FT_TRACE4(( \" \/%.*s\", len, token->start ));\n+\n@@ -748,1 +825,1 @@\n-                    \" overwriting axis name `%s' with `%*.s'\\n\",\n+                    \" overwriting axis name `%s' with `%.*s'\\n\",\n@@ -761,0 +838,2 @@\n+    FT_TRACE4(( \"]\\n\" ));\n+\n@@ -805,0 +884,2 @@\n+      FT_TRACE4(( \" [\" ));\n+\n@@ -845,0 +926,1 @@\n+        FT_TRACE4(( \" [\" )) ;\n@@ -853,0 +935,1 @@\n+          FT_TRACE4(( \" %f\", (double)blend->design_pos[n][axis] \/ 65536 ));\n@@ -854,0 +937,1 @@\n+        FT_TRACE4(( \"]\" )) ;\n@@ -856,0 +940,2 @@\n+      FT_TRACE4(( \"]\\n\" ));\n+\n@@ -902,0 +988,2 @@\n+    FT_TRACE4(( \" [\" ));\n+\n@@ -918,0 +1006,2 @@\n+      FT_TRACE4(( \" [\" ));\n+\n@@ -951,0 +1041,4 @@\n+\n+        FT_TRACE4(( \" [%d %f]\",\n+                    map->design_points[p],\n+                    (double)map->blend_points[p] \/ 65536 ));\n@@ -952,0 +1046,2 @@\n+\n+      FT_TRACE4(( \"]\" ));\n@@ -954,0 +1050,2 @@\n+    FT_TRACE4(( \"]\\n\" ));\n+\n@@ -1013,0 +1111,2 @@\n+    FT_TRACE4(( \"[\" ));\n+\n@@ -1021,0 +1121,2 @@\n+\n+      FT_TRACE4(( \" %f\", (double)blend->weight_vector[n] \/ 65536 ));\n@@ -1023,0 +1125,2 @@\n+    FT_TRACE4(( \"]\\n\" ));\n+\n@@ -1039,0 +1143,14 @@\n+\n+#ifdef FT_DEBUG_LEVEL_TRACE\n+    {\n+      FT_UInt  i;\n+\n+\n+      FT_TRACE4(( \" [\" ));\n+      for ( i = 0; i < face->len_buildchar; i++ )\n+        FT_TRACE4(( \" 0\" ));\n+\n+      FT_TRACE4(( \"]\\n\" ));\n+    }\n+#endif\n+\n@@ -1074,0 +1192,2 @@\n+      FT_TRACE4(( \"  %s\", field->ident ));\n+\n@@ -1151,0 +1271,2 @@\n+    FT_TRACE4(( \"  %s\", field->ident ));\n+\n@@ -1170,0 +1292,2 @@\n+    FT_TRACE4(( \"\\n\" ));\n+\n@@ -1182,0 +1306,2 @@\n+\n+    FT_TRACE4(( \"\\n\" ));\n@@ -1261,0 +1387,8 @@\n+    FT_TRACE4(( \" [%f %f %f %f %f %f]\\n\",\n+                (double)temp[0] \/ 65536 \/ 1000,\n+                (double)temp[1] \/ 65536 \/ 1000,\n+                (double)temp[2] \/ 65536 \/ 1000,\n+                (double)temp[3] \/ 65536 \/ 1000,\n+                (double)temp[4] \/ 65536 \/ 1000,\n+                (double)temp[5] \/ 65536 \/ 1000 ));\n+\n@@ -1283,1 +1417,0 @@\n-\n@@ -1289,0 +1422,7 @@\n+    if ( !FT_Matrix_Check( matrix ) )\n+    {\n+      FT_ERROR(( \"t1_parse_font_matrix: invalid font matrix\\n\" ));\n+      parser->root.error = FT_THROW( Invalid_File_Format );\n+      return;\n+    }\n+\n@@ -1497,0 +1637,9 @@\n+#ifdef FT_DEBUG_LEVEL_TRACE\n+      FT_TRACE4(( \" [\" ));\n+\n+      \/* XXX show encoding vector *\/\n+      FT_TRACE4(( \"...\" ));\n+\n+      FT_TRACE4(( \"]\\n\" ));\n+#endif\n+\n@@ -1507,0 +1656,1 @@\n+      {\n@@ -1508,0 +1658,2 @@\n+        FT_TRACE4(( \" StandardEncoding\\n\" ));\n+      }\n@@ -1511,0 +1663,1 @@\n+      {\n@@ -1512,0 +1665,2 @@\n+        FT_TRACE4(( \" ExpertEncoding\\n\" ));\n+      }\n@@ -1515,0 +1670,1 @@\n+      {\n@@ -1516,0 +1672,2 @@\n+        FT_TRACE4(( \" ISOLatin1Encoding\\n\" ));\n+      }\n@@ -1518,0 +1676,1 @@\n+      {\n@@ -1519,0 +1678,2 @@\n+        FT_TRACE4(( \"<unknown>\\n\" ));\n+      }\n@@ -1699,0 +1860,9 @@\n+#ifdef FT_DEBUG_LEVEL_TRACE\n+      FT_TRACE4(( \" <\" ));\n+\n+      \/* XXX show subrs? *\/\n+      FT_TRACE4(( \"%d elements\", num_subrs ));\n+\n+      FT_TRACE4(( \">\\n\" ));\n+#endif\n+\n@@ -2020,0 +2190,9 @@\n+#ifdef FT_DEBUG_LEVEL_TRACE\n+      FT_TRACE4(( \" <\" ));\n+\n+      \/* XXX show charstrings? *\/\n+      FT_TRACE4(( \"%d elements\", loader->num_glyphs ));\n+\n+      FT_TRACE4(( \">\\n\" ));\n+#endif\n+\n@@ -2027,6 +2206,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* Define the token field static variables.  This is a set of            *\/\n-  \/* T1_FieldRec variables.                                                *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   * Define the token field static variables.  This is a set of\n+   * T1_FieldRec variables.\n+   *\n+   *\/\n@@ -2219,0 +2398,1 @@\n+\n@@ -2333,0 +2513,1 @@\n+    FT_TRACE4(( \" top dictionary:\\n\" ));\n@@ -2342,0 +2523,1 @@\n+    FT_TRACE4(( \" private dictionary:\\n\" ));\n@@ -2352,0 +2534,10 @@\n+    \/* we don't support Multiple Master fonts with intermediate designs; *\/\n+    \/* this implies that `num_designs' must be equal to `2^^num_axis'    *\/\n+    if ( face->blend                                                 &&\n+         face->blend->num_designs != ( 1U << face->blend->num_axis ) )\n+    {\n+      FT_ERROR(( \"T1_Open_Face:\"\n+                 \" number-of-designs != 2 ^^ number-of-axes\\n\" ));\n+      T1_Done_Blend( face );\n+    }\n+\n@@ -2496,0 +2688,18 @@\n+    \/* some sanitizing to avoid overflows later on; *\/\n+    \/* the upper limits are ad-hoc values           *\/\n+    if ( priv->blue_shift > 1000 || priv->blue_shift < 0 )\n+    {\n+      FT_TRACE2(( \"T1_Open_Face:\"\n+                  \" setting unlikely BlueShift value %d to default (7)\\n\",\n+                  priv->blue_shift ));\n+      priv->blue_shift = 7;\n+    }\n+\n+    if ( priv->blue_fuzz > 1000 || priv->blue_fuzz < 0 )\n+    {\n+      FT_TRACE2(( \"T1_Open_Face:\"\n+                  \" setting unlikely BlueFuzz value %d to default (1)\\n\",\n+                  priv->blue_fuzz ));\n+      priv->blue_fuzz = 1;\n+    }\n+\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/type1\/t1load.c","additions":324,"deletions":114,"binary":false,"changes":438,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  t1load.h                                                               *\/\n-\/*                                                                         *\/\n-\/*    Type 1 font loader (specification).                                  *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * t1load.h\n+ *\n+ *   Type 1 font loader (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -109,0 +109,10 @@\n+  FT_LOCAL( FT_Error )\n+  T1_Set_MM_WeightVector( T1_Face    face,\n+                          FT_UInt    len,\n+                          FT_Fixed*  weightvector );\n+\n+  FT_LOCAL( FT_Error )\n+  T1_Get_MM_WeightVector( T1_Face    face,\n+                          FT_UInt*   len,\n+                          FT_Fixed*  weightvector );\n+\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/type1\/t1load.h","additions":26,"deletions":16,"binary":false,"changes":42,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  t1objs.c                                                               *\/\n-\/*                                                                         *\/\n-\/*    Type 1 objects manager (body).                                       *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * t1objs.c\n+ *\n+ *   Type 1 objects manager (body).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -39,6 +39,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -46,1 +46,1 @@\n-#define FT_COMPONENT  trace_t1objs\n+#define FT_COMPONENT  t1objs\n@@ -49,5 +49,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*                            SIZE FUNCTIONS                             *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   *                           SIZE FUNCTIONS\n+   *\n+   *\/\n@@ -136,5 +136,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*                            SLOT  FUNCTIONS                            *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   *                           SLOT  FUNCTIONS\n+   *\n+   *\/\n@@ -180,18 +180,19 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*                            FACE  FUNCTIONS                            *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    T1_Face_Done                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    The face object destructor.                                        *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    face :: A typeless pointer to the face object to destroy.          *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   *                           FACE  FUNCTIONS\n+   *\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   T1_Face_Done\n+   *\n+   * @Description:\n+   *   The face object destructor.\n+   *\n+   * @Input:\n+   *   face ::\n+   *     A typeless pointer to the face object to destroy.\n+   *\/\n@@ -277,23 +278,28 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    T1_Face_Init                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    The face object constructor.                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    stream     ::  input stream where to load font data.               *\/\n-  \/*                                                                       *\/\n-  \/*    face_index :: The index of the font face in the resource.          *\/\n-  \/*                                                                       *\/\n-  \/*    num_params :: Number of additional generic parameters.  Ignored.   *\/\n-  \/*                                                                       *\/\n-  \/*    params     :: Additional generic parameters.  Ignored.             *\/\n-  \/*                                                                       *\/\n-  \/* <InOut>                                                               *\/\n-  \/*    face       :: The face record to build.                            *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   T1_Face_Init\n+   *\n+   * @Description:\n+   *   The face object constructor.\n+   *\n+   * @Input:\n+   *   stream ::\n+   *     input stream where to load font data.\n+   *\n+   *   face_index ::\n+   *     The index of the font face in the resource.\n+   *\n+   *   num_params ::\n+   *     Number of additional generic parameters.  Ignored.\n+   *\n+   *   params ::\n+   *     Additional generic parameters.  Ignored.\n+   *\n+   * @InOut:\n+   *   face ::\n+   *     The face record to build.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -344,0 +350,4 @@\n+    FT_TRACE2(( \"T1_Face_Init: %08p (index %d)\\n\",\n+                face,\n+                face_index ));\n+\n@@ -519,1 +529,2 @@\n-             FT_ERR_NEQ( error, No_Unicode_Glyph_Name ) )\n+             FT_ERR_NEQ( error, No_Unicode_Glyph_Name ) &&\n+             FT_ERR_NEQ( error, Unimplemented_Feature ) )\n@@ -567,14 +578,15 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    T1_Driver_Init                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Initializes a given Type 1 driver object.                          *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    driver :: A handle to the target driver object.                    *\/\n-  \/*                                                                       *\/\n-  \/* <Return>                                                              *\/\n-  \/*    FreeType error code.  0 means success.                             *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   T1_Driver_Init\n+   *\n+   * @Description:\n+   *   Initializes a given Type 1 driver object.\n+   *\n+   * @Input:\n+   *   driver ::\n+   *     A handle to the target driver object.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0 means success.\n+   *\/\n@@ -623,11 +635,12 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Function>                                                            *\/\n-  \/*    T1_Driver_Done                                                     *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Finalizes a given Type 1 driver.                                   *\/\n-  \/*                                                                       *\/\n-  \/* <Input>                                                               *\/\n-  \/*    driver :: A handle to the target Type 1 driver.                    *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   T1_Driver_Done\n+   *\n+   * @Description:\n+   *   Finalizes a given Type 1 driver.\n+   *\n+   * @Input:\n+   *   driver ::\n+   *     A handle to the target Type 1 driver.\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/type1\/t1objs.c","additions":113,"deletions":100,"binary":false,"changes":213,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  t1objs.h                                                               *\/\n-\/*                                                                         *\/\n-\/*    Type 1 objects manager (specification).                              *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * t1objs.h\n+ *\n+ *   Type 1 objects manager (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -37,8 +37,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    T1_Size                                                            *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A handle to a Type 1 size object.                                  *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Type:\n+   *   T1_Size\n+   *\n+   * @Description:\n+   *   A handle to a Type 1 size object.\n+   *\/\n@@ -48,8 +48,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    T1_GlyphSlot                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A handle to a Type 1 glyph slot object.                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Type:\n+   *   T1_GlyphSlot\n+   *\n+   * @Description:\n+   *   A handle to a Type 1 glyph slot object.\n+   *\/\n@@ -59,13 +59,13 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    T1_CharMap                                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A handle to a Type 1 character mapping object.                     *\/\n-  \/*                                                                       *\/\n-  \/* <Note>                                                                *\/\n-  \/*    The Type 1 format doesn't use a charmap but an encoding table.     *\/\n-  \/*    The driver is responsible for making up charmap objects            *\/\n-  \/*    corresponding to these tables.                                     *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Type:\n+   *   T1_CharMap\n+   *\n+   * @Description:\n+   *   A handle to a Type 1 character mapping object.\n+   *\n+   * @Note:\n+   *   The Type 1 format doesn't use a charmap but an encoding table.\n+   *   The driver is responsible for making up charmap objects\n+   *   corresponding to these tables.\n+   *\/\n@@ -75,5 +75,5 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*                  HERE BEGINS THE TYPE1 SPECIFIC STUFF                 *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+  \/**************************************************************************\n+   *\n+   *                 HERE BEGINS THE TYPE1 SPECIFIC STUFF\n+   *\n+   *\/\n@@ -82,8 +82,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    T1_SizeRec                                                         *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Type 1 size record.                                                *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Type:\n+   *   T1_SizeRec\n+   *\n+   * @Description:\n+   *   Type 1 size record.\n+   *\/\n@@ -108,8 +108,8 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Type>                                                                *\/\n-  \/*    T1_GlyphSlotRec                                                    *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    Type 1 glyph slot record.                                          *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Type:\n+   *   T1_GlyphSlotRec\n+   *\n+   * @Description:\n+   *   Type 1 glyph slot record.\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/type1\/t1objs.h","additions":66,"deletions":66,"binary":false,"changes":132,"status":"modified"},{"patch":"@@ -1,33 +1,33 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  t1parse.c                                                              *\/\n-\/*                                                                         *\/\n-\/*    Type 1 parser (body).                                                *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n-\n-\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The Type 1 parser is in charge of the following:                      *\/\n-  \/*                                                                       *\/\n-  \/*  - provide an implementation of a growing sequence of objects called  *\/\n-  \/*    a `T1_Table' (used to build various tables needed by the loader).  *\/\n-  \/*                                                                       *\/\n-  \/*  - opening .pfb and .pfa files to extract their top-level and private *\/\n-  \/*    dictionaries.                                                      *\/\n-  \/*                                                                       *\/\n-  \/*  - read numbers, arrays & strings from any dictionary.                *\/\n-  \/*                                                                       *\/\n-  \/* See `t1load.c' to see how data is loaded from the font file.          *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * t1parse.c\n+ *\n+ *   Type 1 parser (body).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * The Type 1 parser is in charge of the following:\n+   *\n+   * - provide an implementation of a growing sequence of objects called\n+   *   a `T1_Table' (used to build various tables needed by the loader).\n+   *\n+   * - opening .pfb and .pfa files to extract their top-level and private\n+   *   dictionaries.\n+   *\n+   * - read numbers, arrays & strings from any dictionary.\n+   *\n+   * See `t1load.c' to see how data is loaded from the font file.\n+   *\n+   *\/\n@@ -46,6 +46,6 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* The macro FT_COMPONENT is used in trace mode.  It is an implicit      *\/\n-  \/* parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log  *\/\n-  \/* messages during execution.                                            *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * The macro FT_COMPONENT is used in trace mode.  It is an implicit\n+   * parameter of the FT_TRACE() and FT_ERROR() macros, used to print\/log\n+   * messages during execution.\n+   *\/\n@@ -53,1 +53,1 @@\n-#define FT_COMPONENT  trace_t1parse\n+#define FT_COMPONENT  t1parse\n@@ -172,15 +172,15 @@\n-    \/******************************************************************\/\n-    \/*                                                                *\/\n-    \/* Here a short summary of what is going on:                      *\/\n-    \/*                                                                *\/\n-    \/*   When creating a new Type 1 parser, we try to locate and load *\/\n-    \/*   the base dictionary if this is possible (i.e., for PFB       *\/\n-    \/*   files).  Otherwise, we load the whole font into memory.      *\/\n-    \/*                                                                *\/\n-    \/*   When `loading' the base dictionary, we only setup pointers   *\/\n-    \/*   in the case of a memory-based stream.  Otherwise, we         *\/\n-    \/*   allocate and load the base dictionary in it.                 *\/\n-    \/*                                                                *\/\n-    \/*   parser->in_pfb is set if we are in a binary (`.pfb') font.   *\/\n-    \/*   parser->in_memory is set if we have a memory stream.         *\/\n-    \/*                                                                *\/\n+    \/*******************************************************************\n+     *\n+     * Here a short summary of what is going on:\n+     *\n+     *   When creating a new Type 1 parser, we try to locate and load\n+     *   the base dictionary if this is possible (i.e., for PFB\n+     *   files).  Otherwise, we load the whole font into memory.\n+     *\n+     *   When `loading' the base dictionary, we only setup pointers\n+     *   in the case of a memory-based stream.  Otherwise, we\n+     *   allocate and load the base dictionary in it.\n+     *\n+     *   parser->in_pfb is set if we are in a binary (`.pfb') font.\n+     *   parser->in_memory is set if we have a memory stream.\n+     *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/type1\/t1parse.c","additions":55,"deletions":55,"binary":false,"changes":110,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  t1parse.h                                                              *\/\n-\/*                                                                         *\/\n-\/*    Type 1 parser (specification).                                       *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * t1parse.h\n+ *\n+ *   Type 1 parser (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n@@ -31,30 +31,39 @@\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/* <Struct>                                                              *\/\n-  \/*    T1_ParserRec                                                       *\/\n-  \/*                                                                       *\/\n-  \/* <Description>                                                         *\/\n-  \/*    A PS_ParserRec is an object used to parse a Type 1 fonts very      *\/\n-  \/*    quickly.                                                           *\/\n-  \/*                                                                       *\/\n-  \/* <Fields>                                                              *\/\n-  \/*    root         :: The root parser.                                   *\/\n-  \/*                                                                       *\/\n-  \/*    stream       :: The current input stream.                          *\/\n-  \/*                                                                       *\/\n-  \/*    base_dict    :: A pointer to the top-level dictionary.             *\/\n-  \/*                                                                       *\/\n-  \/*    base_len     :: The length in bytes of the top dictionary.         *\/\n-  \/*                                                                       *\/\n-  \/*    private_dict :: A pointer to the private dictionary.               *\/\n-  \/*                                                                       *\/\n-  \/*    private_len  :: The length in bytes of the private dictionary.     *\/\n-  \/*                                                                       *\/\n-  \/*    in_pfb       :: A boolean.  Indicates that we are handling a PFB   *\/\n-  \/*                    file.                                              *\/\n-  \/*                                                                       *\/\n-  \/*    in_memory    :: A boolean.  Indicates a memory-based stream.       *\/\n-  \/*                                                                       *\/\n-  \/*    single_block :: A boolean.  Indicates that the private dictionary  *\/\n-  \/*                    is stored in lieu of the base dictionary.          *\/\n-  \/*                                                                       *\/\n+  \/**************************************************************************\n+   *\n+   * @Struct:\n+   *   T1_ParserRec\n+   *\n+   * @Description:\n+   *   A PS_ParserRec is an object used to parse a Type 1 fonts very\n+   *   quickly.\n+   *\n+   * @Fields:\n+   *   root ::\n+   *     The root parser.\n+   *\n+   *   stream ::\n+   *     The current input stream.\n+   *\n+   *   base_dict ::\n+   *     A pointer to the top-level dictionary.\n+   *\n+   *   base_len ::\n+   *     The length in bytes of the top dictionary.\n+   *\n+   *   private_dict ::\n+   *     A pointer to the private dictionary.\n+   *\n+   *   private_len ::\n+   *     The length in bytes of the private dictionary.\n+   *\n+   *   in_pfb ::\n+   *     A boolean.  Indicates that we are handling a PFB\n+   *     file.\n+   *\n+   *   in_memory ::\n+   *     A boolean.  Indicates a memory-based stream.\n+   *\n+   *   single_block ::\n+   *     A boolean.  Indicates that the private dictionary\n+   *     is stored in lieu of the base dictionary.\n+   *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/type1\/t1parse.h","additions":55,"deletions":46,"binary":false,"changes":101,"status":"modified"},{"patch":"@@ -1,16 +1,16 @@\n-\/***************************************************************************\/\n-\/*                                                                         *\/\n-\/*  t1tokens.h                                                             *\/\n-\/*                                                                         *\/\n-\/*    Type 1 tokenizer (specification).                                    *\/\n-\/*                                                                         *\/\n-\/*  Copyright 1996-2018 by                                                 *\/\n-\/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      *\/\n-\/*                                                                         *\/\n-\/*  This file is part of the FreeType project, and may only be used,       *\/\n-\/*  modified, and distributed under the terms of the FreeType project      *\/\n-\/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     *\/\n-\/*  this file you indicate that you have read the license and              *\/\n-\/*  understand and accept it fully.                                        *\/\n-\/*                                                                         *\/\n-\/***************************************************************************\/\n+\/****************************************************************************\n+ *\n+ * t1tokens.h\n+ *\n+ *   Type 1 tokenizer (specification).\n+ *\n+ * Copyright (C) 1996-2019 by\n+ * David Turner, Robert Wilhelm, and Werner Lemberg.\n+ *\n+ * This file is part of the FreeType project, and may only be used,\n+ * modified, and distributed under the terms of the FreeType project\n+ * license, LICENSE.TXT.  By continuing to use, modify, or distribute\n+ * this file you indicate that you have read the license and\n+ * understand and accept it fully.\n+ *\n+ *\/\n","filename":"jdk\/src\/share\/native\/sun\/awt\/libfreetype\/src\/type1\/t1tokens.h","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"}]}
{"files":[{"patch":"@@ -40,0 +40,3 @@\n+    \n+    \/\/ Keyboard layout\n+    NSString *kbdLayout;\n","filename":"jdk\/src\/macosx\/native\/sun\/awt\/AWTView.h","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -1008,0 +1008,9 @@\n+- (void)keyboardInputSourceChanged:(NSNotification *)notification\n+{\n+#ifdef IM_DEBUG\n+    NSLog(@\"keyboardInputSourceChangeNotification received\");\n+#endif\n+    NSTextInputContext *curContxt = [NSTextInputContext currentInputContext];\n+    kbdLayout = curContxt.selectedKeyboardInputSource;\n+}\n+\n@@ -1333,0 +1342,7 @@\n+    \n+    NSTextInputContext *curContxt = [NSTextInputContext currentInputContext];\n+    kbdLayout = curContxt.selectedKeyboardInputSource;\n+    [[NSNotificationCenter defaultCenter] addObserver:self\n+                                           selector:@selector(keyboardInputSourceChanged:)\n+                                               name:NSTextInputContextKeyboardSelectionDidChangeNotification\n+                                             object:nil];\n","filename":"jdk\/src\/macosx\/native\/sun\/awt\/AWTView.m","additions":16,"deletions":0,"binary":false,"changes":16,"status":"modified"}]}
{"files":[{"patch":"@@ -4,1 +4,1 @@\n-version=openjdk8u412\n+version=openjdk8u422\n","filename":".jcheck\/conf","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -89,0 +89,9 @@\n+# Test and fix LoongArch64.\n+if [ \"x$OUT\" = x ]; then\n+  if [ `uname -s` = Linux ]; then\n+    if [ `uname -m` = loongarch64 ]; then\n+      OUT=loongarch64-unknown-linux-gnu\n+    fi\n+  fi\n+fi\n+\n","filename":"common\/autoconf\/build-aux\/config.guess","additions":9,"deletions":0,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -1020,0 +1020,1 @@\n+runstatedir\n@@ -1265,0 +1266,1 @@\n+runstatedir='${localstatedir}\/run'\n@@ -1517,0 +1519,9 @@\n+  -runstatedir | --runstatedir | --runstatedi | --runstated \\\n+  | --runstate | --runstat | --runsta | --runst | --runs \\\n+  | --run | --ru | --r)\n+    ac_prev=runstatedir ;;\n+  -runstatedir=* | --runstatedir=* | --runstatedi=* | --runstated=* \\\n+  | --runstate=* | --runstat=* | --runsta=* | --runst=* | --runs=* \\\n+  | --run=* | --ru=* | --r=*)\n+    runstatedir=$ac_optarg ;;\n+\n@@ -1654,1 +1665,1 @@\n-\t\tlibdir localedir mandir\n+\t\tlibdir localedir mandir runstatedir\n@@ -1807,0 +1818,1 @@\n+  --runstatedir=DIR       modifiable per-process data [LOCALSTATEDIR\/run]\n@@ -4431,1 +4443,1 @@\n-DATE_WHEN_GENERATED=1694011184\n+DATE_WHEN_GENERATED=1704508692\n@@ -13921,0 +13933,6 @@\n+    loongarch64)\n+      VAR_CPU=loongarch64\n+      VAR_CPU_ARCH=loongarch\n+      VAR_CPU_BITS=64\n+      VAR_CPU_ENDIAN=little\n+      ;;\n@@ -14059,0 +14077,6 @@\n+    loongarch64)\n+      VAR_CPU=loongarch64\n+      VAR_CPU_ARCH=loongarch\n+      VAR_CPU_BITS=64\n+      VAR_CPU_ENDIAN=little\n+      ;;\n","filename":"common\/autoconf\/generated-configure.sh","additions":26,"deletions":2,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -99,0 +99,6 @@\n+    loongarch64)\n+      VAR_CPU=loongarch64\n+      VAR_CPU_ARCH=loongarch\n+      VAR_CPU_BITS=64\n+      VAR_CPU_ENDIAN=little\n+      ;;\n","filename":"common\/autoconf\/platform.m4","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2011, 2023, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2011, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,1 +29,1 @@\n-JDK_UPDATE_VERSION=412\n+JDK_UPDATE_VERSION=422\n","filename":"common\/autoconf\/version-numbers","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1,398 +0,0 @@\n-#!\/bin\/sh\n-#\n-# Copyright (c) 2009, 2014, Oracle and\/or its affiliates. All rights reserved.\n-# DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n-#\n-# This code is free software; you can redistribute it and\/or modify it\n-# under the terms of the GNU General Public License version 2 only, as\n-# published by the Free Software Foundation.\n-#\n-# This code is distributed in the hope that it will be useful, but WITHOUT\n-# ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n-# FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n-# version 2 for more details (a copy is included in the LICENSE file that\n-# accompanied this code).\n-#\n-# You should have received a copy of the GNU General Public License version\n-# 2 along with this work; if not, write to the Free Software Foundation,\n-# Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n-#\n-# Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n-# or visit www.oracle.com if you need additional information or have any\n-# questions.\n-#\n-\n-# Shell script for a fast parallel forest\/trees command\n-\n-usage() {\n-      echo \"usage: $0 [-h|--help] [-q|--quiet] [-v|--verbose] [-s|--sequential] [--] <command> [commands...]\" > ${status_output}\n-      echo \"Environment variables which modify behaviour:\"\n-      echo \"   HGFOREST_QUIET      : (boolean) If 'true' then standard output is redirected to \/dev\/null\"\n-      echo \"   HGFOREST_VERBOSE    : (boolean) If 'true' then Mercurial asked to produce verbose output\"\n-      echo \"   HGFOREST_SEQUENTIAL : (boolean) If 'true' then repos are processed sequentially. Disables concurrency\"\n-      echo \"   HGFOREST_GLOBALOPTS : (string, must begin with space) Additional Mercurial global options\"\n-      echo \"   HGFOREST_REDIRECT   : (file path) Redirect standard output to specified file\"\n-      echo \"   HGFOREST_FIFOS      : (boolean) Default behaviour for FIFO detection. Does not override FIFOs disabled\"\n-      echo \"   HGFOREST_CONCURRENCY: (positive integer) Number of repos to process concurrently\"\n-      echo \"   HGFOREST_DEBUG      : (boolean) If 'true' then temp files are retained\"\n-      exit 1\n-}\n-\n-global_opts=\"${HGFOREST_GLOBALOPTS:-}\"\n-status_output=\"${HGFOREST_REDIRECT:-\/dev\/stdout}\"\n-qflag=\"${HGFOREST_QUIET:-false}\"\n-vflag=\"${HGFOREST_VERBOSE:-false}\"\n-sflag=\"${HGFOREST_SEQUENTIAL:-false}\"\n-while [ $# -gt 0 ]\n-do\n-  case $1 in\n-    -h | --help )\n-      usage\n-      ;;\n-\n-    -q | --quiet )\n-      qflag=\"true\"\n-      ;;\n-\n-    -v | --verbose )\n-      vflag=\"true\"\n-      ;;\n-\n-    -s | --sequential )\n-      sflag=\"true\"\n-      ;;\n-\n-    '--' ) # no more options\n-      shift; break\n-      ;;\n-\n-    -*)  # bad option\n-      usage\n-      ;;\n-\n-     * )  # non option\n-      break\n-      ;;\n-  esac\n-  shift\n-done\n-\n-# silence standard output?\n-if [ ${qflag} = \"true\" ] ; then\n-  global_opts=\"${global_opts} -q\"\n-  status_output=\"\/dev\/null\"\n-fi\n-\n-# verbose output?\n-if [ ${vflag} = \"true\" ] ; then\n-  global_opts=\"${global_opts} -v\"\n-fi\n-\n-# Make sure we have a command.\n-if [ $# -lt 1 -o -z \"${1:-}\" ] ; then\n-  echo \"ERROR: No command to hg supplied!\"\n-  usage\n-fi\n-\n-command=\"$1\"; shift\n-command_args=\"${@:-}\"\n-\n-# Clean out the temporary directory that stores the pid files.\n-tmp=\/tmp\/forest.$$\n-rm -f -r ${tmp}\n-mkdir -p ${tmp}\n-\n-\n-if [ \"${HGFOREST_DEBUG:-false}\" = \"true\" ] ; then\n-  echo \"DEBUG: temp files are in: ${tmp}\"\n-fi\n-\n-# Check if we can use fifos for monitoring sub-process completion.\n-echo \"1\" > ${tmp}\/read\n-while_subshell=1\n-while read line; do\n-  while_subshell=0\n-  break;\n-done < ${tmp}\/read\n-rm ${tmp}\/read\n-\n-on_windows=`uname -s | egrep -ic -e 'cygwin|msys'`\n-\n-if [ ${while_subshell} = \"1\" -o ${on_windows} = \"1\" ]; then\n-  # cygwin has (2014-04-18) broken (single writer only) FIFOs\n-  # msys has (2014-04-18) no FIFOs.\n-  # older shells create a sub-shell for redirect to while\n-  have_fifos=\"false\"\n-else\n-  have_fifos=\"${HGFOREST_FIFOS:-true}\"\n-fi\n-\n-safe_interrupt () {\n-  if [ -d ${tmp} ]; then\n-    if [ \"`ls ${tmp}\/*.pid`\" != \"\" ]; then\n-      echo \"Waiting for processes ( `cat ${tmp}\/.*.pid ${tmp}\/*.pid 2> \/dev\/null | tr '\\n' ' '`) to terminate nicely!\" > ${status_output}\n-      sleep 1\n-      # Pipe stderr to dev\/null to silence kill, that complains when trying to kill\n-      # a subprocess that has already exited.\n-      kill -TERM `cat ${tmp}\/*.pid | tr '\\n' ' '` 2> \/dev\/null\n-      wait\n-      echo \"Interrupt complete!\" > ${status_output}\n-    fi\n-    rm -f -r ${tmp}\n-  fi\n-  exit 130\n-}\n-\n-nice_exit () {\n-  if [ -d ${tmp} ]; then\n-    if [ \"`ls -A ${tmp} 2> \/dev\/null`\" != \"\" ]; then\n-      wait\n-    fi\n-    if [ \"${HGFOREST_DEBUG:-false}\" != \"true\" ] ; then\n-      rm -f -r ${tmp}\n-    fi\n-  fi\n-}\n-\n-trap 'safe_interrupt' INT QUIT\n-trap 'nice_exit' EXIT\n-\n-subrepos=\"corba jaxp jaxws langtools jdk hotspot nashorn\"\n-subrepos_extra=\"jdk\/src\/closed jdk\/make\/closed jdk\/test\/closed hotspot\/make\/closed hotspot\/src\/closed hotspot\/test\/closed deploy install sponsors pubs\"\n-\n-# Only look in specific locations for possible forests (avoids long searches)\n-pull_default=\"\"\n-repos=\"\"\n-repos_extra=\"\"\n-if [ \"${command}\" = \"clone\" -o \"${command}\" = \"fclone\" -o \"${command}\" = \"tclone\" ] ; then\n-  # we must be a clone\n-  if [ ! -f .hg\/hgrc ] ; then\n-    echo \"ERROR: Need initial repository to use this script\" > ${status_output}\n-    exit 1\n-  fi\n-\n-  # the clone must know where it came from (have a default pull path).\n-  pull_default=`hg paths default`\n-  if [ \"${pull_default}\" = \"\" ] ; then\n-    echo \"ERROR: Need initial clone with 'hg paths default' defined\" > ${status_output}\n-    exit 1\n-  fi\n-\n-  # determine which sub repos need to be cloned.\n-  for i in ${subrepos} ; do\n-    if [ ! -f ${i}\/.hg\/hgrc ] ; then\n-      repos=\"${repos} ${i}\"\n-    fi\n-  done\n-\n-  pull_default_tail=`echo ${pull_default} | sed -e 's@^.*:\/\/[^\/]*\/\\(.*\\)@\\1@'`\n-\n-  if [ -n \"${command_args}\" ] ; then\n-    # if there is an \"extra sources\" path then reparent \"extra\" repos to that path\n-    if [ \"x${pull_default}\" = \"x${pull_default_tail}\" ] ; then\n-      echo \"ERROR: Need initial clone from non-local source\" > ${status_output}\n-      exit 1\n-    fi\n-    pull_extra=\"${command_args}\/${pull_default_tail}\"\n-\n-    # determine which extra subrepos need to be cloned.\n-    for i in ${subrepos_extra} ; do\n-      if [ ! -f ${i}\/.hg\/hgrc ] ; then\n-        repos_extra=\"${repos_extra} ${i}\"\n-      fi\n-    done\n-  else\n-    if [ \"x${pull_default}\" = \"x${pull_default_tail}\" ] ; then\n-      # local source repo. Clone the \"extra\" subrepos that exist there.\n-      for i in ${subrepos_extra} ; do\n-        if [ -f ${pull_default}\/${i}\/.hg\/hgrc -a ! -f ${i}\/.hg\/hgrc ] ; then\n-          # sub-repo there in source but not here\n-          repos_extra=\"${repos_extra} ${i}\"\n-        fi\n-      done\n-    fi\n-  fi\n-\n-  # Any repos to deal with?\n-  if [ \"${repos}\" = \"\" -a \"${repos_extra}\" = \"\" ] ; then\n-    echo \"No repositories to process.\" > ${status_output}\n-    exit\n-  fi\n-\n-  # Repos to process concurrently. Clone does better with low concurrency.\n-  at_a_time=\"${HGFOREST_CONCURRENCY:-2}\"\n-else\n-  # Process command for all of the present repos\n-  for i in . ${subrepos} ${subrepos_extra} ; do\n-    if [ -d ${i}\/.hg ] ; then\n-      repos=\"${repos} ${i}\"\n-    fi\n-  done\n-\n-  # Any repos to deal with?\n-  if [ \"${repos}\" = \"\" ] ; then\n-    echo \"No repositories to process.\" > ${status_output}\n-    exit\n-  fi\n-\n-  # any of the repos locked?\n-  locked=\"\"\n-  for i in ${repos} ; do\n-    if [ -h ${i}\/.hg\/store\/lock -o -f ${i}\/.hg\/store\/lock ] ; then\n-      locked=\"${i} ${locked}\"\n-    fi\n-  done\n-  if [ \"${locked}\" != \"\" ] ; then\n-    echo \"ERROR: These repositories are locked: ${locked}\" > ${status_output}\n-    exit 1\n-  fi\n-\n-  # Repos to process concurrently.\n-  at_a_time=\"${HGFOREST_CONCURRENCY:-8}\"\n-fi\n-\n-# Echo out what repositories we do a command on.\n-echo \"# Repositories: ${repos} ${repos_extra}\" > ${status_output}\n-\n-if [ \"${command}\" = \"serve\" ] ; then\n-  # \"serve\" is run for all the repos as one command.\n-  (\n-    (\n-      cwd=`pwd`\n-      serving=`basename ${cwd}`\n-      (\n-        echo \"[web]\"\n-        echo \"description = ${serving}\"\n-        echo \"allow_push = *\"\n-        echo \"push_ssl = False\"\n-\n-        echo \"[paths]\"\n-        for i in ${repos} ; do\n-          if [ \"${i}\" != \".\" ] ; then\n-            echo \"\/${serving}\/${i} = ${i}\"\n-          else\n-            echo \"\/${serving} = ${cwd}\"\n-          fi\n-        done\n-      ) > ${tmp}\/serve.web-conf\n-\n-      echo \"serving root repo ${serving}\" > ${status_output}\n-\n-      echo \"hg${global_opts} serve\" > ${status_output}\n-      (PYTHONUNBUFFERED=true hg${global_opts} serve -A ${status_output} -E ${status_output} --pid-file ${tmp}\/serve.pid --web-conf ${tmp}\/serve.web-conf; echo \"$?\" > ${tmp}\/serve.pid.rc ) 2>&1 &\n-    ) 2>&1 | sed -e \"s@^@serve:   @\" > ${status_output}\n-  ) &\n-else\n-  # Run the supplied command on all repos in parallel.\n-\n-  # n is the number of subprocess started or which might still be running.\n-  n=0\n-  if [ ${have_fifos} = \"true\" ]; then\n-    # if we have fifos use them to detect command completion.\n-    mkfifo ${tmp}\/fifo\n-    exec 3<>${tmp}\/fifo\n-  fi\n-\n-  # iterate over all of the subrepos.\n-  for i in ${repos} ${repos_extra} ; do\n-    n=`expr ${n} '+' 1`\n-    repopidfile=`echo ${i} | sed -e 's@.\/@@' -e 's@\/@_@g'`\n-    reponame=`echo ${i} | sed -e :a -e 's\/^.\\{1,20\\}$\/ &\/;ta'`\n-    pull_base=\"${pull_default}\"\n-\n-    # regular repo or \"extra\" repo?\n-    for j in ${repos_extra} ; do\n-      if [ \"${i}\" = \"${j}\" ] ; then\n-        # it's an \"extra\"\n-        pull_base=\"${pull_extra}\"\n-      fi\n-    done\n-\n-    # remove trailing slash\n-    pull_base=\"`echo ${pull_base} | sed -e 's@[\/]*$@@'`\"\n-\n-    # execute the command on the subrepo\n-    (\n-      (\n-        if [ \"${command}\" = \"clone\" -o \"${command}\" = \"fclone\" -o \"${command}\" = \"tclone\" ] ; then\n-          # some form of clone\n-          clone_newrepo=\"${pull_base}\/${i}\"\n-          parent_path=\"`dirname ${i}`\"\n-          if [ \"${parent_path}\" != \".\" ] ; then\n-            times=0\n-            while [ ! -d \"${parent_path}\" ] ; do  ## nested repo, ensure containing dir exists\n-              if [ \"${sflag}\" = \"true\" ] ; then\n-                # Missing parent is fatal during sequential operation.\n-                echo \"ERROR: Missing parent path: ${parent_path}\" > ${status_output}\n-                exit 1\n-              fi\n-              times=`expr ${times} '+' 1`\n-              if [ `expr ${times} '%' 10` -eq 0 ] ; then\n-                echo \"${parent_path} still not created, waiting...\" > ${status_output}\n-              fi\n-              sleep 5\n-            done\n-          fi\n-          # run the clone command.\n-          echo \"hg${global_opts} clone ${clone_newrepo} ${i}\" > ${status_output}\n-          (PYTHONUNBUFFERED=true hg${global_opts} clone ${clone_newrepo} ${i}; echo \"$?\" > ${tmp}\/${repopidfile}.pid.rc ) 2>&1 &\n-        else\n-          # run the command.\n-          echo \"cd ${i} && hg${global_opts} ${command} ${command_args}\" > ${status_output}\n-          cd ${i} && (PYTHONUNBUFFERED=true hg${global_opts} ${command} ${command_args}; echo \"$?\" > ${tmp}\/${repopidfile}.pid.rc ) 2>&1 &\n-        fi\n-\n-        echo $! > ${tmp}\/${repopidfile}.pid\n-      ) 2>&1 | sed -e \"s@^@${reponame}:   @\" > ${status_output}\n-      # tell the fifo waiter that this subprocess is done.\n-      if [ ${have_fifos} = \"true\" ]; then\n-        echo \"${i}\" >&3\n-      fi\n-    ) &\n-\n-    if [ \"${sflag}\" = \"true\" ] ; then\n-      # complete this task before starting another.\n-      wait\n-    else\n-      if [ \"${have_fifos}\" = \"true\" ]; then\n-        # check on count of running subprocesses and possibly wait for completion\n-        if [ ${n} -ge ${at_a_time} ] ; then\n-          # read will block until there are completed subprocesses\n-          while read repo_done; do\n-            n=`expr ${n} '-' 1`\n-            if [ ${n} -lt ${at_a_time} ] ; then\n-              # we should start more subprocesses\n-              break;\n-            fi\n-          done <&3\n-        fi\n-      else\n-        # Compare completions to starts\n-        completed=\"`(ls -a1 ${tmp}\/*.pid.rc 2> \/dev\/null | wc -l) || echo 0`\"\n-        while [ `expr ${n} '-' ${completed}` -ge ${at_a_time} ] ; do\n-          # sleep a short time to give time for something to complete\n-          sleep 1\n-          completed=\"`(ls -a1 ${tmp}\/*.pid.rc 2> \/dev\/null | wc -l) || echo 0`\"\n-        done\n-      fi\n-    fi\n-  done\n-fi\n-\n-# Wait for all subprocesses to complete\n-wait\n-\n-# Terminate with exit 0 only if all subprocesses were successful\n-ec=0\n-if [ -d ${tmp} ]; then\n-  rcfiles=\"`(ls -a ${tmp}\/*.pid.rc 2> \/dev\/null) || echo ''`\"\n-  for rc in ${rcfiles} ; do\n-    exit_code=`cat ${rc} | tr -d ' \\n\\r'`\n-    if [ \"${exit_code}\" != \"0\" ] ; then\n-      repo=\"`echo ${rc} | sed -e 's@^'${tmp}'@@' -e 's@\/*\\([^\/]*\\)\\.pid\\.rc$@\\1@' -e 's@_@\/@g'`\"\n-      echo \"WARNING: ${repo} exited abnormally (${exit_code})\" > ${status_output}\n-      ec=1\n-    fi\n-  done\n-fi\n-exit ${ec}\n","filename":"common\/bin\/hgforest.sh","additions":0,"deletions":398,"binary":false,"changes":398,"status":"deleted"},{"patch":"@@ -1,100 +0,0 @@\n-#!\/bin\/sh\n-\n-#\n-# Copyright (c) 2010, 2014, Oracle and\/or its affiliates. All rights reserved.\n-# DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n-#\n-# This code is free software; you can redistribute it and\/or modify it\n-# under the terms of the GNU General Public License version 2 only, as\n-# published by the Free Software Foundation.  Oracle designates this\n-# particular file as subject to the \"Classpath\" exception as provided\n-# by Oracle in the LICENSE file that accompanied this code.\n-#\n-# This code is distributed in the hope that it will be useful, but WITHOUT\n-# ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n-# FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n-# version 2 for more details (a copy is included in the LICENSE file that\n-# accompanied this code).\n-#\n-# You should have received a copy of the GNU General Public License version\n-# 2 along with this work; if not, write to the Free Software Foundation,\n-# Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n-#\n-# Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n-# or visit www.oracle.com if you need additional information or have any\n-# questions.\n-#\n-\n-to_stderr() {\n-    echo \"$@\" >&2\n-}\n-\n-error() {\n-    to_stderr \"ERROR: $1\"\n-    exit ${2:-126}\n-}\n-\n-warning() {\n-    to_stderr \"WARNING: $1\"\n-}\n-\n-version_field() {\n-  # rev is typically omitted for minor and major releases\n-  field=`echo ${1}.0 | cut -f ${2} -d .`\n-  if expr 1 + $field >\/dev\/null 2> \/dev\/null; then\n-    echo $field\n-  else\n-    echo -1\n-  fi\n-}\n-\n-# Version check\n-\n-# required\n-reqdmajor=1\n-reqdminor=4\n-reqdrev=0\n-\n-# requested\n-rqstmajor=2\n-rqstminor=6\n-rqstrev=3\n-\n-\n-# installed\n-hgwhere=\"`command -v hg`\"\n-if [ \"x$hgwhere\" = \"x\" ]; then\n-  error \"Could not locate Mercurial command\"\n-fi\n-\n-hgversion=\"`LANGUAGE=en hg --version 2> \/dev\/null | sed -n -e 's@^Mercurial Distributed SCM (version \\([^+]*\\).*)\\$@\\1@p'`\"\n-if [ \"x${hgversion}\" = \"x\" ] ; then\n-  error \"Could not determine Mercurial version of $hgwhere\"\n-fi\n-\n-hgmajor=\"`version_field $hgversion 1`\"\n-hgminor=\"`version_field $hgversion 2`\"\n-hgrev=\"`version_field $hgversion 3`\"\n-\n-if [ $hgmajor -eq -1 -o $hgminor -eq -1 -o $hgrev -eq -1 ] ; then\n-  error \"Could not determine Mercurial version of $hgwhere from \\\"$hgversion\\\"\"\n-fi\n-\n-\n-# Require\n-if [ $hgmajor -lt $reqdmajor -o \\( $hgmajor -eq $reqdmajor -a $hgminor -lt $reqdminor \\) -o \\( $hgmajor -eq $reqdmajor -a $hgminor -eq $reqdminor -a $hgrev -lt $reqdrev \\) ] ; then\n-  error \"Mercurial version $reqdmajor.$reqdminor.$reqdrev or later is required. $hgwhere is version $hgversion\"\n-fi\n-\n-\n-# Request\n-if [ $hgmajor -lt $rqstmajor -o \\( $hgmajor -eq $rqstmajor -a $hgminor -lt $rqstminor \\) -o \\( $hgmajor -eq $rqstmajor -a $hgminor -eq $rqstminor -a $hgrev -lt $rqstrev \\) ] ; then\n-  warning \"Mercurial version $rqstmajor.$rqstminor.$rqstrev or later is recommended. $hgwhere is version $hgversion\"\n-fi\n-\n-\n-# Get clones of all absent nested repositories (harmless if already exist)\n-sh .\/common\/bin\/hgforest.sh clone \"$@\" || exit $?\n-\n-# Update all existing repositories to the latest sources\n-sh .\/common\/bin\/hgforest.sh pull -u\n","filename":"get_source.sh","additions":0,"deletions":100,"binary":false,"changes":100,"status":"deleted"},{"patch":"@@ -175,0 +175,3 @@\n+!if \"$(MSC_VER)\" >= \"1930\" && \"$(MSC_VER)\" <= \"1938\"\n+COMPILER_NAME=VS2022\n+!endif\n@@ -339,0 +342,15 @@\n+!if \"$(COMPILER_NAME)\" == \"VS2022\"\n+PRODUCT_OPT_OPTION   = \/O2 \/Oy-\n+FASTDEBUG_OPT_OPTION = \/O2 \/Oy-\n+DEBUG_OPT_OPTION     = \/Od\n+GX_OPTION = \/EHsc\n+LD_FLAGS = \/manifest $(LD_FLAGS)\n+MP_FLAG = \/MP\n+# Manifest Tool - used in VS2005 and later to adjust manifests stored\n+# as resources inside build artifacts.\n+!if \"x$(MT)\" == \"x\"\n+MT=mt.exe\n+!endif\n+SAFESEH_FLAG = \/SAFESEH\n+!endif\n+\n","filename":"hotspot\/make\/windows\/makefiles\/compile.make","additions":18,"deletions":0,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -36,0 +36,2 @@\n+\tif \"$(MSC_VER)\" NEQ \"1930\" if \"$(MSC_VER)\" NEQ \"1931\" if \"$(MSC_VER)\" NEQ \"1932\" if \"$(MSC_VER)\" NEQ \"1933\" if \"$(MSC_VER)\" NEQ \"1934\" \\\n+\tif \"$(MSC_VER)\" NEQ \"1935\" if \"$(MSC_VER)\" NEQ \"1936\" if \"$(MSC_VER)\" NEQ \"1937\" if \"$(MSC_VER)\" NEQ \"1938\" \\\n@@ -46,0 +48,2 @@\n+\tif \"$(LD_VER)\" NEQ \"1430\" if \"$(LD_VER)\" NEQ \"1431\" if \"$(LD_VER)\" NEQ \"1432\" if \"$(LD_VER)\" NEQ \"1433\" if \"$(LD_VER)\" NEQ \"1434\" \\\n+\tif \"$(LD_VER)\" NEQ \"1435\" if \"$(LD_VER)\" NEQ \"1436\" if \"$(LD_VER)\" NEQ \"1437\" if \"$(LD_VER)\" NEQ \"1438\" \\\n","filename":"hotspot\/make\/windows\/makefiles\/sanity.make","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -132,1 +132,1 @@\n-!if \"$(COMPILER_NAME)\" == \"VS2012\" || \"$(COMPILER_NAME)\" == \"VS2013\" || \"$(COMPILER_NAME)\" == \"VS2015\" || \"$(COMPILER_NAME)\" == \"VS2017\" || \"$(COMPILER_NAME)\" == \"VS2019\"\n+!if \"$(COMPILER_NAME)\" == \"VS2012\" || \"$(COMPILER_NAME)\" == \"VS2013\" || \"$(COMPILER_NAME)\" == \"VS2015\" || \"$(COMPILER_NAME)\" == \"VS2017\" || \"$(COMPILER_NAME)\" == \"VS2019\" || \"$(COMPILER_NAME)\" == \"VS2022\"\n","filename":"hotspot\/make\/windows\/makefiles\/vm.make","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -393,9 +393,0 @@\n-\n-void VM_Version::get_cpu_info_wrapper() {\n-  get_cpu_info_stub(&_cpuid_info);\n-}\n-\n-#ifndef CALL_TEST_FUNC_WITH_WRAPPER_IF_NEEDED\n-  #define CALL_TEST_FUNC_WITH_WRAPPER_IF_NEEDED(f) f()\n-#endif\n-\n@@ -415,3 +406,1 @@\n-    \/\/ Some platforms (like Win*) need a wrapper around here\n-    \/\/ in order to properly handle SEGV for YMM registers test.\n-    CALL_TEST_FUNC_WITH_WRAPPER_IF_NEEDED(get_cpu_info_wrapper);\n+    get_cpu_info_stub(&_cpuid_info);\n","filename":"hotspot\/src\/cpu\/x86\/vm\/vm_version_x86.cpp","additions":1,"deletions":12,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -1952,0 +1952,3 @@\n+  #ifndef EM_LOONGARCH\n+  #define EM_LOONGARCH  258               \/* LoongArch *\/\n+  #endif\n@@ -1975,0 +1978,1 @@\n+    {EM_LOONGARCH,   EM_LOONGARCH, ELFCLASS64, ELFDATA2LSB, (char*)\"LoongArch\"},\n@@ -2007,0 +2011,2 @@\n+  #elif  (defined LOONGARCH)\n+    static  Elf32_Half running_arch_code=EM_LOONGARCH;\n@@ -2009,1 +2015,1 @@\n-         IA32, AMD64, IA64, __sparc, __powerpc__, ARM, S390, ALPHA, MIPS, MIPSEL, PARISC, M68K, AARCH64\n+         IA32, AMD64, IA64, __sparc, __powerpc__, ARM, S390, ALPHA, MIPS, MIPSEL, PARISC, M68K, AARCH64, LOONGARCH\n","filename":"hotspot\/src\/os\/linux\/vm\/os_linux.cpp","additions":7,"deletions":1,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -754,0 +754,5 @@\n+  \/\/ If there is no debugger attached skip raising the exception\n+  if (!IsDebuggerPresent()) {\n+    return;\n+  }\n+\n@@ -2868,11 +2873,0 @@\n-void os::win32::call_test_func_with_wrapper(void (*funcPtr)(void)) {\n-  \/\/ Install a win32 structured exception handler around the test\n-  \/\/ function call so the VM can generate an error dump if needed.\n-  __try {\n-    (*funcPtr)();\n-  } __except(topLevelExceptionFilter(\n-             (_EXCEPTION_POINTERS*)_exception_info())) {\n-    \/\/ Nothing to do.\n-  }\n-}\n-\n","filename":"hotspot\/src\/os\/windows\/vm\/os_windows.cpp","additions":5,"deletions":11,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -100,2 +100,0 @@\n-  static void call_test_func_with_wrapper(void (*funcPtr)(void));\n-\n","filename":"hotspot\/src\/os\/windows\/vm\/os_windows.hpp","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2015, Oracle and\/or its affiliates. All rights reserved.\n@@ -99,3 +99,0 @@\n-#define CALL_TEST_FUNC_WITH_WRAPPER_IF_NEEDED(f) \\\n-        os::win32::call_test_func_with_wrapper(f)\n-\n","filename":"hotspot\/src\/os\/windows\/vm\/os_windows.inline.hpp","additions":1,"deletions":4,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -3026,0 +3026,2 @@\n+    fprintf(fp_cpp, \"  \/\/ Do not increment node index counter, since node reuses my index\\n\");\n+    fprintf(fp_cpp, \"  C->set_unique(C->unique() - 1);\\n\");\n","filename":"hotspot\/src\/share\/vm\/adlc\/output_c.cpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -382,1 +382,1 @@\n-  for (int i = 0; i < 8; i++) {\n+  for (int i = 0; i < 7; i++) {\n","filename":"hotspot\/src\/share\/vm\/ci\/ciMethodBlocks.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -100,0 +100,3 @@\n+#ifdef _WIN32\n+extern LONG WINAPI topLevelExceptionFilter(_EXCEPTION_POINTERS* );\n+#endif\n@@ -5189,1 +5192,1 @@\n-_JNI_IMPORT_OR_EXPORT_ jint JNICALL JNI_CreateJavaVM(JavaVM **vm, void **penv, void *args) {\n+static jint JNI_CreateJavaVM_inner(JavaVM **vm, void **penv, void *args) {\n@@ -5193,2 +5196,1 @@\n-  HOTSPOT_JNI_CREATEJAVAVM_ENTRY(\n-                                 (void **) vm, penv, args);\n+  HOTSPOT_JNI_CREATEJAVAVM_ENTRY((void **) vm, penv, args);\n@@ -5266,4 +5268,0 @@\n-  #ifndef CALL_TEST_FUNC_WITH_WRAPPER_IF_NEEDED\n-    #define CALL_TEST_FUNC_WITH_WRAPPER_IF_NEEDED(f) f()\n-  #endif\n-\n@@ -5276,2 +5274,2 @@\n-    CALL_TEST_FUNC_WITH_WRAPPER_IF_NEEDED(test_error_handler);\n-    CALL_TEST_FUNC_WITH_WRAPPER_IF_NEEDED(execute_internal_vm_tests);\n+    test_error_handler();\n+    execute_internal_vm_tests();\n@@ -5297,0 +5295,16 @@\n+\n+}\n+\n+_JNI_IMPORT_OR_EXPORT_ jint JNICALL JNI_CreateJavaVM(JavaVM **vm, void **penv, void *args) {\n+  jint result = JNI_ERR;\n+  \/\/ On Windows, let CreateJavaVM run with SEH protection\n+#ifdef _WIN32\n+  __try {\n+#endif\n+    result = JNI_CreateJavaVM_inner(vm, penv, args);\n+#ifdef _WIN32\n+  } __except(topLevelExceptionFilter((_EXCEPTION_POINTERS*)_exception_info())) {\n+    \/\/ Nothing to do.\n+  }\n+#endif\n+  return result;\n@@ -5339,1 +5353,1 @@\n-jint JNICALL jni_DestroyJavaVM(JavaVM *vm) {\n+static jint JNICALL jni_DestroyJavaVM_inner(JavaVM *vm) {\n@@ -5343,2 +5357,1 @@\n-  HOTSPOT_JNI_DESTROYJAVAVM_ENTRY(\n-                                  vm);\n+  HOTSPOT_JNI_DESTROYJAVAVM_ENTRY(vm);\n@@ -5380,0 +5393,14 @@\n+jint JNICALL jni_DestroyJavaVM(JavaVM *vm) {\n+  jint result = JNI_ERR;\n+  \/\/ On Windows, we need SEH protection\n+#ifdef _WIN32\n+  __try {\n+#endif\n+    result = jni_DestroyJavaVM_inner(vm);\n+#ifdef _WIN32\n+  } __except(topLevelExceptionFilter((_EXCEPTION_POINTERS*)_exception_info())) {\n+    \/\/ Nothing to do.\n+  }\n+#endif\n+  return result;\n+}\n","filename":"hotspot\/src\/share\/vm\/prims\/jni.cpp","additions":39,"deletions":12,"binary":false,"changes":51,"status":"modified"},{"patch":"@@ -84,0 +84,1 @@\n+Mutex*   MonitoringSupport_lock       = NULL;\n@@ -212,0 +213,2 @@\n+  def(MonitoringSupport_lock       , Mutex  , leaf,        true );      \/\/ used for serviceability monitoring support\n+\n","filename":"hotspot\/src\/share\/vm\/runtime\/mutexLocker.cpp","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2015, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -104,0 +104,1 @@\n+extern Mutex*   MonitoringSupport_lock;          \/\/ Protects updates to the serviceability memory pools and allocated memory high water mark.\n","filename":"hotspot\/src\/share\/vm\/runtime\/mutexLocker.hpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -221,1 +221,2 @@\n-  void*        reserved1;\n+  jlong        (JNICALL *GetTotalThreadAllocatedMemory)\n+                                                 (JNIEnv *env);\n","filename":"hotspot\/src\/share\/vm\/services\/jmm.h","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -40,0 +40,1 @@\n+#include \"runtime\/mutexLocker.hpp\"\n@@ -431,2 +432,0 @@\n-#endif \/\/ INCLUDE_MANAGEMENT\n-\n@@ -448,2 +447,0 @@\n-#if INCLUDE_MANAGEMENT\n-\n@@ -2233,1 +2230,34 @@\n-#endif \/\/ INCLUDE_MANAGEMENT\n+\n+\/\/ Gets the amount of memory allocated on the Java heap since JVM launch.\n+JVM_ENTRY(jlong, jmm_GetTotalThreadAllocatedMemory(JNIEnv *env))\n+    \/\/ We keep a high water mark to ensure monotonicity\n+    static jlong high_water_result = 0;\n+    static jlong prev_result = 0;\n+\n+    jlong result;\n+    if (Threads_lock->try_lock()) {\n+      result = ThreadService::exited_allocated_bytes();\n+      for (JavaThread* tp = Threads::first(); tp != NULL; tp = tp->next()) {\n+        jlong size = thread->cooked_allocated_bytes();\n+        result += size;\n+      }\n+      Threads_lock->unlock();\n+    } else {\n+      \/\/ Return the previous result if Threads_lock is locked\n+      result = prev_result;\n+    }\n+\n+    {\n+      assert(MonitoringSupport_lock != NULL, \"Must be\");\n+      MutexLockerEx ml(MonitoringSupport_lock, Mutex::_no_safepoint_check_flag);\n+      if (result < high_water_result) {\n+        \/\/ Result wrapped to a negative value, in which case it's\n+        \/\/ pegged at the last positive value.\n+        result = high_water_result;\n+      } else {\n+        high_water_result = result;\n+      }\n+      prev_result = result;\n+    }\n+    return result;\n+JVM_END\n@@ -2371,3 +2401,0 @@\n-\n-\n-#if INCLUDE_MANAGEMENT\n@@ -2375,1 +2402,1 @@\n-  NULL,\n+  jmm_GetTotalThreadAllocatedMemory,\n","filename":"hotspot\/src\/share\/vm\/services\/management.cpp","additions":36,"deletions":9,"binary":false,"changes":45,"status":"modified"},{"patch":"@@ -61,0 +61,2 @@\n+volatile jlong ThreadService::_exited_allocated_bytes = 0;\n+\n@@ -122,0 +124,3 @@\n+  \/\/ Include hidden thread allcations in exited_allocated_bytes\n+  ThreadService::incr_exited_allocated_bytes(thread->cooked_allocated_bytes());\n+\n","filename":"hotspot\/src\/share\/vm\/services\/threadService.cpp","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -61,0 +61,2 @@\n+  static volatile jlong _exited_allocated_bytes;\n+\n@@ -98,0 +100,8 @@\n+  static jlong exited_allocated_bytes()       { return Atomic::load(&_exited_allocated_bytes); }\n+  static void incr_exited_allocated_bytes(jlong size) {\n+    \/\/ No need for an atomic add because called under the Threads_lock,\n+    \/\/ but because _exited_allocated_bytes is read concurrently, need\n+    \/\/ atomic store to avoid readers seeing a partial update.\n+    Atomic::store(_exited_allocated_bytes + size, &_exited_allocated_bytes);\n+  }\n+\n","filename":"hotspot\/src\/share\/vm\/services\/threadService.hpp","additions":10,"deletions":0,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -154,0 +154,2 @@\n+\/\/ Visual Studio 2013 introduced strtoull(); before, one has to use _strtoui64() instead.\n+#define strtoull _strtoui64\n","filename":"hotspot\/src\/share\/vm\/utilities\/globalDefinitions_visCPP.hpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -0,0 +1,599 @@\n+\/*\n+ * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+package compiler.regalloc;\n+\n+\/**\n+ * @test\n+ * @bug 8317507\n+ * @summary Test that C2's PhaseRegAlloc::_node_regs (a post-register-allocation\n+ *          mapping from machine nodes to assigned registers) does not overflow\n+ *          in the face of a program with a high-density of CISC spilling\n+ *          candidate nodes.\n+ * @run main\/othervm -Xcomp -XX:CompileOnly=compiler.regalloc.TestNodeRegArrayOverflow::testWithCompilerUnrolling\n+                     -XX:CompileCommand=dontinline,compiler.regalloc.TestNodeRegArrayOverflow::dontInline\n+                     compiler.regalloc.TestNodeRegArrayOverflow compiler\n+ * @run main\/othervm -Xcomp -XX:CompileOnly=compiler.regalloc.TestNodeRegArrayOverflow::testWithManualUnrolling\n+                     -XX:CompileCommand=dontinline,compiler.regalloc.TestNodeRegArrayOverflow::dontInline\n+                     compiler.regalloc.TestNodeRegArrayOverflow manual\n+ *\/\n+\n+public class TestNodeRegArrayOverflow {\n+\n+    static int dontInline() {\n+        return 0;\n+    }\n+\n+    static float testWithCompilerUnrolling(float inc) {\n+        int i = 0, j = 0;\n+        \/\/ This non-inlined method call causes 'inc' to be spilled.\n+        float f = dontInline();\n+        \/\/ This two-level reduction loop is unrolled 512 times, which is\n+        \/\/ requested by the SLP-specific unrolling analysis, but not vectorized.\n+        \/\/ Because 'inc' is spilled, each of the unrolled AddF nodes is\n+        \/\/ CISC-spill converted (PhaseChaitin::fixup_spills()). Before the fix,\n+        \/\/ this causes the unique node index counter (Compile::_unique) to grow\n+        \/\/ beyond the size of the node register array\n+        \/\/ (PhaseRegAlloc::_node_regs), and leads to overflow when accessed for\n+        \/\/ nodes that are created later (e.g. during the peephole phase).\n+        while (i++ < 128) {\n+            for (j = 0; j < 16; j++) {\n+                f += inc;\n+            }\n+        }\n+        return f;\n+    }\n+\n+    \/\/ This test reproduces the same failure as 'testWithCompilerUnrolling'\n+    \/\/ without relying on loop transformations.\n+    static float testWithManualUnrolling(float inc) {\n+        int i = 0, j = 0;\n+        float f = dontInline();\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        f += inc;\n+        return f;\n+    }\n+\n+    public static void main(String[] args) {\n+        switch (args[0]) {\n+        case \"compiler\":\n+            testWithCompilerUnrolling(0);\n+            break;\n+        case \"manual\":\n+            testWithManualUnrolling(0);\n+            break;\n+        default:\n+            throw new IllegalArgumentException(\"Invalid mode: \" + args[0]);\n+        }\n+    }\n+}\n","filename":"hotspot\/test\/compiler\/regalloc\/TestNodeRegArrayOverflow.java","additions":599,"deletions":0,"binary":false,"changes":599,"status":"added"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2018, Oracle and\/or its affiliates. All rights reserved.\n@@ -76,3 +76,0 @@\n-        } else {\n-            System.out.println(\"Not in a cgroup, testing...\");\n-            isNotContainer(output);\n","filename":"hotspot\/test\/runtime\/containers\/cgroup\/PlainRead.java","additions":1,"deletions":4,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -0,0 +1,20 @@\n+Owner: CN=Certainly Root E1, O=Certainly, C=US\n+Issuer: CN=Certainly Root E1, O=Certainly, C=US\n+Serial number: 62533b1470333275cf98d9ab9bfccf8\n+Valid from: Thu Apr 01 00:00:00 GMT 2021 until: Sun Apr 01 00:00:00 GMT 2046\n+Signature algorithm name: SHA384withECDSA\n+Subject Public Key Algorithm: 384-bit EC (secp384r1) key\n+Version: 3\n+-----BEGIN CERTIFICATE-----\n+MIIB9zCCAX2gAwIBAgIQBiUzsUcDMydc+Y2aub\/M+DAKBggqhkjOPQQDAzA9MQsw\n+CQYDVQQGEwJVUzESMBAGA1UEChMJQ2VydGFpbmx5MRowGAYDVQQDExFDZXJ0YWlu\n+bHkgUm9vdCBFMTAeFw0yMTA0MDEwMDAwMDBaFw00NjA0MDEwMDAwMDBaMD0xCzAJ\n+BgNVBAYTAlVTMRIwEAYDVQQKEwlDZXJ0YWlubHkxGjAYBgNVBAMTEUNlcnRhaW5s\n+eSBSb290IEUxMHYwEAYHKoZIzj0CAQYFK4EEACIDYgAE3m\/4fxzf7flHh4axpMCK\n++IKXgOqPyEpeKn2IaKcBYhSRJHpcnqMXfYqGITQYUBsQ3tA3SybHGWCA6TS9YBk2\n+QNYphwk8kXr2vBMj3VlOBF7PyAIcGFPBMdjaIOlEjeR2o0IwQDAOBgNVHQ8BAf8E\n+BAMCAQYwDwYDVR0TAQH\/BAUwAwEB\/zAdBgNVHQ4EFgQU8ygYy2R17ikq6+2uI1g4\n+hevIIgcwCgYIKoZIzj0EAwMDaAAwZQIxALGOWiDDshliTd6wT99u0nCK8Z9+aozm\n+ut6Dacpps6kFtZaSF4fC0urQe87YQVt8rgIwRt7qy12a7DLCZRawTDBcMPPaTnOG\n+BtjOiQRINzf43TNRnXCve1XYAS59BWQOhriR\n+-----END CERTIFICATE-----\n","filename":"jdk\/make\/data\/cacerts\/certainlyroote1","additions":20,"deletions":0,"binary":false,"changes":20,"status":"added"},{"patch":"@@ -0,0 +1,38 @@\n+Owner: CN=Certainly Root R1, O=Certainly, C=US\n+Issuer: CN=Certainly Root R1, O=Certainly, C=US\n+Serial number: 8e0ff94b907168653354f4d44439b7e0\n+Valid from: Thu Apr 01 00:00:00 GMT 2021 until: Sun Apr 01 00:00:00 GMT 2046\n+Signature algorithm name: SHA256withRSA\n+Subject Public Key Algorithm: 4096-bit RSA key\n+Version: 3\n+-----BEGIN CERTIFICATE-----\n+MIIFRzCCAy+gAwIBAgIRAI4P+UuQcWhlM1T01EQ5t+AwDQYJKoZIhvcNAQELBQAw\n+PTELMAkGA1UEBhMCVVMxEjAQBgNVBAoTCUNlcnRhaW5seTEaMBgGA1UEAxMRQ2Vy\n+dGFpbmx5IFJvb3QgUjEwHhcNMjEwNDAxMDAwMDAwWhcNNDYwNDAxMDAwMDAwWjA9\n+MQswCQYDVQQGEwJVUzESMBAGA1UEChMJQ2VydGFpbmx5MRowGAYDVQQDExFDZXJ0\n+YWlubHkgUm9vdCBSMTCCAiIwDQYJKoZIhvcNAQEBBQADggIPADCCAgoCggIBANA2\n+1B\/q3avk0bbm+yLA3RMNansiExyXPGhjZjKcA7WNpIGD2ngwEc\/csiu+kr+O5MQT\n+vqRoTNoCaBZ0vrLdBORrKt03H2As2\/X3oXyVtwxwhi7xOu9S98zTm\/mLvg7fMbed\n+aFySpvXl8wo0tf97ouSHocavFwDvA5HtqRxOcT3Si2yJ9HiG5mpJoM610rCrm\/b0\n+1C7jcvk2xusVtyWMOvwlDbMicyF0yEqWYZL1LwsYpfSt4u5BvQF5+paMjRcCMLT5\n+r3gajLQ2EBAHBXDQ9DGQilHFhiZ5shGIXsXwClTNSaa\/ApzSRKft43jvRl5tcdF5\n+cBxGX1HpyTfcX35pe0HfNEXgO4T0oYoKNp43zGJS4YkNKPl6I7ENPT2a\/Z2B7yyQ\n+wHtETrtJ4A5KVpK8y7XdeReJkd5hiXSSqOMyhb5OhaRLWcsrxXiOcVTQAjeZjOVJ\n+6uBUcqQRBi8LjMFbvrWhsFNunLhgkR9Za\/kt9JQKl7XsxXYDVBtlUrpMklZRNaBA\n+2CnbrlJ2Oy0wQJuK0EJWtLeIAaSHO1OWzaMWj\/Nmqhexx2DgwUMFDO6bW2BvBlyH\n+Wyf5QBGenDPBt+U1VwV\/J84XIIwc\/PH72jEpSe31C4SnT8H2TsIonPru4K8H+zMR\n+eiFPCyEQtkA6qyI6BJyLm4SGcprSp6XEtHWRqSsjAgMBAAGjQjBAMA4GA1UdDwEB\n+\/wQEAwIBBjAPBgNVHRMBAf8EBTADAQH\/MB0GA1UdDgQWBBTgqj8ljZ9EXME66C6u\n+d0yEPmcM9DANBgkqhkiG9w0BAQsFAAOCAgEAuVevuBLaV4OPaAszHQNTVfSVcOQr\n+PbA56\/qJYv331hgELyE03fFo8NWWWt7CgKPBjcZq91l3rhVkz1t5BXdm6ozTaw3d\n+8VkswTOlMIAVRQdFGjEitpIAq5lNOo93r6kiyi9jyhXWx8bwPWz8HA2YEGGeEaIi\n+1wrykXprOQ4vMMM2SZ\/g6Q8CRFA3lFV96p\/2O7qUpUzpvD5RtOjKkjZUbVwlKNrd\n+rRT90+7iIgXr0PK3aBLXWopBGsaSpVo7Y0VPv+E6dyIvXL9G+VoDhRNCX8reU9di\n+taY1BMJH\/5n9hN9czulegChB8n3nHpDYT3Y+gjwN\/KUD+nsa2UUeYNrEjvn8K8l7\n+lcUq\/6qJ34IxD3L\/DCfXCh5WAFAeDJDBlrXYFIW7pw0WwfgHJBu6haEaBQmAupVj\n+yTrsJZ9\/nbqkRxWbRHDxakvWOF5D8xh+UG7pWijmZeZ3Gzr9Hb4DJqPb1OG7fpYn\n+Kx3upPvaJVQTA945xsMfTZDsjxtK0hzthZU4UHlG1sGQUDGpXJpuHfUzVounmdLy\n+yCwzk5Iwx06MZTMQZBf9JBeW0Y3COmor6xOLRPIh80oat3df1+2IpHLlOR+Vnb5n\n+wXARPbv0+Em34yaXOp\/SX3z7wJl8OSngex2\/DaeP0ik0biQVy96QXr8axGbqwua6\n+OV+KmalBWQewLK8=\n+-----END CERTIFICATE-----\n","filename":"jdk\/make\/data\/cacerts\/certainlyrootr1","additions":38,"deletions":0,"binary":false,"changes":38,"status":"added"},{"patch":"@@ -24,1 +24,1 @@\n-tzdata2023c\n+tzdata2024a\n","filename":"jdk\/make\/data\/tzdata\/VERSION","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -56,0 +56,4 @@\n+# For the 1911\/1912 establishment of standard time in French possessions, see:\n+# Société Française de Physique, Recueil de constantes physiques (1913),\n+# page 752, 18b.\n+#\n@@ -139,1 +143,1 @@\n-Zone\tAfrica\/Ndjamena\t1:00:12 -\tLMT\t1912        # N'Djamena\n+Zone\tAfrica\/Ndjamena\t1:00:12 -\tLMT\t1912 Jan  1 # N'Djamena\n@@ -165,1 +169,1 @@\n-Zone\tAfrica\/Abidjan\t-0:16:08 -\tLMT\t1912\n+Zone\tAfrica\/Abidjan\t-0:16:08 -\tLMT\t1912 Jan  1\n@@ -311,7 +315,0 @@\n-# From Paul Eggert (2014-06-04):\n-# Sarah El Deeb and Lee Keath of AP report that the Egyptian government says\n-# the change is because of blackouts in Cairo, even though Ahram Online (cited\n-# above) says DST had no affect on electricity consumption.  There is\n-# no information about when DST will end this fall.  See:\n-# http:\/\/abcnews.go.com\/International\/wireStory\/el-sissi-pushes-egyptians-line-23614833\n-\n","filename":"jdk\/make\/data\/tzdata\/africa","additions":6,"deletions":9,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -106,0 +106,5 @@\n+# From Paul Eggert (2023-12-20):\n+# Transitions from 2021 on are taken from:\n+# https:\/\/www.timeanddate.com\/time\/zone\/antarctica\/casey\n+# retrieved at various dates.\n+\n@@ -119,1 +124,6 @@\n-\t\t\t11:00\t-\t+11\n+\t\t\t11:00\t-\t+11\t2021 Mar 14  0:00\n+\t\t\t 8:00\t-\t+08\t2021 Oct  3  0:01\n+\t\t\t11:00\t-\t+11\t2022 Mar 13  0:00\n+\t\t\t 8:00\t-\t+08\t2022 Oct  2  0:01\n+\t\t\t11:00\t-\t+11\t2023 Mar  9  3:00\n+\t\t\t 8:00\t-\t+08\n@@ -266,1 +276,44 @@\n-# See Asia\/Urumqi.\n+# From Craig Mundell (1994-12-15):\n+# http:\/\/quest.arc.nasa.gov\/antarctica\/QA\/computers\/Directions,Time,ZIP\n+# Vostok, which is one of the Russian stations, is set on the same\n+# time as Moscow, Russia.\n+#\n+# From Lee Hotz (2001-03-08):\n+# I queried the folks at Columbia who spent the summer at Vostok and this is\n+# what they had to say about time there:\n+# \"in the US Camp (East Camp) we have been on New Zealand (McMurdo)\n+# time, which is 12 hours ahead of GMT. The Russian Station Vostok was\n+# 6 hours behind that (although only 2 miles away, i.e. 6 hours ahead\n+# of GMT). This is a time zone I think two hours east of Moscow. The\n+# natural time zone is in between the two: 8 hours ahead of GMT.\"\n+#\n+# From Paul Eggert (2001-05-04):\n+# This seems to be hopelessly confusing, so I asked Lee Hotz about it\n+# in person.  He said that some Antarctic locations set their local\n+# time so that noon is the warmest part of the day, and that this\n+# changes during the year and does not necessarily correspond to mean\n+# solar noon.  So the Vostok time might have been whatever the clocks\n+# happened to be during their visit.  So we still don't really know what time\n+# it is at Vostok.\n+#\n+# From Zakhary V. Akulov (2023-12-17 22:00:48 +0700):\n+# ... from December, 18, 2023 00:00 by my decision the local time of\n+# the Antarctic research base Vostok will correspond to UTC+5.\n+# (2023-12-19): We constantly interact with Progress base, with company who\n+# builds new wintering station, with sledge convoys, with aviation - they all\n+# use UTC+5. Besides, difference between Moscow time is just 2 hours now, not 4.\n+# (2023-12-19, in response to the question \"Has local time at Vostok\n+# been UTC+6 ever since 1957, or has it changed before?\"): No. At least\n+# since my antarctic career start, 10 years ago, Vostok base has UTC+7.\n+# (In response to a 2023-12-18 question \"from 02:00 to 00:00 today\"): This.\n+#\n+# From Paul Eggert (2023-12-18):\n+# For lack of better info, guess Vostok was at +07 from founding through today,\n+# except when closed.\n+\n+# Zone\tNAME\t\tSTDOFF\tRULES\tFORMAT\t[UNTIL]\n+Zone Antarctica\/Vostok\t0\t-\t-00\t1957 Dec 16\n+\t\t\t7:00\t-\t+07\t1994 Feb\n+\t\t\t0\t-\t-00\t1994 Nov\n+\t\t\t7:00\t-\t+07\t2023 Dec 18  2:00\n+\t\t\t5:00\t-\t+05\n","filename":"jdk\/make\/data\/tzdata\/antarctica","additions":55,"deletions":2,"binary":false,"changes":57,"status":"modified"},{"patch":"@@ -681,1 +681,0 @@\n-# Vostok base in Antarctica matches this since 1970.\n@@ -2484,0 +2483,11 @@\n+# From Zhanbolat Raimbekov (2024-01-19):\n+# Kazakhstan (all parts) switching to UTC+5 on March 1, 2024\n+# https:\/\/www.gov.kz\/memleket\/entities\/mti\/press\/news\/details\/688998?lang=ru\n+# [in Russian]\n+# (2024-01-20): https:\/\/primeminister.kz\/ru\/decisions\/19012024-20\n+#\n+# From Alexander Krivenyshev (2024-01-19):\n+# According to a different news and the official web site for the Ministry of\n+# Trade and Integration of the Republic of Kazakhstan:\n+# https:\/\/en.inform.kz\/news\/kazakhstan-to-switch-to-single-hour-zone-mar-1-54ad0b\/\n+\n@@ -2487,2 +2497,5 @@\n-# This includes KZ-AKM, KZ-ALA, KZ-ALM, KZ-AST, KZ-BAY, KZ-VOS, KZ-ZHA,\n-# KZ-KAR, KZ-SEV, KZ-PAV, and KZ-YUZ.\n+# This includes Abai\/Abay (ISO 3166-2 code KZ-10), Aqmola\/Akmola (KZ-11),\n+# Almaty (KZ-19), Almaty city (KZ-75), Astana city (KZ-71),\n+# East Kazkhstan (KZ-63), Jambyl\/Zhambyl (KZ-31), Jetisu\/Zhetysu (KZ-33),\n+# Karaganda (KZ-35), North Kazakhstan (KZ-59), Pavlodar (KZ-55),\n+# Shyumkent city (KZ-79), Turkistan (KZ-61), and Ulytau (KZ-62).\n@@ -2494,2 +2507,3 @@\n-\t\t\t6:00\t-\t+06\n-# Qyzylorda (aka Kyzylorda, Kizilorda, Kzyl-Orda, etc.) (KZ-KZY)\n+\t\t\t6:00\t-\t+06\t2024 Mar  1  0:00\n+\t\t\t5:00\t-\t+05\n+# Qyzylorda (aka Kyzylorda, Kizilorda, Kzyl-Orda, etc.) (KZ-43)\n@@ -2508,2 +2522,1 @@\n-#\n-# Qostanay (aka Kostanay, Kustanay) (KZ-KUS)\n+# Qostanay (aka Kostanay, Kustanay) (KZ-39)\n@@ -2520,3 +2533,3 @@\n-\t\t\t6:00\t-\t+06\n-\n-# Aqtöbe (aka Aktobe, formerly Aktyubinsk) (KZ-AKT)\n+\t\t\t6:00\t-\t+06\t2024 Mar  1  0:00\n+\t\t\t5:00\t-\t+05\n+# Aqtöbe (aka Aktobe, formerly Aktyubinsk) (KZ-15)\n@@ -2532,1 +2545,1 @@\n-# Mangghystaū (KZ-MAN)\n+# Mangghystaū (KZ-47)\n@@ -2544,1 +2557,1 @@\n-# Atyraū (KZ-ATY) is like Mangghystaū except it switched from\n+# Atyraū (KZ-23) is like Mangghystaū except it switched from\n@@ -2555,1 +2568,1 @@\n-# West Kazakhstan (KZ-ZAP)\n+# West Kazakhstan (KZ-27)\n@@ -3453,2 +3466,12 @@\n-#\n-# From Paul Eggert (2023-03-22):\n+# From Heba Hemad (2023-10-09):\n+# ... winter time will begin in Palestine from Saturday 10-28-2023,\n+# 02:00 AM by 60 minutes back.\n+#\n+# From Heba Hamad (2024-01-25):\n+# the summer time for the years 2024,2025 will begin in Palestine\n+# from Saturday at 02:00 AM by 60 minutes forward as shown below:\n+# year date\n+# 2024 2024-04-20\n+# 2025 2025-04-12\n+#\n+# From Paul Eggert (2024-01-25):\n@@ -3458,1 +3481,1 @@\n-# to DST at 02:00 the first Saturday after Ramadan, and that\n+# to DST at 02:00 the second Saturday after Ramadan, and that\n@@ -3462,1 +3485,1 @@\n-# 2023 through 2086 by running the following program under GNU Emacs 28.2,\n+# 2026 through 2086 by running the following program under GNU Emacs 29.2,\n@@ -3466,1 +3489,1 @@\n-# (let ((islamic-year 1444))\n+# (let ((islamic-year 1447))\n@@ -3475,0 +3498,1 @@\n+#       (setq b (+ 7 b))\n@@ -3525,2 +3549,2 @@\n-Rule Palestine\t2024\tonly\t-\tApr\t13\t2:00\t1:00\tS\n-Rule Palestine\t2025\tonly\t-\tApr\t 5\t2:00\t1:00\tS\n+Rule Palestine\t2024\tonly\t-\tApr\t20\t2:00\t1:00\tS\n+Rule Palestine\t2025\tonly\t-\tApr\t12\t2:00\t1:00\tS\n@@ -3532,2 +3556,0 @@\n-Rule Palestine\t2039\tonly\t-\tOct\t22\t2:00\t1:00\tS\n-Rule Palestine\t2039\t2067\t-\tOct\tSat<=30\t2:00\t0\t-\n@@ -3535,1 +3557,2 @@\n-Rule Palestine\t2040\tonly\t-\tOct\t13\t2:00\t1:00\tS\n+Rule Palestine\t2040\tonly\t-\tOct\t20\t2:00\t1:00\tS\n+Rule Palestine\t2040\t2067\t-\tOct\tSat<=30\t2:00\t0\t-\n@@ -3537,1 +3560,1 @@\n-Rule Palestine\t2041\tonly\t-\tSep\t28\t2:00\t1:00\tS\n+Rule Palestine\t2041\tonly\t-\tOct\t 5\t2:00\t1:00\tS\n@@ -3539,1 +3562,1 @@\n-Rule Palestine\t2042\tonly\t-\tSep\t20\t2:00\t1:00\tS\n+Rule Palestine\t2042\tonly\t-\tSep\t27\t2:00\t1:00\tS\n@@ -3541,1 +3564,1 @@\n-Rule Palestine\t2043\tonly\t-\tSep\t12\t2:00\t1:00\tS\n+Rule Palestine\t2043\tonly\t-\tSep\t19\t2:00\t1:00\tS\n@@ -3543,1 +3566,1 @@\n-Rule Palestine\t2044\tonly\t-\tAug\t27\t2:00\t1:00\tS\n+Rule Palestine\t2044\tonly\t-\tSep\t 3\t2:00\t1:00\tS\n@@ -3545,1 +3568,1 @@\n-Rule Palestine\t2045\tonly\t-\tAug\t19\t2:00\t1:00\tS\n+Rule Palestine\t2045\tonly\t-\tAug\t26\t2:00\t1:00\tS\n@@ -3547,1 +3570,1 @@\n-Rule Palestine\t2046\tonly\t-\tAug\t11\t2:00\t1:00\tS\n+Rule Palestine\t2046\tonly\t-\tAug\t18\t2:00\t1:00\tS\n@@ -3549,1 +3572,1 @@\n-Rule Palestine\t2047\tonly\t-\tJul\t27\t2:00\t1:00\tS\n+Rule Palestine\t2047\tonly\t-\tAug\t 3\t2:00\t1:00\tS\n@@ -3551,1 +3574,1 @@\n-Rule Palestine\t2048\tonly\t-\tJul\t18\t2:00\t1:00\tS\n+Rule Palestine\t2048\tonly\t-\tJul\t25\t2:00\t1:00\tS\n@@ -3553,1 +3576,1 @@\n-Rule Palestine\t2049\tonly\t-\tJul\t 3\t2:00\t1:00\tS\n+Rule Palestine\t2049\tonly\t-\tJul\t10\t2:00\t1:00\tS\n@@ -3555,1 +3578,1 @@\n-Rule Palestine\t2050\tonly\t-\tJun\t25\t2:00\t1:00\tS\n+Rule Palestine\t2050\tonly\t-\tJul\t 2\t2:00\t1:00\tS\n@@ -3557,1 +3580,1 @@\n-Rule Palestine\t2051\tonly\t-\tJun\t17\t2:00\t1:00\tS\n+Rule Palestine\t2051\tonly\t-\tJun\t24\t2:00\t1:00\tS\n@@ -3559,1 +3582,1 @@\n-Rule Palestine\t2052\tonly\t-\tJun\t 1\t2:00\t1:00\tS\n+Rule Palestine\t2052\tonly\t-\tJun\t 8\t2:00\t1:00\tS\n@@ -3561,1 +3584,1 @@\n-Rule Palestine\t2053\tonly\t-\tMay\t24\t2:00\t1:00\tS\n+Rule Palestine\t2053\tonly\t-\tMay\t31\t2:00\t1:00\tS\n@@ -3563,5 +3586,6 @@\n-Rule Palestine\t2054\tonly\t-\tMay\t16\t2:00\t1:00\tS\n-Rule Palestine\t2055\tonly\t-\tMay\t 1\t2:00\t1:00\tS\n-Rule Palestine\t2056\tonly\t-\tApr\t22\t2:00\t1:00\tS\n-Rule Palestine\t2057\tonly\t-\tApr\t 7\t2:00\t1:00\tS\n-Rule Palestine\t2058\tmax\t-\tMar\tSat<=30\t2:00\t1:00\tS\n+Rule Palestine\t2054\tonly\t-\tMay\t23\t2:00\t1:00\tS\n+Rule Palestine\t2055\tonly\t-\tMay\t 8\t2:00\t1:00\tS\n+Rule Palestine\t2056\tonly\t-\tApr\t29\t2:00\t1:00\tS\n+Rule Palestine\t2057\tonly\t-\tApr\t14\t2:00\t1:00\tS\n+Rule Palestine\t2058\tonly\t-\tApr\t 6\t2:00\t1:00\tS\n+Rule Palestine\t2059\tmax\t-\tMar\tSat<=30\t2:00\t1:00\tS\n@@ -3573,1 +3597,2 @@\n-Rule Palestine\t2072\tonly\t-\tOct\t15\t2:00\t1:00\tS\n+Rule Palestine\t2072\tonly\t-\tOct\t22\t2:00\t1:00\tS\n+Rule Palestine\t2072\tmax\t-\tOct\tSat<=30\t2:00\t0\t-\n@@ -3575,1 +3600,1 @@\n-Rule Palestine\t2073\tonly\t-\tOct\t 7\t2:00\t1:00\tS\n+Rule Palestine\t2073\tonly\t-\tOct\t14\t2:00\t1:00\tS\n@@ -3577,1 +3602,1 @@\n-Rule Palestine\t2074\tonly\t-\tSep\t29\t2:00\t1:00\tS\n+Rule Palestine\t2074\tonly\t-\tOct\t 6\t2:00\t1:00\tS\n@@ -3579,2 +3604,1 @@\n-Rule Palestine\t2075\tonly\t-\tSep\t14\t2:00\t1:00\tS\n-Rule Palestine\t2075\tmax\t-\tOct\tSat<=30\t2:00\t0\t-\n+Rule Palestine\t2075\tonly\t-\tSep\t21\t2:00\t1:00\tS\n@@ -3582,1 +3606,1 @@\n-Rule Palestine\t2076\tonly\t-\tSep\t 5\t2:00\t1:00\tS\n+Rule Palestine\t2076\tonly\t-\tSep\t12\t2:00\t1:00\tS\n@@ -3584,1 +3608,1 @@\n-Rule Palestine\t2077\tonly\t-\tAug\t28\t2:00\t1:00\tS\n+Rule Palestine\t2077\tonly\t-\tSep\t 4\t2:00\t1:00\tS\n@@ -3586,1 +3610,1 @@\n-Rule Palestine\t2078\tonly\t-\tAug\t13\t2:00\t1:00\tS\n+Rule Palestine\t2078\tonly\t-\tAug\t20\t2:00\t1:00\tS\n@@ -3588,1 +3612,1 @@\n-Rule Palestine\t2079\tonly\t-\tAug\t 5\t2:00\t1:00\tS\n+Rule Palestine\t2079\tonly\t-\tAug\t12\t2:00\t1:00\tS\n@@ -3590,1 +3614,1 @@\n-Rule Palestine\t2080\tonly\t-\tJul\t20\t2:00\t1:00\tS\n+Rule Palestine\t2080\tonly\t-\tJul\t27\t2:00\t1:00\tS\n@@ -3592,1 +3616,1 @@\n-Rule Palestine\t2081\tonly\t-\tJul\t12\t2:00\t1:00\tS\n+Rule Palestine\t2081\tonly\t-\tJul\t19\t2:00\t1:00\tS\n@@ -3594,1 +3618,1 @@\n-Rule Palestine\t2082\tonly\t-\tJul\t 4\t2:00\t1:00\tS\n+Rule Palestine\t2082\tonly\t-\tJul\t11\t2:00\t1:00\tS\n@@ -3596,1 +3620,1 @@\n-Rule Palestine\t2083\tonly\t-\tJun\t19\t2:00\t1:00\tS\n+Rule Palestine\t2083\tonly\t-\tJun\t26\t2:00\t1:00\tS\n@@ -3598,1 +3622,1 @@\n-Rule Palestine\t2084\tonly\t-\tJun\t10\t2:00\t1:00\tS\n+Rule Palestine\t2084\tonly\t-\tJun\t17\t2:00\t1:00\tS\n@@ -3600,1 +3624,1 @@\n-Rule Palestine\t2085\tonly\t-\tJun\t 2\t2:00\t1:00\tS\n+Rule Palestine\t2085\tonly\t-\tJun\t 9\t2:00\t1:00\tS\n@@ -3602,1 +3626,1 @@\n-Rule Palestine\t2086\tonly\t-\tMay\t18\t2:00\t1:00\tS\n+Rule Palestine\t2086\tonly\t-\tMay\t25\t2:00\t1:00\tS\n@@ -3630,1 +3654,1 @@\n-# From Paul Eggert (2018-11-18):\n+# From Paul Eggert (2024-01-21):\n@@ -3638,1 +3662,1 @@\n-# https:\/\/www.staff.science.uu.nl\/~gent0113\/idl\/idl_philippines.htm\n+# https:\/\/webspace.science.uu.nl\/~gent0113\/idl\/idl_philippines.htm\n@@ -4065,1 +4089,2 @@\n-# From Paul Eggert (2022-07-27) after a 2014 heads-up from Trần Ngọc Quân:\n+# From Paul Eggert (2024-01-14) after a 2014 heads-up from Trần Ngọc Quân\n+# and a 2024-01-14 heads-up from Đoàn Trần Công Danh:\n@@ -4095,2 +4120,5 @@\n-# Hoàng Xuân Hãn: \"Lịch và lịch Việt Nam\". Tập san Khoa học Xã hội,\n-# No. 9, Paris, February 1982.\n+#   Hoàng Xuân Hãn: \"Lịch và lịch Việt Nam\". Tập san Khoa học Xã hội,\n+#   No. 9, Paris, February 1982.\n+#\n+#   Lê Thành Lân: \"Lịch và niên biểu lịch sử hai mươi thế kỷ (0001-2010)\",\n+#   NXB Thống kê, Hanoi, 2000.\n@@ -4098,2 +4126,2 @@\n-# Lê Thành Lân: \"Lịch và niên biểu lịch sử hai mươi thế kỷ (0001-2010)\",\n-# NXB Thống kê, Hanoi, 2000.\n+#   Lê Thành Lân: \"Lịch hai thế kỷ (1802-2010) và các lịch vĩnh cửu\",\n+#   NXB Thuận Hoá, Huế, 1995.\n@@ -4101,2 +4129,20 @@\n-# Lê Thành Lân: \"Lịch hai thế kỷ (1802-2010) và các lịch vĩnh cửu\",\n-# NXB Thuận Hoá, Huế, 1995.\n+# Here is the decision for the September 1945 transition:\n+# Võ Nguyên Giáp, Việt Nam Dân Quốc Công Báo, No. 1 (1945-09-29), page 13\n+# http:\/\/baochi.nlv.gov.vn\/baochi\/cgi-bin\/baochi?a=d&d=JwvzO19450929.2.5&dliv=none\n+# It says that on 1945-09-01 at 24:00, Vietnam moved back two hours, to +07.\n+# It also mentions a 1945-03-29 decree (by a Japanese Goveror-General)\n+# to set the time zone to +09, but does not say whether that decree\n+# merely legalized an earlier change to +09.\n+#\n+# July 1955 transition:\n+# Ngô Đình Diệm, Công Báo Việt Nam, No. 92 (1955-07-02), page 1780-1781\n+# Ordinance (Dụ) No. 46 (1955-06-25)\n+# http:\/\/ddsnext.crl.edu\/titles\/32341#?c=0&m=29&s=0&cv=4&r=0&xywh=-89%2C342%2C1724%2C1216\n+# It says that on 1955-07-01 at 01:00, South Vietnam moved back 1 hour (to +07).\n+#\n+# December 1959 transition:\n+# Ngô Đình Diệm, Công Báo Việt Nam Cộng Hòa, 1960 part 1 (1960-01-02), page 62\n+# Decree (Sắc lệnh) No. 362-TTP (1959-12-30)\n+# http:\/\/ddsnext.crl.edu\/titles\/32341#?c=0&m=138&s=0&cv=793&r=0&xywh=-54%2C1504%2C1705%2C1202\n+# It says that on 1959-12-31 at 23:00, South Vietnam moved forward 1 hour (to +08).\n+\n@@ -4110,1 +4156,1 @@\n-\t\t\t9:00\t-\t+09\t1945 Sep  2\n+\t\t\t9:00\t-\t+09\t1945 Sep  1 24:00\n@@ -4112,1 +4158,1 @@\n-\t\t\t8:00\t-\t+08\t1955 Jul  1\n+\t\t\t8:00\t-\t+08\t1955 Jul  1 01:00\n","filename":"jdk\/make\/data\/tzdata\/asia","additions":114,"deletions":68,"binary":false,"changes":182,"status":"modified"},{"patch":"@@ -417,0 +417,6 @@\n+\n+# From Almaz Mingaleev (2023-10-06):\n+# Cabinet approved the suspension of Daylight Saving and appropriate\n+# legislative changes will be considered including the repeal of the\n+# Daylight Saving Act 1998\n+# https:\/\/www.fiji.gov.fj\/Media-Centre\/Speeches\/English\/CABINET-DECISIONS-3-OCTOBER-2023\n@@ -418,1 +424,1 @@\n-# From Paul Eggert (2022-10-27):\n+# From Paul Eggert (2023-10-06):\n@@ -440,1 +446,1 @@\n-Zone\tPacific\/Gambier\t -8:59:48 -\tLMT\t1912 Oct # Rikitea\n+Zone\tPacific\/Gambier\t -8:59:48 -\tLMT\t1912 Oct  1 # Rikitea\n@@ -442,1 +448,1 @@\n-Zone\tPacific\/Marquesas -9:18:00 -\tLMT\t1912 Oct\n+Zone\tPacific\/Marquesas -9:18:00 -\tLMT\t1912 Oct  1\n@@ -444,1 +450,1 @@\n-Zone\tPacific\/Tahiti\t -9:58:16 -\tLMT\t1912 Oct # Papeete\n+Zone\tPacific\/Tahiti\t -9:58:16 -\tLMT\t1912 Oct  1 # Papeete\n@@ -822,1 +828,1 @@\n-Zone Pacific\/Guadalcanal 10:39:48 -\tLMT\t1912 Oct # Honiara\n+Zone Pacific\/Guadalcanal 10:39:48 -\tLMT\t1912 Oct  1 # Honiara\n@@ -983,0 +989,4 @@\n+# For the 1911\/1912 establishment of standard time in French possessions, see:\n+# Société Française de Physique, Recueil de constantes physiques (1913),\n+# page 752, 18b.\n+#\n@@ -2059,1 +2069,1 @@\n-# https:\/\/www.staff.science.uu.nl\/~gent0113\/idl\/idl.htm\n+# https:\/\/webspace.science.uu.nl\/~gent0113\/idl\/idl_alaska_samoa.htm\n","filename":"jdk\/make\/data\/tzdata\/australasia","additions":16,"deletions":6,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -231,1 +231,0 @@\n-Link\tAsia\/Urumqi\t\tAntarctica\/Vostok\n","filename":"jdk\/make\/data\/tzdata\/backward","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -31,1 +31,1 @@\n-# support for POSIX-style TZ strings.  On such platforms these entries\n+# support for POSIX.1-2017-style TZ strings.  On such platforms these entries\n","filename":"jdk\/make\/data\/tzdata\/etcetera","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1016,2 +1016,18 @@\n-# From Paul Eggert (2018-04-15):\n-# The source for Czech data is: Kdy začíná a končí letní čas. 2018-04-15.\n+# From Ivan Benovic (2024-01-30):\n+# https:\/\/www.slov-lex.sk\/pravne-predpisy\/SK\/ZZ\/1946\/54\/\n+# (This is an official link to the Czechoslovak Summer Time Act of\n+# March 8, 1946 that authorizes the Czechoslovak government to set the\n+# exact dates of change to summer time and back to Central European Time.\n+# The act also implicitly confirms Central European Time as the\n+# official time zone of Czechoslovakia and currently remains in force\n+# in both the Czech Republic and Slovakia.)\n+# https:\/\/www.psp.cz\/eknih\/1945pns\/tisky\/t0216_00.htm\n+# (This is a link to the original legislative proposal dating back to\n+# February 22, 1946. The accompanying memorandum to the proposal says\n+# that an advisory committee on European railroad transportation that\n+# met in Brussels in October 1945 decided that the change of time\n+# should be carried out in all participating countries in a strictly\n+# coordinated manner....)\n+#\n+# From Paul Eggert (2024-01-30):\n+# The source for Czech data is: Kdy začíná a končí letní čas.\n@@ -1019,0 +1035,9 @@\n+# Its main text disagrees with its quoted sources only in 1918,\n+# where the main text says spring and autumn transitions\n+# occurred at 02:00 and 03:00 respectively (as usual),\n+# whereas the 1918 source \"Oznámení o zavedení letního času v roce 1918\"\n+# says transitions were at 01:00 and 02:00 respectively.\n+# As the 1918 source appears to be a humorous piece, and it is\n+# unlikely that Prague would have disagreed with its neighbors by an hour,\n+# go with the main text for now.\n+#\n@@ -1149,0 +1174,17 @@\n+#\n+# From Múte Bourup Egede via Jógvan Svabo Samuelsen (2023-03-15):\n+# Greenland will not switch to Daylight Saving Time this year, 2023,\n+# because the standard time for Greenland will change from UTC -3 to UTC -2.\n+# However, Greenland will change to Daylight Saving Time again in 2024\n+# and onwards.\n+\n+# From a contributor who wishes to remain anonymous for now (2023-10-29):\n+# https:\/\/www.dr.dk\/nyheder\/seneste\/i-nat-skal-uret-stilles-en-time-tilbage-men-foerste-gang-sker-det-ikke-i-groenland\n+# with a link to that page:\n+# https:\/\/naalakkersuisut.gl\/Nyheder\/2023\/10\/2710_sommertid\n+# ... Ittoqqortoormiit joins the time of Nuuk at March 2024.\n+# What would mean that America\/Scoresbysund would either be in -01 year round\n+# or in -02\/-01 like America\/Nuuk, but no longer in -01\/+00.\n+#\n+# From Paul Eggert (2023-10-29):\n+# For now, assume it will be like America\/Nuuk.\n@@ -1169,1 +1211,2 @@\n-\t\t\t-1:00\tEU\t-01\/+00\n+\t\t\t-1:00\tEU\t-01\/+00 2024 Mar 31\n+\t\t\t-2:00\tEU\t-02\/-01\n@@ -1172,1 +1215,2 @@\n-\t\t\t-3:00\tEU\t-03\/-02\t2023 Oct 29  1:00u\n+\t\t\t-3:00\tEU\t-03\/-02\t2023 Mar 26  1:00u\n+\t\t\t-2:00\t-\t-02\t2023 Oct 29  1:00u\n@@ -3737,5 +3781,1 @@\n-# The next change in October 1996 happened under EU rules....\n-# TZ database holds three other zones for Ukraine.... I have not yet\n-# worked out the consequences for these three zones, as we (me and my\n-# US colleague David Cochrane) are still trying to get more\n-# information upon these local deviations from Kiev rules.\n+# The next change in October 1996 happened under EU rules.\n","filename":"jdk\/make\/data\/tzdata\/europe","additions":49,"deletions":9,"binary":false,"changes":58,"status":"modified"},{"patch":"@@ -29,1 +29,1 @@\n-# From Paul Eggert (2022-11-18):\n+# From Paul Eggert (2023-09-06):\n@@ -35,5 +35,10 @@\n-#     ISO 3166-1 N1087 (2022-09-02).  See: Updates on ISO 3166-1\n-#     https:\/\/isotc.iso.org\/livelink\/livelink\/Open\/16944257\n-# 2.  The usual English name for the coded region,\n-#     chosen so that alphabetic sorting of subsets produces helpful lists.\n-#     This is not the same as the English name in the ISO 3166 tables.\n+#     ISO\/TC 46 N1108 (2023-04-05).  See: ISO\/TC 46 Documents\n+#     https:\/\/www.iso.org\/committee\/48750.html?view=documents\n+# 2.  The usual English name for the coded region.  This sometimes\n+#     departs from ISO-listed names, sometimes so that sorted subsets\n+#     of names are useful (e.g., \"Samoa (American)\" and \"Samoa\n+#     (western)\" rather than \"American Samoa\" and \"Samoa\"),\n+#     sometimes to avoid confusion among non-experts (e.g.,\n+#     \"Czech Republic\" and \"Turkey\" rather than \"Czechia\" and \"Türkiye\"),\n+#     and sometimes to omit needless detail or churn (e.g., \"Netherlands\"\n+#     rather than \"Netherlands (the)\" or \"Netherlands (Kingdom of the)\").\n","filename":"jdk\/make\/data\/tzdata\/iso3166.tab","additions":11,"deletions":6,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -29,4 +29,1 @@\n-# NIST format leap-seconds.list file, which can be copied from\n-# <ftp:\/\/ftp.nist.gov\/pub\/time\/leap-seconds.list>\n-# or <ftp:\/\/ftp.boulder.nist.gov\/pub\/time\/leap-seconds.list>.\n-# The NIST file is used instead of its IERS upstream counterpart\n+# NIST\/IERS format leap-seconds.list file, which can be copied from\n@@ -34,2 +31,2 @@\n-# because under US law the NIST file is public domain\n-# whereas the IERS file's copyright and license status is unclear.\n+# or, in a variant with different comments, from\n+# <ftp:\/\/ftp.boulder.nist.gov\/pub\/time\/leap-seconds.list>.\n@@ -98,1 +95,1 @@\n-#Expires 2023\tDec\t28\t00:00:00\n+#Expires 2024\tDec\t28\t00:00:00\n@@ -101,2 +98,2 @@\n-#updated 1467936000 (2016-07-08 00:00:00 UTC)\n-#expires 1703721600 (2023-12-28 00:00:00 UTC)\n+#updated 1704708379 (2024-01-08 10:06:19 UTC)\n+#expires 1735344000 (2024-12-28 00:00:00 UTC)\n@@ -104,2 +101,2 @@\n-#\tUpdated through IERS Bulletin C65\n-#\tFile expires on:  28 December 2023\n+#\tUpdated through IERS Bulletin C (https:\/\/hpiers.obspm.fr\/iers\/bul\/bulc\/bulletinc.dat)\n+#\tFile expires on 28 December 2024\n","filename":"jdk\/make\/data\/tzdata\/leapseconds","additions":8,"deletions":11,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -1294,0 +1294,4 @@\n+# For the 1911\/1912 establishment of standard time in French possessions, see:\n+# Société Française de Physique, Recueil de constantes physiques (1913),\n+# page 752, 18b.\n+#\n@@ -1380,1 +1384,1 @@\n-# http:\/\/www.canadiangeographic.ca\/Magazine\/SO98\/alacarte.asp\n+# https:\/\/web.archive.org\/web\/19990827055050\/https:\/\/canadiangeographic.ca\/SO98\/geomap.htm\n@@ -1479,1 +1483,1 @@\n-# St John's has an apostrophe, but Posix file names can't have apostrophes.\n+# St John's has an apostrophe, but POSIX file names can't have apostrophes.\n@@ -1668,0 +1672,9 @@\n+# From Chris Walton (2024-01-09):\n+# The [Toronto] changes in 1947, 1948, and 1949 took place at 2:00 a.m. local\n+# time instead of midnight....  Toronto Daily Star - ...\n+# April 2, 1947 - Page 39 ... April 7, 1948 - Page 13 ...\n+# April 2, 1949 - Page 1 ... April 7, 1949 - Page 24 ...\n+# November 25, 1949 - Page 52 ... April 21, 1950 - Page 14 ...\n+# September 19, 1950 - Page 46 ... September 20, 1950 - Page 3 ...\n+# November 24, 1950 - Page 21\n+\n@@ -1729,7 +1742,3 @@\n-Rule\tToronto\t1945\t1946\t-\tSep\tlastSun\t2:00\t0\tS\n-Rule\tToronto\t1946\tonly\t-\tApr\tlastSun\t2:00\t1:00\tD\n-Rule\tToronto\t1947\t1949\t-\tApr\tlastSun\t0:00\t1:00\tD\n-Rule\tToronto\t1947\t1948\t-\tSep\tlastSun\t0:00\t0\tS\n-Rule\tToronto\t1949\tonly\t-\tNov\tlastSun\t0:00\t0\tS\n-Rule\tToronto\t1950\t1973\t-\tApr\tlastSun\t2:00\t1:00\tD\n-Rule\tToronto\t1950\tonly\t-\tNov\tlastSun\t2:00\t0\tS\n+Rule\tToronto\t1945\t1948\t-\tSep\tlastSun\t2:00\t0\tS\n+Rule\tToronto\t1946\t1973\t-\tApr\tlastSun\t2:00\t1:00\tD\n+Rule\tToronto\t1949\t1950\t-\tNov\tlastSun\t2:00\t0\tS\n@@ -3458,1 +3467,1 @@\n-\t\t\t-4:04:20 -\tFFMT\t1911 May    # Fort-de-France MT\n+\t\t\t-4:04:20 -\tFFMT\t1911 May  1 # Fort-de-France MT\n@@ -3565,1 +3574,1 @@\n-Zone America\/Miquelon\t-3:44:40 -\tLMT\t1911 May 15 # St Pierre\n+Zone America\/Miquelon\t-3:44:40 -\tLMT\t1911 Jun 15 # St Pierre\n","filename":"jdk\/make\/data\/tzdata\/northamerica","additions":20,"deletions":11,"binary":false,"changes":31,"status":"modified"},{"patch":"@@ -1596,0 +1596,3 @@\n+# For the 1911\/1912 establishment of standard time in French possessions, see:\n+# Société Française de Physique, Recueil de constantes physiques (1913),\n+# page 752, 18b.\n@@ -1597,1 +1600,1 @@\n-Zone America\/Cayenne\t-3:29:20 -\tLMT\t1911 Jul\n+Zone America\/Cayenne\t-3:29:20 -\tLMT\t1911 Jul  1\n@@ -1723,0 +1726,6 @@\n+#\n+# From Paul Eggert (2023-07-26):\n+# Transition dates are now set by Law No. 7115, not by presidential decree.\n+# https:\/\/www.abc.com.py\/politica\/2023\/07\/12\/promulgacion-el-cambio-de-hora-sera-por-ley\/\n+# From Carlos Raúl Perasso (2023-07-27):\n+# http:\/\/silpy.congreso.gov.py\/descarga\/ley-144138\n","filename":"jdk\/make\/data\/tzdata\/southamerica","additions":10,"deletions":1,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -74,1 +74,1 @@\n-AR\t-2828-06547\tAmerica\/Argentina\/Catamarca\tCatamarca (CT); Chubut (CH)\n+AR\t-2828-06547\tAmerica\/Argentina\/Catamarca\tCatamarca (CT), Chubut (CH)\n@@ -113,1 +113,1 @@\n-BR\t-0127-04829\tAmerica\/Belem\tPara (east); Amapa\n+BR\t-0127-04829\tAmerica\/Belem\tPara (east), Amapa\n@@ -133,2 +133,2 @@\n-CA\t+4734-05243\tAmerica\/St_Johns\tNewfoundland; Labrador (southeast)\n-CA\t+4439-06336\tAmerica\/Halifax\tAtlantic - NS (most areas); PE\n+CA\t+4734-05243\tAmerica\/St_Johns\tNewfoundland, Labrador (SE)\n+CA\t+4439-06336\tAmerica\/Halifax\tAtlantic - NS (most areas), PE\n@@ -139,1 +139,1 @@\n-CA\t+4339-07923\tAmerica\/Toronto\tEastern - ON, QC (most areas)\n+CA\t+4339-07923\tAmerica\/Toronto\tEastern - ON & QC (most areas)\n@@ -141,2 +141,2 @@\n-CA\t+484531-0913718\tAmerica\/Atikokan\tEST - ON (Atikokan); NU (Coral H)\n-CA\t+4953-09709\tAmerica\/Winnipeg\tCentral - ON (west); Manitoba\n+CA\t+484531-0913718\tAmerica\/Atikokan\tEST - ON (Atikokan), NU (Coral H)\n+CA\t+4953-09709\tAmerica\/Winnipeg\tCentral - ON (west), Manitoba\n@@ -147,1 +147,1 @@\n-CA\t+5333-11328\tAmerica\/Edmonton\tMountain - AB; BC (E); NT (E); SK (W)\n+CA\t+5333-11328\tAmerica\/Edmonton\tMountain - AB, BC(E), NT(E), SK(W)\n@@ -233,2 +233,2 @@\n-ID\t-0507+11924\tAsia\/Makassar\tBorneo (east, south); Sulawesi\/Celebes, Bali, Nusa Tengarra; Timor (west)\n-ID\t-0232+14042\tAsia\/Jayapura\tNew Guinea (West Papua \/ Irian Jaya); Malukus\/Moluccas\n+ID\t-0507+11924\tAsia\/Makassar\tBorneo (east, south), Sulawesi\/Celebes, Bali, Nusa Tengarra, Timor (west)\n+ID\t-0232+14042\tAsia\/Jayapura\tNew Guinea (West Papua \/ Irian Jaya), Malukus\/Moluccas\n@@ -381,1 +381,1 @@\n-RU\t+6728+15343\tAsia\/Srednekolymsk\tMSK+08 - Sakha (E); N Kuril Is\n+RU\t+6728+15343\tAsia\/Srednekolymsk\tMSK+08 - Sakha (E), N Kuril Is\n@@ -444,1 +444,1 @@\n-US\t+433649-1161209\tAmerica\/Boise\tMountain - ID (south); OR (east)\n+US\t+433649-1161209\tAmerica\/Boise\tMountain - ID (south), OR (east)\n","filename":"jdk\/make\/data\/tzdata\/zone.tab","additions":12,"deletions":12,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -80,1 +80,1 @@\n-\t    -sourcepath \"$(JDK_TOPDIR)\/src\/share\/classes$(PATH_SEP)$(JDK_TOPDIR)\/src\/$(OPENJDK_TARGET_OS_API_DIR)\/classes$(PATH_SEP)$(JDK_OUTPUTDIR)\/gensrc\" \\\n+\t    -sourcepath \"$(JDK_TOPDIR)\/src\/share\/classes$(PATH_SEP)$(JDK_TOPDIR)\/src\/$(OPENJDK_TARGET_OS_API_DIR)\/classes\" \\\n","filename":"jdk\/make\/gensrc\/GensrcSwing.gmk","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -92,0 +92,1 @@\n+\t    Java_sun_management_ThreadImpl_getTotalThreadAllocatedMemory;\n","filename":"jdk\/make\/mapfiles\/libmanagement\/mapfile-vers","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -60,0 +60,3 @@\n+\n+    private static final boolean debug = false;\n+\n@@ -387,1 +390,3 @@\n-            System.err.println(\"[Error] Encountered NaN: encode(\" + x + \", \" + a + \", \" + b + \", \" + w + \")\");\n+            if (debug) {\n+                System.err.println(\"[Error] Encountered NaN: encode(\" + x + \", \" + a + \", \" + b + \", \" + w + \")\");\n+            }\n@@ -390,1 +395,3 @@\n-            System.err.println(\"[Error] Encountered Infinity: encode(\" + x + \", \" + a + \", \" + b + \", \" + w + \")\");\n+            if (debug) {\n+                System.err.println(\"[Error] Encountered Infinity: encode(\" + x + \", \" + a + \", \" + b + \", \" + w + \")\");\n+            }\n@@ -393,1 +400,3 @@\n-            System.err.println(\"[Error] encoded value was less than 0: encode(\" + x + \", \" + a + \", \" + b + \", \" + w + \")\");\n+            if (debug) {\n+                System.err.println(\"[Error] encoded value was less than 0: encode(\" + x + \", \" + a + \", \" + b + \", \" + w + \")\");\n+            }\n@@ -396,1 +405,3 @@\n-            System.err.println(\"[Error] encoded value was greater than 3: encode(\" + x + \", \" + a + \", \" + b + \", \" + w + \")\");\n+            if (debug) {\n+                System.err.println(\"[Error] encoded value was greater than 3: encode(\" + x + \", \" + a + \", \" + b + \", \" + w + \")\");\n+            }\n","filename":"jdk\/make\/src\/classes\/build\/tools\/generatenimbus\/PainterGenerator.java","additions":15,"deletions":4,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2011, 2012, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2011, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -84,3 +84,49 @@\n-    public void drawGlyphVector(final SunGraphics2D sg2d, final GlyphVector gV, final float x, final float y) {\n-        final Font prevFont = sg2d.getFont();\n-        sg2d.setFont(gV.getFont());\n+    private boolean hasSlotData(GlyphVector gv) {\n+        final int length = gv.getNumGlyphs();\n+        for (int i = 0; i < length; i++) {\n+            if ((gv.getGlyphCode(i) & CompositeGlyphMapper.SLOTMASK) != 0) {\n+                return true;\n+            }\n+        }\n+        return false;\n+    }\n+\n+    private Font getSlotFont(Font font, int slot) {\n+        Font2D f2d = FontUtilities.getFont2D(font);\n+        if (f2d instanceof CFont) {\n+            CompositeFont cf = ((CFont)f2d).getCompositeFont2D();\n+            PhysicalFont pf = cf.getSlotFont(slot);\n+            Font f = new Font(pf.getFontName(null),\n+                              font.getStyle(), font.getSize());\n+            return f;\n+        }\n+        return null;\n+    }\n+\n+    private GlyphVector getGlyphVectorWithRange(final Font font, final GlyphVector gV, int start, int count) {\n+        int[] glyphs = new int[count];\n+        for (int i = 0; i < count; i++) {\n+            glyphs[i] = gV.getGlyphCode(start+i) & CompositeGlyphMapper.GLYPHMASK;\n+        }\n+        \/\/ Positions should be null to recalculate by native methods,\n+        \/\/ if GV was segmented.\n+        StandardGlyphVector sgv = new StandardGlyphVector(font,\n+                                          gV.getFontRenderContext(),\n+                                          glyphs,\n+                                          null, \/\/ positions\n+                                          null, \/\/ indices\n+                                          gV.getLayoutFlags());\n+        return sgv;\n+    }\n+\n+    private int getLengthOfSameSlot(final GlyphVector gV, final int targetSlot, final int start, final int length) {\n+        int count = 1;\n+        for (; start + count < length; count++) {\n+            int slot = (gV.getGlyphCode(start + count) &\n+                        CompositeGlyphMapper.SLOTMASK) >> 24;\n+            if (targetSlot != slot) {\n+                break;\n+            }\n+        }\n+        return count;\n+    }\n@@ -88,0 +134,1 @@\n+    private void drawGlyphVectorImpl(final SunGraphics2D sg2d, final GlyphVector gV, final float x, final float y) {\n@@ -95,0 +142,25 @@\n+    }\n+\n+    public void drawGlyphVector(final SunGraphics2D sg2d, final GlyphVector gV, final float x, final float y) {\n+        final Font prevFont = sg2d.getFont();\n+        sg2d.setFont(gV.getFont());\n+\n+        if (hasSlotData(gV)) {\n+            final int length = gV.getNumGlyphs();\n+            float[] positions = gV.getGlyphPositions(0, length, null);\n+            int start = 0;\n+            while (start < length) {\n+                int slot = (gV.getGlyphCode(start) &\n+                            CompositeGlyphMapper.SLOTMASK) >> 24;\n+                sg2d.setFont(getSlotFont(gV.getFont(), slot));\n+                int count = getLengthOfSameSlot(gV, slot, start, length);\n+                GlyphVector rangeGV = getGlyphVectorWithRange(sg2d.getFont(),\n+                                                              gV, start, count);\n+                drawGlyphVectorImpl(sg2d, rangeGV,\n+                                    x + positions[start * 2],\n+                                    y + positions[start * 2 + 1]);\n+                start += count;\n+            }\n+        } else {\n+            drawGlyphVectorImpl(sg2d, gV, x, y);\n+        }\n","filename":"jdk\/src\/macosx\/classes\/sun\/lwawt\/macosx\/CTextPipe.java","additions":76,"deletions":4,"binary":false,"changes":80,"status":"modified"},{"patch":"@@ -112,0 +112,36 @@\n+    \/**\n+     * Returns an approximation of the total amount of memory, in bytes, allocated\n+     * in heap memory by all threads since the Java virtual machine started.\n+     * The returned value is an approximation because some Java virtual machine\n+     * implementations may use object allocation mechanisms that result in a\n+     * delay between the time an object is allocated and the time its size is\n+     * recorded.\n+     *\n+     * @implSpec The default implementation throws {@code UnsupportedOperationException}\n+     * if the Java virtual machine implementation does not support thread\n+     * memory allocation measurement, and otherwise acts as though thread\n+     * memory allocation measurement is disabled.\n+     *\n+     * @return an approximation of the total memory allocated, in bytes, in\n+     * heap memory since the Java virtual machine was started,\n+     * if thread memory allocation measurement is enabled;\n+     * {@code -1} otherwise.\n+     *\n+     * @throws UnsupportedOperationException if the Java virtual\n+     *         machine implementation does not support thread memory allocation\n+     *         measurement.\n+     *\n+     * @see #isThreadAllocatedMemorySupported\n+     * @see #isThreadAllocatedMemoryEnabled\n+     * @see #setThreadAllocatedMemoryEnabled\n+     *\n+     * @since 8u412\n+     *\/\n+    public default long getTotalThreadAllocatedBytes() {\n+        if (!isThreadAllocatedMemorySupported()) {\n+            throw new UnsupportedOperationException(\n+                \"Thread allocated memory measurement is not supported.\");\n+        }\n+        return -1;\n+    }\n+\n","filename":"jdk\/src\/share\/classes\/com\/sun\/management\/ThreadMXBean.java","additions":36,"deletions":0,"binary":false,"changes":36,"status":"modified"},{"patch":"@@ -175,0 +175,10 @@\n+\t<LI><P><B>http.keepAlive.time.server<\/B> and\n+        <B>http.keepAlive.time.proxy<\/B> <\/P>\n+\t<P>These properties modify the behavior of the HTTP keepalive cache in the case\n+        where the server (or proxy) has not specified a keepalive time. If the\n+        property is set in this case, then idle connections will be closed after the \n+        specified number of seconds. If the property is set, and the server does\n+        specify a keepalive time in a \"Keep-Alive\" response header, then the time specified \n+        by the server is used. If the property is not set and also the server\n+        does not specify a keepalive time, then connections are kept alive for an\n+        implementation defined time, assuming {@code http.keepAlive} is {@code true}.<\/P>\n","filename":"jdk\/src\/share\/classes\/java\/net\/doc-files\/net-properties.html","additions":10,"deletions":0,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2004, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2004, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -115,0 +115,5 @@\n+        if (Character.isDigit(uriString.charAt(0))) {\n+            \/\/ may be hostname or hostname:port since it starts with digits\n+            uriString = \"\/\/\" + uriString;\n+        }\n+\n","filename":"jdk\/src\/share\/classes\/sun\/jvmstat\/monitor\/HostIdentifier.java","additions":6,"deletions":1,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -334,0 +334,7 @@\n+    public long getTotalThreadAllocatedBytes() {\n+        if (isThreadAllocatedMemoryEnabled()) {\n+            return getTotalThreadAllocatedMemory();\n+        }\n+        return -1;\n+    }\n+\n@@ -510,0 +517,1 @@\n+    private static native long getTotalThreadAllocatedMemory();\n","filename":"jdk\/src\/share\/classes\/sun\/management\/ThreadImpl.java","additions":8,"deletions":0,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -117,7 +117,7 @@\n-    \/**Idle timeout value, in milliseconds. Zero means infinity,\n-     * iff keepingAlive=true.\n-     * Unfortunately, we can't always believe this one.  If I'm connected\n-     * through a Netscape proxy to a server that sent me a keep-alive\n-     * time of 15 sec, the proxy unilaterally terminates my connection\n-     * after 5 sec.  So we have to hard code our effective timeout to\n-     * 4 sec for the case where we're using a proxy. *SIGH*\n+    \/*\n+     * The timeout if specified by the server. Following values possible\n+     *  0: the server specified no keep alive headers\n+     * -1: the server provided \"Connection: keep-alive\" but did not specify a\n+     *     a particular time in a \"Keep-Alive:\" headers\n+     * Positive values are the number of seconds specified by the server\n+     * in a \"Keep-Alive\" header\n@@ -819,1 +819,9 @@\n-                        keepAliveTimeout = p.findInt(\"timeout\", usingProxy?60:5);\n+                        if (keepAliveConnections < 0) {\n+                            keepAliveConnections = usingProxy?50:5;\n+                        }\n+                        keepAliveTimeout = p.findInt(\"timeout\", -1);\n+                        if (keepAliveTimeout < -1) {\n+                            \/\/ if the server specified a negative (invalid) value\n+                            \/\/ then we set to -1, which is equivalent to no value\n+                            keepAliveTimeout = -1;\n+                        }\n@@ -1073,0 +1081,4 @@\n+    public boolean getUsingProxy() {\n+        return usingProxy;\n+    }\n+\n","filename":"jdk\/src\/share\/classes\/sun\/net\/www\/http\/HttpClient.java","additions":20,"deletions":8,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1996, 2011, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1996, 2017, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,0 +30,6 @@\n+import java.io.ObjectInputStream;\n+import java.io.ObjectOutputStream;\n+import java.net.URL;\n+import java.security.AccessController;\n+import java.security.PrivilegedAction;\n+import java.util.ArrayDeque;\n@@ -32,1 +38,5 @@\n-import java.net.URL;\n+import java.util.List;\n+\n+import sun.security.action.GetIntegerAction;\n+import sun.net.www.protocol.http.HttpURLConnection;\n+import sun.util.logging.PlatformLogger;\n@@ -45,0 +55,26 @@\n+    \/\/ Keep alive time set according to priority specified here:\n+    \/\/ 1. If server specifies a time with a Keep-Alive header\n+    \/\/ 2. If user specifies a time with system property below\n+    \/\/ 3. Default values which depend on proxy vs server and whether\n+    \/\/    a Connection: keep-alive header was sent by server\n+\n+    \/\/ name suffixed with \"server\" or \"proxy\"\n+    private static final String keepAliveProp = \"http.keepAlive.time.\";\n+\n+    private static final int userKeepAliveServer;\n+    private static final int userKeepAliveProxy;\n+\n+    static final PlatformLogger logger = HttpURLConnection.getHttpLogger();\n+\n+    @SuppressWarnings(\"removal\")\n+    static int getUserKeepAliveSeconds(String type) {\n+        int v = AccessController.doPrivileged(\n+            new GetIntegerAction(keepAliveProp+type, -1)).intValue();\n+        return v < -1 ? -1 : v;\n+    }\n+\n+    static {\n+        userKeepAliveServer = getUserKeepAliveSeconds(\"server\");\n+        userKeepAliveProxy = getUserKeepAliveSeconds(\"proxy\");\n+    }\n+\n@@ -55,3 +91,2 @@\n-            result = java.security.AccessController.doPrivileged(\n-                new sun.security.action.GetIntegerAction(\"http.maxConnections\",\n-                                                         MAX_CONNECTIONS))\n+            result = AccessController.doPrivileged(\n+                new GetIntegerAction(\"http.maxConnections\", MAX_CONNECTIONS))\n@@ -59,1 +94,1 @@\n-            if (result <= 0)\n+            if (result <= 0) {\n@@ -61,0 +96,1 @@\n+            }\n@@ -62,1 +98,1 @@\n-            return result;\n+        return result;\n@@ -95,2 +131,1 @@\n-            java.security.AccessController.doPrivileged(\n-                new java.security.PrivilegedAction<Void>() {\n+            AccessController.doPrivileged(new PrivilegedAction<Void>() {\n@@ -123,4 +158,23 @@\n-            v = new ClientVector(keepAliveTimeout > 0?\n-                                 keepAliveTimeout*1000 : LIFETIME);\n-            v.put(http);\n-            super.put(key, v);\n+                if (keepAliveTimeout == 0) {\n+                    keepAliveTimeout = getUserKeepAlive(http.getUsingProxy());\n+                    if (keepAliveTimeout == -1) {\n+                        \/\/ same default for server and proxy\n+                        keepAliveTimeout = 5;\n+                    }\n+                } else if (keepAliveTimeout == -1) {\n+                    keepAliveTimeout = getUserKeepAlive(http.getUsingProxy());\n+                    if (keepAliveTimeout == -1) {\n+                        \/\/ different default for server and proxy\n+                        keepAliveTimeout = http.getUsingProxy() ? 60 : 5;\n+                    }\n+                }\n+                \/\/ at this point keepAliveTimeout is the number of seconds to keep\n+                \/\/ alive, which could be 0, if the user specified 0 for the property\n+                assert keepAliveTimeout >= 0;\n+                if (keepAliveTimeout == 0) {\n+                    http.closeServer();\n+                } else {\n+                    v = new ClientVector(keepAliveTimeout * 1000);\n+                    v.put(http);\n+                    super.put(key, v);\n+                }\n@@ -132,0 +186,5 @@\n+    \/\/ returns the keep alive set by user in system property or -1 if not set\n+    private static int getUserKeepAlive(boolean isProxy) {\n+        return isProxy ? userKeepAliveProxy : userKeepAliveServer;\n+    }\n+\n@@ -133,1 +192,1 @@\n-    public synchronized void remove (HttpClient h, Object obj) {\n+    public synchronized void remove(HttpClient h, Object obj) {\n@@ -138,1 +197,1 @@\n-            if (v.empty()) {\n+            if (v.isEmpty()) {\n@@ -174,10 +233,0 @@\n-            synchronized (this) {\n-                \/* Remove all unused HttpClients.  Starting from the\n-                 * bottom of the stack (the least-recently used first).\n-                 * REMIND: It'd be nice to not remove *all* connections\n-                 * that aren't presently in use.  One could have been added\n-                 * a second ago that's still perfectly valid, and we're\n-                 * needlessly axing it.  But it's not clear how to do this\n-                 * cleanly, and doing it right may be more trouble than it's\n-                 * worth.\n-                 *\/\n@@ -185,0 +234,2 @@\n+            \/\/ Remove all outdated HttpClients.\n+            synchronized (this) {\n@@ -186,3 +237,1 @@\n-\n-                ArrayList<KeepAliveKey> keysToRemove\n-                    = new ArrayList<KeepAliveKey>();\n+                List<KeepAliveKey> keysToRemove = new ArrayList<>();\n@@ -193,4 +242,2 @@\n-                        int i;\n-\n-                        for (i = 0; i < v.size(); i++) {\n-                            KeepAliveEntry e = v.elementAt(i);\n+                        KeepAliveEntry e = v.peek();\n+                        while (e != null) {\n@@ -198,2 +245,2 @@\n-                                HttpClient h = e.hc;\n-                                h.closeServer();\n+                                v.poll();\n+                                e.hc.closeServer();\n@@ -203,0 +250,1 @@\n+                            e = v.peek();\n@@ -204,1 +252,0 @@\n-                        v.subList(0, i).clear();\n@@ -206,1 +253,1 @@\n-                        if (v.size() == 0) {\n+                        if (v.isEmpty()) {\n@@ -216,3 +263,1 @@\n-        } while (size() > 0);\n-\n-        return;\n+        } while (!isEmpty());\n@@ -224,2 +269,1 @@\n-    private void writeObject(java.io.ObjectOutputStream stream)\n-    throws IOException {\n+    private void writeObject(ObjectOutputStream stream) throws IOException {\n@@ -229,2 +273,3 @@\n-    private void readObject(java.io.ObjectInputStream stream)\n-    throws IOException, ClassNotFoundException {\n+    private void readObject(ObjectInputStream stream)\n+        throws IOException, ClassNotFoundException\n+    {\n@@ -238,3 +283,1 @@\n-\n-\n-class ClientVector extends java.util.Stack<KeepAliveEntry> {\n+class ClientVector extends ArrayDeque<KeepAliveEntry> {\n@@ -246,3 +289,1 @@\n-\n-\n-    ClientVector (int nap) {\n+    ClientVector(int nap) {\n@@ -253,1 +294,1 @@\n-        if (empty()) {\n+        if (isEmpty()) {\n@@ -255,13 +296,0 @@\n-        } else {\n-            \/\/ Loop until we find a connection that has not timed out\n-            HttpClient hc = null;\n-            long currentTime = System.currentTimeMillis();\n-            do {\n-                KeepAliveEntry e = pop();\n-                if ((currentTime - e.idleStartTime) > nap) {\n-                    e.hc.closeServer();\n-                } else {\n-                    hc = e.hc;\n-                }\n-            } while ((hc== null) && (!empty()));\n-            return hc;\n@@ -269,0 +297,18 @@\n+\n+        \/\/ Loop until we find a connection that has not timed out\n+        HttpClient hc = null;\n+        long currentTime = System.currentTimeMillis();\n+        do {\n+            KeepAliveEntry e = pop();\n+            if ((currentTime - e.idleStartTime) > nap) {\n+                e.hc.closeServer();\n+            } else {\n+                hc = e.hc;\n+                if (KeepAliveCache.logger.isLoggable(PlatformLogger.Level.FINEST)) {\n+                    String msg = \"cached HttpClient was idle for \"\n+                        + Long.toString(currentTime - e.idleStartTime);\n+                    KeepAliveCache.logger.finest(msg);\n+                }\n+            }\n+        } while ((hc == null) && (!isEmpty()));\n+        return hc;\n@@ -280,0 +326,10 @@\n+    \/* remove an HttpClient *\/\n+    synchronized boolean remove(HttpClient h) {\n+        for (KeepAliveEntry curr : this) {\n+            if (curr.hc == h) {\n+                return super.remove(curr);\n+            }\n+        }\n+        return false;\n+    }\n+\n@@ -283,2 +339,1 @@\n-    private void writeObject(java.io.ObjectOutputStream stream)\n-    throws IOException {\n+    private void writeObject(ObjectOutputStream stream) throws IOException {\n@@ -288,2 +343,3 @@\n-    private void readObject(java.io.ObjectInputStream stream)\n-    throws IOException, ClassNotFoundException {\n+    private void readObject(ObjectInputStream stream)\n+        throws IOException, ClassNotFoundException\n+    {\n@@ -294,1 +350,0 @@\n-\n","filename":"jdk\/src\/share\/classes\/sun\/net\/www\/http\/KeepAliveCache.java","additions":123,"deletions":68,"binary":false,"changes":191,"status":"modified"},{"patch":"@@ -304,0 +304,1 @@\n+        String alg = AuthTimeWithHash.DEFAULT_HASH_ALG;\n@@ -306,1 +307,1 @@\n-            hash = MessageDigest.getInstance(\"MD5\")\n+            hash = MessageDigest.getInstance(AuthTimeWithHash.realAlg(alg))\n@@ -309,1 +310,1 @@\n-            throw new AssertionError(\"Impossible\");\n+            throw new AssertionError(\"Impossible \" + alg);\n@@ -322,0 +323,1 @@\n+                alg,\n","filename":"jdk\/src\/share\/classes\/sun\/security\/krb5\/KrbApReq.java","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -119,1 +119,1 @@\n-            st.nextToken();\n+            String hashAlg = st.nextToken();\n@@ -126,1 +126,1 @@\n-                    client, server, ctime, cusec, hash);\n+                    client, server, ctime, cusec, hashAlg, hash);\n","filename":"jdk\/src\/share\/classes\/sun\/security\/krb5\/internal\/rcache\/AuthTime.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -28,0 +28,2 @@\n+import sun.security.action.GetPropertyAction;\n+\n@@ -37,0 +39,24 @@\n+    \/\/ The hash algorithm can be \"HASH\" or \"SHA256\".\n+    public static final String DEFAULT_HASH_ALG;\n+\n+    static {\n+        if (GetPropertyAction.privilegedGetProperty(\n+                \"jdk.krb5.rcache.useMD5\", \"false\").equals(\"true\")) {\n+            DEFAULT_HASH_ALG = \"HASH\";\n+        } else {\n+            DEFAULT_HASH_ALG = \"SHA256\";\n+        }\n+    }\n+\n+    public static String realAlg(String alg) {\n+        switch (alg) {\n+            case \"HASH\":\n+                return \"MD5\";\n+            case \"SHA256\":\n+                return \"SHA-256\";\n+            default:\n+                throw new AssertionError(alg + \" is not HASH or SHA256\");\n+        }\n+    }\n+\n+    final String hashAlg;\n@@ -43,1 +69,1 @@\n-            int ctime, int cusec, String hash) {\n+            int ctime, int cusec, String hashAlg, String hash) {\n@@ -45,0 +71,1 @@\n+        this.hashAlg = hashAlg;\n@@ -59,0 +86,1 @@\n+                && Objects.equals(hashAlg, that.hashAlg)\n@@ -91,0 +119,13 @@\n+    \/**\n+     * Compares with a possibly old style object. Used\n+     * in DflCache$Storage#loadAndCheck.\n+     * @return true if all AuthTime fields are the same but different hash\n+     *\/\n+    public boolean sameTimeDiffHash(AuthTimeWithHash old) {\n+        if (!this.isSameIgnoresHash(old)) {\n+            return false;\n+        }\n+        return this.hashAlg.equals(old.hashAlg) &&\n+                !this.hash.equals(old.hash);\n+    }\n+\n@@ -115,1 +156,1 @@\n-            sstring = String.format(\"HASH:%s %d:%s %d:%s\", hash,\n+            sstring = String.format(\"%s:%s %d:%s %d:%s\", hashAlg, hash,\n","filename":"jdk\/src\/share\/classes\/sun\/security\/krb5\/internal\/rcache\/AuthTimeWithHash.java","additions":43,"deletions":2,"binary":false,"changes":45,"status":"modified"},{"patch":"@@ -100,0 +100,2 @@\n+ *\n+ * Update: New version can use other hash algorithms.\n@@ -310,1 +312,1 @@\n-                        } else if (time.isSameIgnoresHash(a)) {\n+                        } else if (time.sameTimeDiffHash((AuthTimeWithHash)a)) {\n","filename":"jdk\/src\/share\/classes\/sun\/security\/krb5\/internal\/rcache\/DflCache.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -185,0 +185,4 @@\n+        if (content == null) {\n+            throw new ParsingException(\"content is null\");\n+        }\n+\n","filename":"jdk\/src\/share\/classes\/sun\/security\/pkcs\/PKCS7.java","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -221,1 +221,2 @@\n-  void*        reserved1;\n+  jlong        (JNICALL *GetTotalThreadAllocatedMemory)\n+                                                 (JNIEnv *env);\n","filename":"jdk\/src\/share\/javavm\/export\/jmm.h","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -1686,0 +1686,1 @@\n+            int64_t low, high, index;\n@@ -1689,3 +1690,3 @@\n-            int64_t low  = _ck_ntohl(lpc[1]);\n-            int64_t high = _ck_ntohl(lpc[2]);\n-            int64_t index = high - low;\n+            low  = _ck_ntohl(lpc[1]);\n+            high = _ck_ntohl(lpc[2]);\n+            index = high - low;\n","filename":"jdk\/src\/share\/native\/common\/check_code.c","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -101,1 +101,1 @@\n-  return jmm_interface->GetOneThreadAllocatedMemory(env, tid);\n+    return jmm_interface->GetOneThreadAllocatedMemory(env, tid);\n@@ -111,0 +111,7 @@\n+JNIEXPORT jlong JNICALL\n+Java_sun_management_ThreadImpl_getTotalThreadAllocatedMemory\n+  (JNIEnv *env, jclass cls)\n+{\n+    return jmm_interface->GetTotalThreadAllocatedMemory(env);\n+}\n+\n","filename":"jdk\/src\/share\/native\/sun\/management\/ThreadImpl.c","additions":9,"deletions":2,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2004, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2004, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,0 +29,1 @@\n+import static java.util.concurrent.TimeUnit.SECONDS;\n@@ -31,0 +32,3 @@\n+import java.io.BufferedReader;\n+import java.io.IOException;\n+import java.io.InputStreamReader;\n@@ -195,0 +199,68 @@\n+    private static volatile Boolean shouldDisableSystemTray = null;\n+\n+    \/**\n+     * There is an issue displaying the xembed icons in appIndicators\n+     * area with certain Gnome Shell versions.\n+     * To avoid any loss of quality of service, we are disabling\n+     * SystemTray support in such cases.\n+     *\n+     * @return true if system tray should be disabled\n+     *\/\n+    public boolean shouldDisableSystemTray() {\n+        Boolean result = shouldDisableSystemTray;\n+        if (result == null) {\n+            synchronized (GTK_LOCK) {\n+                result = shouldDisableSystemTray;\n+                if (result == null) {\n+                    String desktop = AccessController.doPrivileged(\n+                            new GetPropertyAction(\"sun.desktop\"));\n+                    if (\"gnome\".equals(desktop)) {\n+                        @SuppressWarnings(\"removal\")\n+                        Integer gnomeShellMajorVersion =\n+                                AccessController\n+                                        .doPrivileged((PrivilegedAction<Integer>)\n+                                                this::getGnomeShellMajorVersion);\n+\n+                        if (gnomeShellMajorVersion == null\n+                                || gnomeShellMajorVersion < 45) {\n+\n+                            return shouldDisableSystemTray = true;\n+                        }\n+                    }\n+                    shouldDisableSystemTray = result = false;\n+                }\n+            }\n+        }\n+        return result;\n+    }\n+\n+    private Integer getGnomeShellMajorVersion() {\n+        try {\n+            Process process =\n+                new ProcessBuilder(\"\/usr\/bin\/gnome-shell\", \"--version\")\n+                        .start();\n+            try (InputStreamReader isr = new InputStreamReader(process.getInputStream());\n+                 BufferedReader reader = new BufferedReader(isr)) {\n+\n+                if (process.waitFor(2, SECONDS) &&  process.exitValue() == 0) {\n+                    String line = reader.readLine();\n+                    if (line != null) {\n+                        String[] versionComponents = line\n+                                .replaceAll(\"[^\\\\d.]\", \"\")\n+                                .split(\"\\\\.\");\n+\n+                        if (versionComponents.length >= 1) {\n+                            return Integer.parseInt(versionComponents[0]);\n+                        }\n+                    }\n+                }\n+            }\n+        } catch (IOException\n+                 | InterruptedException\n+                 | IllegalThreadStateException\n+                 | NumberFormatException ignored) {\n+        }\n+\n+        return null;\n+    }\n+\n","filename":"jdk\/src\/solaris\/classes\/sun\/awt\/UNIXToolkit.java","additions":73,"deletions":1,"binary":false,"changes":74,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2005, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2005, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -33,0 +33,1 @@\n+import sun.awt.UNIXToolkit;\n@@ -51,0 +52,1 @@\n+    private final boolean shouldDisableSystemTray;\n@@ -56,1 +58,2 @@\n-        selection.addSelectionListener(this);\n+        UNIXToolkit tk = (UNIXToolkit)Toolkit.getDefaultToolkit();\n+        shouldDisableSystemTray = tk.shouldDisableSystemTray();\n@@ -58,2 +61,2 @@\n-        long selection_owner = selection.getOwner(SCREEN);\n-        available = (selection_owner != XConstants.None);\n+        if (!shouldDisableSystemTray) {\n+            selection.addSelectionListener(this);\n@@ -61,2 +64,6 @@\n-        if (log.isLoggable(PlatformLogger.Level.FINE)) {\n-            log.fine(\" check if system tray is available. selection owner: \" + selection_owner);\n+            long selection_owner = selection.getOwner(SCREEN);\n+            available = (selection_owner != XConstants.None);\n+\n+            if (log.isLoggable(PlatformLogger.Level.FINE)) {\n+                log.fine(\" check if system tray is available. selection owner: \" + selection_owner);\n+            }\n@@ -67,0 +74,4 @@\n+        if (shouldDisableSystemTray) {\n+            return;\n+        }\n+\n@@ -80,0 +91,4 @@\n+        if (shouldDisableSystemTray) {\n+            return;\n+        }\n+\n","filename":"jdk\/src\/solaris\/classes\/sun\/awt\/X11\/XSystemTrayPeer.java","additions":21,"deletions":6,"binary":false,"changes":27,"status":"modified"},{"patch":"@@ -386,0 +386,12 @@\n+\n+############################################################################\n+\n+# cacerts tests\n+\n+############################################################################\n+security\/infra\/java\/security\/cert\/CertPathValidator\/certification\/CAInterop.java#globalsigneccrootcar4  8328825 generic-all\n+security\/infra\/java\/security\/cert\/CertPathValidator\/certification\/CAInterop.java#gtsrootcar1            8328825 generic-all\n+security\/infra\/java\/security\/cert\/CertPathValidator\/certification\/CAInterop.java#gtsrootcar2            8328825 generic-all\n+security\/infra\/java\/security\/cert\/CertPathValidator\/certification\/CAInterop.java#gtsrootecccar3         8328825 generic-all\n+security\/infra\/java\/security\/cert\/CertPathValidator\/certification\/CAInterop.java#gtsrootecccar4         8328825 generic-all\n+security\/infra\/java\/security\/cert\/CertPathValidator\/certification\/LuxTrustCA.java                       8314509 generic-all\n","filename":"jdk\/test\/ProblemList.txt","additions":12,"deletions":0,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2009, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2009, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/com\/sun\/awt\/SecurityWarning\/GetSizeShouldNotReturnZero.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2010, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/com\/sun\/awt\/Translucency\/WindowOpacity.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2011, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2011, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -25,2 +25,2 @@\n- * @test\n- * @bug     6173675 8231209\n+ * @test    id=G1\n+ * @bug     6173675 8231209 8304074 8313081\n@@ -28,1 +28,10 @@\n- * @author  Paul Hohensee\n+ * @requires vm.gc == \"G1\"\n+ * @run main\/othervm -XX:+UseG1GC ThreadAllocatedMemory\n+ *\/\n+\n+\/*\n+ * @test    id=Serial\n+ * @bug     6173675 8231209 8304074 8313081\n+ * @summary Basic test of ThreadMXBean.getThreadAllocatedBytes\n+ * @requires vm.gc == \"Serial\"\n+ * @run main\/othervm -XX:+UseSerialGC ThreadAllocatedMemory\n@@ -36,0 +45,1 @@\n+    private static boolean testFailed = false;\n@@ -58,0 +68,7 @@\n+        \/\/ Test cumulative Java thread allocation since JVM launch\n+        testGetTotalThreadAllocatedBytes();\n+\n+        if (testFailed) {\n+            throw new RuntimeException(\"TEST FAILED\");\n+        }\n+\n@@ -95,0 +112,2 @@\n+        Thread curThread = Thread.currentThread();\n+\n@@ -96,1 +115,1 @@\n-        ensureValidSize(size);\n+        ensureValidSize(curThread, size);\n@@ -101,1 +120,1 @@\n-        checkResult(Thread.currentThread(), size,\n+        checkResult(curThread, size,\n@@ -110,1 +129,1 @@\n-        ensureValidSize(size);\n+        ensureValidSize(curThread, size);\n@@ -122,1 +141,2 @@\n-        done = false; done1 = false;\n+        done = false;\n+        done1 = false;\n@@ -131,1 +151,1 @@\n-        ensureValidSize(size);\n+        ensureValidSize(curThread, size);\n@@ -155,2 +175,1 @@\n-            System.out.println(\"Unexpected exception is thrown.\");\n-            e.printStackTrace(System.out);\n+            reportUnexpected(e, \"during join\");\n@@ -164,1 +183,2 @@\n-        done = false; done1 = false;\n+        done = false;\n+        done1 = false;\n@@ -175,1 +195,1 @@\n-            ensureValidSize(sizes[i]);\n+            ensureValidSize(threads[i], sizes[i]);\n@@ -204,2 +224,1 @@\n-                System.out.println(\"Unexpected exception is thrown.\");\n-                e.printStackTrace(System.out);\n+                reportUnexpected(e, \"during join\");\n@@ -211,1 +230,61 @@\n-    private static void ensureValidSize(long size) {\n+    private static void testGetTotalThreadAllocatedBytes()\n+        throws Exception {\n+\n+        \/\/ baseline should be positive\n+        Thread curThread = Thread.currentThread();\n+        long cumulativeSize = mbean.getTotalThreadAllocatedBytes();\n+        if (cumulativeSize <= 0) {\n+            throw new RuntimeException(\n+                \"Invalid allocated bytes returned for \" + curThread.getName() + \" = \" + cumulativeSize);\n+        }\n+\n+        \/\/ start threads\n+        done = false;\n+        done1 = false;\n+        for (int i = 0; i < NUM_THREADS; i++) {\n+            threads[i] = new MyThread(\"MyThread-\" + i);\n+            threads[i].start();\n+        }\n+\n+        \/\/ wait for threads to block after doing some allocation\n+        waitUntilThreadsBlocked();\n+\n+        \/\/ check after threads are blocked\n+        cumulativeSize = checkResult(curThread, cumulativeSize, mbean.getTotalThreadAllocatedBytes());\n+\n+        \/\/ let threads go to do some more allocation\n+        synchronized (obj) {\n+            done = true;\n+            obj.notifyAll();\n+        }\n+\n+        \/\/ wait for threads to get going again. we don't care if we\n+        \/\/ catch them in mid-execution or if some of them haven't\n+        \/\/ restarted after we're done sleeping.\n+        goSleep(400);\n+\n+        System.out.println(\"Done sleeping\");\n+\n+        \/\/ check while threads are running\n+        cumulativeSize = checkResult(curThread, cumulativeSize, mbean.getTotalThreadAllocatedBytes());\n+\n+        \/\/ let threads exit\n+        synchronized (obj) {\n+            done1 = true;\n+            obj.notifyAll();\n+        }\n+\n+        for (int i = 0; i < NUM_THREADS; i++) {\n+            try {\n+                threads[i].join();\n+            } catch (InterruptedException e) {\n+                reportUnexpected(e, \"during join\");\n+                break;\n+            }\n+        }\n+\n+        \/\/ check after threads exit\n+        checkResult(curThread, cumulativeSize, mbean.getTotalThreadAllocatedBytes());\n+    }\n+\n+    private static void ensureValidSize(Thread curThread, long size) {\n@@ -216,1 +295,2 @@\n-                \"Invalid allocated bytes returned = \" + size);\n+                \"Invalid allocated bytes returned for thread \" +\n+                curThread.getName() + \" = \" + size);\n@@ -220,6 +300,2 @@\n-    private static void checkResult(Thread curThread,\n-                                    long prev_size, long curr_size) {\n-        if (curr_size < prev_size) {\n-            throw new RuntimeException(\"Allocated bytes \" + curr_size +\n-                                       \" expected >= \" + prev_size);\n-        }\n+    private static long checkResult(Thread curThread,\n+                                    long prevSize, long currSize) {\n@@ -227,2 +303,15 @@\n-                           \" Previous allocated bytes = \" + prev_size +\n-                           \" Current allocated bytes = \" + curr_size);\n+                           \" Previous allocated bytes = \" + prevSize +\n+                           \" Current allocated bytes = \" + currSize);\n+        if (currSize < prevSize) {\n+            throw new RuntimeException(\"TEST FAILED: \" +\n+                                       curThread.getName() +\n+                                       \" previous allocated bytes = \" + prevSize +\n+                                       \" > current allocated bytes = \" + currSize);\n+        }\n+        return currSize;\n+    }\n+\n+    private static void reportUnexpected(Exception e, String when) {\n+        System.out.println(\"Unexpected exception thrown \" + when + \".\");\n+        e.printStackTrace(System.out);\n+        testFailed = true;\n@@ -235,1 +324,0 @@\n-            System.out.println(\"Unexpected exception is thrown.\");\n@@ -290,2 +378,1 @@\n-                        System.out.println(\"Unexpected exception is thrown.\");\n-                        e.printStackTrace(System.out);\n+                        reportUnexpected(e, \"while !done\");\n@@ -297,1 +384,1 @@\n-            long size1 = mbean.getThreadAllocatedBytes(getId());\n+            long prevSize = mbean.getThreadAllocatedBytes(getId());\n@@ -299,11 +386,2 @@\n-            long size2 = mbean.getThreadAllocatedBytes(getId());\n-\n-            System.out.println(getName() + \": \" +\n-                \"ThreadAllocatedBytes  = \" + size1 +\n-                \" ThreadAllocatedBytes  = \" + size2);\n-\n-            if (size1 > size2) {\n-                throw new RuntimeException(getName() +\n-                    \" ThreadAllocatedBytes = \" + size1 +\n-                    \" > ThreadAllocatedBytes = \" + size2);\n-            }\n+            long currSize = mbean.getThreadAllocatedBytes(getId());\n+            checkResult(this, prevSize, currSize);\n@@ -316,2 +394,1 @@\n-                        System.out.println(\"Unexpected exception is thrown.\");\n-                        e.printStackTrace(System.out);\n+                        reportUnexpected(e, \"while !done1\");\n","filename":"jdk\/test\/com\/sun\/management\/ThreadMXBean\/ThreadAllocatedMemory.java","additions":119,"deletions":42,"binary":false,"changes":161,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2011, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2011, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -50,1 +50,0 @@\n-\n@@ -62,1 +61,0 @@\n-\n@@ -120,2 +118,1 @@\n-        long[] sizes1 = mbean.getThreadAllocatedBytes(ids);\n-\n+        long[] afterSizes = mbean.getThreadAllocatedBytes(ids);\n@@ -123,10 +120,1 @@\n-            long newSize = sizes1[i];\n-            if (sizes[i] > newSize) {\n-                throw new RuntimeException(\"TEST FAILED: \" +\n-                    threads[i].getName() +\n-                    \" previous allocated bytes = \" + sizes[i] +\n-                    \" > current allocated bytes = \" + newSize);\n-            }\n-            System.out.println(threads[i].getName() +\n-                \" Previous allocated bytes = \" + sizes[i] +\n-                \" Current allocated bytes = \" + newSize);\n+            checkResult(threads[i], sizes[i], afterSizes[i]);\n@@ -150,1 +138,0 @@\n-\n@@ -161,3 +148,1 @@\n-                System.out.println(\"Unexpected exception is thrown.\");\n-                e.printStackTrace(System.out);\n-                testFailed = true;\n+                reportUnexpected(e, \"during join\");\n@@ -176,0 +161,20 @@\n+    private static void checkResult(Thread curThread,\n+                                    long prevSize, long currSize) {\n+        System.out.println(curThread.getName() +\n+                           \" Previous allocated bytes = \" + prevSize +\n+                           \" Current allocated bytes = \" + currSize);\n+        if (currSize < prevSize) {\n+            throw new RuntimeException(\"TEST FAILED: \" +\n+                                       curThread.getName() +\n+                                       \" previous allocated bytes = \" + prevSize +\n+                                       \" > current allocated bytes = \" + currSize);\n+\n+        }\n+    }\n+\n+    private static void reportUnexpected(Exception e, String when) {\n+        System.out.println(\"Unexpected exception thrown \" + when + \".\");\n+        e.printStackTrace(System.out);\n+        testFailed = true;\n+    }\n+\n@@ -180,1 +185,0 @@\n-            System.out.println(\"Unexpected exception is thrown.\");\n@@ -224,3 +228,1 @@\n-                        System.out.println(\"Unexpected exception is thrown.\");\n-                        e.printStackTrace(System.out);\n-                        testFailed = true;\n+                        reportUnexpected(e, \"while !done\");\n@@ -239,3 +241,1 @@\n-                        System.out.println(\"Unexpected exception is thrown.\");\n-                        e.printStackTrace(System.out);\n-                        testFailed = true;\n+                        reportUnexpected(e, \"while !done\");\n","filename":"jdk\/test\/com\/sun\/management\/ThreadMXBean\/ThreadAllocatedMemoryArray.java","additions":26,"deletions":26,"binary":false,"changes":52,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2005, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2005, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Choice\/ChoiceKeyEventReaction\/ChoiceKeyEventReaction.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2011, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2011, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Choice\/ChoiceMouseWheelTest\/ChoiceMouseWheelTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -25,0 +25,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Choice\/GrabLockTest\/GrabLockTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Choice\/ItemStateChangeTest\/ItemStateChangeTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2011, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2011, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Choice\/PopdownGeneratesMouseEvents\/PopdownGeneratesMouseEvents.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2004, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2004, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Choice\/PopupPosTest\/PopupPosTest.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Choice\/RemoveAllShrinkTest\/RemoveAllShrinkTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2002, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2002, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Choice\/SelectCurrentItemTest\/SelectCurrentItemTest.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -35,0 +35,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Component\/7097771\/bug7097771.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2006, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2006, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Component\/CompEventOnHiddenComponent\/CompEventOnHiddenComponent.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2007, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Component\/F10TopToplevel\/F10TopToplevel.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2004, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2004, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Component\/NativeInLightShow\/NativeInLightShow.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2009, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2009, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Component\/NoUpdateUponShow\/NoUpdateUponShow.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2009, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2009, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Component\/PrintAllXcheckJNI\/PrintAllXcheckJNI.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -33,0 +33,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/Component\/TreeLockDeadlock\/TreeLockDeadlock.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Component\/isLightweightCrash\/IsLightweightCrash.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/ComponentOrientation\/BorderTest.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/ComponentOrientation\/FlowTest.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/ComponentOrientation\/WindowTest.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -34,0 +34,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/Container\/ContainerAIOOBE\/ContainerAIOOBE.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Container\/isRemoveNotifyNeeded\/JInternalFrameTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Dialog\/CrashXCheckJni\/CrashXCheckJni.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2006, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -25,8 +25,9 @@\n-   @test\n-   @bug 4904961\n-   @summary Test that Dialog with zero sizes won't be created with negative sizes due to overflow in peer code\n-   @author Andrei Dmitriev: area=awt.toplevel\n-   @library ..\/..\/regtesthelpers\n-   @build Util\n-   @run main DialogSizeOverflowTest\n-*\/\n+ * @test\n+ * @key headful\n+ * @bug 4904961\n+ * @summary Test that Dialog with zero sizes won't be created with negative sizes due to overflow in peer code\n+ * @author Andrei Dmitriev: area=awt.toplevel\n+ * @library ..\/..\/regtesthelpers\n+ * @build Util\n+ * @run main DialogSizeOverflowTest\n+ *\/\n","filename":"jdk\/test\/java\/awt\/Dialog\/DialogOverflowSizeTest\/DialogSizeOverflowTest.java","additions":10,"deletions":9,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,0 +31,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Dialog\/ModalDialogPermission\/ModalDialogPermission.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2006, 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2006, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Dialog\/NonResizableDialogSysMenuResize\/NonResizableDialogSysMenuResize.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/EventDispatchThread\/HandleExceptionOnEDT\/HandleExceptionOnEDT.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/EventDispatchThread\/PreserveDispathThread\/PreserveDispatchThread.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2009, 2010, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2009, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/EventQueue\/PushPopDeadlock2\/PushPopTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2006, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2006, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/FileDialog\/FilenameFilterTest\/FilenameFilterTest.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2006, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2006, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/6378278\/InputVerifierTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2006, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2006, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/6382144\/EndlessLoopTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2006, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2006, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/6401036\/InputVerifierTest2.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/ActualFocusedWindowTest\/ActualFocusedWindowBlockingTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2008, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/AppletInitialFocusTest\/AppletInitialFocusTest.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2008, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/AppletInitialFocusTest\/AppletInitialFocusTest1.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2004, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2004, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/ChildWindowFocusTest\/ChildWindowFocusTest.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2006, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/ChoiceFocus\/ChoiceFocus.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/ClearLwQueueBreakTest\/ClearLwQueueBreakTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2009, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/CloseDialogActivateOwnerTest\/CloseDialogActivateOwnerTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/ConsumeNextKeyTypedOnModalShowTest\/ConsumeNextKeyTypedOnModalShowTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/ContainerFocusAutoTransferTest\/ContainerFocusAutoTransferTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2006, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2006, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/DeiconifiedFrameLoosesFocus\/DeiconifiedFrameLoosesFocus.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2006, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2006, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/DisposedWindow\/DisposeDialogNotActivateOwnerTest\/DisposeDialogNotActivateOwnerTest.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1995, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1995, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/FocusOwnerFrameOnClick\/FocusOwnerFrameOnClick.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2004, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2004, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/FocusSubRequestTest\/FocusSubRequestTest.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/FocusTraversalPolicy\/DefaultFTPTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/FocusTraversalPolicy\/InitialFTP.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/FocusTraversalPolicy\/LayoutFTPTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -25,8 +25,9 @@\n-    @test\n-    @bug        4752312\n-    @summary    Tests that after moving non-focusable window it ungrabs mouse pointer\n-    @author     Denis Mikhalkin: area=awt.focus\n-    @library    ..\/..\/regtesthelpers\n-    @build      Util\n-    @run        main FrameJumpingToMouse\n-*\/\n+ * @test\n+ * @key headful\n+ * @bug        4752312\n+ * @summary    Tests that after moving non-focusable window it ungrabs mouse pointer\n+ * @author     Denis Mikhalkin: area=awt.focus\n+ * @library    ..\/..\/regtesthelpers\n+ * @build      Util\n+ * @run        main FrameJumpingToMouse\n+ *\/\n","filename":"jdk\/test\/java\/awt\/Focus\/FrameJumpingToMouse\/FrameJumpingToMouse.java","additions":10,"deletions":9,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/FrameMinimizeTest\/FrameMinimizeTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/IconifiedFrameFocusChangeTest\/IconifiedFrameFocusChangeTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2006, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2006, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/InputVerifierTest3\/InputVerifierTest3.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2006, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2006, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/ModalBlockedStealsFocusTest\/ModalBlockedStealsFocusTest.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2006, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2006, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/ModalDialogInitialFocusTest\/ModalDialogInitialFocusTest.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2005, 2015, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2005, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/ModalExcludedWindowClickTest\/ModalExcludedWindowClickTest.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/NoAutotransferToDisabledCompTest\/NoAutotransferToDisabledCompTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2005, 2015, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2005, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/NonFocusableBlockedOwnerTest\/NonFocusableBlockedOwnerTest.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/NonFocusableResizableTooSmall\/NonFocusableResizableTooSmall.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/NonFocusableWindowTest\/NoEventsTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/NonFocusableWindowTest\/NonfocusableOwnerTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2009, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/OwnedWindowFocusIMECrashTest\/OwnedWindowFocusIMECrashTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/RequestFocusAndHideTest\/RequestFocusAndHideTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/RequestFocusToDisabledCompTest\/RequestFocusToDisabledCompTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2006, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2006, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/RequestOnCompWithNullParent\/RequestOnCompWithNullParent1.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/ResetMostRecentFocusOwnerTest\/ResetMostRecentFocusOwnerTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/RestoreFocusOnDisabledComponentTest\/RestoreFocusOnDisabledComponentTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/ShowFrameCheckForegroundTest\/ShowFrameCheckForegroundTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2002, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2002, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/ToFrontFocusTest\/ToFrontFocus.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2006, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2006, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/WindowInitialFocusTest\/WindowInitialFocusTest.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/WindowIsFocusableAccessByThreadsTest\/WindowIsFocusableAccessByThreadsTest.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2005, 2015, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2005, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/WindowUpdateFocusabilityTest\/WindowUpdateFocusabilityTest.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Focus\/WrongKeyTypedConsumedTest\/WrongKeyTypedConsumedTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -3,1 +3,1 @@\n- Copyright (c) 2008, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -25,0 +25,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/FontClass\/CreateFont\/bigfont.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/Frame\/7024749\/bug7024749.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -4,0 +4,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Frame\/DisposeStressTest\/DisposeStressTest.html","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Frame\/DynamicLayout\/DynamicLayout.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Frame\/FrameLocation\/FrameLocation.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -0,0 +1,1 @@\n+\n@@ -24,5 +25,7 @@\n-\/* @test\n-   @bug 8079595\n-   @summary Resizing dialog which is JWindow parent makes JVM crash\n-   @author Semyon Sadetsky\n-  *\/\n+\/*\n+ * @test\n+ * @key headful\n+ * @bug 8079595\n+ * @summary Resizing dialog which is JWindow parent makes JVM crash\n+ * @author Semyon Sadetsky\n+ *\/\n","filename":"jdk\/test\/java\/awt\/Frame\/FrameResize\/ShowChildWhileResizingTest.java","additions":8,"deletions":5,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Frame\/FrameSetSizeStressTest\/FrameSetSizeStressTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -3,1 +3,1 @@\n- * Copyright (c) 2009, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2009, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Frame\/FrameSize\/TestFrameSize.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Frame\/HideMaximized\/HideMaximized.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Frame\/HugeFrame\/HugeFrame.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Frame\/InvisibleOwner\/InvisibleOwner.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2006, 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2006, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Frame\/LayoutOnMaximizeTest\/LayoutOnMaximizeTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2015, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,0 +29,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/Frame\/MaximizedNormalBoundsUndecoratedTest\/MaximizedNormalBoundsUndecoratedTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Frame\/MaximizedToIconified\/MaximizedToIconified.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -35,0 +35,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/Frame\/MaximizedToMaximized\/MaximizedToMaximized.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -34,0 +34,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/Frame\/MaximizedUndecorated\/MaximizedUndecorated.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2002, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2002, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,0 +31,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/Frame\/MiscUndecorated\/UndecoratedInitiallyIconified.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -3,1 +3,1 @@\n- Copyright (c) 2003, 2015, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2003, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Frame\/NonEDT_GUI_DeadlockTest\/NonEDT_GUI_Deadlock.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,0 +30,1 @@\n+ @key headful\n","filename":"jdk\/test\/java\/awt\/Frame\/ResizeAfterSetFont\/ResizeAfterSetFont.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2006, 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2006, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Frame\/ShownOffScreenOnWin98\/ShownOffScreenOnWin98Test.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,0 +31,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/Frame\/SlideNotResizableTest\/SlideNotResizableTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Frame\/UnfocusableMaximizedFrameResizablity\/UnfocusableMaximizedFrameResizablity.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/FullScreen\/8013581\/bug8013581.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -26,0 +26,1 @@\n+ @key headful\n","filename":"jdk\/test\/java\/awt\/FullScreen\/AltTabCrashTest\/AltTabCrashTest.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2006, 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2006, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/FullScreen\/BufferStrategyExceptionTest\/BufferStrategyExceptionTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2006, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2006, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/FullScreen\/DisplayChangeVITest\/DisplayChangeVITest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -38,0 +38,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/FullScreen\/FullScreenInsets\/FullScreenInsets.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/FullScreen\/MultimonFullscreenTest\/MultimonDeadlockTest.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -25,0 +25,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/FullScreen\/NoResizeEventOnDMChangeTest\/NoResizeEventOnDMChangeTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2006, 2015, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2006, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -34,0 +34,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/FullScreen\/NonExistentDisplayModeTest\/NonExistentDisplayModeTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2005, 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2005, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/FullScreen\/SetFSWindow\/FSFrame.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,0 +31,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/GradientPaint\/GradientTransformTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,0 +31,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/GradientPaint\/LinearColorSpaceGradientTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2002, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2002, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/Graphics\/LineClipTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/Graphics2D\/DrawString\/DrawStrSuper.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/Graphics2D\/DrawString\/LCDTextSrcEa.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/Graphics2D\/DrawString\/ScaledLCDTextMetrics.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -39,0 +39,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/Graphics2D\/DrawString\/TextRenderingTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -34,0 +34,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/Graphics2D\/DrawString\/XRenderElt254TextTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -36,0 +36,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/Graphics2D\/FillTexturePaint\/FillTexturePaint.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -35,0 +35,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/Graphics2D\/FlipDrawImage\/FlipDrawImage.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -33,0 +33,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/Graphics2D\/TransformSetGet\/TransformSetGet.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/GraphicsConfiguration\/NormalizingTransformTest\/NormalizingTransformTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/GraphicsDevice\/CheckDisplayModes.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2009, 2012, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2009, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/GraphicsDevice\/CloneConfigsTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -33,0 +33,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/GraphicsDevice\/IncorrectDisplayModeExitFullscreen.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2011, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2011, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/GraphicsEnvironment\/LoadLock\/GE_init3.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -4,1 +4,1 @@\n- Copyright (c) 2009, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2009, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/GridBagLayout\/GridBagLayoutIpadXYTest\/GridBagLayoutIpadXYTest.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2006, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2006, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/GridLayout\/LayoutExtraGaps\/LayoutExtraGaps.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Insets\/CombinedTestApp1.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2006, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2006, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/KeyboardFocusmanager\/ConsumeNextMnemonicKeyTypedTest\/ConsumeForModalDialogTest\/ConsumeForModalDialogTest.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2006, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2006, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/KeyboardFocusmanager\/ConsumeNextMnemonicKeyTypedTest\/ConsumeNextMnemonicKeyTypedTest.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2011, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2011, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/KeyboardFocusmanager\/DefaultPolicyChange\/DefaultPolicyChange_AWT.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2006, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2006, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/KeyboardFocusmanager\/TypeAhead\/ButtonActionKeyTest\/ButtonActionKeyTest.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -25,6 +25,7 @@\n-@test\n-@bug 4799136\n-@summary Tests that type-ahead for dialog works and doesn't block program\n-@author Dmitry.Cherepanov@SUN.COM area=awt.focus\n-@run main EnqueueWithDialogButtonTest\n-*\/\n+ * @test\n+ * @key headful\n+ * @bug 4799136\n+ * @summary Tests that type-ahead for dialog works and doesn't block program\n+ * @author Dmitry.Cherepanov@SUN.COM area=awt.focus\n+ * @run main EnqueueWithDialogButtonTest\n+ *\/\n","filename":"jdk\/test\/java\/awt\/KeyboardFocusmanager\/TypeAhead\/EnqueueWithDialogButtonTest\/EnqueueWithDialogButtonTest.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -25,6 +25,7 @@\n-@test\n-@bug 4799136\n-@summary Tests that type-ahead for dialog works and doesn't block program\n-@author Dmitry.Cherepanov@SUN.COM area=awt.focus\n-@run main EnqueueWithDialogTest\n-*\/\n+ * @test\n+ * @key headful\n+ * @bug 4799136\n+ * @summary Tests that type-ahead for dialog works and doesn't block program\n+ * @author Dmitry.Cherepanov@SUN.COM area=awt.focus\n+ * @run main EnqueueWithDialogTest\n+ *\/\n","filename":"jdk\/test\/java\/awt\/KeyboardFocusmanager\/TypeAhead\/EnqueueWithDialogTest\/EnqueueWithDialogTest.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,6 +24,7 @@\n-@test\n-@bug 4799136\n-@summary Tests that type-ahead for dialog works and doesn't block program\n-@author Dmitry.Cherepanov@SUN.COM area=awt.focus\n-@run main FreezeTest\n-*\/\n+ * @test\n+ * @key headful\n+ * @bug 4799136\n+ * @summary Tests that type-ahead for dialog works and doesn't block program\n+ * @author Dmitry.Cherepanov@SUN.COM area=awt.focus\n+ * @run main FreezeTest\n+ *\/\n","filename":"jdk\/test\/java\/awt\/KeyboardFocusmanager\/TypeAhead\/FreezeTest\/FreezeTest.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2006, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2006, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/KeyboardFocusmanager\/TypeAhead\/MenuItemActivatedTest\/MenuItemActivatedTest.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2006, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2006, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/KeyboardFocusmanager\/TypeAhead\/SubMenuShowTest\/SubMenuShowTest.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2003, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2003, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/KeyboardFocusmanager\/TypeAhead\/TestDialogTypeAhead.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2006, 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2006, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/List\/ActionAfterRemove\/ActionAfterRemove.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -3,1 +3,1 @@\n-  Copyright (c) 2013, Oracle and\/or its affiliates. All rights reserved.\n+  Copyright (c) 2013, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/List\/FirstItemRemoveTest\/FirstItemRemoveTest.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2007, 2015, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/List\/FocusEmptyListTest\/FocusEmptyListTest.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2005, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2005, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/List\/KeyEventsTest\/KeyEventsTest.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/List\/ListGarbageCollectionTest\/AwtListGarbageCollectionTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2011, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2011, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,0 +31,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/List\/ListPeer\/R2303044ListSelection.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2011, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2011, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/List\/ScrollOutside\/ScrollOut.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/List\/SingleModeDeselect\/SingleModeDeselect.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,6 +24,8 @@\n-\/*      @test 1.5 98\/07\/23\n-        @bug 4064202 4253466\n-        @summary Test for Win32 NPE when MenuItem with null label added.\n-        @author fred.ecks\n-        @run main\/othervm NullMenuLabelTest\n-*\/\n+\/*\n+ * @test 1.5 98\/07\/23\n+ * @key headful\n+ * @bug 4064202 4253466\n+ * @summary Test for Win32 NPE when MenuItem with null label added.\n+ * @author fred.ecks\n+ * @run main\/othervm NullMenuLabelTest\n+ *\/\n","filename":"jdk\/test\/java\/awt\/Menu\/NullMenuLabelTest\/NullMenuLabelTest.java","additions":9,"deletions":7,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2005, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2005, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Menu\/OpensWithNoGrab\/OpensWithNoGrab.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/MenuBar\/DeadlockTest1\/DeadlockTest1.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -30,0 +30,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/MenuBar\/RemoveHelpMenu\/RemoveHelpMenu.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -36,5 +36,6 @@\n-@test\n-@bug 6768230\n-@summary Mixing test for HierarchyBoundsListener ancestors\n-@build FrameBorderCounter\n-@run main HierarchyBoundsListenerMixingTest\n+ * @test\n+ * @key headful\n+ * @bug 6768230\n+ * @summary Mixing test for HierarchyBoundsListener ancestors\n+ * @build FrameBorderCounter\n+ * @run main HierarchyBoundsListenerMixingTest\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/HierarchyBoundsListenerMixingTest.java","additions":7,"deletions":6,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,6 +32,7 @@\n-@test\n-@summary Simple Overlapping test for javax.swing.JButton\n-@author sergey.grinev@oracle.com: area=awt.mixing\n-@library ..\/..\/regtesthelpers\n-@build Util\n-@run main JButtonInGlassPaneOverlapping\n+ * @test\n+ * @key headful\n+ * @summary Simple Overlapping test for javax.swing.JButton\n+ * @author sergey.grinev@oracle.com: area=awt.mixing\n+ * @library ..\/..\/regtesthelpers\n+ * @build Util\n+ * @run main JButtonInGlassPaneOverlapping\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/JButtonInGlassPaneOverlapping.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,6 +32,6 @@\n-@test\n-@summary Simple Overlapping test for javax.swing.JButton\n-@author sergey.grinev@oracle.com: area=awt.mixing\n-@library ..\/..\/regtesthelpers\n-@build Util\n-@run main JButtonOverlapping\n+ * @test\n+ * @key headful\n+ * @summary Simple Overlapping test for javax.swing.JButton\n+ * @author sergey.grinev@oracle.com: area=awt.mixing\n+ * @build Util\n+ * @run main JButtonOverlapping\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/JButtonOverlapping.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,6 +31,7 @@\n-@test\n-@summary Simple Overlapping test for javax.swing.JColorChooser\n-@author sergey.grinev@oracle.com: area=awt.mixing\n-@library ..\/..\/regtesthelpers\n-@build Util\n-@run main JColorChooserOverlapping\n+ * @test\n+ * @key headful\n+ * @summary Simple Overlapping test for javax.swing.JColorChooser\n+ * @author sergey.grinev@oracle.com: area=awt.mixing\n+ * @library ..\/..\/regtesthelpers\n+ * @build Util\n+ * @run main JColorChooserOverlapping\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/JColorChooserOverlapping.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -42,6 +42,7 @@\n-@test\n-@summary Overlapping test for javax.swing.JScrollPane\n-@author sergey.grinev@oracle.com: area=awt.mixing\n-@library ..\/..\/regtesthelpers\n-@build Util\n-@run main JComboBoxOverlapping\n+ * @test\n+ * @key headful\n+ * @summary Overlapping test for javax.swing.JScrollPane\n+ * @author sergey.grinev@oracle.com: area=awt.mixing\n+ * @library ..\/..\/regtesthelpers\n+ * @build Util\n+ * @run main JComboBoxOverlapping\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/JComboBoxOverlapping.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -33,6 +33,7 @@\n-@test\n-@summary Simple Overlapping test for javax.swing.JLabel\n-@author sergey.grinev@oracle.com: area=awt.mixing\n-@library ..\/..\/regtesthelpers\n-@build Util\n-@run main JEditorPaneInGlassPaneOverlapping\n+ * @test\n+ * @key headful\n+ * @summary Simple Overlapping test for javax.swing.JLabel\n+ * @author sergey.grinev@oracle.com: area=awt.mixing\n+ * @library ..\/..\/regtesthelpers\n+ * @build Util\n+ * @run main JEditorPaneInGlassPaneOverlapping\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/JEditorPaneInGlassPaneOverlapping.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,6 +31,7 @@\n-@test\n-@summary Simple Overlapping test for javax.swing.JLabel\n-@author sergey.grinev@oracle.com: area=awt.mixing\n-@library ..\/..\/regtesthelpers\n-@build Util\n-@run main JEditorPaneOverlapping\n+ * @test\n+ * @key headful\n+ * @summary Simple Overlapping test for javax.swing.JLabel\n+ * @author sergey.grinev@oracle.com: area=awt.mixing\n+ * @library ..\/..\/regtesthelpers\n+ * @build Util\n+ * @run main JEditorPaneOverlapping\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/JEditorPaneOverlapping.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -43,7 +43,8 @@\n-@test\n-@bug 6637655 6985776\n-@summary Overlapping test for javax.swing.JScrollPane\n-@author sergey.grinev@oracle.com: area=awt.mixing\n-@library ..\/..\/regtesthelpers\n-@build Util\n-@run main JGlassPaneInternalFrameOverlapping\n+ * @test\n+ * @key headful\n+ * @bug 6637655 6985776\n+ * @summary Overlapping test for javax.swing.JScrollPane\n+ * @author sergey.grinev@oracle.com: area=awt.mixing\n+ * @library ..\/..\/regtesthelpers\n+ * @build Util\n+ * @run main JGlassPaneInternalFrameOverlapping\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/JGlassPaneInternalFrameOverlapping.java","additions":9,"deletions":8,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -44,7 +44,8 @@\n-@test\n-@bug 6637655 6981919\n-@summary Overlapping test for javax.swing.JScrollPane\n-@author sergey.grinev@oracle.com: area=awt.mixing\n-@library ..\/..\/regtesthelpers\n-@build Util\n-@run main JGlassPaneMoveOverlapping\n+ * @test\n+ * @key headful\n+ * @bug 6637655 6981919\n+ * @summary Overlapping test for javax.swing.JScrollPane\n+ * @author sergey.grinev@oracle.com: area=awt.mixing\n+ * @library ..\/..\/regtesthelpers\n+ * @build Util\n+ * @run main JGlassPaneMoveOverlapping\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/JGlassPaneMoveOverlapping.java","additions":9,"deletions":8,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -40,7 +40,8 @@\n-@test\n-@bug 6985399\n-@summary Overlapping test for javax.swing.JScrollPane\n-@author sergey.grinev@oracle.com: area=awt.mixing\n-@library ..\/..\/regtesthelpers\n-@build Util\n-@run main JInternalFrameMoveOverlapping\n+ * @test\n+ * @key headful\n+ * @bug 6985399\n+ * @summary Overlapping test for javax.swing.JScrollPane\n+ * @author sergey.grinev@oracle.com: area=awt.mixing\n+ * @library ..\/..\/regtesthelpers\n+ * @build Util\n+ * @run main JInternalFrameMoveOverlapping\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/JInternalFrameMoveOverlapping.java","additions":9,"deletions":8,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -40,6 +40,7 @@\n-@test\n-@summary Overlapping test for javax.swing.JScrollPane\n-@author sergey.grinev@oracle.com: area=awt.mixing\n-@library ..\/..\/regtesthelpers\n-@build Util\n-@run main JInternalFrameOverlapping\n+ * @test\n+ * @key headful\n+ * @summary Overlapping test for javax.swing.JScrollPane\n+ * @author sergey.grinev@oracle.com: area=awt.mixing\n+ * @library ..\/..\/regtesthelpers\n+ * @build Util\n+ * @run main JInternalFrameOverlapping\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/JInternalFrameOverlapping.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -33,6 +33,7 @@\n-@test\n-@summary Simple Overlapping test for javax.swing.JLabel\n-@author sergey.grinev@oracle.com: area=awt.mixing\n-@library ..\/..\/regtesthelpers\n-@build Util\n-@run main JLabelInGlassPaneOverlapping\n+ * @test\n+ * @key headful\n+ * @summary Simple Overlapping test for javax.swing.JLabel\n+ * @author sergey.grinev@oracle.com: area=awt.mixing\n+ * @library ..\/..\/regtesthelpers\n+ * @build Util\n+ * @run main JLabelInGlassPaneOverlapping\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/JLabelInGlassPaneOverlapping.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,6 +32,7 @@\n-@test\n-@summary Simple Overlapping test for javax.swing.JLabel\n-@author sergey.grinev@oracle.com: area=awt.mixing\n-@library ..\/..\/regtesthelpers\n-@build Util\n-@run main JLabelOverlapping\n+ * @test\n+ * @key headful\n+ * @summary Simple Overlapping test for javax.swing.JLabel\n+ * @author sergey.grinev@oracle.com: area=awt.mixing\n+ * @library ..\/..\/regtesthelpers\n+ * @build Util\n+ * @run main JLabelOverlapping\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/JLabelOverlapping.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,6 +32,7 @@\n-@test\n-@summary Simple Overlapping test for javax.swing.JList\n-@author sergey.grinev@oracle.com: area=awt.mixing\n-@library ..\/..\/regtesthelpers\n-@build Util\n-@run main JListInGlassPaneOverlapping\n+ * @test\n+ * @key headful\n+ * @summary Simple Overlapping test for javax.swing.JList\n+ * @author sergey.grinev@oracle.com: area=awt.mixing\n+ * @library ..\/..\/regtesthelpers\n+ * @build Util\n+ * @run main JListInGlassPaneOverlapping\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/JListInGlassPaneOverlapping.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,6 +31,7 @@\n-@test\n-@summary Simple Overlapping test for javax.swing.JList\n-@author sergey.grinev@oracle.com: area=awt.mixing\n-@library ..\/..\/regtesthelpers\n-@build Util\n-@run main JListOverlapping\n+ * @test\n+ * @key headful\n+ * @summary Simple Overlapping test for javax.swing.JList\n+ * @author sergey.grinev@oracle.com: area=awt.mixing\n+ * @library ..\/..\/regtesthelpers\n+ * @build Util\n+ * @run main JListOverlapping\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/JListOverlapping.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -47,6 +47,7 @@\n-@test\n-@summary Overlapping test for javax.swing.JScrollPane\n-@author sergey.grinev@oracle.com: area=awt.mixing\n-@library ..\/..\/regtesthelpers\n-@build Util\n-@run main JMenuBarOverlapping\n+ * @test\n+ * @key headful\n+ * @summary Overlapping test for javax.swing.JScrollPane\n+ * @author sergey.grinev@oracle.com: area=awt.mixing\n+ * @library ..\/..\/regtesthelpers\n+ * @build Util\n+ * @run main JMenuBarOverlapping\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/JMenuBarOverlapping.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -33,6 +33,7 @@\n-@test\n-@summary Simple Overlapping test for javax.swing.JPanel\n-@author sergey.grinev@oracle.com: area=awt.mixing\n-@library ..\/..\/regtesthelpers\n-@build Util\n-@run main JPanelInGlassPaneOverlapping\n+ * @test\n+ * @key headful\n+ * @summary Simple Overlapping test for javax.swing.JPanel\n+ * @author sergey.grinev@oracle.com: area=awt.mixing\n+ * @library ..\/..\/regtesthelpers\n+ * @build Util\n+ * @run main JPanelInGlassPaneOverlapping\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/JPanelInGlassPaneOverlapping.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,6 +32,7 @@\n-@test\n-@summary Simple Overlapping test for javax.swing.JPanel\n-@author sergey.grinev@oracle.com: area=awt.mixing\n-@library ..\/..\/regtesthelpers\n-@build Util\n-@run main JPanelOverlapping\n+ * @test\n+ * @key headful\n+ * @summary Simple Overlapping test for javax.swing.JPanel\n+ * @author sergey.grinev@oracle.com: area=awt.mixing\n+ * @library ..\/..\/regtesthelpers\n+ * @build Util\n+ * @run main JPanelOverlapping\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/JPanelOverlapping.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -44,6 +44,7 @@\n-@test\n-@summary Overlapping test for javax.swing.JScrollPane\n-@author sergey.grinev@oracle.com: area=awt.mixing\n-@library ..\/..\/regtesthelpers\n-@build Util\n-@run main JPopupMenuOverlapping\n+ * @test\n+ * @key headful\n+ * @summary Overlapping test for javax.swing.JScrollPane\n+ * @author sergey.grinev@oracle.com: area=awt.mixing\n+ * @library ..\/..\/regtesthelpers\n+ * @build Util\n+ * @run main JPopupMenuOverlapping\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/JPopupMenuOverlapping.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -33,6 +33,7 @@\n-@test\n-@summary Simple Overlapping test for javax.swing.JProgressBar\n-@author sergey.grinev@oracle.com: area=awt.mixing\n-@library ..\/..\/regtesthelpers\n-@build Util\n-@run main JProgressBarInGlassPaneOverlapping\n+ * @test\n+ * @key headful\n+ * @summary Simple Overlapping test for javax.swing.JProgressBar\n+ * @author sergey.grinev@oracle.com: area=awt.mixing\n+ * @library ..\/..\/regtesthelpers\n+ * @build Util\n+ * @run main JProgressBarInGlassPaneOverlapping\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/JProgressBarInGlassPaneOverlapping.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,6 +32,7 @@\n-@test\n-@summary Simple Overlapping test for javax.swing.JProgressBar\n-@author sergey.grinev@oracle.com: area=awt.mixing\n-@library ..\/..\/regtesthelpers\n-@build Util\n-@run main JProgressBarOverlapping\n+ * @test\n+ * @key headful\n+ * @summary Simple Overlapping test for javax.swing.JProgressBar\n+ * @author sergey.grinev@oracle.com: area=awt.mixing\n+ * @library ..\/..\/regtesthelpers\n+ * @build Util\n+ * @run main JProgressBarOverlapping\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/JProgressBarOverlapping.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -36,6 +36,7 @@\n-@test\n-@summary Simple Overlapping test for javax.swing.JScrollBar\n-@author sergey.grinev@oracle.com: area=awt.mixing\n-@library ..\/..\/regtesthelpers\n-@build Util\n-@run main JScrollBarInGlassPaneOverlapping\n+ * @test\n+ * @key headful\n+ * @summary Simple Overlapping test for javax.swing.JScrollBar\n+ * @author sergey.grinev@oracle.com: area=awt.mixing\n+ * @library ..\/..\/regtesthelpers\n+ * @build Util\n+ * @run main JScrollBarInGlassPaneOverlapping\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/JScrollBarInGlassPaneOverlapping.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -35,6 +35,7 @@\n-@test\n-@summary Simple Overlapping test for javax.swing.JScrollBar\n-@author sergey.grinev@oracle.com: area=awt.mixing\n-@library ..\/..\/regtesthelpers\n-@build Util\n-@run main JScrollBarOverlapping\n+ * @test\n+ * @key headful\n+ * @summary Simple Overlapping test for javax.swing.JScrollBar\n+ * @author sergey.grinev@oracle.com: area=awt.mixing\n+ * @library ..\/..\/regtesthelpers\n+ * @build Util\n+ * @run main JScrollBarOverlapping\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/JScrollBarOverlapping.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -42,6 +42,7 @@\n-@test\n-@summary Overlapping test for javax.swing.JScrollPane\n-@author sergey.grinev@oracle.com: area=awt.mixing\n-@library ..\/..\/regtesthelpers\n-@build Util\n-@run main JScrollPaneOverlapping\n+ * @test\n+ * @key headful\n+ * @summary Overlapping test for javax.swing.JScrollPane\n+ * @author sergey.grinev@oracle.com: area=awt.mixing\n+ * @library ..\/..\/regtesthelpers\n+ * @build Util\n+ * @run main JScrollPaneOverlapping\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/JScrollPaneOverlapping.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -33,6 +33,7 @@\n-@test\n-@summary Simple Overlapping test for javax.swing.JSlider\n-@author sergey.grinev@oracle.com: area=awt.mixing\n-@library ..\/..\/regtesthelpers\n-@build Util\n-@run main JSliderInGlassPaneOverlapping\n+ * @test\n+ * @key headful\n+ * @summary Simple Overlapping test for javax.swing.JSlider\n+ * @author sergey.grinev@oracle.com: area=awt.mixing\n+ * @library ..\/..\/regtesthelpers\n+ * @build Util\n+ * @run main JSliderInGlassPaneOverlapping\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/JSliderInGlassPaneOverlapping.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,6 +32,7 @@\n-@test\n-@summary Simple Overlapping test for javax.swing.JSlider\n-@author sergey.grinev@oracle.com: area=awt.mixing\n-@library ..\/..\/regtesthelpers\n-@build Util\n-@run main JSliderOverlapping\n+ * @test\n+ * @key headful\n+ * @summary Simple Overlapping test for javax.swing.JSlider\n+ * @author sergey.grinev@oracle.com: area=awt.mixing\n+ * @library ..\/..\/regtesthelpers\n+ * @build Util\n+ * @run main JSliderOverlapping\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/JSliderOverlapping.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -35,6 +35,7 @@\n-@test\n-@summary Simple Overlapping test for javax.swing.JSpinner\n-@author sergey.grinev@oracle.com: area=awt.mixing\n-@library ..\/..\/regtesthelpers\n-@build Util\n-@run main JSpinnerInGlassPaneOverlapping\n+ * @test\n+ * @key headful\n+ * @summary Simple Overlapping test for javax.swing.JSpinner\n+ * @author sergey.grinev@oracle.com: area=awt.mixing\n+ * @library ..\/..\/regtesthelpers\n+ * @build Util\n+ * @run main JSpinnerInGlassPaneOverlapping\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/JSpinnerInGlassPaneOverlapping.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -34,6 +34,7 @@\n-@test\n-@summary Simple Overlapping test for javax.swing.JSpinner\n-@author sergey.grinev@oracle.com: area=awt.mixing\n-@library ..\/..\/regtesthelpers\n-@build Util\n-@run main JSpinnerOverlapping\n+ * @test\n+ * @key headful\n+ * @summary Simple Overlapping test for javax.swing.JSpinner\n+ * @author sergey.grinev@oracle.com: area=awt.mixing\n+ * @library ..\/..\/regtesthelpers\n+ * @build Util\n+ * @run main JSpinnerOverlapping\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/JSpinnerOverlapping.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -48,7 +48,8 @@\n-@test\n-@bug 6986109\n-@summary Overlapping test for javax.swing.JSplitPane\n-@author sergey.grinev@oracle.com: area=awt.mixing\n-@library ..\/..\/regtesthelpers\n-@build Util\n-@run main JSplitPaneOverlapping\n+ * @test\n+ * @key headful\n+ * @bug 6986109\n+ * @summary Overlapping test for javax.swing.JSplitPane\n+ * @author sergey.grinev@oracle.com: area=awt.mixing\n+ * @library ..\/..\/regtesthelpers\n+ * @build Util\n+ * @run main JSplitPaneOverlapping\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/JSplitPaneOverlapping.java","additions":9,"deletions":8,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -35,6 +35,7 @@\n-@test\n-@summary Simple Overlapping test for JTable\n-@author sergey.grinev@oracle.com: area=awt.mixing\n-@library ..\/..\/regtesthelpers\n-@build Util\n-@run main JTableInGlassPaneOverlapping\n+ * @test\n+ * @key headful\n+ * @summary Simple Overlapping test for JTable\n+ * @author sergey.grinev@oracle.com: area=awt.mixing\n+ * @library ..\/..\/regtesthelpers\n+ * @build Util\n+ * @run main JTableInGlassPaneOverlapping\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/JTableInGlassPaneOverlapping.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,6 +31,7 @@\n-@test\n-@summary Simple Overlapping test for JTable\n-@author sergey.grinev@oracle.com: area=awt.mixing\n-@library ..\/..\/regtesthelpers\n-@build Util\n-@run main JTableOverlapping\n+ * @test\n+ * @key headful\n+ * @summary Simple Overlapping test for JTable\n+ * @author sergey.grinev@oracle.com: area=awt.mixing\n+ * @library ..\/..\/regtesthelpers\n+ * @build Util\n+ * @run main JTableOverlapping\n@@ -38,0 +39,1 @@\n+\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/JTableOverlapping.java","additions":9,"deletions":7,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -33,6 +33,7 @@\n-@test\n-@summary Simple Overlapping test for javax.swing.JLabel\n-@author sergey.grinev@oracle.com: area=awt.mixing\n-@library ..\/..\/regtesthelpers\n-@build Util\n-@run main JTextAreaInGlassPaneOverlapping\n+ * @test\n+ * @key headful\n+ * @summary Simple Overlapping test for javax.swing.JLabel\n+ * @author sergey.grinev@oracle.com: area=awt.mixing\n+ * @library ..\/..\/regtesthelpers\n+ * @build Util\n+ * @run main JTextAreaInGlassPaneOverlapping\n@@ -40,0 +41,1 @@\n+\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/JTextAreaInGlassPaneOverlapping.java","additions":9,"deletions":7,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,6 +32,7 @@\n-@test\n-@summary Simple Overlapping test for javax.swing.JLabel\n-@author sergey.grinev@oracle.com: area=awt.mixing\n-@library ..\/..\/regtesthelpers\n-@build Util\n-@run main JTextAreaOverlapping\n+ * @test\n+ * @key headful\n+ * @summary Simple Overlapping test for javax.swing.JLabel\n+ * @author sergey.grinev@oracle.com: area=awt.mixing\n+ * @library ..\/..\/regtesthelpers\n+ * @build Util\n+ * @run main JTextAreaOverlapping\n@@ -39,0 +40,1 @@\n+\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/JTextAreaOverlapping.java","additions":9,"deletions":7,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -33,6 +33,7 @@\n-@test\n-@summary Simple Overlapping test for javax.swing.JLabel\n-@author sergey.grinev@oracle.com: area=awt.mixing\n-@library ..\/..\/regtesthelpers\n-@build Util\n-@run main JTextFieldInGlassPaneOverlapping\n+ * @test\n+ * @key headful\n+ * @summary Simple Overlapping test for javax.swing.JLabel\n+ * @author sergey.grinev@oracle.com: area=awt.mixing\n+ * @library ..\/..\/regtesthelpers\n+ * @build Util\n+ * @run main JTextFieldInGlassPaneOverlapping\n@@ -40,0 +41,1 @@\n+\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/JTextFieldInGlassPaneOverlapping.java","additions":9,"deletions":7,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,6 +32,7 @@\n-@test\n-@summary Simple Overlapping test for javax.swing.JLabel\n-@author sergey.grinev@oracle.com: area=awt.mixing\n-@library ..\/..\/regtesthelpers\n-@build Util\n-@run main JTextFieldOverlapping\n+ * @test\n+ * @key headful\n+ * @summary Simple Overlapping test for javax.swing.JLabel\n+ * @author sergey.grinev@oracle.com: area=awt.mixing\n+ * @library ..\/..\/regtesthelpers\n+ * @build Util\n+ * @run main JTextFieldOverlapping\n@@ -39,0 +40,1 @@\n+\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/JTextFieldOverlapping.java","additions":9,"deletions":7,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,6 +32,7 @@\n-@test\n-@summary Simple Overlapping test for javax.swing.JToggleButton\n-@author sergey.grinev@oracle.com: area=awt.mixing\n-@library ..\/..\/regtesthelpers\n-@build Util\n-@run main JToggleButtonInGlassPaneOverlapping\n+ * @test\n+ * @key headful\n+ * @summary Simple Overlapping test for javax.swing.JToggleButton\n+ * @author sergey.grinev@oracle.com: area=awt.mixing\n+ * @library ..\/..\/regtesthelpers\n+ * @build Util\n+ * @run main JToggleButtonInGlassPaneOverlapping\n@@ -39,0 +40,1 @@\n+\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/JToggleButtonInGlassPaneOverlapping.java","additions":9,"deletions":7,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,6 +31,7 @@\n-@test\n-@summary Simple Overlapping test for javax.swing.JToggleButton\n-@author sergey.grinev@oracle.com: area=awt.mixing\n-@library ..\/..\/regtesthelpers\n-@build Util\n-@run main JToggleButtonOverlapping\n+ * @test\n+ * @key headful\n+ * @summary Simple Overlapping test for javax.swing.JToggleButton\n+ * @author sergey.grinev@oracle.com: area=awt.mixing\n+ * @library ..\/..\/regtesthelpers\n+ * @build Util\n+ * @run main JToggleButtonOverlapping\n@@ -38,0 +39,1 @@\n+\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/JToggleButtonOverlapping.java","additions":9,"deletions":7,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -40,7 +40,8 @@\n-@test\n-@bug 6777370\n-@summary Issues when resizing the JFrame with HW components\n-@author sergey.grinev@oracle.com: area=awt.mixing\n-@library ..\/..\/regtesthelpers\n-@build Util\n-@run main MixingFrameResizing\n+ * @test\n+ * @key headful\n+ * @bug 6777370\n+ * @summary Issues when resizing the JFrame with HW components\n+ * @author sergey.grinev@oracle.com: area=awt.mixing\n+ * @library ..\/..\/regtesthelpers\n+ * @build Util\n+ * @run main MixingFrameResizing\n@@ -48,0 +49,1 @@\n+\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/MixingFrameResizing.java","additions":10,"deletions":8,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -36,8 +36,9 @@\n-@test\n-@bug 6786219\n-@summary Issues when resizing the frame after mixing of heavy weight & light weight components\n-@author sergey.grinev@oracle.com: area=awt.mixing\n-@library ..\/..\/regtesthelpers\n-@build Util\n-@build FrameBorderCounter\n-@run main MixingPanelsResizing\n+ * @test\n+ * @key headful\n+ * @bug 6786219\n+ * @summary Issues when resizing the frame after mixing of heavy weight & light weight components\n+ * @author sergey.grinev@oracle.com: area=awt.mixing\n+ * @library ..\/..\/regtesthelpers\n+ * @build Util\n+ * @build FrameBorderCounter\n+ * @run main MixingPanelsResizing\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/MixingPanelsResizing.java","additions":10,"deletions":9,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -45,6 +45,7 @@\n-@test\n-@bug 6776743\n-@summary Opaque overlapping test for each AWT component\n-@library ..\/..\/regtesthelpers\n-@build Util\n-@run main OpaqueOverlapping\n+ * @test\n+ * @key headful\n+ * @bug 6776743\n+ * @summary Opaque overlapping test for each AWT component\n+ * @library ..\/..\/regtesthelpers\n+ * @build Util\n+ * @run main OpaqueOverlapping\n@@ -52,0 +53,1 @@\n+\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/OpaqueOverlapping.java","additions":9,"deletions":7,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,6 +31,7 @@\n-@test\n-@bug 6994264\n-@summary Opaque overlapping test for Choice AWT component\n-@library ..\/..\/regtesthelpers\n-@build Util\n-@run main OpaqueOverlappingChoice\n+ * @test\n+ * @key headful\n+ * @bug 6994264\n+ * @summary Opaque overlapping test for Choice AWT component\n+ * @library ..\/..\/regtesthelpers\n+ * @build Util\n+ * @run main OpaqueOverlappingChoice\n@@ -38,0 +39,1 @@\n+\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/OpaqueOverlappingChoice.java","additions":9,"deletions":7,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -49,7 +49,8 @@\n-@test\n-@bug 6778882\n-@summary Viewport overlapping test for each AWT component\n-@author sergey.grinev@oracle.com: area=awt.mixing\n-@library ..\/..\/regtesthelpers\n-@build Util\n-@run main ViewportOverlapping\n+ * @test\n+ * @key headful\n+ * @bug 6778882\n+ * @summary Viewport overlapping test for each AWT component\n+ * @author sergey.grinev@oracle.com: area=awt.mixing\n+ * @library ..\/..\/regtesthelpers\n+ * @build Util\n+ * @run main ViewportOverlapping\n@@ -57,0 +58,1 @@\n+\n","filename":"jdk\/test\/java\/awt\/Mixing\/AWT_Mixing\/ViewportOverlapping.java","additions":10,"deletions":8,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2009, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2009, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Mixing\/HWDisappear.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2009, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2009, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Mixing\/JButtonInGlassPane.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2009, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2009, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Mixing\/LWComboBox.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Mixing\/LWPopupMenu.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2009, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2009, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Mixing\/MixingInHwPanel.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Mixing\/MixingOnDialog.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2009, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2009, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Mixing\/MixingOnShrinkingHWButton.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2009, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2009, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Mixing\/NonOpaqueInternalFrame.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Mixing\/OpaqueTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Mixing\/OverlappingButtons.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Mixing\/ValidBounds.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Mixing\/Validating.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Mixing\/setComponentZOrder.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2006, 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2006, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Modal\/LWModalTest\/LWModalTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -34,0 +34,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/Modal\/ModalDialogOrderingTest\/ModalDialogOrderingTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,0 +29,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/Modal\/ModalitySettingsTest\/ModalitySettingsTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Modal\/NpeOnClose\/NpeOnCloseTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Modal\/SupportedTest\/SupportedTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2005, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2005, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Mouse\/ExtraMouseClick\/ExtraMouseClick.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -26,0 +26,1 @@\n+ @key headful\n","filename":"jdk\/test\/java\/awt\/Mouse\/MaximizedFrameTest\/MaximizedFrameTest.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Mouse\/MouseModifiersUnitTest\/ExtraButtonDrag.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Mouse\/MouseModifiersUnitTest\/MouseModifiersUnitTest_Extra.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Mouse\/MouseModifiersUnitTest\/MouseModifiersUnitTest_Standard.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2002, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2002, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Mouse\/TitleBarDoubleClick\/TitleBarDoubleClick.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/MouseInfo\/GetPointerInfoTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/MouseInfo\/MultiscreenPointerInfo.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Multiscreen\/MouseEventTest\/MouseEventTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Multiscreen\/MultiScreenInsetsTest\/MultiScreenInsetsTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Multiscreen\/MultiScreenLocationTest\/MultiScreenLocationTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Multiscreen\/UpdateGCTest\/UpdateGCTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2004, 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2004, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ @key headful\n","filename":"jdk\/test\/java\/awt\/Multiscreen\/WPanelPeerPerf\/WPanelPeerPerf.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2005, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2005, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Multiscreen\/WindowGCChangeTest\/WindowGCChangeTest.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,0 +30,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/Paint\/ButtonRepaint.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,0 +29,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/Paint\/CheckboxRepaint.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -0,0 +1,1 @@\n+\n@@ -2,1 +3,1 @@\n- * Copyright (c) 2016, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,4 +25,6 @@\n-\/* @test\n-   @bug 8139581\n-   @summary AWT components are not drawn after removal and addition to a container\n-   @author Anton Litvinov\n+\/*\n+ * @test\n+ * @key headful\n+ * @bug 8139581\n+ * @summary AWT components are not drawn after removal and addition to a container\n+ * @author Anton Litvinov\n","filename":"jdk\/test\/java\/awt\/Paint\/ComponentIsNotDrawnAfterRemoveAddTest\/ComponentIsNotDrawnAfterRemoveAddTest.java","additions":8,"deletions":5,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,0 +32,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/Paint\/LabelRepaint.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,0 +32,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/Paint\/ListRepaint.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/PrintJob\/MultipleEnd\/MultipleEnd.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -25,5 +25,6 @@\n-   @test\n-   @bug 4105609\n-   @summary Test printing of drawArc preceded by drawString\n-   @author robi.khan\n-*\/\n+ * @test\n+ * @key headful\n+ * @bug 4105609\n+ * @summary Test printing of drawArc preceded by drawString\n+ * @author robi.khan\n+ *\/\n","filename":"jdk\/test\/java\/awt\/PrintJob\/PrintArcTest\/PrintArcTest.java","additions":7,"deletions":6,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/PrintJob\/QuoteAndBackslashTest\/QuoteAndBackslashTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/PrintJob\/RoundedRectTest\/RoundedRectTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/PrintJob\/Security\/SecurityDialogTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2009, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2009, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Robot\/CtorTest\/CtorTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Robot\/RobotExtraButton\/RobotExtraButton.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -33,0 +33,1 @@\n+ * @key headful\n@@ -110,1 +111,1 @@\n-}\n\\ No newline at end of file\n+}\n","filename":"jdk\/test\/java\/awt\/Robot\/RobotWheelTest\/RobotWheelTest.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,0 +31,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/ScrollPane\/ScrollPanePreferredSize\/ScrollPanePreferredSize.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -24,6 +24,8 @@\n-\/* @test\n-   @bug 8077409\n-   @summary Drawing deviates when validate() is invoked on java.awt.ScrollPane\n-   @author mikhail.cherkasov@oracle.com\n-   @run main bug8077409Test\n-*\/\n+\/*\n+ * @test\n+ * @key headful\n+ * @bug 8077409\n+ * @summary Drawing deviates when validate() is invoked on java.awt.ScrollPane\n+ * @author mikhail.cherkasov@oracle.com\n+ * @run main bug8077409Test\n+ *\/\n","filename":"jdk\/test\/java\/awt\/ScrollPane\/bug8077409Test.java","additions":8,"deletions":6,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -43,0 +43,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/SplashScreen\/MultiResolutionSplash\/MultiResolutionSplashTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,1 +24,3 @@\n-\/* @test\n+\/*\n+ * @test\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/TextArea\/Mixing\/TextAreaMixing.java","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2006, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2006, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/TextArea\/ScrollbarIntersectionTest\/ScrollbarIntersectionTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,0 +32,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/TextArea\/TextAreaTwicePack\/TextAreaTwicePack.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/TextArea\/UsingWithMouse\/SelectionAutoscrollTest.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -34,0 +34,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/TextField\/SelectionInvisibleTest\/SelectionInvisibleTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -43,0 +43,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/Toolkit\/DynamicLayout\/bug7172833.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Toolkit\/RealSync\/RealSyncOnEDT.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2006, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2006, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Toolkit\/ScreenInsetsTest\/ScreenInsetsTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Toolkit\/ToolkitPropertyTest\/SystemPropTest_1.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Toolkit\/ToolkitPropertyTest\/SystemPropTest_2.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Toolkit\/ToolkitPropertyTest\/SystemPropTest_3.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Toolkit\/ToolkitPropertyTest\/SystemPropTest_4.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Toolkit\/ToolkitPropertyTest\/SystemPropTest_5.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Toolkit\/ToolkitPropertyTest\/ToolkitPropertyTest_Disable.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Toolkit\/ToolkitPropertyTest\/ToolkitPropertyTest_Enable.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2006, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2006, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Window\/AlwaysOnTop\/AlwaysOnTopEvenOfWindow.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/Window\/AlwaysOnTop\/SyncAlwaysOnTopFieldTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,6 +24,7 @@\n-@test\n-@bug 6236247\n-@summary Test that setting of always-on-top flags before showing window works\n-@author dom@sparc.spb.su: area=awt.toplevel\n-@run main TestAlwaysOnTopBeforeShow\n-*\/\n+ * @test\n+ * @key headful\n+ * @bug 6236247\n+ * @summary Test that setting of always-on-top flags before showing window works\n+ * @author dom@sparc.spb.su: area=awt.toplevel\n+ * @run main TestAlwaysOnTopBeforeShow\n+ *\/\n","filename":"jdk\/test\/java\/awt\/Window\/AlwaysOnTop\/TestAlwaysOnTopBeforeShow.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -34,0 +34,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/Window\/BackgroundIsNotUpdated\/BackgroundIsNotUpdated.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2005, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2005, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Window\/GetWindowsTest\/GetWindowsTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Window\/Grab\/GrabTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2005, 2006, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2005, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Window\/GrabSequence\/GrabSequence.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -4,0 +4,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Window\/HandleWindowDestroyTest\/HandleWindowDestroyTest.html","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/Window\/LocationByPlatform\/LocationByPlatformTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Window\/OwnedWindowsLeak\/OwnedWindowsLeak.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Window\/PropertyChangeListenerLockSerialization\/PropertyChangeListenerLockSerialization.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2009, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2009, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Window\/SetBackgroundNPE\/SetBackgroundNPE.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -35,0 +35,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/Window\/ShapedAndTranslucentWindows\/FocusAWTTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,0 +31,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/Window\/ShapedAndTranslucentWindows\/SetShape.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -35,0 +35,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/Window\/ShapedAndTranslucentWindows\/SetShapeAndClick.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -33,0 +33,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/Window\/ShapedAndTranslucentWindows\/SetShapeDynamicallyAndClick.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,0 +29,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/Window\/ShapedAndTranslucentWindows\/Shaped.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,0 +29,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/Window\/ShapedAndTranslucentWindows\/ShapedByAPI.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/Window\/ShapedAndTranslucentWindows\/ShapedTranslucent.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -33,0 +33,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/Window\/ShapedAndTranslucentWindows\/ShapedTranslucentWindowClick.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,0 +29,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/Window\/ShapedAndTranslucentWindows\/StaticallyShaped.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/Window\/ShapedAndTranslucentWindows\/Translucent.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,0 +30,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/Window\/ShapedAndTranslucentWindows\/TranslucentChoice.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,0 +29,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/Window\/ShapedAndTranslucentWindows\/TranslucentWindowClick.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Window\/WindowClosedEvents\/WindowClosedEventOnDispose.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2009, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2009, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/Window\/WindowType\/WindowType.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,9 +29,10 @@\n-@test\n-@summary Toplevel should be correctly positioned as relative to a component:\n-       so that their centers coincide\n-       or, if the component is hidden, centered on the screen.\n-@bug 8036915\n-@library ..\/..\/..\/..\/lib\/testlibrary\n-@build ExtendedRobot\n-@run main\/timeout=1200 SetLocationRelativeToTest\n-*\/\n+ * @test\n+ * @key headful\n+ * @summary Toplevel should be correctly positioned as relative to a component:\n+ *          so that their centers coincide\n+ *          or, if the component is hidden, centered on the screen.\n+ * @bug 8036915\n+ * @library ..\/..\/..\/..\/lib\/testlibrary\n+ * @build ExtendedRobot\n+ * @run main\/timeout=1200 SetLocationRelativeToTest\n+ *\/\n","filename":"jdk\/test\/java\/awt\/Window\/setLocRelativeTo\/SetLocationRelativeToTest.java","additions":11,"deletions":10,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -37,0 +37,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/datatransfer\/Clipboard\/GetContentsInterruptedTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/datatransfer\/ClipboardInterVMTest\/ClipboardInterVMTest.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -3,0 +3,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/datatransfer\/CustomClassLoaderTransferTest\/CustomClassLoaderTransferTest.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2009, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2009, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/datatransfer\/DragUnicodeBetweenJVMTest\/DragUnicodeBetweenJVMTest.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1999, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1999, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -34,0 +34,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/datatransfer\/ImageTransfer\/ImageTransferTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1999, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1999, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -33,0 +33,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/datatransfer\/Independence\/IndependenceAWTTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1999, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1999, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -40,0 +40,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/datatransfer\/Independence\/IndependenceSwingTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2013, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2013, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/datatransfer\/MissedHtmlAndRtfBug\/MissedHtmlAndRtfBug.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1999, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1999, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -37,0 +37,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/datatransfer\/SystemSelection\/SystemSelectionAWTTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1999, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1999, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -38,0 +38,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/datatransfer\/SystemSelection\/SystemSelectionSwingTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -44,0 +44,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/dnd\/Button2DragTest\/Button2DragTest.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/dnd\/DragInterceptorAppletTest\/DragInterceptorAppletTest.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/dnd\/DragSourceListenerSerializationTest\/DragSourceListenerSerializationTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2007, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/dnd\/FileListBetweenJVMsTest\/FileListBetweenJVMsTest.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2009, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2009, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/dnd\/ImageDecoratedDnDInOut\/ImageDecoratedDnDInOut.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2009, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2009, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/dnd\/ImageDecoratedDnDNegative\/ImageDecoratedDnDNegative.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/dnd\/ImageTransferTest\/ImageTransferTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/dnd\/InterJVMGetDropSuccessTest\/InterJVMGetDropSuccessTest.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -46,0 +46,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/dnd\/MissingEventsOnModalDialog\/MissingEventsOnModalDialogTest.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/dnd\/NoFormatsCrashTest\/NoFormatsCrashTest.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2009, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2009, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/dnd\/URIListBetweenJVMsTest\/URIListBetweenJVMsTest.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2013, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2013, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/dnd\/URIListToFileListBetweenJVMsTest\/URIListToFileListBetweenJVMsTest.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2004, 2015, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2004, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/event\/ComponentEvent\/MovedResizedTardyEventTest\/MovedResizedTardyEventTest.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/event\/HierarchyEvent\/AncestorResized\/AncestorResized.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/event\/InputEvent\/ButtonArraysEquality\/ButtonArraysEquality.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,0 +32,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/event\/InputEvent\/EventWhenTest\/EventWhenTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,0 +30,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/event\/KeyEvent\/DeadKey\/DeadKeySystemAssertionDialog.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -34,0 +34,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/event\/KeyEvent\/KeyChar\/KeyCharTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2007, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/event\/KeyEvent\/KeyTyped\/CtrlASCII.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/event\/MouseEvent\/AcceptExtraButton\/AcceptExtraButton.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/event\/MouseEvent\/CheckGetMaskForButton\/CheckGetMaskForButton.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/event\/MouseEvent\/ClickDuringKeypress\/ClickDuringKeypress.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/event\/MouseEvent\/EventTimeInFuture\/EventTimeInFuture.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2004, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2004, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/event\/MouseEvent\/FrameMouseEventAbsoluteCoordsTest\/FrameMouseEventAbsoluteCoordsTest.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2004, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2004, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/event\/MouseEvent\/MenuDragMouseEventAbsoluteCoordsTest\/MenuDragMouseEventAbsoluteCoordsTest.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2007, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/event\/MouseEvent\/MouseClickTest\/MouseClickTest.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2004, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2004, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/event\/MouseEvent\/MouseWheelEventAbsoluteCoordsTest\/MouseWheelEventAbsoluteCoordsTest.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2000, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2000, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/event\/MouseEvent\/RobotLWTest\/RobotLWTest.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2009, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2009, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/event\/MouseWheelEvent\/DisabledComponent\/DisabledComponent.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2007, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/event\/MouseWheelEvent\/InfiniteRecursion\/InfiniteRecursion_2.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2007, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/event\/MouseWheelEvent\/InfiniteRecursion\/InfiniteRecursion_3.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/event\/OtherEvents\/UngrabID\/UngrabID.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -0,0 +1,136 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/**\n+ * @test\n+ * @bug 8240756\n+ * @summary Non-English characters are printed with wrong glyphs on MacOS\n+ * @modules java.desktop\/sun.java2d java.desktop\/sun.java2d.loops java.desktop\/sun.font\n+ * @requires os.family == \"mac\"\n+ * @run main MultiSlotFontTest\n+ *\/\n+\n+import java.awt.Color;\n+import java.awt.Dimension;\n+import java.awt.Font;\n+import java.awt.Graphics;\n+import java.awt.Image;\n+import java.awt.RenderingHints;\n+import java.awt.font.FontRenderContext;\n+import java.awt.font.GlyphVector;\n+import java.awt.image.BufferedImage;\n+import sun.font.StandardGlyphVector;\n+import sun.java2d.OSXOffScreenSurfaceData;\n+import sun.java2d.SunGraphics2D;\n+import sun.java2d.SurfaceData;\n+import sun.java2d.loops.SurfaceType;\n+\n+public class MultiSlotFontTest {\n+\n+    private static final int WIDTH = 100;\n+    private static final int HEIGHT = 60;\n+\n+    private static final String TEST_STR = \"\\u3042\\u3044\\u3046\\u3048\\u304Aabc\";\n+    private static final int EXPECTED_HEIGHT = 10;\n+    private static final int EXPECTED_WIDTH = 77;\n+    private static final int LIMIT_DIFF_HEIGHT = 3;\n+    private static final int LIMIT_DIFF_WIDTH = 15;\n+\n+    public static void main(String[] args) throws Exception {\n+        MultiSlotFontTest test = new MultiSlotFontTest();\n+    }\n+\n+    public MultiSlotFontTest() {\n+        BufferedImage img = createImage();\n+\n+        SurfaceData sd = OSXOffScreenSurfaceData.createDataIC(img,\n+                             SurfaceType.IntRgb);\n+        SunGraphics2D g2d = new SunGraphics2D(sd,\n+                                    Color.BLACK, Color.WHITE, null);\n+        Font font = g2d.getFont();\n+\n+        if (font.canDisplayUpTo(TEST_STR) != -1) {\n+            System.out.println(\"There is no capable font. Skipping the test.\");\n+            System.out.println(\"Font: \" + font);\n+            return;\n+        }\n+\n+        FontRenderContext frc = new FontRenderContext(null, false, false);\n+        StandardGlyphVector gv = new StandardGlyphVector(font, TEST_STR, frc);\n+        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\n+                             RenderingHints.VALUE_ANTIALIAS_OFF);\n+        g2d.drawGlyphVector(gv, 0.0f, (float)(HEIGHT - 5));\n+        g2d.dispose();\n+\n+        Dimension d = getBounds(img);\n+\n+        if (Math.abs(d.height - EXPECTED_HEIGHT) > LIMIT_DIFF_HEIGHT ||\n+            Math.abs(d.width  - EXPECTED_WIDTH)  > LIMIT_DIFF_WIDTH) {\n+            debugOut(img);\n+            throw new RuntimeException(\n+                \"Incorrect GlyphVector shape \" + d + \",\" + gv);\n+        }\n+    }\n+\n+    private static BufferedImage createImage() {\n+        BufferedImage image = new BufferedImage(WIDTH, HEIGHT,\n+                                      BufferedImage.TYPE_INT_RGB);\n+        Graphics g = image.createGraphics();\n+        g.setColor(Color.WHITE);\n+        g.fillRect(0, 0, WIDTH, HEIGHT);\n+        g.dispose();\n+        return image;\n+    }\n+\n+    private Dimension getBounds(BufferedImage img) {\n+        int top = HEIGHT;\n+        int left = WIDTH;\n+        int right = 0;\n+        int bottom = 0;\n+        for (int y = 0; y < HEIGHT; y++) {\n+            for (int x = 0; x < WIDTH; x++) {\n+                if ((img.getRGB(x, y) & 0xFFFFFF) == 0) {\n+                    if (top    > y) top = y;\n+                    if (bottom < y) bottom = y;\n+                    if (left   > x) left = x;\n+                    if (right  < x) right = x;\n+                }\n+            }\n+        }\n+        return new Dimension(right - left, bottom - top);\n+    }\n+\n+    private void debugOut(BufferedImage img) {\n+        for (int y = 0; y < HEIGHT; y++) {\n+            for (int x = 0; x < WIDTH; x++) {\n+                int c = img.getRGB(x, y) & 0xFFFFFF;\n+                if (c == 0) {\n+                    System.out.print(\"*\");\n+                } else {\n+                    System.out.print(\" \");\n+                }\n+            }\n+            System.out.println();\n+        }\n+    }\n+}\n","filename":"jdk\/test\/java\/awt\/font\/GlyphVector\/MultiSlotFontTest.java","additions":136,"deletions":0,"binary":false,"changes":136,"status":"added"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/font\/Rotate\/Shear.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -1,85 +0,0 @@\n-\/*\n- * Copyright (c) 2011, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-\n-\/**\n- * @test\n- * @bug 6328154 6962082\n- * @summary ensure that ascii, and latin-1 text without combining marks, both layout faster\n- *  than latin-1 text with combining marks.  The presumption is then that the canonical\n- *  GSUB table is being run only on the latter and not on either of the former.\n- *\/\n-\n-import java.awt.Font;\n-import java.awt.GraphicsEnvironment;\n-import java.awt.font.FontRenderContext;\n-import java.awt.font.TextLayout;\n-\n-import static java.awt.Font.*;\n-\n-public class CombiningPerf {\n-    private static Font font;\n-    private static FontRenderContext frc;\n-\n-    public static void main(String[] args) throws Exception {\n-        System.err.println(\"start\");\n-\n-        GraphicsEnvironment.getLocalGraphicsEnvironment();\n-\n-        font = new Font(\"Lucida Sans Regular\", PLAIN, 12);\n-        frc = new FontRenderContext(null, false, false);\n-\n-        String ascii = \"the characters are critical noodles?\";\n-        String french = \"l'aper\\u00e7u caract\\u00e8re one \\u00e9t\\u00e9 cr\\u00e9\\u00e9s\";\n-        String frenchX = \"l'aper\\u00e7u caracte\\u0300re one e\\u0301te\\u0301 ere\\u0301e\\u0301s\";\n-\n-        \/\/ warmup\n-        for (int i = 0; i < 100; ++i) {\n-            TextLayout tl = new TextLayout(french, font, frc);\n-            tl = new TextLayout(ascii, font, frc);\n-            tl = new TextLayout(frenchX, font, frc);\n-        }\n-        \/**\/\n-        long atime = test(ascii);\n-        System.err.println(\"atime: \" + (atime\/1000000.0) + \" length: \" + ascii.length());\n-\n-        long ftime = test(french);\n-        System.err.println(\"ftime: \" + (ftime\/1000000.0) + \" length: \" + french.length());\n-\n-        long xtime = test(frenchX);\n-        System.err.println(\"xtime: \" + (xtime\/1000000.0) + \" length: \" + frenchX.length());\n-\n-        long limit = xtime * 2 \/ 3;\n-        if (atime > limit || ftime > limit) {\n-            throw new Exception(\"took too long\");\n-        }\n-        \/**\/\n-    }\n-\n-    private static long test(String text) {\n-        long start = System.nanoTime();\n-        for (int i = 0; i < 2000; ++i) {\n-            TextLayout tl = new TextLayout(text, font, frc);\n-        }\n-        return System.nanoTime() - start;\n-    }\n-}\n","filename":"jdk\/test\/java\/awt\/font\/TextLayout\/CombiningPerf.java","additions":0,"deletions":85,"binary":false,"changes":85,"status":"deleted"},{"patch":"@@ -27,0 +27,1 @@\n+ * @requires os.family == \"mac\"\n","filename":"jdk\/test\/java\/awt\/font\/TextLayout\/DiacriticsDrawingTest.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2006, 2015, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2006, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/font\/Underline\/UnderlineTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2006, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2006, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/grab\/EmbeddedFrameTest1\/EmbeddedFrameTest1.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2006, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2006, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/grab\/MenuDragEvents\/MenuDragEvents.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,1 +24,3 @@\n-\/* @test\n+\/*\n+ * @test\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/im\/InputContext\/InputContextTest.java","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/im\/InputContext\/bug4625203.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,0 +31,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/image\/DrawImage\/EABlitTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -42,0 +42,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/image\/DrawImage\/IncorrectAlphaConversionBicubic.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -45,0 +45,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/image\/DrawImage\/IncorrectAlphaSurface2SW.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -35,0 +35,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/image\/DrawImage\/IncorrectBounds.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -45,0 +45,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/image\/DrawImage\/IncorrectClipSurface2SW.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -47,0 +47,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/image\/DrawImage\/IncorrectClipXorModeSW2Surface.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -43,0 +43,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/image\/DrawImage\/IncorrectClipXorModeSurface2Surface.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -38,0 +38,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/image\/DrawImage\/IncorrectDestinationOffset.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -34,0 +34,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/image\/DrawImage\/IncorrectOffset.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -39,0 +39,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/image\/DrawImage\/IncorrectSourceOffset.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -47,0 +47,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/image\/DrawImage\/IncorrectUnmanagedImageRotatedClip.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -44,0 +44,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/image\/DrawImage\/UnmanagedDrawImagePerformance.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -37,0 +37,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/image\/VolatileImage\/BitmaskVolatileImage.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -29,0 +29,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/image\/VolatileImage\/VolatileImageBug.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+  @key headful\n","filename":"jdk\/test\/java\/awt\/print\/PageFormat\/NullPaper.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/print\/PageFormat\/ReverseLandscapeTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2011, 2012, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2011, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/print\/PaintSetEnabledDeadlock\/PaintSetEnabledDeadlock.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,5 +24,8 @@\n-\/* @test\n-   @bug 4973278 8015586\n-   @run main PrintToDir\n-   @summary Must throw exception when printing to an invalid filename - a dir.\n-*\/\n+\/*\n+ * @test\n+ * @key headful\n+ * @bug 4973278 8015586\n+ * @run main PrintToDir\n+ * @summary Must throw exception when printing to an invalid filename - a dir.\n+ *\/\n+\n","filename":"jdk\/test\/java\/awt\/print\/PrinterJob\/PrintToDir.java","additions":9,"deletions":6,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,1 +24,3 @@\n-\/* @test\n+\/*\n+ * @test\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/security\/Permissions.java","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2004, 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2004, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/java\/awt\/xembed\/server\/RunTestXEmbed.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -121,0 +121,2 @@\n+        \/\/ Set date to 2024-01-01 to satisfy cert constraints\n+        params.setDate(new java.util.Date(1704067200000l));\n","filename":"jdk\/test\/java\/security\/cert\/CertPathBuilder\/akiExt\/AKISerialNumber.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1,1 +1,1 @@\n-tzdata2023c\n+tzdata2024a\n","filename":"jdk\/test\/java\/util\/TimeZone\/TimeZoneData\/VERSION","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -68,1 +68,1 @@\n-            assertEquals(array[i], list.get(i));\n+            assertEquals(array[i], (double) list.get(i));\n","filename":"jdk\/test\/java\/util\/stream\/boottest\/java\/util\/stream\/DoubleNodeTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,2 +32,3 @@\n- * @bug 8013810\n- * @summary Test that print service returned without filter are of the same class as with name filter\n+ * @bug 8013810 8025439\n+ * @summary Test that print service returned without filter are of the same class\n+ *          as with name filter\n@@ -37,6 +38,11 @@\n-  public static void main(String[] args) throws Exception {\n-    for (PrintService service : PrintServiceLookup.lookupPrintServices(null, null)) {\n-      String serviceName = service.getName();\n-      PrintService serviceByName = lookupByName(serviceName);\n-      if (!service.equals(serviceByName)) {\n-        throw new RuntimeException(\"NOK \" + serviceName\n+    public static void main(String[] args) throws Exception {\n+        for (PrintService service : PrintServiceLookup.lookupPrintServices(null, null)) {\n+            String serviceName = service.getName();\n+            PrinterName name = service.getAttribute(PrinterName.class);\n+            String printerName = name.getValue();\n+\n+            PrintService serviceByName = lookupByName(printerName);\n+            System.out.println(\"service \" + service);\n+            System.out.println(\"serviceByName \" + serviceByName);\n+            if (!service.equals(serviceByName)) {\n+                throw new RuntimeException(\"NOK \" + serviceName\n@@ -45,1 +51,3 @@\n-      }\n+            }\n+        }\n+        System.out.println(\"Test PASSED\");\n@@ -47,2 +55,0 @@\n-    System.out.println(\"Test PASSED\");\n-  }\n@@ -50,5 +56,8 @@\n-  private static PrintService lookupByName(String name) {\n-    AttributeSet attributes = new HashAttributeSet();\n-    attributes.add(new PrinterName(name, null));\n-    for (PrintService service : PrintServiceLookup.lookupPrintServices(null, attributes)) {\n-      return service;\n+    private static PrintService lookupByName(String name) {\n+        AttributeSet attributes = new HashAttributeSet();\n+        attributes.add(new PrinterName(name, null));\n+        for (PrintService service :\n+             PrintServiceLookup.lookupPrintServices(null, attributes)) {\n+            return service;\n+        }\n+        return null;\n@@ -56,2 +65,0 @@\n-    return null;\n-  }\n","filename":"jdk\/test\/javax\/print\/PrintServiceLookup\/GetPrintServices.java","additions":26,"deletions":19,"binary":false,"changes":45,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/javax\/swing\/JColorChooser\/Test4165217.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2002, 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2002, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/javax\/swing\/JColorChooser\/Test4177735.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2000, 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2000, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/javax\/swing\/JColorChooser\/Test4193384.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2002, 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2002, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/javax\/swing\/JColorChooser\/Test4234761.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2002, 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2002, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/javax\/swing\/JColorChooser\/Test4461329.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/javax\/swing\/JColorChooser\/Test4711996.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2011, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/javax\/swing\/JColorChooser\/Test6524757.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/javax\/swing\/JColorChooser\/Test6707406.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2009, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2009, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,6 +24,8 @@\n-\/* @test\n-   @bug 6683775 6794764\n-   @summary Painting artifacts is seen when panel is made setOpaque(false) for a translucent window\n-   @author Alexander Potochkin\n-   @run main bug6683775\n-*\/\n+\/*\n+ * @test\n+ * @key headful\n+ * @bug 6683775 6794764\n+ * @summary Painting artifacts is seen when panel is made setOpaque(false) for a translucent window\n+ * @author Alexander Potochkin\n+ * @run main bug6683775\n+ *\/\n","filename":"jdk\/test\/javax\/swing\/JComponent\/6683775\/bug6683775.java","additions":9,"deletions":7,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2018, Oracle and\/or its affiliates. All rights reserved.\n@@ -25,1 +25,1 @@\n-   @bug 5076514 8025430\n+   @bug 5076514 8025430 8198321\n@@ -29,0 +29,1 @@\n+   @run main\/othervm -Djava.awt.headless=true bug5076514\n@@ -31,0 +32,1 @@\n+import java.awt.GraphicsEnvironment;\n@@ -32,0 +34,1 @@\n+\n@@ -40,0 +43,4 @@\n+\n+        \/\/ no system clipboard in the headless mode\n+        boolean expected  = !GraphicsEnvironment.isHeadless();\n+\n@@ -42,1 +49,1 @@\n-        if (!isCheckPermissionCalled) {\n+        if (isCheckPermissionCalled != expected) {\n","filename":"jdk\/test\/javax\/swing\/JEditorPane\/5076514\/bug5076514.java","additions":10,"deletions":3,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/javax\/swing\/JFileChooser\/6520101\/bug6520101.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -3,1 +3,1 @@\n-  Copyright (c) 2012, Oracle and\/or its affiliates. All rights reserved.\n+  Copyright (c) 2012, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/javax\/swing\/JFrame\/4962534\/bug4962534.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/javax\/swing\/JMenu\/8071705\/bug8071705.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2011, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2011, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/javax\/swing\/JMenuItem\/7036148\/bug7036148.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -23,8 +23,12 @@\n-\/* @test\n-   @bug 4634626\n-   @summary Implement context popup menus for components\n-   @author Alexander Zuev\n-   @library ..\/..\/..\/..\/lib\/testlibrary\n-   @build ExtendedRobot\n-   @run applet bug4634626.html\n-*\/\n+\n+\/*\n+ * @test\n+ * @key headful\n+ * @bug 4634626\n+ * @summary Implement context popup menus for components\n+ * @author Alexander Zuev\n+ * @library ..\/..\/..\/..\/lib\/testlibrary\n+ * @build ExtendedRobot\n+ * @run applet bug4634626.html\n+ *\/\n+\n","filename":"jdk\/test\/javax\/swing\/JPopupMenu\/4634626\/bug4634626.java","additions":13,"deletions":9,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2009, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2009, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,1 +24,3 @@\n-\/* @test\n+\/*\n+ * @test\n+ * @key headful\n","filename":"jdk\/test\/javax\/swing\/JSlider\/6794836\/bug6794836.java","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,6 +24,9 @@\n-\/* @test 1.0 04\/04\/23\n-   @bug 5012888\n-   @summary REGRESSION: Click & hold on arrow of JSpinner only transfers focus\n-   @author Konstantin Eremin\n-   @run main bug5012888\n-*\/\n+\/*\n+ * @test 1.0 04\/04\/23\n+ * @key headful\n+ * @bug 5012888\n+ * @summary REGRESSION: Click & hold on arrow of JSpinner only transfers focus\n+ * @author Konstantin Eremin\n+ * @run main bug5012888\n+ *\/\n+\n","filename":"jdk\/test\/javax\/swing\/JSpinner\/5012888\/bug5012888.java","additions":10,"deletions":7,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,1 @@\n+ * @key headful\n","filename":"jdk\/test\/javax\/swing\/JWindow\/ShapedAndTranslucentWindows\/PerPixelTranslucent.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,1 @@\n+ * @key headful\n","filename":"jdk\/test\/javax\/swing\/JWindow\/ShapedAndTranslucentWindows\/PerPixelTranslucentGradient.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,0 +29,1 @@\n+ * @key headful\n","filename":"jdk\/test\/javax\/swing\/JWindow\/ShapedAndTranslucentWindows\/PerPixelTranslucentSwing.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -36,0 +36,1 @@\n+ * @key headful\n","filename":"jdk\/test\/javax\/swing\/JWindow\/ShapedAndTranslucentWindows\/SetShapeAndClickSwing.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,1 @@\n+ * @key headful\n","filename":"jdk\/test\/javax\/swing\/JWindow\/ShapedAndTranslucentWindows\/ShapedPerPixelTranslucentGradient.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,1 @@\n+ * @key headful\n","filename":"jdk\/test\/javax\/swing\/JWindow\/ShapedAndTranslucentWindows\/ShapedTranslucentPerPixelTranslucentGradient.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,0 +31,1 @@\n+ * @key headful\n","filename":"jdk\/test\/javax\/swing\/JWindow\/ShapedAndTranslucentWindows\/TranslucentJComboBox.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,1 @@\n+ * @key headful\n","filename":"jdk\/test\/javax\/swing\/JWindow\/ShapedAndTranslucentWindows\/TranslucentPerPixelTranslucentGradient.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,0 +31,1 @@\n+ * @key headful\n","filename":"jdk\/test\/javax\/swing\/JWindow\/ShapedAndTranslucentWindows\/TranslucentWindowClickSwing.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -29,0 +29,1 @@\n+  @key headful\n","filename":"jdk\/test\/javax\/swing\/LookAndFeel\/8145547\/DemandGTK.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -29,0 +29,1 @@\n+#   @key headful\n","filename":"jdk\/test\/javax\/swing\/LookAndFeel\/8145547\/DemandGTK2.sh","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -30,0 +30,1 @@\n+#   @key headful\n","filename":"jdk\/test\/javax\/swing\/LookAndFeel\/8145547\/DemandGTK3.sh","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,6 +24,8 @@\n-\/* @test\n-   @bug 4300666\n-   @summary Printing UIDefaults throws NoSuchElementExcept\n-   @author Andrey Pikalev\n-   @run applet bug4300666.html\n-*\/\n+\/*\n+ * @test\n+ * @key headful\n+ * @bug 4300666\n+ * @summary Printing UIDefaults throws NoSuchElementExcept\n+ * @author Andrey Pikalev\n+ * @run applet bug4300666.html\n+ *\/\n","filename":"jdk\/test\/javax\/swing\/MultiUIDefaults\/4300666\/bug4300666.java","additions":9,"deletions":7,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,1 +24,3 @@\n-\/* @test\n+\/*\n+ * @test\n+ * @key headful\n","filename":"jdk\/test\/javax\/swing\/RepaintManager\/6608456\/bug6608456.java","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -34,0 +34,1 @@\n+ * @key headful\n","filename":"jdk\/test\/javax\/swing\/SwingUtilities\/7170657\/bug7170657.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2009, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2009, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/javax\/swing\/plaf\/synth\/Test6660049.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,5 +24,7 @@\n-\/* @test\n- @bug 4506788 7147408\n- @summary  Tests if cursor gets stuck after insertion a character\n- @author Denis Sharypov\n- @run applet bug4506788.html\n+\/*\n+ * @test\n+ * @key headful\n+ * @bug 4506788 7147408\n+ * @summary  Tests if cursor gets stuck after insertion a character\n+ * @author Denis Sharypov\n+ * @run applet bug4506788.html\n@@ -30,0 +32,1 @@\n+\n","filename":"jdk\/test\/javax\/swing\/text\/StyledEditorKit\/4506788\/bug4506788.java","additions":9,"deletions":6,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,6 +24,8 @@\n-\/* @test\n-   @bug 7165725\n-   @summary  Tests if HTML parser can handle successive script tags in a line\n-             and it does not call false text callback after script tags.\n-   @run main bug7165725\n-*\/\n+\/*\n+ * @test\n+ * @key headful\n+ * @bug 7165725\n+ * @summary  Tests if HTML parser can handle successive script tags in a line\n+ *           and it does not call false text callback after script tags.\n+ * @run main bug7165725\n+ *\/\n","filename":"jdk\/test\/javax\/swing\/text\/html\/parser\/Parser\/7165725\/bug7165725.java","additions":9,"deletions":7,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -78,2 +78,2 @@\n-            \/\/ Allocate 512M of data\n-            byte[][] bytes = new byte[64][];\n+            \/\/ Allocate 512M of data in 1M chunks per iteration\n+            byte[][] bytes = new byte[64 * 8][];\n@@ -81,1 +81,1 @@\n-            for (int i = 0; i < 64; i++) {\n+            for (int i = 0; i < 64 * 8; i++) {\n@@ -83,1 +83,1 @@\n-                    bytes[i] = new byte[8 * 1024 * 1024];\n+                    bytes[i] = new byte[1024 * 1024];\n","filename":"jdk\/test\/jdk\/internal\/platform\/docker\/MetricsMemoryTester.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2023, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -384,0 +384,40 @@\n+\/*\n+ * @test id=affirmtrustcommercialca\n+ * @bug 8040012\n+ * @summary Interoperability tests with AffirmTrust Commercial CA\n+ * @library \/test\/lib\n+ * @build jtreg.SkippedException ValidatePathWithURL CAInterop\n+ * @run main\/othervm -Djava.security.debug=certpath,ocsp CAInterop affirmtrustcommercialca OCSP\n+ * @run main\/othervm -Djava.security.debug=certpath CAInterop affirmtrustcommercialca CRL\n+ *\/\n+\n+\/*\n+ * @test id=affirmtrustnetworkingca\n+ * @bug 8040012\n+ * @summary Interoperability tests with AffirmTrust Networking CA\n+ * @library \/test\/lib\n+ * @build jtreg.SkippedException ValidatePathWithURL CAInterop\n+ * @run main\/othervm -Djava.security.debug=certpath,ocsp CAInterop affirmtrustnetworkingca OCSP\n+ * @run main\/othervm -Djava.security.debug=certpath CAInterop affirmtrustnetworkingca CRL\n+ *\/\n+\n+\/*\n+ * @test id=affirmtrustpremiumca\n+ * @bug 8040012\n+ * @summary Interoperability tests with AffirmTrust Premium CA\n+ * @library \/test\/lib\n+ * @build jtreg.SkippedException ValidatePathWithURL CAInterop\n+ * @run main\/othervm -Djava.security.debug=certpath,ocsp CAInterop affirmtrustpremiumca OCSP\n+ * @run main\/othervm -Djava.security.debug=certpath CAInterop affirmtrustpremiumca CRL\n+ *\/\n+\n+\/*\n+ * @test id=affirmtrustpremiumeccca\n+ * @bug 8040012\n+ * @summary Interoperability tests with AffirmTrust Premium ECC CA\n+ * @library \/test\/lib\n+ * @build jtreg.SkippedException ValidatePathWithURL CAInterop\n+ * @run main\/othervm -Djava.security.debug=certpath,ocsp CAInterop affirmtrustpremiumeccca OCSP\n+ * @run main\/othervm -Djava.security.debug=certpath CAInterop affirmtrustpremiumeccca CRL\n+ *\/\n+\n@@ -414,0 +454,18 @@\n+\/*\n+ * @test id=certainlyrootr1\n+ * @bug 8321408\n+ * @summary Interoperability tests with Certainly Root R1\n+ * @library \/test\/lib\n+ * @build jtreg.SkippedException ValidatePathWithURL CAInterop\n+ * @run main\/othervm -Djava.security.debug=certpath,ocsp CAInterop certainlyrootr1 DEFAULT\n+ *\/\n+\n+\/*\n+ * @test id=certainlyroote1\n+ * @bug 8321408\n+ * @summary Interoperability tests with Certainly Root E1\n+ * @library \/test\/lib\n+ * @build jtreg.SkippedException ValidatePathWithURL CAInterop\n+ * @run main\/othervm -Djava.security.debug=certpath,ocsp CAInterop certainlyroote1 DEFAULT\n+ *\/\n+\n@@ -555,0 +613,14 @@\n+            \/\/ These are listed at https:\/\/www.affirmtrust.com\/resources\/\n+            case \"affirmtrustcommercialca\":\n+                    return new CATestURLs(\"https:\/\/validcommercial.affirmtrust.com\",\n+                            \"https:\/\/revokedcommercial.affirmtrust.com\");\n+            case \"affirmtrustnetworkingca\":\n+                    return new CATestURLs(\"https:\/\/validnetworking.affirmtrust.com\",\n+                            \"https:\/\/revokednetworking.affirmtrust.com\");\n+            case \"affirmtrustpremiumca\":\n+                    return new CATestURLs(\"https:\/\/validpremium.affirmtrust.com\",\n+                            \"https:\/\/revokedpremium.affirmtrust.com\");\n+            case \"affirmtrustpremiumeccca\":\n+                    return new CATestURLs(\"https:\/\/validpremiumecc.affirmtrust.com\",\n+                            \"https:\/\/revokedpremiumecc.affirmtrust.com\");\n+\n@@ -562,0 +634,7 @@\n+            case \"certainlyrootr1\":\n+                    return new CATestURLs(\"https:\/\/valid.root-r1.certainly.com\",\n+                            \"https:\/\/revoked.root-r1.certainly.com\");\n+            case \"certainlyroote1\":\n+                    return new CATestURLs(\"https:\/\/valid.root-e1.certainly.com\",\n+                            \"https:\/\/revoked.root-e1.certainly.com\");\n+\n","filename":"jdk\/test\/security\/infra\/java\/security\/cert\/CertPathValidator\/certification\/CAInterop.java","additions":80,"deletions":1,"binary":false,"changes":81,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -25,6 +25,7 @@\n-* @test\n-* @bug     8024343 8042098\n-* @summary Test verifies that accelerated pipelines\n-*          correctly draws primitives in XOR mode.\n-* @run main\/othervm -Dsun.java2d.xrender=True AcceleratedXORModeTest\n-*\/\n+ * @test\n+ * @key headful\n+ * @bug     8024343 8042098\n+ * @summary Test verifies that accelerated pipelines\n+ *          correctly draws primitives in XOR mode.\n+ * @run main\/othervm -Dsun.java2d.xrender=True AcceleratedXORModeTest\n+ *\/\n","filename":"jdk\/test\/sun\/java2d\/AcceleratedXORModeTest.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/sun\/java2d\/DirectX\/AccelPaintsTest\/AccelPaintsTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2006, 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2006, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -40,0 +40,1 @@\n+ * @key headful\n","filename":"jdk\/test\/sun\/java2d\/DirectX\/AcceleratedScaleTest\/AcceleratedScaleTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2011, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2011, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/sun\/java2d\/DirectX\/DrawBitmaskToSurfaceTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/sun\/java2d\/DirectX\/InfiniteValidationLoopTest\/InfiniteValidationLoopTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -25,0 +25,1 @@\n+ * @key headful\n","filename":"jdk\/test\/sun\/java2d\/DirectX\/OnScreenRenderingResizeTest\/OnScreenRenderingResizeTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/sun\/java2d\/DirectX\/OpaqueImageToSurfaceBlitTest\/OpaqueImageToSurfaceBlitTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/sun\/java2d\/DirectX\/OverriddenInsetsTest\/OverriddenInsetsTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/sun\/java2d\/DirectX\/RenderingToCachedGraphicsTest\/RenderingToCachedGraphicsTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/sun\/java2d\/DirectX\/StrikeDisposalCrashTest\/StrikeDisposalCrashTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -25,0 +25,1 @@\n+ * @key headful\n","filename":"jdk\/test\/sun\/java2d\/DirectX\/SwingOnScreenScrollingTest\/SwingOnScreenScrollingTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/sun\/java2d\/DirectX\/TransformedPaintTest\/TransformedPaintTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -33,0 +33,1 @@\n+ * @key headful\n","filename":"jdk\/test\/sun\/java2d\/DrawCachedImageAndTransform.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/sun\/java2d\/DrawXORModeTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/sun\/java2d\/GdiRendering\/InsetClipping.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/sun\/java2d\/OpenGL\/CopyAreaOOB.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/sun\/java2d\/OpenGL\/CustomCompositeTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -25,0 +25,1 @@\n+ * @key headful\n","filename":"jdk\/test\/sun\/java2d\/OpenGL\/DrawBufImgOp.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -25,0 +25,1 @@\n+ * @key headful\n","filename":"jdk\/test\/sun\/java2d\/OpenGL\/DrawHugeImageTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/sun\/java2d\/OpenGL\/GradientPaints.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -34,0 +34,1 @@\n+ * @key headful\n","filename":"jdk\/test\/sun\/java2d\/OpenGL\/bug7181438.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2010, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -25,0 +25,1 @@\n+ * @key headful\n","filename":"jdk\/test\/sun\/java2d\/SunGraphics2D\/DrawImageBilinear.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -50,0 +50,1 @@\n+ * @key headful\n","filename":"jdk\/test\/sun\/java2d\/SunGraphics2D\/EmptyClipRenderingTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2002, 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2002, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/sun\/java2d\/SunGraphics2D\/PolyVertTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2005, 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2005, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/sun\/java2d\/SunGraphics2D\/SimplePrimQuality.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/sun\/java2d\/X11SurfaceData\/DrawImageBgTest\/DrawImageBgTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2011, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2011, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -25,6 +25,7 @@\n-* @test\n-* @bug     6985593\n-* @summary Test verifies that rendering standard images to screen does\n-*          not caiuse a crash in case of XRender.\n-* @run main\/othervm -Dsun.java2d.xrender=True XRenderBlitsTest\n-*\/\n+ * @test\n+ * @key headful\n+ * @bug     6985593\n+ * @summary Test verifies that rendering standard images to screen does\n+ *          not caiuse a crash in case of XRender.\n+ * @run main\/othervm -Dsun.java2d.xrender=True XRenderBlitsTest\n+ *\/\n","filename":"jdk\/test\/sun\/java2d\/XRenderBlitsTest.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- Copyright (c) 2000, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ Copyright (c) 2000, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+  @key headful\n","filename":"jdk\/test\/sun\/java2d\/cmm\/ColorConvertOp\/ConstructorsNullTest\/ConstructorsNullTest.html","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/sun\/java2d\/pipe\/InterpolationQualityTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2010, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/sun\/java2d\/pipe\/MutableColorTest\/MutableColorTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -25,0 +25,1 @@\n+ * @key headful\n","filename":"jdk\/test\/sun\/java2d\/pipe\/hw\/RSLAPITest\/RSLAPITest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @key headful\n","filename":"jdk\/test\/sun\/java2d\/pipe\/hw\/RSLContextInvalidationTest\/RSLContextInvalidationTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @bug 4990825\n+ * @bug 4990825 8251155\n","filename":"jdk\/test\/sun\/jvmstat\/monitor\/HostIdentifier\/HostIdentifierCreate.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -221,0 +221,14 @@\n+<testcase id=\"31\" HostIdentifierInput=\"12345\">\n+<description>\n+Purely numeric\n+<\/description>\n+<HostIdentifier> \/\/12345 <\/HostIdentifier>\n+<\/testcase>\n+\n+<testcase id=\"32\" HostIdentifierInput=\"12345:123\">\n+<description>\n+Purely numeric\n+<\/description>\n+<HostIdentifier> \/\/12345:123 <\/HostIdentifier>\n+<\/testcase>\n+\n","filename":"jdk\/test\/sun\/jvmstat\/monitor\/HostIdentifier\/testcases","additions":14,"deletions":0,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -0,0 +1,1277 @@\n+\/*\n+ * Copyright (c) 2022 Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @library \/lib\/testlibrary\n+ * @modules java.base\/sun.net:+open\n+ *          java.base\/sun.net.www.http:+open\n+ *          java.base\/sun.net.www:+open\n+ *          java.base\/sun.net.www.protocol.http:+open\n+ * @run main\/othervm KeepAliveTest 0\n+ * @run main\/othervm KeepAliveTest 1\n+ * @run main\/othervm KeepAliveTest 2\n+ * @run main\/othervm KeepAliveTest 3\n+ * @run main\/othervm KeepAliveTest 4\n+ * @run main\/othervm KeepAliveTest 5\n+ * @run main\/othervm KeepAliveTest 6\n+ * @run main\/othervm KeepAliveTest 7\n+ * @run main\/othervm KeepAliveTest 8\n+ * @run main\/othervm KeepAliveTest 9\n+ * @run main\/othervm KeepAliveTest 10\n+ * @run main\/othervm KeepAliveTest 11\n+ * @run main\/othervm KeepAliveTest 12\n+ * @run main\/othervm KeepAliveTest 13\n+ * @run main\/othervm KeepAliveTest 14\n+ * @run main\/othervm KeepAliveTest 15\n+ * @run main\/othervm KeepAliveTest 16\n+ * @run main\/othervm KeepAliveTest 17\n+ * @run main\/othervm KeepAliveTest 18\n+ * @run main\/othervm KeepAliveTest 19\n+ * @run main\/othervm KeepAliveTest 20\n+ * @run main\/othervm KeepAliveTest 21\n+ * @run main\/othervm KeepAliveTest 22\n+ * @run main\/othervm KeepAliveTest 23\n+ * @run main\/othervm KeepAliveTest 24\n+ * @run main\/othervm KeepAliveTest 25\n+ * @run main\/othervm KeepAliveTest 26\n+ * @run main\/othervm KeepAliveTest 27\n+ * @run main\/othervm KeepAliveTest 28\n+ * @run main\/othervm KeepAliveTest 29\n+ * @run main\/othervm KeepAliveTest 30\n+ * @run main\/othervm KeepAliveTest 31\n+ * @run main\/othervm KeepAliveTest 32\n+ * @run main\/othervm KeepAliveTest 33\n+ * @run main\/othervm KeepAliveTest 34\n+ * @run main\/othervm KeepAliveTest 35\n+ * @run main\/othervm KeepAliveTest 36\n+ * @run main\/othervm KeepAliveTest 37\n+ * @run main\/othervm KeepAliveTest 38\n+ * @run main\/othervm KeepAliveTest 39\n+ * @run main\/othervm KeepAliveTest 40\n+ * @run main\/othervm KeepAliveTest 41\n+ * @run main\/othervm KeepAliveTest 42\n+ * @run main\/othervm KeepAliveTest 43\n+ * @run main\/othervm KeepAliveTest 44\n+ * @run main\/othervm KeepAliveTest 45\n+ * @run main\/othervm KeepAliveTest 46\n+ * @run main\/othervm KeepAliveTest 47\n+ * @run main\/othervm KeepAliveTest 48\n+ * @run main\/othervm KeepAliveTest 49\n+ * @run main\/othervm KeepAliveTest 50\n+ * @run main\/othervm KeepAliveTest 51\n+ * @run main\/othervm KeepAliveTest 52\n+ * @run main\/othervm KeepAliveTest 53\n+ * @run main\/othervm KeepAliveTest 54\n+ * @run main\/othervm KeepAliveTest 55\n+ * @run main\/othervm KeepAliveTest 56\n+ * @run main\/othervm KeepAliveTest 57\n+ * @run main\/othervm KeepAliveTest 58\n+ * @run main\/othervm KeepAliveTest 59\n+ * @run main\/othervm KeepAliveTest 60\n+ * @run main\/othervm KeepAliveTest 61\n+ * @run main\/othervm KeepAliveTest 62\n+ * @run main\/othervm KeepAliveTest 63\n+ * @run main\/othervm KeepAliveTest 64\n+ * @run main\/othervm KeepAliveTest 65\n+ * @run main\/othervm KeepAliveTest 66\n+ * @run main\/othervm KeepAliveTest 67\n+ * @run main\/othervm KeepAliveTest 68\n+ * @run main\/othervm KeepAliveTest 69\n+ * @run main\/othervm KeepAliveTest 70\n+ * @run main\/othervm KeepAliveTest 71\n+ * @run main\/othervm KeepAliveTest 72\n+ * @run main\/othervm KeepAliveTest 73\n+ * @run main\/othervm KeepAliveTest 74\n+ * @run main\/othervm KeepAliveTest 75\n+ * @run main\/othervm KeepAliveTest 76\n+ * @run main\/othervm KeepAliveTest 77\n+ * @run main\/othervm KeepAliveTest 78\n+ * @run main\/othervm KeepAliveTest 79\n+ * @run main\/othervm KeepAliveTest 80\n+ * @run main\/othervm KeepAliveTest 81\n+ * @run main\/othervm KeepAliveTest 82\n+ * @run main\/othervm KeepAliveTest 83\n+ * @run main\/othervm KeepAliveTest 84\n+ * @run main\/othervm KeepAliveTest 85\n+ * @run main\/othervm KeepAliveTest 86\n+ * @run main\/othervm KeepAliveTest 87\n+ * @run main\/othervm KeepAliveTest 88\n+ * @run main\/othervm KeepAliveTest 89\n+ * @run main\/othervm KeepAliveTest 90\n+ * @run main\/othervm KeepAliveTest 91\n+ * @run main\/othervm KeepAliveTest 92\n+ * @run main\/othervm KeepAliveTest 93\n+ * @run main\/othervm KeepAliveTest 94\n+ * @run main\/othervm KeepAliveTest 95\n+ * @run main\/othervm KeepAliveTest 96\n+ * @run main\/othervm KeepAliveTest 97\n+ * @run main\/othervm KeepAliveTest 98\n+ * @run main\/othervm KeepAliveTest 99\n+ * @run main\/othervm KeepAliveTest 100\n+ * @run main\/othervm KeepAliveTest 101\n+ * @run main\/othervm KeepAliveTest 102\n+ * @run main\/othervm KeepAliveTest 103\n+ * @run main\/othervm KeepAliveTest 104\n+ * @run main\/othervm KeepAliveTest 105\n+ * @run main\/othervm KeepAliveTest 106\n+ * @run main\/othervm KeepAliveTest 107\n+ * @run main\/othervm KeepAliveTest 108\n+ * @run main\/othervm KeepAliveTest 109\n+ * @run main\/othervm KeepAliveTest 110\n+ * @run main\/othervm KeepAliveTest 111\n+ * @run main\/othervm KeepAliveTest 112\n+ * @run main\/othervm KeepAliveTest 113\n+ * @run main\/othervm KeepAliveTest 114\n+ * @run main\/othervm KeepAliveTest 115\n+ * @run main\/othervm KeepAliveTest 116\n+ * @run main\/othervm KeepAliveTest 117\n+ * @run main\/othervm KeepAliveTest 118\n+ * @run main\/othervm KeepAliveTest 119\n+ * @run main\/othervm KeepAliveTest 120\n+ * @run main\/othervm KeepAliveTest 121\n+ * @run main\/othervm KeepAliveTest 122\n+ * @run main\/othervm KeepAliveTest 123\n+ * @run main\/othervm KeepAliveTest 124\n+ * @run main\/othervm KeepAliveTest 125\n+ * @run main\/othervm KeepAliveTest 126\n+ * @run main\/othervm KeepAliveTest 127\n+ * @run main\/othervm KeepAliveTest 128\n+ * @run main\/othervm KeepAliveTest 129\n+ * @run main\/othervm KeepAliveTest 130\n+ * @run main\/othervm KeepAliveTest 131\n+ * @run main\/othervm KeepAliveTest 132\n+ * @run main\/othervm KeepAliveTest 133\n+ * @run main\/othervm KeepAliveTest 134\n+ * @run main\/othervm KeepAliveTest 135\n+ * @run main\/othervm KeepAliveTest 136\n+ * @run main\/othervm KeepAliveTest 137\n+ * @run main\/othervm KeepAliveTest 138\n+ * @run main\/othervm KeepAliveTest 139\n+ * @run main\/othervm KeepAliveTest 140\n+ * @run main\/othervm KeepAliveTest 141\n+ * @run main\/othervm KeepAliveTest 142\n+ * @run main\/othervm KeepAliveTest 143\n+ * @run main\/othervm KeepAliveTest 144\n+ * @run main\/othervm KeepAliveTest 145\n+ * @run main\/othervm KeepAliveTest 146\n+ * @run main\/othervm KeepAliveTest 147\n+ * @run main\/othervm KeepAliveTest 148\n+ * @run main\/othervm KeepAliveTest 149\n+ * @run main\/othervm KeepAliveTest 150\n+ * @run main\/othervm KeepAliveTest 151\n+ * @run main\/othervm KeepAliveTest 152\n+ * @run main\/othervm KeepAliveTest 153\n+ * @run main\/othervm KeepAliveTest 154\n+ * @run main\/othervm KeepAliveTest 155\n+ * @run main\/othervm KeepAliveTest 156\n+ * @run main\/othervm KeepAliveTest 157\n+ * @run main\/othervm KeepAliveTest 158\n+ * @run main\/othervm KeepAliveTest 159\n+ *\/\n+\n+import java.nio.charset.StandardCharsets;\n+import java.io.InputStream;\n+import java.io.BufferedReader;\n+import java.io.IOException;\n+import java.io.InputStreamReader;\n+import java.io.OutputStreamWriter;\n+import java.lang.reflect.Constructor;\n+import java.lang.reflect.Field;\n+import java.net.InetAddress;\n+import java.net.InetSocketAddress;\n+import java.net.Proxy;\n+import java.net.Proxy.Type;\n+import java.net.ServerSocket;\n+import java.net.Socket;\n+import java.net.URL;\n+import java.util.List;\n+import java.util.Map.Entry;\n+import java.util.concurrent.CountDownLatch;\n+import java.util.logging.ConsoleHandler;\n+import java.util.logging.Level;\n+import java.util.logging.Logger;\n+import sun.net.www.http.HttpClient;\n+import sun.net.www.http.KeepAliveCache;\n+import sun.net.www.protocol.http.HttpURLConnection;\n+import jdk.testlibrary.net.URIBuilder;\n+\n+public class KeepAliveTest {\n+    private static final Logger logger = Logger.getLogger(\"sun.net.www.protocol.http.HttpURLConnection\");\n+    private static final String NOT_CACHED = \"NotCached\";\n+    private static final String CLIENT_SEPARATOR = \";\";\n+    private static final String NEW_LINE = \"\\r\\n\";\n+    private volatile int SERVER_PORT = 0;\n+    \/*\n+     * isProxySet is shared variable between server thread and client thread(main) and it should be set and reset to false for each and\n+     * every scenario.\n+     * isProxySet variable should be set by server thread before proceeding to client thread(main).\n+     *\/\n+    private volatile boolean isProxySet = false;\n+    private static final String CONNECTION_KEEP_ALIVE_ONLY = \"Connection: keep-alive\";\n+    private static final String PROXY_CONNECTION_KEEP_ALIVE_ONLY = \"Proxy-Connection: keep-alive\";\n+    private static final String KEEP_ALIVE_TIMEOUT_NEG = \"Keep-alive: timeout=-20\";\n+    private static final String KEEP_ALIVE_TIMEOUT_ZERO = \"Keep-alive: timeout=0\";\n+    private static final String KEEP_ALIVE_TIMEOUT = \"Keep-alive: timeout=20\";\n+    private static final String KEEP_ALIVE_PROXY_TIMEOUT = \"Keep-alive: timeout=120\";\n+    private static final String CLIENT_HTTP_KEEP_ALIVE_TIME_SERVER_NEGATIVE = \"http.keepAlive.time.server=-100\";\n+    private static final String CLIENT_HTTP_KEEP_ALIVE_TIME_PROXY_NEGATIVE = \"http.keepAlive.time.proxy=-200\";\n+    private static final String CLIENT_HTTP_KEEP_ALIVE_TIME_SERVER_ZERO = \"http.keepAlive.time.server=0\";\n+    private static final String CLIENT_HTTP_KEEP_ALIVE_TIME_PROXY_ZERO = \"http.keepAlive.time.proxy=0\";\n+    private static final String CLIENT_HTTP_KEEP_ALIVE_TIME_SERVER_POSITIVE = \"http.keepAlive.time.server=100\";\n+    private static final String CLIENT_HTTP_KEEP_ALIVE_TIME_PROXY_POSITIVE = \"http.keepAlive.time.proxy=200\";\n+    private static final String CONNECTION_KEEP_ALIVE_WITH_TIMEOUT = CONNECTION_KEEP_ALIVE_ONLY + NEW_LINE\n+        + KEEP_ALIVE_TIMEOUT;\n+   \/*\n+    * Following Constants represents Client Side Properties and is used as reference in below table as\n+    * CLIENT_INPUT_CONSTANT_NAMES\n+    *\/\n+    private static final String SERVER_100_NEGATIVE = CLIENT_HTTP_KEEP_ALIVE_TIME_SERVER_NEGATIVE;\n+    private static final String PROXY_200_NEGATIVE = CLIENT_HTTP_KEEP_ALIVE_TIME_PROXY_NEGATIVE;\n+    private static final String SERVER_ZERO = CLIENT_HTTP_KEEP_ALIVE_TIME_SERVER_ZERO;\n+    private static final String PROXY_ZERO = CLIENT_HTTP_KEEP_ALIVE_TIME_PROXY_ZERO;\n+    private static final String SERVER_100 = CLIENT_HTTP_KEEP_ALIVE_TIME_SERVER_POSITIVE;\n+    private static final String PROXY_200 = CLIENT_HTTP_KEEP_ALIVE_TIME_PROXY_POSITIVE;\n+\n+   \/*\n+    * CONSTANTS A,B,C,D,E,NI,F,G,H,I represents ServerScenarios and is used as reference in below table\n+    * as SERVER_RESPONSE_CONSTANT_NAME\n+    *\/\n+    private static final String A = CONNECTION_KEEP_ALIVE_ONLY;\n+    private static final String B = CONNECTION_KEEP_ALIVE_WITH_TIMEOUT;\n+    private static final String C = PROXY_CONNECTION_KEEP_ALIVE_ONLY;\n+    private static final String D = PROXY_CONNECTION_KEEP_ALIVE_ONLY + NEW_LINE + CONNECTION_KEEP_ALIVE_ONLY;\n+    private static final String E = C + NEW_LINE + KEEP_ALIVE_PROXY_TIMEOUT;\n+    private static final String NI = \"NO_INPUT\";\n+    private static final String F = A + NEW_LINE + KEEP_ALIVE_TIMEOUT_NEG;\n+    private static final String G = A + NEW_LINE + KEEP_ALIVE_TIMEOUT_ZERO;\n+    private static final String H = C + NEW_LINE + KEEP_ALIVE_TIMEOUT_NEG;\n+    private static final String I = C + NEW_LINE + KEEP_ALIVE_TIMEOUT_ZERO;\n+\n+   \/*\n+    * There are 160 scenarios run by this program.\n+    * For every scenario there is mapping between serverScenarios[int],clientScenarios[int] and expectedOutput[int]\n+    *\n+    * serverScenarios[0] clientScenarios[0] expectedOutput[0]\n+    * serverScenarios[1] clientScenarios[1] expectedOutput[1]\n+    * serverScenarios[2] clientScenarios[2] expectedOutput[2]\n+    *\n+    * ...\n+    *\n+    * serverScenarios[159] cientScenarios[159] expectedOutput[159]\n+    *\n+    * whereas serverScenarios[int] is retrieved using getServerScenario(int)\n+    * whereas clientScenarios[int] is retrieved using clientScenario[getClientScenarioNumber[int]]\n+    * and\n+    * expectedOutput[int] is retrieved using expectedOuput[int] directly.\n+    *\n+    *\/\n+\n+   \/* Here is the complete table of server_response, client system properties input and expected cached timeout at client side *\/\n+   \/* ScNo  |  SERVER RESPONSE (SERVER_RESPONSE_CONSTANT_NAME)| CLIENT SYSTEM PROPERTIES INPUT (CLIENT_INPUT_CONSTANT_NAMES) | EXPECTED CACHED TIMEOUT AT CLIENT SIDE\n+    *****************************************************************************************************************************************\n+    *    0  |  Connection: keep-alive (A)                     | No Input Provided (NI)                       | Default Timeout set to 5\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *    1  |  Connection: keep-alive (A)                     | -Dhttp.keepAlive.time.server=100 (SERVER_100)| Client Timeout set to 100\n+    *--------------------------------------------------------------------------------------------------------------------------\n+    *    2  |  Connection: keep-alive (A)                     | -Dhttp.keepAlive.time.proxy=200 (PROXY_200)  | Default Timeout set to 5\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *    3  |  Connection: keep-alive (A)                     | -Dhttp.keepAlive.time.server=100 &&          |\n+    *       |                                                 | -Dhttp.keepAlive.time.proxy=200              | Timeout set to 100\n+    *       |                                                 | (SERVER_100 && PROXY_200)                    |\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *    4  |  Connection: keep-alive (A)                     | -Dhttp.keepAlive.time.server=-100            | Default Timeout set to 5\n+    *       |                                                 | (SERVER_100_NEGATIVE)                        |\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *    5  |  Connection: keep-alive (A)                     | -Dhttp.keepAlive.time.proxy=-200             | Default Timeout set to 5\n+    *       |                                                 | (PROXY_200_NEGATIVE)                         |\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *    6  |  Connection: keep-alive (A)                     | -Dhttp.keepAlive.time.server=-100 &&         |\n+    *       |                                                 | -Dhttp.keepAlive.time.proxy=-200             | Default Timeout set to 5\n+    *       |                                                 | (SERVER_100_NEGATIVE && PROXY_200_NEGATIVE)  |\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *    7  |  Connection: keep-alive (A)                     | -Dhttp.keepAlive.time.server=0               | Connection Closed Immediately\n+    *       |                                                 | (SERVER_ZERO)                                |\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *    8  |  Connection: keep-alive (A)                     | -Dhttp.keepAlive.time.proxy=0                | Default Timeout set to 5\n+    *       |                                                 | (PROXY_ZERO)                                 |\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *    9  |  Connection: keep-alive (A)                     | -Dhttp.keepAlive.time.server=0 &&            |\n+    *       |                                                 | -Dhttp.keepAlive.time.proxy=0                | Connection Closed Immediately\n+    *       |                                                 | (SERVER_ZERO && PROXY_ZERO)                  |\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *   10  |  Connection: keep-alive (A)                     | -Dhttp.keepAlive.time.server=0 &&            |\n+    *       |                                                 | -Dhttp.keepAlive.time.proxy=-200             | Connection Closed Immediately\n+    *       |                                                 | (SERVER_ZERO && PROXY_200_NEGATIVE)          |\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *   11  |  Connection: keep-alive (A)                     | -Dhttp.keepAlive.time.server=-100 &&         |\n+    *       |                                                 | -Dhttp.keepAlive.time.proxy=0                | Default Timeout set to 5\n+    *       |                                                 | (SERVER_100_NEGATIVE && PROXY_ZERO)          |\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *   12  |  Connection: keep-alive (A)                     | -Dhttp.keepAlive.time.server=100 &&          |\n+    *       |                                                 |  -Dhttp.keepAlive.time.proxy=0               | Timeout set to 100\n+    *       |                                                 | (SERVER_100 && PROXY_ZERO)                   |\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *   13  |  Connection: keep-alive (A)                     | -Dhttp.keepAlive.time.server=0 &&            |\n+    *       |                                                 | -Dhttp.keepAlive.time.proxy=200              | Connection Closed Immediately\n+    *       |                                                 | (SERVER_ZERO && PROXY_200)                   |\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *   14  |  Connection: keep-alive (A)                     | -Dhttp.keepAlive.time.server=100 &&          |\n+    *       |                                                 | -Dhttp.keepAlive.time.proxy=-200             | Timeout set to 100\n+    *       |                                                 | (SERVER_100 && PROXY_200_NEGATIVE)           |\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *   15  |  Connection: keep-alive (A)                     | -Dhttp.keepAlive.time.server=-100 &&         |\n+    *       |                                                 | -Dhttp.keepAlive.time.proxy=200              | Default Timeout set to 5\n+    *       |                                                 | (SERVER_100_NEGATIVE && PROXY_200)           |\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *   16  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 (B) | No Input Provided (NI)                   | Timeout set to 20\n+    *------------------------------------------------------------------------------------------------------------------------\n+    *   17  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 (B) | -Dhttp.keepAlive.time.server=100         | Timeout set to 20\n+    *       |                                                     | (SERVER_100)                             |\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *   18  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 (B) | -Dhttp.keepAlive.time.proxy=200          | Timeout set to 20\n+    *       |                                                     | (PROXY_200)                              |\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *   19  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 (B) | -Dhttp.keepAlive.time.server=100 &&      |\n+    *       |                                                     | -Dhttp.keepAlive.time.proxy=200          | Timeout set to 20\n+    *       |                                                     | (SERVER_100 && PROXY_200)                |\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *   20  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 (B) | -Dhttp.keepAlive.time.server=-100        | Timeout set to 20\n+    *       |                                                     | (SERVER_100_NEGATIVE)                    |\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *   21  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 (B) | -Dhttp.keepAlive.time.proxy=-200         | Timeout set to 20\n+    *       |                                                     | (PROXY_200_NEGATIVE)                     |\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *   22  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 (B) | -Dhttp.keepAlive.time.server=-100 &&       |\n+    *       |                                                     | -Dhttp.keepAlive.time.proxy=-200           | Timeout set to 20\n+    *       |                                                     | (SERVER_100_NEGATIVE && PROXY_200_NEGATIVE)|\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *   23  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 (B) | -Dhttp.keepAlive.time.server=0      | Timeout set to 20\n+    *       |                                                     | (SERVER_ZERO)                       |\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *   24  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 (B) | -Dhttp.keepAlive.time.proxy=0       | Timeout set to 20\n+    *       |                                                     | (PROXY_ZERO)                        |\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *   25  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 (B) | -Dhttp.keepAlive.time.server=0 &&   |\n+    *       |                                                     | -Dhttp.keepAlive.time.proxy=0       | Timeout set to 20\n+    *       |                                                     | (SERVER_ZERO && PROXY_ZERO)         |\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *   26  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 (B) | -Dhttp.keepAlive.time.server=0 &&   |\n+    *       |                                                     | -Dhttp.keepAlive.time.proxy=-200    | Timeout set to 20\n+    *       |                                                     | (SERVER_ZERO && PROXY_200_NEGATIVE) |\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *   27  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 (B) | -Dhttp.keepAlive.time.server=-100 &&|\n+    *       |                                                     | -Dhttp.keepAlive.time.proxy=0       | Timeout set to 20\n+    *       |                                                     | (SERVER_100_NEGATIVE && PROXY_ZERO) |\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *   28  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 (B) | -Dhttp.keepAlive.time.server=100 && |\n+    *       |                                                     | -Dhttp.keepAlive.time.proxy=0       | Timeout set to 20\n+    *       |                                                     | (SERVER_100 && PROXY_ZERO)          |\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *   29  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 (B) | -Dhttp.keepAlive.time.server=0 &&   |\n+    *       |                                                     | -Dhttp.keepAlive.time.proxy=200     | Timeout set to 20\n+    *       |                                                     | (SERVER_ZERO && PROXY_200)          |\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *   30  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 (B) | -Dhttp.keepAlive.time.server=100 && |\n+    *       |                                                     | -Dhttp.keepAlive.time.proxy=-200    | Timeout set to 20\n+    *       |                                                     | (SERVER_100 && PROXY_200_NEGATIVE)  |\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *   31  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 (B) |-Dhttp.keepAlive.time.server=-100 && |\n+    *       |                                                     |-Dhttp.keepAlive.time.proxy=200      | Timeout set to 20\n+    *       |                                                     | (SERVER_100_NEGATIVE && PROXY_200)  |\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *   32  |Proxy-Connection: keep-alive (C)                     | No Input Provided (NI)              | Default timeout set to 60\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *   33  |Proxy-Connection: keep-alive (C)                     | -Dhttp.keepAlive.time.server=100    | Default timeout set to 60\n+    *       |                                                     | (SERVER_100)                        |\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *   34  |Proxy-Connection: keep-alive (C)                     | -Dhttp.keepAlive.time.proxy=200     | Timeout set to 200\n+    *       |                                                     | (PROXY_200)                         |\n+    *--------------------------------------------------------------------------------------------------------------------------\n+    *   35  |Proxy-Connection: keep-alive (C)                     | -Dhttp.keepAlive.time.server=100 && |\n+    *       |                                                     | -Dhttp.keepAlive.time.proxy=200     | Timeout set to 200\n+    *       |                                                     | (SERVER_100 && PROXY_200)           |\n+    *--------------------------------------------------------------------------------------------------------------------------\n+    *   36  |Proxy-Connection: keep-alive (C)                     | -Dhttp.keepAlive.time.server=-100   | Default timeout set to 60\n+    *       |                                                     | (SERVER_100_NEGATIVE)               |\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *   37  |Proxy-Connection: keep-alive (C)                     | -Dhttp.keepAlive.time.proxy=-200    | Default timeout set to 60\n+    *       |                                                     | (PROXY_200_NEGATIVE)                |\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *   38  |Proxy-Connection: keep-alive (C)                     |-Dhttp.keepAlive.time.server=-100 &&       |\n+    *       |                                                     |-Dhttp.keepAlive.time.proxy=-200           | Default timeout set to 60\n+    *       |                                                     |(SERVER_100_NEGATIVE && PROXY_200_NEGATIVE)|\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *   39  |Proxy-Connection: keep-alive (C)                     | -Dhttp.keepAlive.time.server=0      | Default timeout set to 60\n+    *       |                                                     | (SERVER_ZERO)                       |\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *   40  |Proxy-Connection: keep-alive (C)                     | -Dhttp.keepAlive.time.proxy=0       | close connection immediately\n+    *       |                                                     | (PROXY_ZERO)                        |\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *   41  |Proxy-Connection: keep-alive (C)                     | -Dhttp.keepAlive.time.server=0 &&   |\n+    *       |                                                     | -Dhttp.keepAlive.time.proxy=0       | close connection immediately\n+    *       |                                                     | (SERVER_ZERO && PROXY_ZERO)         |\n+    *--------------------------------------------------------------------------------------------------------------------------------\n+    *   42  |Proxy-Connection: keep-alive (C)                     | -Dhttp.keepAlive.time.server=0 &&   |\n+    *       |                                                     | -Dhttp.keepAlive.time.proxy=-200    | Default timeout set to 60\n+    *       |                                                     | (SERVER_ZERO && PROXY_200_NEGATIVE) |\n+    *---------------------------------------------------------------------------------------------------------------------------------\n+    *   43  |Proxy-Connection: keep-alive (C)                     | -Dhttp.keepAlive.time.server=-100 &&|\n+    *       |                                                     | -Dhttp.keepAlive.time.proxy=0       | close connection immediately\n+    *       |                                                     | (SERVER_100_NEGATIVE && PROXY_ZERO) |\n+    *---------------------------------------------------------------------------------------------------------------------------------\n+    *   44  |Proxy-Connection: keep-alive (C)                     | -Dhttp.keepAlive.time.server=100 && |\n+    *       |                                                     | -Dhttp.keepAlive.time.proxy=0       | close connection immediately\n+    *       |                                                     | (SERVER_100 && PROXY_ZERO)          |\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *   45  |Proxy-Connection: keep-alive (C)                     | -Dhttp.keepAlive.time.server=0 &&   |\n+    *       |                                                     | -Dhttp.keepAlive.time.proxy=200     | Timeout set to 200\n+    *       |                                                     | (SERVER_ZERO && PROXY_200)          |\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *   46  |Proxy-Connection: keep-alive (C)                     |-Dhttp.keepAlive.time.server=100 &&  |\n+    *       |                                                     |-Dhttp.keepAlive.time.proxy=-200     | Default timeout set to 60\n+    *       |                                                     | (SERVER_100 && PROXY_200_NEGATIVE)  |\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *   47  |Proxy-Connection: keep-alive (C)                     |-Dhttp.keepAlive.time.server=-100 && |\n+    *       |                                                     |-Dhttp.keepAlive.time.proxy=200      | Timeout set to 200\n+    *       |                                                     | (SERVER_100_NEGATIVE && PROXY_ZERO) |\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *   48  |Connection:keep-alive\\r\\nProxy-connection:keep-alive (D) | No Input Provided (NI)              | Default timeout set to 60\n+    *-----------------------------------------------------------------------------------------------------------------------------\n+    *   49  |Connection:keep-alive\\r\\nProxy-connection:keep-alive (D) | -Dhttp.keepAlive.time.server=100    | Default timeout set to 60\n+    *       |                                                         | (SERVER_100)                        |\n+    *---------------------------------------------------------------------------------------------------------------------------\n+    *   50  |Connection:keep-alive\\r\\nProxy-connection:keep-alive (D) | -Dhttp.keepAlive.time.proxy=200     | Timeout set to 200\n+    *       |                                                         | (PROXY_200)                         |\n+    *------------------------------------------------------------------------------------------------------------------------------\n+    *   51  |Connection:keep-alive\\r\\nProxy-connection:keep-alive (D) | -Dhttp.keepAlive.time.server=100 && |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=200     | Timeout set to 200\n+    *       |                                                         | (SERVER_100 && PROXY_200)           |\n+    *------------------------------------------------------------------------------------------------------------------------------\n+    *   52  |Connection:keep-alive\\r\\nProxy-connection:keep-alive (D) | -Dhttp.keepAlive.time.server=-100   | Default timeout set to 60\n+    *       |                                                         | (SERVER_100_NEGATIVE)               |\n+    *------------------------------------------------------------------------------------------------------------------------------\n+    *   53  |Connection:keep-alive\\r\\nProxy-connection:keep-alive (D) | -Dhttp.keepAlive.time.proxy=-200    | Default timeout set to 60\n+    *       |                                                         | (PROXY_200_NEGATIVE)                |\n+    *------------------------------------------------------------------------------------------------------------------------------\n+    *   54  |Connection:keep-alive\\r\\nProxy-connection:keep-alive (D) | -Dhttp.keepAlive.time.server=-100&&        |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=-200           | Default timeout set to 60\n+    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_200_NEGATIVE |\n+    *-------------------------------------------------------------------------------------------------------------------------------\n+    *   55  |Connection:keep-alive\\r\\nProxy-connection:keep-alive (D) | -Dhttp.keepAlive.time.server=0      | Default timeout set to 60\n+    *       |                                                         | (SERVER_ZERO)                       |\n+    *--------------------------------------------------------------------------------------------------------------------------------\n+    *   56  |Connection:keep-alive\\r\\nProxy-connection:keep-alive (D) | -Dhttp.keepAlive.time.proxy=0       | close connection immediately\n+    *       |                                                         | (PROXY_ZERO)                        |\n+    *--------------------------------------------------------------------------------------------------------------------------------\n+    *   57  |Connection:keep-alive\\r\\nProxy-connection:keep-alive (D) | -Dhttp.keepAlive.time.server=0 &&   |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=0       | close connection immediately\n+    *       |                                                         | (SERVER_ZERO && PROXY_ZERO)         |\n+    *--------------------------------------------------------------------------------------------------------------------------------\n+    *   58  |Connection:keep-alive\\r\\nProxy-connection:keep-alive (D) | -Dhttp.keepAlive.time.server=0 &&   |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=-200    | Default timeout set to 60\n+    *       |                                                         | (SERVER_ZERO && PROXY_200_NEGATIVE) |\n+    *--------------------------------------------------------------------------------------------------------------------------------\n+    *   59  |Connection:keep-alive\\r\\nProxy-connection:keep-alive (D) | -Dhttp.keepAlive.time.server=-100 &&|\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=0       | close connection immediately\n+    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_ZERO) |\n+    *--------------------------------------------------------------------------------------------------------------------------------\n+    *   60  |Connection:keep-alive\\r\\nProxy-connection:keep-alive (D) | -Dhttp.keepAlive.time.server=100 && |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=0       | close connection immediately\n+    *       |                                                         | (SERVER_100 && PROXY_ZERO)          |\n+    *--------------------------------------------------------------------------------------------------------------------------------\n+    *   61  |Connection:keep-alive\\r\\nProxy-connection:keep-alive (D) | -Dhttp.keepAlive.time.server=0 &&   |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=200     | Timeout set to 200\n+    *       |                                                         | (SERVER_ZERO && PROXY_200)          |\n+    *------------------------------------------------------------------------------------------------------------------------------\n+    *   62  |Connection:keep-alive\\r\\nProxy-connection:keep-alive (D) | -Dhttp.keepAlive.time.server=100 && |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=-200    | default timeout set to 60\n+    *       |                                                         | (SERVER_100 && PROXY_200_NEGATIVE)  |\n+    *------------------------------------------------------------------------------------------------------------------------------\n+    *   63  |Connection:keep-alive\\r\\nProxy-connection:keep-alive (D) | -Dhttp.keepAlive.time.server=-100 &&|\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=200     | Timeout set to 200\n+    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_200)  |\n+    *-------------------------------------------------------------------------------------------------------------------------------\n+    *   64  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120 (E)| No Input Provided (NI)              | Timeout set to 120\n+    *-------------------------------------------------------------------------------------------------------------------------------\n+    *   65  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120 (E)| -Dhttp.keepAlive.time.server=100    | Timeout set to 120\n+    *       |                                                         | (SERVER_100)                        |\n+    *-------------------------------------------------------------------------------------------------------------------------------\n+    *   66  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120 (E)| -Dhttp.keepAlive.time.proxy=200     | Timeout set to 120\n+    *       |                                                         | (PROXY_200)                         |\n+    *-------------------------------------------------------------------------------------------------------------------------------\n+    *   67  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120 (E)| -Dhttp.keepAlive.time.server=100 && |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=200     | Timeout set to 120\n+    *       |                                                         | (SERVER_100 && PROXY_200)           |\n+    *-------------------------------------------------------------------------------------------------------------------------------\n+    *   68  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120 (E)| -Dhttp.keepAlive.time.server=-100   | Timeout set to 120\n+    *       |                                                         | (SERVER_100_NEGATIVE)               |\n+    *-------------------------------------------------------------------------------------------------------------------------------\n+    *   69  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120 (E)| -Dhttp.keepAlive.time.proxy=-200    | Timeout set to 120\n+    *       |                                                         | (PROXY_200_NEGATIVE)                |\n+    *-------------------------------------------------------------------------------------------------------------------------------\n+    *   70  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120 (E)| -Dhttp.keepAlive.time.server=-100 &&       |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=-200           | Timeout set to 120\n+    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_200_NEGATIVE)|\n+    *-------------------------------------------------------------------------------------------------------------------------------\n+    *   71  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120 (E)| -Dhttp.keepAlive.time.server=0      | Timeout set to 120\n+    *       |                                                         | (SERVER_ZERO)                       |\n+    *-------------------------------------------------------------------------------------------------------------------------------\n+    *   72  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120 (E)| -Dhttp.keepAlive.time.proxy=0       | Timeout set to 120\n+    *       |                                                         | (PROXY_ZERO)                        |\n+    *-------------------------------------------------------------------------------------------------------------------------------\n+    *   73  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120 (E)| -Dhttp.keepAlive.time.server=0 &&   |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=0       | Timeout set to 120\n+    *       |                                                         | (SERVER_ZERO && PROXY_ZERO)         |\n+    *-------------------------------------------------------------------------------------------------------------------------------\n+    *   74  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120 (E)| -Dhttp.keepAlive.time.server=0 &&   |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=-200    | Timeout set to 120\n+    *       |                                                         | (SERVER_ZERO && PROXY_200_NEGATIVE) |\n+    *-------------------------------------------------------------------------------------------------------------------------------\n+    *   75  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120 (E)| -Dhttp.keepAlive.time.server=-100 &&|\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=0       | Timeout set to 120\n+    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_ZERO) |\n+    *-------------------------------------------------------------------------------------------------------------------------------\n+    *   76  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120 (E)| -Dhttp.keepAlive.time.server=100 && |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=0       | Timeout set to 120\n+    *       |                                                         | (SERVER_100 && PROXY_ZERO)          |\n+    *-------------------------------------------------------------------------------------------------------------------------------\n+    *   77  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120 (E)| -Dhttp.keepAlive.time.server=0 &&   |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=200     | Timeout set to 120\n+    *       |                                                         | (SERVER_ZERO && PROXY_200)          |\n+    *-------------------------------------------------------------------------------------------------------------------------------\n+    *   78  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120 (E)| -Dhttp.keepAlive.time.server=100 &&         |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=-200            | Timeout set to 120\n+    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_200_NEGATIVE) |\n+    *-------------------------------------------------------------------------------------------------------------------------------\n+    *   79  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120 (E)| -Dhttp.keepAlive.time.server=-100 &&|\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=200     | Timeout set to 120\n+    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_200)  |\n+    *-----------------------------------------------------------------------------------------------------------------------------\n+    *   80  |No Input (NI)                                            | No Input Provided (NI)              | default timeout set to 5\n+    *-----------------------------------------------------------------------------------------------------------------------------\n+    *   81  |No Input (NI)                                            | -Dhttp.keepAlive.time.server=100    | Timeout set to 100\n+    *       |                                                         | (SERVER_100)                        |\n+    *-----------------------------------------------------------------------------------------------------------------------------\n+    *   82  |No Input (NI)                                            | -Dhttp.keepAlive.time.proxy=200     | default timeout set to 5\n+    *       |                                                         | (PROXY_200)                         |\n+    *-----------------------------------------------------------------------------------------------------------------------------\n+    *   83  |No Input (NI)                                            | -Dhttp.keepAlive.time.server=100 && |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=200     | client timeot set to 100\n+    *       |                                                         | (SERVER_100 && PROXY_200)           |\n+    *------------------------------------------------------------------------------------------------------------------------------\n+    *   84  |No Input (NI)                                            | -Dhttp.keepAlive.time.server=-100   | default timeout set to 5\n+    *       |                                                         | (SERVER_100_NEGATIVE)               |\n+    *------------------------------------------------------------------------------------------------------------------------------\n+    *   85  |No Input (NI)                                            | -Dhttp.keepAlive.time.proxy=-200    | default timeout set to 5\n+    *       |                                                         | (PROXY_200_NEGATIVE)                |\n+    *----------------------------------------------------------------------------------------------------------------------------\n+    *   86  |No Input (NI)                                            | -Dhttp.keepAlive.time.server=-100 &&       |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=-200           | default timeout set to 5\n+    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_200_NEGATIVE)|\n+    *------------------------------------------------------------------------------------------------------------------------------\n+    *   87  |No Input (NI)                                            | -Dhttp.keepAlive.time.server=0      | close connection immediately\n+    *       |                                                         | (SERVER_ZERO)                       |\n+    *---------------------------------------------------------------------------------------------------------------------------------\n+    *   88  |No Input (NI)                                            | -Dhttp.keepAlive.time.proxy=0       | default timeout set to 5\n+    *       |                                                         | (PROXY_ZERO)                        |\n+    *---------------------------------------------------------------------------------------------------------------------------------\n+    *   89  |No Input (NI)                                            | -Dhttp.keepAlive.time.server=0 &&   |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=0       | close connection immediately\n+    *       |                                                         | (SERVER_ZERO && PROXY_ZERO)         |\n+    *---------------------------------------------------------------------------------------------------------------------------------\n+    *   90  |No Input (NI)                                            | -Dhttp.keepAlive.time.server=0 &&   |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=-200    | close connection immediately\n+    *       |                                                         | (SERVER_ZERO && PROXY_200_NEGATIVE) |\n+    *--------------------------------------------------------------------------------------------------------------------------------\n+    *   91  |No Input (NI)                                            | -Dhttp.keepAlive.time.server=-100 &&|\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=0       | default timeout set to 5\n+    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_ZERO) |\n+    *--------------------------------------------------------------------------------------------------------------------------------\n+    *   92  |No Input (NI)                                            | -Dhttp.keepAlive.time.server=100 && |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=0       | Timeout set to 100\n+    *       |                                                         | (SERVER_100 && PROXY_ZERO)          |\n+    *--------------------------------------------------------------------------------------------------------------------------------\n+    *   93  |No Input (NI)                                            | -Dhttp.keepAlive.time.server=0 &&   |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=200     | close connection immediately\n+    *       |                                                         | (SERVER_ZERO && PROXY_200)          |\n+    *--------------------------------------------------------------------------------------------------------------------------------\n+    *   94  |No Input (NI)                                            |-Dhttp.keepAlive.time.server=100 &&  |\n+    *       |                                                         |-Dhttp.keepAlive.time.proxy=-200     | Timeout set to 100\n+    *       |                                                         | (SERVER_100 && PROXY_200_NEGATIVE)  |\n+    *--------------------------------------------------------------------------------------------------------------------------------\n+    *   95  |No Input (NI)                                            |-Dhttp.keepAlive.time.server=-100 && |\n+    *       |                                                         |-Dhttp.keepAlive.time.proxy=200      | default timeout set to 5\n+    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_200)  |\n+    *--------------------------------------------------------------------------------------------------------------------------------\n+    *   96  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20 (F)    | No Input Provided (NI)              | default timeout set to 5\n+    *--------------------------------------------------------------------------------------------------------------------------------\n+    *   97  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20 (F)    |-Dhttp.keepAlive.time.server=100     | Timeout set to 100\n+    *       |                                                         | (SERVER_100)                        |\n+    *--------------------------------------------------------------------------------------------------------------------------------\n+    *   98  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20 (F)    |-Dhttp.keepAlive.time.proxy=200      | default timeout set to 5\n+    *       |                                                         | (PROXY_200)                         |\n+    *-------------------------------------------------------------------------------------------------------------------------------------\n+    *   99  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20 (F)    |-Dhttp.keepAlive.time.server=100 &&  |\n+    *       |                                                         |-Dhttp.keepAlive.time.proxy=200      | Timeout set to 100\n+    *       |                                                         |(SERVER_100 && PROXY_200)            |\n+    *-------------------------------------------------------------------------------------------------------------------------------------\n+    *  100  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20 (F)    |-Dhttp.keepAlive.time.server=-100    | default timeout set to 5\n+    *       |                                                         |(SERVER_100_NEGATIVE)                |\n+    *-------------------------------------------------------------------------------------------------------------------------------------\n+    *  101  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20 (F)    |-Dhttp.keepAlive.time.proxy=-200     | default timeout set to 5\n+    *       |                                                         |(PROXY_200_NEGATIVE)                 |\n+    *-------------------------------------------------------------------------------------------------------------------------------------\n+    *  102  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20 (F)    |-Dhttp.keepAlive.time.server=-100 &&        |\n+    *       |                                                         |-Dhttp.keepAlive.time.proxy=-200            | default timeout set to 5\n+    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_200_NEGATIVE)|\n+    *-------------------------------------------------------------------------------------------------------------------------------------\n+    *  103  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20 (F)    |-Dhttp.keepAlive.time.server=0       | close connection immediately\n+    *       |                                                         | (SERVER_ZERO)                       |\n+    *-------------------------------------------------------------------------------------------------------------------------------------\n+    *  104  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20 (F)    |-Dhttp.keepAlive.time.proxy=0        | default timeout set to 5\n+    *       |                                                         | (PROXY_ZERO)                        |\n+    *-------------------------------------------------------------------------------------------------------------------------------------\n+    *  105  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20 (F)    |-Dhttp.keepAlive.time.server=0 &&    |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=0       | close connection immediately\n+    *       |                                                         | (SERVER_ZERO && PROXY_ZERO)         |\n+    *-------------------------------------------------------------------------------------------------------------------------------------\n+    *  106  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20 (F)    |-Dhttp.keepAlive.time.server=0 &&    |\n+    *       |                                                         |-Dhttp.keepAlive.time.proxy=-200     | close connection immediately\n+    *       |                                                         | (SERVER_ZERO && PROXY_ZERO_NEGATIVE)|\n+    *-------------------------------------------------------------------------------------------------------------------------------------\n+    *  107  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20 (F)    |-Dhttp.keepAlive.time.server=-100 && |\n+    *       |                                                         |-Dhttp.keepAlive.time.proxy=0        | default timeout set to 5\n+    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_ZERO) |\n+    *-------------------------------------------------------------------------------------------------------------------------------------\n+    *  108  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20 (F)    |-Dhttp.keepAlive.time.server=100 &&  |\n+    *       |                                                         |-Dhttp.keepAlive.time.proxy=0        | Timeout set to 100\n+    *       |                                                         | (SERVER_100 && PROXY_ZERO)          |\n+    *-------------------------------------------------------------------------------------------------------------------------------------\n+    *  109  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20 (F)    |-Dhttp.keepAlive.time.server=0 &&    |\n+    *       |                                                         |-Dhttp.keepAlive.time.proxy=200      | close connection immediately\n+    *       |                                                         | (SERVER_ZERO && PROXY_200)          |\n+    *-------------------------------------------------------------------------------------------------------------------------------------\n+    *  110  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20 (F)    |-Dhttp.keepAlive.time.server=100 &&  |\n+    *       |                                                         |-Dhttp.keepAlive.time.proxy=-200     | Timeout set to 100\n+    *       |                                                         |(SERVER_100 && PROXY_200_NEGATIVE)   |\n+    *-------------------------------------------------------------------------------------------------------------------------------------\n+    *  111  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20 (F)    |-Dhttp.keepAlive.time.server=-100 && |\n+    *       |                                                         |-Dhttp.keepAlive.time.proxy=200      | default timeout set to 5\n+    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_200)  |\n+    *-------------------------------------------------------------------------------------------------------------------------------------\n+    *  112  |Connection: keep-alive\\r\\nKeep-alive: timeout=0 (G)      | No Input Provided (NI)              | close connection immediately\n+    *-------------------------------------------------------------------------------------------------------------------------------------\n+    *  113  |Connection: keep-alive\\r\\nKeep-alive: timeout=0 (G)      | -Dhttp.keepAlive.time.server=100    | close connection immediately\n+    *       |                                                         | (SERVER_100)                        |\n+    *-------------------------------------------------------------------------------------------------------------------------------------\n+    *  114  |Connection: keep-alive\\r\\nKeep-alive: timeout=0 (G)      | -Dhttp.keepAlive.time.proxy=200     | close connection immediately\n+    *       |                                                         | (PROXY_200)                         |\n+    *-------------------------------------------------------------------------------------------------------------------------------------\n+    *  115  |Connection: keep-alive\\r\\nKeep-alive: timeout=0 (G)      | -Dhttp.keepAlive.time.server=100 && |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=200     | close connection immediately\n+    *       |                                                         | (SERVER_100 && PROXY_200)           |\n+    *-------------------------------------------------------------------------------------------------------------------------------------\n+    *  116  |Connection: keep-alive\\r\\nKeep-alive: timeout=0 (G)      | -Dhttp.keepAlive.time.server=-100   | close connection immediately\n+    *       |                                                         | (SERVER_100_NEGATIVE)               |\n+    *------------------------------------------------------------------------------------------------------------------------------------\n+    *  117  |Connection: keep-alive\\r\\nKeep-alive: timeout=0 (G)      | -Dhttp.keepAlive.time.proxy=-200    | close connection immediately\n+    *       |                                                         | (PROXY_200_NEGATIVE)                |\n+    *-------------------------------------------------------------------------------------------------------------------------------------\n+    *  118  |Connection: keep-alive\\r\\nKeep-alive: timeout=0 (G)      |-Dhttp.keepAlive.time.server=-100 &&         |\n+    *       |                                                         |-Dhttp.keepAlive.time.proxy=-200             | close connection immediately\n+    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_200_NEGATIVE) |\n+    *-------------------------------------------------------------------------------------------------------------------------------------\n+    *  119  |Connection: keep-alive\\r\\nKeep-alive: timeout=0 (G)      | -Dhttp.keepAlive.time.server=0      | close connection immediately\n+    *       |                                                         | (SERVER_ZERO)                       |\n+    *-------------------------------------------------------------------------------------------------------------------------------------\n+    *  120  |Connection: keep-alive\\r\\nKeep-alive: timeout=0 (G)      | -Dhttp.keepAlive.time.proxy=0       | close connection immediately\n+    *       |                                                         | (PROXY_ZERO)                        |\n+    *------------------------------------------------------------------------------------------------------------------------------------\n+    *  121  |Connection: keep-alive\\r\\nKeep-alive: timeout=0 (G)      | -Dhttp.keepAlive.time.server=0 &&   |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=0       | close connection immediately\n+    *       |                                                         | (SERVER_ZERO && PROXY_ZERO)         |\n+    *-------------------------------------------------------------------------------------------------------------------------------------\n+    *  122  |Connection: keep-alive\\r\\nKeep-alive: timeout=0 (G)      | -Dhttp.keepAlive.time.server=0 &&   |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=-200    | close connection immediately\n+    *       |                                                         | (SERVER_ZERO && PROXY_200_NEGATIVE) |\n+    *-------------------------------------------------------------------------------------------------------------------------------------\n+    *  123  |Connection: keep-alive\\r\\nKeep-alive: timeout=0 (G)      | -Dhttp.keepAlive.time.server=-100 &&|\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=0       | close connection immediately\n+    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_ZERO) |\n+    *-------------------------------------------------------------------------------------------------------------------------------------\n+    *  124  |Connection: keep-alive\\r\\nKeep-alive: timeout=0 (G)      | -Dhttp.keepAlive.time.server=100 && |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=0       | close connection immediately\n+    *       |                                                         | (SERVER_100 && PROXY_ZERO)          |\n+    *-------------------------------------------------------------------------------------------------------------------------------------\n+    *  125  |Connection: keep-alive\\r\\nKeep-alive: timeout=0 (G)      | -Dhttp.keepAlive.time.server=0 &&   |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=200     | close connection immediately\n+    *       |                                                         | (SERVER_ZERO && PROXY_200)          |\n+    *-------------------------------------------------------------------------------------------------------------------------------------\n+    *  126  |Connection: keep-alive\\r\\nKeep-alive: timeout=0 (G)      | -Dhttp.keepAlive.time.server=100 && |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=-200    | close connection immediately\n+    *       |                                                         | (SERVER_100 && PROXY_200_NEGATIVE)  |\n+    *-------------------------------------------------------------------------------------------------------------------------------------\n+    *  127  |Connection: keep-alive\\r\\nKeep-alive: timeout=0 (G)      | -Dhttp.keepAlive.time.server=-100 &&|\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=200     | close connection immediately\n+    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_200)  |\n+    *--------------------------------------------------------------------------------------------------------------------------------------\n+    *  128  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20 (H)| No Input Provided (NI)                | default timeout set to 60\n+    ---------------------------------------------------------------------------------------------------------------------------------------\n+    *  129  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20 (H)| -Dhttp.keepAlive.time.server=100      | default timeout set to 60\n+    *       |                                                         | (SERVER_100)                          |\n+    *--------------------------------------------------------------------------------------------------------------------------------------\n+    *  130  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20 (H)| -Dhttp.keepAlive.time.proxy=200       | Timeout set to 200\n+    *       |                                                         | (PROXY_200)                           |\n+    *--------------------------------------------------------------------------------------------------------------------------------------\n+    *  131  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20 (H)| -Dhttp.keepAlive.time.server=100 &&   |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=200       | Timeout set to 200\n+    *       |                                                         | (SERVER_100 && PROXY_200)             |\n+    *--------------------------------------------------------------------------------------------------------------------------------------\n+    *  132  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20 (H)| -Dhttp.keepAlive.time.server=-100     | default timeout set to 60\n+    *       |                                                         | (SERVER_100_NEGATIVE)                 |\n+    *--------------------------------------------------------------------------------------------------------------------------------------\n+    *  133  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20 (H)| -Dhttp.keepAlive.time.proxy=-200      | default timeout set to 60\n+    *       |                                                         | (PROXY_200_NEGATIVE)                  |\n+    *--------------------------------------------------------------------------------------------------------------------------------------\n+    *  134  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20 (H)|-Dhttp.keepAlive.time.server=-100 &&        |\n+    *       |                                                         |-Dhttp.keepAlive.time.proxy=-200            | default timeout set to 60\n+    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_200_NEGATIVE)|\n+    *---------------------------------------------------------------------------------------------------------------------------------\n+    *  135  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20 (H)| -Dhttp.keepAlive.time.server=0        | default timeout set to 60\n+    *       |                                                         | (SERVER_ZERO)                         |\n+    *--------------------------------------------------------------------------------------------------------------------------------------\n+    *  136  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20 (H)| -Dhttp.keepAlive.time.proxy=0         | close connection immediately\n+    *       |                                                         | (PROXY_ZERO)                          |\n+    *----------------------------------------------------------------------------------------------------------------------------------\n+    *  137  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20 (H)| -Dhttp.keepAlive.time.server=0 &&     |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=0         | close connection immediately\n+    *       |                                                         | (SERVER_ZERO && PROXY_ZERO)           |\n+    *-------------------------------------------------------------------------------------------------------------------------------------\n+    *  138  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20 (H)| -Dhttp.keepAlive.time.server=0 &&     |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=-200      | default timeout set to 60\n+    *       |                                                         | (SERVER_ZERO && PROXY_200_NEGATIVE)   |\n+    *---------------------------------------------------------------------------------------------------------------------------------------\n+    *  139  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20 (H)| -Dhttp.keepAlive.time.server=-100 &&  |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=0         | close connection immediately\n+    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_ZERO)   |\n+    *--------------------------------------------------------------------------------------------------------------------------------------\n+    *  140  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20 (H)| -Dhttp.keepAlive.time.server=100 &&   |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=0         | close connection immediately\n+    *       |                                                         | (SERVER_100 && PROXY_ZERO)            |\n+    *-------------------------------------------------------------------------------------------------------------------------------------\n+    *  141  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20 (H)| -Dhttp.keepAlive.time.server=0 &&     |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=200       | Timeout set to 20\n+    *       |                                                         | (SERVER_ZERO && PROXY_200)            |\n+    *--------------------------------------------------------------------------------------------------------------------------------------\n+    *  142  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20 (H)|-Dhttp.keepAlive.time.server=100 &&    |\n+    *       |                                                         |-Dhttp.keepAlive.time.proxy=-200       | default timeout set to 60\n+    *       |                                                         | (SERVER_100 && PROXY_200_NEGATIVE)    |\n+    *-------------------------------------------------------------------------------------------------------------------------------------\n+    *  143  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20 (H)|-Dhttp.keepAlive.time.server=-100 &&   |\n+    *       |                                                         |-Dhttp.keepAlive.time.proxy=200        | Timeout set to 200\n+    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_200)    |\n+    *--------------------------------------------------------------------------------------------------------------------------------------\n+    *  144  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0 (I)  | No Input Provided (NI)                | close connection immediately\n+    *--------------------------------------------------------------------------------------------------------------------------------------\n+    *  145  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0 (I)  | -Dhttp.keepAlive.time.server=100      | close connection immediately\n+    *       |                                                         | (SERVER_100)                          |\n+    *--------------------------------------------------------------------------------------------------------------------------------------\n+    *  146  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0 (I)  | -Dhttp.keepAlive.time.proxy=200       | close connection immediately\n+    *       |                                                         | (PROXY_200)                           |\n+    *--------------------------------------------------------------------------------------------------------------------------------------\n+    *  147  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0 (I)  | -Dhttp.keepAlive.time.server=100 &&   |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=200       | close connection immediately\n+    *       |                                                         | (SERVER_100 && PROXY_200)             |\n+    *--------------------------------------------------------------------------------------------------------------------------------------\n+    *  148  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0 (I)  | -Dhttp.keepAlive.time.server=-100     | close connection immediately\n+    *       |                                                         | (SERVER_100_NEGATIVE)                 |\n+    *-------------------------------------------------------------------------------------------------------------------------------------\n+    *  149  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0 (I)  | -Dhttp.keepAlive.time.proxy=-200      | close connection immediately\n+    *       |                                                         | (PROXY_200_NEGATIVE)                  |\n+    *-------------------------------------------------------------------------------------------------------------------------------------\n+    *  150  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0 (I)  | -Dhttp.keepAlive.time.server=-100 &&        |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=-200            | close connection immediately\n+    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_200_NEGATIVE) |\n+    *------------------------------------------------------------------------------------------------------------------------------------\n+    *  151  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0 (I)  | -Dhttp.keepAlive.time.server=0        | close connection immediately\n+    *       |                                                         | (SERVER_ZERO)                         |\n+    *-----------------------------------------------------------------------------------------------------------------------------------\n+    *  152  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0 (I)  | -Dhttp.keepAlive.time.proxy=0         | close connection immediately\n+    *       |                                                         | (PROXY_ZERO)                          |\n+    *---------------------------------------------------------------------------------------------------------------------------------\n+    *  153  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0 (I)  | -Dhttp.keepAlive.time.server=0 &&     |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=0         | close connection immediately\n+    *       |                                                         | (SERVER_ZERO && PROXY_ZERO)           |\n+    *------------------------------------------------------------------------------------------------------------------------------------\n+    *  154  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0 (I)  | -Dhttp.keepAlive.time.server=0 &&     |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=-200      | close connection immediately\n+    *       |                                                         | (SERVER_ZERO && PROXY_200_NEGATIVE)   |\n+    *--------------------------------------------------------------------------------------------------------------------------------------\n+    *  155  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0 (I)  | -Dhttp.keepAlive.time.server=-100 &&  |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=0         | close connection immediately\n+    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_ZERO)   |\n+    *-------------------------------------------------------------------------------------------------------------------------------------\n+    *  156  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0 (I)  | -Dhttp.keepAlive.time.server=100 &&   |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=0         | close connection immediately\n+    *       |                                                         | (SERVER_100 && PROXY_ZERO)            |\n+    *--------------------------------------------------------------------------------------------------------------------------------------\n+    *  157  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0 (I)  | -Dhttp.keepAlive.time.server=0 &&     |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=200       | close connection immediately\n+    *       |                                                         | (SERVER_ZERO && PROXY_200)            |\n+    *--------------------------------------------------------------------------------------------------------------------------------------\n+    *  158  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0 (I)  | -Dhttp.keepAlive.time.server=100 &&   |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=-200      | close connection immediately\n+    *       |                                                         | (SERVER_100 && PROXY_200_NEGATIVE)    |\n+    *--------------------------------------------------------------------------------------------------------------------------------------\n+    *  159  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0 (I)  | -Dhttp.keepAlive.time.server=-100 &&  |\n+    *       |                                                         | -Dhttp.keepAlive.time.proxy=200       | close connection immediately\n+    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_200)    |\n+    *--------------------------------------------------------------------------------------------------------------------------------------\n+    *\/\n+\n+   \/* private static final String[] serverScenarios = {\n+        A, A, A, A, A, A, A, A, A, A, A, A, A, A, A, A,\n+        B, B, B, B, B, B, B, B, B, B,B, B, B, B, B, B,\n+        C, C, C, C, C, C, C, C, C, C, C, C, C, C, C, C,\n+        D, D, D, D, D, D, D, D, D, D, D, D, D, D, D, D,\n+        E, E, E, E, E, E, E, E, E, E, E, E, E, E, E, E,\n+        NI, NI, NI, NI, NI, NI, NI, NI, NI, NI, NI, NI, NI, NI, NI, NI,\n+        F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F,\n+        G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G,\n+        H, H, H, H, H, H, H, H, H, H, H, H, H, H, H, H,\n+        I, I, I, I, I, I, I, I, I, I, I, I, I, I, I, I\n+    }; *\/\n+    \/*\n+     * following are client scenarios which are repeated.\n+     *\/\n+    private static final String[] a = {\n+        NI, SERVER_100,     PROXY_200, SERVER_100 + CLIENT_SEPARATOR + PROXY_200,    SERVER_100_NEGATIVE,\n+        PROXY_200_NEGATIVE, SERVER_100_NEGATIVE + CLIENT_SEPARATOR + PROXY_200_NEGATIVE,\n+        SERVER_ZERO,         PROXY_ZERO, SERVER_ZERO + CLIENT_SEPARATOR + PROXY_ZERO,\n+        SERVER_ZERO + CLIENT_SEPARATOR + PROXY_200_NEGATIVE, SERVER_100_NEGATIVE + CLIENT_SEPARATOR + PROXY_ZERO,\n+        SERVER_100 + CLIENT_SEPARATOR + PROXY_ZERO, SERVER_ZERO + CLIENT_SEPARATOR + PROXY_200,\n+        SERVER_100 + CLIENT_SEPARATOR + PROXY_200_NEGATIVE, SERVER_100_NEGATIVE + CLIENT_SEPARATOR + PROXY_200\n+    };\n+\n+   \/* private String[] clientScenarios = {\n+        a[0] , a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15],\n+        a[0] , a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15],\n+        a[0] , a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15],\n+        a[0] , a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15],\n+        a[0] , a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15],\n+        a[0] , a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15],\n+        a[0] , a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15],\n+        a[0] , a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15],\n+        a[0] , a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15],\n+        a[0] , a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15],\n+    }; *\/\n+\n+    private static final String[] clientScenarios = {\n+        a[0] , a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]\n+    };\n+\n+    private static final int[] expectedValues = {\n+        5,  100,    5, 100,  5,  5,  5,  0,  5,   0,   0,   5,  100,    0,   100,    5,\n+        20,   20 ,  20,  20, 20, 20, 20, 20, 20,  20 , 20,  20,   20,   20,    20,   20,\n+        60,   60,  200, 200, 60, 60, 60, 60,  0,   0,  60,   0,    0,  200,    60,  200,\n+        60,   60,  200, 200, 60, 60, 60, 60,  0,   0,  60,   0,    0,  200,    60,  200,\n+        120, 120,  120, 120,120,120,120,120,120, 120, 120, 120,  120,  120,   120,  120,\n+        5,  100,    5, 100,  5,  5,  5,  0,  5,   0,   0,   5,  100,    0,   100,    5,\n+        5,  100,    5, 100,  5,  5,  5,  0,  5,   0,   0,   5,  100,    0,   100,    5,\n+        0,    0,    0,   0,  0,  0,  0,  0,  0,   0,   0,   0,    0,    0,     0,    0,\n+        60,  60,  200, 200, 60, 60, 60, 60,  0,   0,  60,   0,    0,  200,    60,  200,\n+        0,    0,    0,   0,  0,  0,  0,  0,  0,   0,   0,   0,    0,    0,     0,    0,\n+    };\n+\n+    private final CountDownLatch countDownLatch = new CountDownLatch(1);\n+\n+    private final CountDownLatch serverCountDownLatch = new CountDownLatch(1);\n+\n+    \/*\n+     * setting of client properties -Dhttp.keepAlive.time.server and -Dhttp.keepAlive.time.proxy is handled through this method.\n+     * There are 16 client scenarios in total starting with scenarioNumber 0(zero) and ending with 15.\n+     * Server Scenarios are grouped into batch of 16 scenarios.\n+     * There are 10 batches in total and each batch contains 16 scenarios so 10 * 16 = 160 scenarios in total.\n+     * 16 Client Scenarios are used repeatedly for every server scenario batch.\n+     * for serverscenario[0],serverscenario[16],serverscenario[32] ... serverscenario[144] is mapped to clientscenario[0]\n+     * for serverscenario[1],serverscenario[17],serverscenario[33] ... serverscenario[145] is mapped to clientscenario[1]\n+     * for serverscenario[2],serverscenario[18],serverscenario[34] ... serverscenario[146] is mapped to clientscenario[2]\n+     * ...\n+     * for serverscenario[15],serverscenario[31],serverscenario[47] ... serverscenario[159] is mapped to clientscenario[15]\n+     *\/\n+    private int getClientScenarioNumber(int scenarioNumber) {\n+        return scenarioNumber % 16 ;\n+    }\n+\n+    \/*\n+     * Returns SERVER_RESPONSE as String based on integer inputParameter scenarioNumber.\n+     * Server Scenarios are grouped into batch of 16 scenarios starting with scenarioNumber 0 (zero)\n+     * so there are 10 batches in total and each batch contains 16 scenarios so 10 * 16 = 160 scenarios in total.\n+     * For each batch of 16 scenarios, there will be common SERVER_RESPONSE for all 16 scenarios in batch.\n+     * for scenario numbers from 0 to 15 server  response is: Connection:keep-alive\n+     * for scenario numbers from 16 to 31 server response is: SERVER_RESPONSE=Connection: keep-alive\\r\\nKeep-alive: timeout=20\n+     * for scenario numbers from 32 to 47 server response is: SERVER_RESPONSE=Proxy-Connection: keep-alive\n+     * for scenario numbers from 48 to 63 server response is: SERVER_RESPONSE=Connection:keep-alive\\r\\nProxy-connection:keep-alive\n+     * for scenario numbers from 64 to 79 server response is: SERVER_RESPONSE=Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120\n+     * for scenario numbers from 80 to 95 server response is: SERVER_RESPONSE=No Input\n+     * for scenario numbers from 96 to 111 server response is: SERVER_RESPONSE=Connection: keep-alive\\r\\nKeep-alive: timeout=-20\n+     * for scenario numbers from 112 to 127 server resonse is: Connection: keep-alive\\r\\nKeep-alive: timeout=0\n+     * for scenario numbers from 128 to 143 server response is: Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=-20\n+     * for scenario numbers from 144 to 159 server response is: Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=0\n+     *\/\n+    private String getServerScenario(int scenarioNumber) {\n+        \/*\n+         *  ServerResponse for scenarios from 0 to 15\n+         *  SERVER_RESPONSE:Connection:keep-alive\n+         *\/\n+        if(scenarioNumber >= 0 && scenarioNumber <= 15) {\n+            return A;\n+        }\n+        \/*\n+         * ServerResponse for scenarios from 16 to 31\n+         * SERVER_RESPONSE=Connection: keep-alive\\r\\nKeep-alive: timeout=20\n+         *\/\n+        else if (scenarioNumber >= 16 && scenarioNumber <= 31){\n+            return B;\n+        }\n+        \/*\n+         * ServerResponse for scenarios from 32 to 47\n+         * SERVER_RESPONSE=Proxy-Connection: keep-alive\n+         *\/\n+        else if (scenarioNumber >= 32 && scenarioNumber <= 47){\n+            return C;\n+        }\n+        \/*\n+         * ServerResponse for scenarios from 48 to 63\n+         * SERVER_RESPONSE=Connection:keep-alive\\r\\nProxy-connection:keep-alive\n+         *\/\n+        else if (scenarioNumber >= 48 && scenarioNumber <= 63){\n+            return D;\n+        \/*\n+         * ServerResponse for scenarios from 64 to 79\n+         * SERVER_RESPONSE=Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120\n+         *\/\n+        } else if (scenarioNumber >= 64 && scenarioNumber <= 79){\n+            return E;\n+        }\n+        \/*\n+         * ServerResponse for scenarios from 80 to 95\n+         * SERVER_RESPONSE=No Input\n+         *\/\n+        else if (scenarioNumber >= 80 && scenarioNumber <= 95){\n+            return NI;\n+        }\n+        \/*\n+         * ServerResponse for scenarios from 96 to 111\n+         * SERVER_RESPONSE=Connection: keep-alive\\r\\nKeep-alive: timeout=-20\n+         *\/\n+        else if (scenarioNumber >= 96 && scenarioNumber <= 111){\n+            return F;\n+        }\n+        \/*\n+         * ServerResponse for scenarios from 112 to 127\n+         * SERVER_RESPONSE=Connection: keep-alive\\r\\nKeep-alive: timeout=0\n+         *\/\n+        else if (scenarioNumber >= 112 && scenarioNumber <= 127){\n+            return G;\n+        }\n+        \/*\n+         * ServerResponse for scenarios from 128 to 143\n+         * SERVER_RESPONSE=Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=-20\n+         *\/\n+        else if (scenarioNumber >= 128 && scenarioNumber <= 143){\n+            return H;\n+        }\n+        \/*\n+         * ServerResponse for scenarios from 144 to 159\n+         * SERVER_RESPONSE=Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=0\n+         *\/\n+        else if (scenarioNumber >= 144 && scenarioNumber <= 159){\n+            return I;\n+        }\n+        \/*Invalid Case*\/\n+        return null;\n+    }\n+\n+    private void startScenario(int scenarioNumber) throws Exception {\n+        \/\/test scenarios are skipped because of JDK-8291638\n+        if((scenarioNumber >= 112 && scenarioNumber <= 127) || (scenarioNumber >= 144 && scenarioNumber <= 159)) {\n+            System.out.println(\"Scenario Skipped:\"+scenarioNumber);\n+            this.countDownLatch.countDown();\n+            return;\n+        }\n+        System.out.println(\"serverScenarios[\" + scenarioNumber + \"]=\" + getServerScenario(scenarioNumber));\n+        System.out.println(\"clientScenarios[\" + scenarioNumber + \"]=\" + clientScenarios[getClientScenarioNumber(scenarioNumber)]);\n+        if(expectedValues[scenarioNumber] == 0) {\n+            System.out.println(\"ExpectedOutput=\" + NOT_CACHED);\n+        } else {\n+            System.out.println(\"ExpectedOutput=\" + expectedValues[scenarioNumber]);\n+        }\n+        System.out.println();\n+        startServer(scenarioNumber);\n+        runClient(scenarioNumber);\n+    }\n+\n+    private void startServer(int scenarioNumber) {\n+        Thread server = new Thread(new Runnable() {\n+            @Override\n+            public void run() {\n+                try {\n+                   executeServer(scenarioNumber);\n+                } catch (IOException e) {\n+                   e.printStackTrace();\n+                }\n+            }\n+        }, \"SERVER\");\n+        server.start();\n+    }\n+\n+    private void readAll(Socket s) throws IOException {\n+        byte[] buf = new byte[128];\n+        int c;\n+        String request = \"\";\n+        InputStream is = s.getInputStream();\n+        while ((c = is.read(buf)) > 0) {\n+            request += new String(buf, 0, c, StandardCharsets.US_ASCII);\n+            if (request.contains(\"\\r\\n\\r\\n\")) {\n+                return;\n+            }\n+        }\n+        if (c == -1) {\n+            throw new IOException(\"Socket closed\");\n+        }\n+    }\n+\n+    private void executeServer(int scenarioNumber) throws IOException {\n+        String serverScenarioContent = null;\n+        if (!getServerScenario(scenarioNumber).equalsIgnoreCase(NI)) {\n+            serverScenarioContent = getServerScenario(scenarioNumber) + NEW_LINE;\n+            \/*\n+             * isProxySet should be set before Server is moved to Listen State.\n+             *\/\n+            if (serverScenarioContent.contains(\"Proxy\")) {\n+                isProxySet = true;\n+            } else {\n+                isProxySet = false;\n+            }\n+        }\n+        ServerSocket serverSocket = null;\n+        Socket socket = null;\n+        OutputStreamWriter out = null;\n+        InetAddress loopback = InetAddress.getLoopbackAddress();\n+        try {\n+            serverSocket = new ServerSocket();\n+            serverSocket.bind(new InetSocketAddress(loopback, 0));\n+            SERVER_PORT = serverSocket.getLocalPort();\n+            \/\/serverReady = true;\n+            this.serverCountDownLatch.countDown();\n+            System.out\n+                .println(\"SERVER_PORT= \" + SERVER_PORT +\" isProxySet=\" + isProxySet);\n+            \/*\n+             * Server will be waiting for clients to connect.\n+             *\/\n+            socket = serverSocket.accept();\n+            readAll(socket);\n+            out = new OutputStreamWriter(socket.getOutputStream());\n+            String BODY = \"SERVER REPLY: Hello world\";\n+            String CLEN = \"Content-Length: \" + BODY.length() + NEW_LINE;\n+            \/* send the header *\/\n+            out.write(\"HTTP\/1.1 200 OK\\r\\n\");\n+            out.write(\"Content-Type: text\/plain; charset=iso-8859-1\\r\\n\");\n+            \/*\n+             * append each scenario content from array.\n+             *\/\n+            if(serverScenarioContent != null) {\n+                out.write(serverScenarioContent);\n+            }\n+            out.write(CLEN);\n+            out.write(NEW_LINE);\n+            out.write(BODY);\n+            out.flush();\n+        } catch (IOException e) {\n+            e.printStackTrace();\n+        } finally {\n+            if (out != null) {\n+                out.flush();\n+                out.close();\n+            }\n+            if (socket != null) {\n+                socket.close();\n+            }\n+            if (serverSocket != null) {\n+                serverSocket.close();\n+            }\n+        }\n+    }\n+\n+    private void runClient(int scenarioNumber) throws Exception {\n+        try {\n+            connectToServerURL(scenarioNumber);\n+        } finally {\n+            System.out.println(\"client count down latch:\" + scenarioNumber);\n+            this.countDownLatch.countDown();\n+            System.out.println();\n+            System.out.println();\n+        }\n+    }\n+\n+    private void connectToServerURL(int scenarioNumber) throws Exception {\n+        \/\/    System.setProperty(\"java.net.useSystemProxies\", \"false\");\n+        \/\/    System.setProperty(\"http.nonProxyHosts\", \"\");\n+        \/\/    System.setProperty(\"http.proxyHost\", \"localhost\");\n+        \/\/    System.setProperty(\"http.proxyPort\", String.valueOf(SERVER_PORT));\n+        System.out.println(\"Following are Existing System Properties if set any\");\n+        System.out.println(\"http.keepAlive.time.server:\" + System.getProperty(\"http.keepAlive.time.server\"));\n+        System.out.println(\"http.keepAlive.time.proxy:\" + System.getProperty(\"http.keepAlive.time.proxy\"));\n+        System.setProperty(\"java.net.useSystemProxies\", \"false\");\n+        System.out.println(\"http.proxyPort:\"+System.getProperty(\"http.proxyPort\"));\n+        System.out.println(\"http.proxyHost:\"+System.getProperty(\"http.proxyHost\"));\n+        System.clearProperty(\"http.keepAlive.time.server\");\n+        System.clearProperty(\"http.keepAlive.time.proxy\");\n+        \/\/ fetch clientScenearios for each scenarioNumber from array and set it to\n+        \/\/ System property.\n+        if (!clientScenarios[getClientScenarioNumber(scenarioNumber)].equalsIgnoreCase(NI)) {\n+            System.out.println(\"Client Input Parsing\");\n+            for (String clientScenarioString : clientScenarios[getClientScenarioNumber(scenarioNumber)].split(CLIENT_SEPARATOR)) {\n+                System.out.println(clientScenarioString);\n+                String key = clientScenarioString.split(\"=\")[0];\n+                String value = clientScenarioString.split(\"=\")[1];\n+                System.setProperty(key, value);\n+            }\n+        }\n+        \/\/ wait until ServerSocket moves to listening state.\n+        this.serverCountDownLatch.await();\n+        System.out.println(\"client started\");\n+        URL url = URIBuilder.newBuilder().scheme(\"http\").loopback().port(SERVER_PORT).toURL();\n+        System.out.println(\"connecting from client to SERVER URL:\" + url);\n+        HttpURLConnection httpUrlConnection = null;\n+        \/*\n+         * isProxySet is set to true when Expected Server Response contains Proxy-Connection header.\n+         *\/\n+        if (isProxySet) {\n+            httpUrlConnection = (sun.net.www.protocol.http.HttpURLConnection) url\n+                .openConnection(new Proxy(Type.HTTP, new InetSocketAddress(\"localhost\", SERVER_PORT)));\n+        } else {\n+            httpUrlConnection = (sun.net.www.protocol.http.HttpURLConnection) url.openConnection();\n+        }\n+        InputStreamReader inputStreamReader = new InputStreamReader(httpUrlConnection.getInputStream());\n+        BufferedReader bufferedReader = null;\n+        try {\n+            bufferedReader = new BufferedReader(inputStreamReader);\n+            while (true) {\n+                String eachLine = bufferedReader.readLine();\n+                if (eachLine == null) {\n+                    break;\n+                }\n+                System.out.println(eachLine);\n+            }\n+        } finally {\n+            if (bufferedReader != null) {\n+                bufferedReader.close();\n+            }\n+        }\n+        \/\/    System.out.println(\"ResponseCode:\" + httpUrlConnection.getResponseCode());\n+        \/\/    System.out.println(\"ResponseMessage:\" + httpUrlConnection.getResponseMessage());\n+        \/\/    System.out.println(\"Content:\" + httpUrlConnection.getContent());\n+        \/\/    Thread.sleep(2000);\n+        for (Entry<String, List<String>> header : httpUrlConnection.getHeaderFields().entrySet()) {\n+            System.out.println(header.getKey() + \"=\" + header.getValue());\n+        }\n+        fetchInfo(scenarioNumber, httpUrlConnection);\n+    }\n+\n+    private void fetchInfo(int scenarioNumber, sun.net.www.protocol.http.HttpURLConnection httpUrlConnection)\n+        throws Exception {\n+       Field field = Class.forName(\"sun.net.www.protocol.http.HttpURLConnection\").getDeclaredField(\"http\");\n+       field.setAccessible(true);\n+       HttpClient httpClient = (HttpClient) field.get(httpUrlConnection);\n+       \/\/    System.out.println(\"httpclient=\" + httpClient);\n+       Field keepAliveField = Class.forName(\"sun.net.www.http.HttpClient\").getDeclaredField(\"kac\");\n+       keepAliveField.setAccessible(true);\n+       KeepAliveCache keepAliveCache = (KeepAliveCache) keepAliveField.get(httpClient);\n+       System.out.println(\"keepAliveCache\" + keepAliveCache);\n+       System.out.println(\"SERVER URL:\" + httpUrlConnection.getURL());\n+       \/*\n+        * create KeepAliveKey(URL,Object) object and compare created KeepAliveKey and\n+        * existing using equals() method: KeepAliveKey.equals()\n+        *\/\n+       Class keepAliveKeyClass = Class.forName(\"sun.net.www.http.KeepAliveKey\");\n+       \/\/    System.out.println(\"keepAliveKeyClass=\" + keepAliveKeyClass);\n+       Constructor keepAliveKeyClassconstructor = keepAliveKeyClass.getDeclaredConstructors()[0];\n+       keepAliveKeyClassconstructor.setAccessible(true);\n+       Object expectedKeepAliveKey = keepAliveKeyClassconstructor.newInstance(httpUrlConnection.getURL(), null);\n+       System.out.println(\"ExpectedKeepAliveKey=\" + expectedKeepAliveKey);\n+       Object clientVectorObjectInMap = keepAliveCache.get(expectedKeepAliveKey);\n+       System.out.println(\"ClientVector=\" + clientVectorObjectInMap);\n+       HttpClient httpClientCached = keepAliveCache.get(httpUrlConnection.getURL(), null);\n+       System.out.println(\"HttpClient in Cache:\" + httpClientCached);\n+       if(httpClientCached != null) {\n+            System.out.println(\"KeepingAlive:\" + httpClientCached.isKeepingAlive());\n+            System.out.println(\"UsingProxy:\" + httpClientCached.getUsingProxy());\n+            System.out.println(\"ProxiedHost:\" + httpClientCached.getProxyHostUsed());\n+            System.out.println(\"ProxiedPort:\" + httpClientCached.getProxyPortUsed());\n+            System.out.println(\"ProxyPortUsingSystemProperty:\" + System.getProperty(\"http.proxyPort\"));\n+            System.out.println(\"ProxyHostUsingSystemProperty:\" + System.getProperty(\"http.proxyHost\"));\n+            System.out.println(\"http.keepAlive.time.server=\" + System.getProperty(\"http.keepAlive.time.server\"));\n+            System.out.println(\"http.keepAlive.time.proxy=\" + System.getProperty(\"http.keepAlive.time.proxy\"));\n+            Class clientVectorClass = Class.forName(\"sun.net.www.http.ClientVector\");\n+            \/\/      System.out.println(\"clientVectorClass=\" + clientVectorClass);\n+            Field napField = clientVectorClass.getDeclaredField(\"nap\");\n+            napField.setAccessible(true);\n+            int napValue = (int) napField.get(clientVectorObjectInMap);\n+            int actualValue = napValue \/ 1000;\n+            \/\/      System.out.println(\"nap=\" + napValue \/ 1000);\n+            System.out.printf(\"ExpectedOutput:%d ActualOutput:%d \", expectedValues[scenarioNumber], actualValue);\n+            System.out.println();\n+            if (expectedValues[scenarioNumber] != actualValue) {\n+                throw new RuntimeException(\n+                            \"ExpectedOutput:\" + expectedValues[scenarioNumber] + \" ActualOutput: \" + actualValue);\n+            }\n+        } else {\n+            \/\/executed when value is not cached.\n+            String expected = expectedValues[scenarioNumber] == 0 ? NOT_CACHED\n+                    : String.valueOf(expectedValues[scenarioNumber]);\n+            System.out.println(\"ExpectedOutput:\" + expected + \" ActualOutput:\" + NOT_CACHED);\n+            if (!expected.equalsIgnoreCase(NOT_CACHED)) {\n+                    throw new RuntimeException(\"ExpectedOutput:\" + expected + \" ActualOutput:\" + NOT_CACHED);\n+            }\n+       }\n+    }\n+\n+    public static void main(String[] args) throws Exception {\n+        if (args.length != 1) {\n+            throw new IllegalArgumentException(\"Usage:java KeepAliveTest.java <scenarioNumber>\");\n+        }\n+        logger.setLevel(Level.FINEST);\n+        ConsoleHandler h = new ConsoleHandler();\n+        h.setLevel(Level.FINEST);\n+        logger.addHandler(h);\n+        KeepAliveTest keepAliveTest = new KeepAliveTest();\n+        if (args.length != 0) {\n+            keepAliveTest.startScenario(Integer.valueOf(args[0]));\n+        }\n+        \/\/ make main thread wait until server and client is completed.\n+        keepAliveTest.countDownLatch.await();\n+    }\n+}\n","filename":"jdk\/test\/sun\/net\/www\/http\/HttpClient\/KeepAliveTest.java","additions":1277,"deletions":0,"binary":false,"changes":1277,"status":"added"},{"patch":"@@ -0,0 +1,139 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 8291637\n+ * @run main\/othervm -Dhttp.keepAlive.time.server=20 -esa -ea B8291637 timeout\n+ * @run main\/othervm -Dhttp.keepAlive.time.server=20 -esa -ea B8291637 max\n+ *\/\n+\n+import java.io.IOException;\n+import java.io.InputStream;\n+import java.io.OutputStream;\n+import java.net.*;\n+import java.nio.charset.StandardCharsets;\n+import java.util.concurrent.CompletableFuture;\n+\n+public class B8291637 {\n+    static CompletableFuture<Boolean> passed = new CompletableFuture<>();\n+\n+    static class Server extends Thread {\n+        final ServerSocket serverSocket;\n+        final int port;\n+        final String param; \/\/ the parameter to test \"max\" or \"timeout\"\n+        volatile Socket s;\n+\n+        public Server(String param) throws IOException {\n+            serverSocket = new ServerSocket(0);\n+            port = serverSocket.getLocalPort();\n+            setDaemon(true);\n+            this.param = param;\n+        }\n+\n+        public int getPort() {\n+            return port;\n+        }\n+\n+        public void close() {\n+            try {\n+                serverSocket.close();\n+                if (s != null)\n+                    s.close();\n+            } catch (IOException e) {}\n+        }\n+\n+        static void readRequest(Socket s) throws IOException {\n+            InputStream is = s.getInputStream();\n+            is.read();\n+            while (is.available() > 0)\n+                is.read();\n+        }\n+\n+        public void run() {\n+            try {\n+                while (true) {\n+                    s = serverSocket.accept();\n+                    readRequest(s);\n+                    OutputStream os = s.getOutputStream();\n+                    String resp = \"\" +\n+                            \"HTTP\/1.1 200 OK\\r\\n\" +\n+                            \"Content-Length: 11\\r\\n\" +\n+                            \"Connection: Keep-Alive\\r\\n\" +\n+                            \"Keep-Alive: \" + param + \"=-10\\r\\n\" + \/\/ invalid negative value\n+                            \"\\r\\n\" +\n+                            \"Hello World\";\n+                    os.write(resp.getBytes(StandardCharsets.ISO_8859_1));\n+                    os.flush();\n+                    InputStream is = s.getInputStream();\n+                    long l1 = System.currentTimeMillis();\n+                    is.read();\n+                    long l2 = System.currentTimeMillis();\n+                    long diff = (l2 - l1) \/ 1000;\n+                    \/*\n+                     * timeout is set to 20 seconds. If bug is still present\n+                     * then the timeout will occur the first time the keep alive\n+                     * thread wakes up which is after 5 seconds. This allows\n+                     * very large leeway with slow running hardware.\n+                     *\n+                     * Same behavior should occur in case of max=-1 with the bug\n+                     *\/\n+                    if (diff < 19) {\n+                        passed.complete(false);\n+                    } else {\n+                        passed.complete(true);\n+                    }\n+                    System.out.println(\"Time diff = \" + diff);\n+                }\n+            } catch (Throwable t) {\n+                System.err.println(\"Server exception terminating: \" + t);\n+                passed.completeExceptionally(t);\n+            }\n+        }\n+    }\n+\n+    public static void main(String[] args) throws Exception {\n+        Server server = new Server(args[0]);\n+        int port = server.getPort();\n+        server.start();\n+        URL url = new URL(\"http:\/\/127.0.0.1:\" + Integer.toString(port) + \"\/\");\n+        HttpURLConnection urlc = (HttpURLConnection) url.openConnection();\n+        InputStream i = urlc.getInputStream();\n+        int c,count=0;\n+        byte[] buf = new byte[256];\n+        while ((c=i.read(buf)) != -1) {\n+            count+=c;\n+        }\n+        i.close();\n+        System.out.println(\"Read \" + count );\n+        try {\n+            if (!passed.get()) {\n+                throw new RuntimeException(\"Test failed\");\n+            } else {\n+                System.out.println(\"Test passed\");\n+            }\n+        } finally {\n+            server.close();\n+        }\n+    }\n+}\n","filename":"jdk\/test\/sun\/net\/www\/http\/KeepAliveCache\/B8291637.java","additions":139,"deletions":0,"binary":false,"changes":139,"status":"added"},{"patch":"@@ -0,0 +1,178 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @library \/lib\/testlibrary\n+ * @bug 8278067\n+ * @run main\/othervm -Dhttp.keepAlive.time.server=30 KeepAliveProperty long\n+ * @run main\/othervm -Dhttp.keepAlive.time.server=1 KeepAliveProperty short\n+ * @run main\/othervm -ea -Dhttp.keepAlive.time.server=0 KeepAliveProperty short\n+ *\/\n+\n+import java.net.*;\n+import java.io.*;\n+import java.nio.charset.*;\n+import java.util.logging.*;\n+import jdk.testlibrary.net.URIBuilder;\n+import static java.net.Proxy.NO_PROXY;\n+\n+public class KeepAliveProperty {\n+\n+    static volatile boolean pass = false;\n+\n+    static class Server extends Thread {\n+        final ServerSocket server;\n+\n+        Server (ServerSocket server) {\n+            super ();\n+            this.server = server;\n+        }\n+\n+        void readAll (Socket s) throws IOException {\n+            byte[] buf = new byte [128];\n+            int c;\n+            String request = \"\";\n+            InputStream is = s.getInputStream ();\n+            while ((c=is.read(buf)) > 0) {\n+                request += new String(buf, 0, c, StandardCharsets.US_ASCII);\n+                if (request.contains(\"\\r\\n\\r\\n\")) {\n+                    return;\n+                }\n+            }\n+            if (c == -1)\n+                throw new IOException(\"Socket closed\");\n+        }\n+\n+        Socket s = null;\n+        String BODY;\n+        String CLEN;\n+        PrintStream out;\n+\n+        public void run() {\n+            try {\n+                s = server.accept();\n+                readAll(s);\n+\n+                BODY = \"Hello world\";\n+                CLEN = \"Content-Length: \" + BODY.length() + \"\\r\\n\";\n+                out = new PrintStream(new BufferedOutputStream(s.getOutputStream() ));\n+\n+                \/* send the header *\/\n+                out.print(\"HTTP\/1.1 200 OK\\r\\n\");\n+                out.print(\"Content-Type: text\/plain; charset=iso-8859-1\\r\\n\");\n+                out.print(CLEN);\n+                out.print(\"\\r\\n\");\n+                out.print(BODY);\n+                out.flush();\n+            } catch (Exception e) {\n+                pass = false;\n+                try {\n+                    if (s != null)\n+                        s.close();\n+                    server.close();\n+                } catch (IOException unused) {}\n+                return;\n+            }\n+\n+            \/\/ second request may legitimately fail\n+\n+            try (Socket s2 = s; ServerSocket server2 = server; PrintStream out2 = out) {\n+                \/\/ wait for second request.\n+                readAll(s2);\n+\n+                BODY = \"Goodbye world\";\n+                CLEN = \"Content-Length: \" + BODY.length() + \"\\r\\n\";\n+\n+                \/* send the header *\/\n+                out2.print(\"HTTP\/1.1 200 OK\\r\\n\");\n+                out2.print(\"Content-Type: text\/plain; charset=iso-8859-1\\r\\n\");\n+                out2.print(CLEN);\n+                out2.print(\"\\r\\n\");\n+                out2.print(BODY);\n+                out2.flush();\n+                pass = !expectClose;\n+                if (!pass) System.out.println(\"Failed: expected close\");\n+            } catch (Exception e) {\n+                pass = expectClose;\n+                if (!pass) System.out.println(\"Failed: did not expect close\");\n+            }\n+        }\n+    }\n+\n+    static String fetch(URL url) throws Exception {\n+        InputStream in = url.openConnection(NO_PROXY).getInputStream();\n+        String s = \"\";\n+        byte b[] = new byte[128];\n+        int n;\n+        do {\n+            n = in.read(b);\n+            if (n > 0)\n+                s += new String(b, 0, n, StandardCharsets.US_ASCII);\n+        } while (n > 0);\n+        in.close();\n+        return s;\n+    }\n+\n+    static volatile boolean expectClose;\n+\n+    public static void main(String args[]) throws Exception {\n+        \/\/ exercise the logging code\n+        Logger logger = Logger.getLogger(\"sun.net.www.protocol.http.HttpURLConnection\");\n+        logger.setLevel(Level.FINEST);\n+        ConsoleHandler h = new ConsoleHandler();\n+        h.setLevel(Level.FINEST);\n+        logger.addHandler(h);\n+\n+        expectClose = args[0].equals(\"short\");\n+        InetAddress loopback = InetAddress.getLoopbackAddress();\n+        ServerSocket ss = new ServerSocket();\n+        ss.bind(new InetSocketAddress(loopback, 0));\n+        Server s = new Server(ss);\n+        s.start();\n+\n+        URL url = URIBuilder.newBuilder()\n+            .scheme(\"http\")\n+            .loopback()\n+            .port(ss.getLocalPort())\n+            .toURL();\n+        System.out.println(\"URL: \" + url);\n+\n+        if (!fetch(url).equals(\"Hello world\"))\n+            throw new RuntimeException(\"Failed on first request\");\n+\n+        \/\/ Wait a while to see if connection is closed\n+        Thread.sleep(3 * 1000);\n+\n+        try {\n+            if (!fetch(url).equals(\"Goodbye world\"))\n+                throw new RuntimeException(\"Failed on second request\");\n+        } catch (Exception e) {\n+            if (!expectClose)\n+                throw e;\n+        }\n+\n+        if (!pass)\n+            throw new RuntimeException(\"Failed in server\");\n+    }\n+}\n","filename":"jdk\/test\/sun\/net\/www\/http\/KeepAliveCache\/KeepAliveProperty.java","additions":178,"deletions":0,"binary":false,"changes":178,"status":"added"},{"patch":"@@ -50,1 +50,1 @@\n-                new AuthTimeWithHash(client, server, time(-400), 0, hash(\"1\"));\n+                new AuthTimeWithHash(client, server, time(-400), 0, \"HASH\", hash(\"1\"));\n@@ -52,1 +52,1 @@\n-                new AuthTimeWithHash(client, server, time(0), 0, hash(\"4\"));\n+                new AuthTimeWithHash(client, server, time(0), 0, \"HASH\", hash(\"4\"));\n@@ -58,1 +58,1 @@\n-            a1 = new AuthTimeWithHash(client, server, time(-400), 0, hash(\"\"));\n+            a1 = new AuthTimeWithHash(client, server, time(-400), 0, \"HASH\", hash(\"\"));\n","filename":"jdk\/test\/sun\/security\/krb5\/auto\/ReplayCacheExpunge.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -51,1 +51,1 @@\n-                \"1111111111111111\");\n+                \"HASH\", \"1111111111111111\");\n@@ -53,1 +53,1 @@\n-                \"2222222222222222\");\n+                \"HASH\", \"2222222222222222\");\n","filename":"jdk\/test\/sun\/security\/krb5\/auto\/ReplayCachePrecise.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @bug 7152176\n+ * @bug 7152176 8168518\n@@ -30,1 +30,1 @@\n- * @run main\/othervm\/timeout=100 -Dsun.net.spi.nameservice.provider.1=ns,mock ReplayCacheTestProc\n+ * @run main\/othervm\/timeout=300 -Dsun.net.spi.nameservice.provider.1=ns,mock ReplayCacheTestProc\n@@ -41,0 +41,1 @@\n+import java.security.NoSuchAlgorithmException;\n@@ -42,0 +43,4 @@\n+import java.util.regex.Matcher;\n+import java.util.regex.Pattern;\n+\n+import jdk.test.lib.Platform;\n@@ -43,1 +48,0 @@\n-import sun.security.krb5.internal.APReq;\n@@ -46,1 +50,21 @@\n-\/\/ This test runs multiple acceptor Procs to mimin AP-REQ replays.\n+\/**\n+ * This test runs multiple acceptor Procs to mimic AP-REQ replays.\n+ * These system properties are supported:\n+ *\n+ * - test.libs on what types of acceptors to use\n+ *   Format: CSV of (J|N|N<suffix>=<libname>|J<suffix>=<launcher>)\n+ *   Default: J,N on Solaris and Linux where N is available, or J\n+ *   Example: J,N,N14=\/krb5-1.14\/lib\/libgssapi_krb5.so,J8=\/java8\/bin\/java\n+ *\n+ * - test.runs on manual runs. If empty, a iterate through all pattern\n+ *   Format: (req# | client# service#) acceptor# expected, ...\n+ *   Default: null\n+ *   Example: c0s0Jav,c1s1N14av,r0Jbx means 0th req is new c0->s0 sent to Ja,\n+ *            1st req is new c1 to s1 sent to N14a,\n+ *            2nd req is old (0th replayed) sent to Jb.\n+ *            a\/b at the end of acceptor is different acceptors of the same lib\n+ *\n+ * - test.autoruns on number of automatic runs\n+ *   Format: number\n+ *   Default: 100\n+ *\/\n@@ -49,2 +73,2 @@\n-    private static Proc[] ps;\n-    private static Proc pc;\n+    private static Proc[] pa;   \/\/ all acceptors\n+    private static Proc pi;     \/\/ the single initiator\n@@ -61,0 +85,10 @@\n+    private static MessageDigest md5, sha256;\n+\n+    static {\n+        try {\n+            md5 = MessageDigest.getInstance(\"MD5\");\n+            sha256 = MessageDigest.getInstance(\"SHA-256\");\n+        } catch (NoSuchAlgorithmException nsae) {\n+            throw new AssertionError(\"Impossible\", nsae);\n+        }\n+    }\n@@ -62,1 +96,1 @@\n-    private static int uid;\n+    private static long uid;\n@@ -67,12 +101,9 @@\n-            int ns = 5;     \/\/ number of servers\n-            int nu = 5;     \/\/ number of users\n-            int nx = 50;    \/\/ number of experiments\n-            int np = 5;     \/\/ number of peers (services)\n-            int mode = 0;   \/\/ native(1), random(0), java(-1)\n-            boolean random = true;      \/\/ random experiments choreograph\n-\n-            \/\/ Do not test interop with native GSS on some platforms\n-            String os = System.getProperty(\"os.name\", \"???\");\n-            if (!os.startsWith(\"SunOS\") && !os.startsWith(\"Linux\")) {\n-                mode = -1;\n-            }\n+            int nc = 5;     \/\/ number of clients\n+            int ns = 5;     \/\/ number of services\n+            String[] libs;  \/\/ available acceptor types:\n+                            \/\/ J: java\n+                            \/\/ J<suffix>=<java launcher>: another java\n+                            \/\/ N: default native lib\n+                            \/\/ N<suffix>=<libname>: another native lib\n+            Ex[] result;\n+            int numPerType = 2; \/\/ number of acceptors per type\n@@ -90,2 +121,2 @@\n-            for (int i=0; i<nu; i++) {\n-                kdc.addPrincipal(user(i), OneKDC.PASS);\n+            for (int i=0; i<nc; i++) {\n+                kdc.addPrincipal(client(i), OneKDC.PASS);\n@@ -94,2 +125,2 @@\n-            for (int i=0; i<np; i++) {\n-                kdc.addPrincipalRandKey(peer(i));\n+            for (int i=0; i<ns; i++) {\n+                kdc.addPrincipalRandKey(service(i));\n@@ -101,5 +132,16 @@\n-            if (mode != -1) {\n-                \/\/ A special native server to check basic sanity\n-                if (ns(-1).waitFor() != 0) {\n-                    Proc.d(\"Native mode sanity check failed, revert to java\");\n-                    mode = -1;\n+            \/\/ User-provided libs\n+            String userLibs = System.getProperty(\"test.libs\");\n+\n+            if (userLibs != null) {\n+                libs = userLibs.split(\",\");\n+            } else {\n+                if (Platform.isOSX() || Platform.isWindows()) {\n+                    \/\/ macOS uses Heimdal and Windows has no native lib\n+                    libs = new String[]{\"J\"};\n+                } else {\n+                    if (acceptor(\"N\", \"sanity\").waitFor() != 0) {\n+                        Proc.d(\"Native mode sanity check failed, only java\");\n+                        libs = new String[]{\"J\"};\n+                    } else {\n+                        libs = new String[]{\"J\", \"N\"};\n+                    }\n@@ -109,2 +151,2 @@\n-            pc = Proc.create(\"ReplayCacheTestProc\").debug(\"C\")\n-                    .args(\"client\")\n+            pi = Proc.create(\"ReplayCacheTestProc\").debug(\"C\")\n+                    .args(\"initiator\")\n@@ -112,2 +154,0 @@\n-            ps = new Proc[ns];\n-            Ex[] result = new Ex[nx];\n@@ -115,3 +155,2 @@\n-            if (!random) {\n-                \/\/ 2 experiments, 2 server, 1 peer, 1 user\n-                nx = 2; ns = 2; np = 1; nu = 1;\n+            int na = libs.length * numPerType;  \/\/ total number of acceptors\n+            pa = new Proc[na];\n@@ -119,2 +158,5 @@\n-                \/\/ Creates reqs from user# to peer#\n-                req(0, 0);\n+            \/\/ Acceptors, numPerType for 1st, numForType for 2nd, ...\n+            for (int i=0; i<na; i++) {\n+                pa[i] = acceptor(libs[i\/numPerType],\n+                        \"\" + (char)('a' + i%numPerType));\n+            }\n@@ -122,3 +164,2 @@\n-                \/\/ Creates server#\n-                ps[0] = ns(0);\n-                ps[1] = js(1);\n+            \/\/ Manual runs\n+            String userRuns = System.getProperty(\"test.runs\");\n@@ -126,4 +167,3 @@\n-                \/\/ Runs ex# using req# to server# with expected result\n-                result[0] = round(0, 0, 0, true);\n-                result[1] = round(1, 0, 1, false);\n-            } else {\n+            if (userRuns == null) {\n+                result = new Ex[Integer.parseInt(\n+                        System.getProperty(\"test.autoruns\", \"100\"))];\n@@ -131,4 +171,9 @@\n-                for (int i=0; i<ns; i++) {\n-                    boolean useNative = (mode == 1) ? true\n-                            : (mode == -1 ? false : r.nextBoolean());\n-                    ps[i] = useNative?ns(i):js(i);\n+                for (int i = 0; i < result.length; i++) {\n+                    boolean expected = reqs.isEmpty() || r.nextBoolean();\n+                    result[i] = new Ex(\n+                            i,\n+                            expected ?\n+                                    req(r.nextInt(nc), r.nextInt(ns)) :\n+                                    r.nextInt(reqs.size()),\n+                            pa[r.nextInt(na)],\n+                            expected);\n@@ -136,12 +181,20 @@\n-                for (int i=0; i<nx; i++) {\n-                    result[i] = new Ex();\n-                    int old;    \/\/ which req to send\n-                    boolean expected;\n-                    if (reqs.isEmpty() || r.nextBoolean()) {\n-                        Proc.d(\"Console get new AP-REQ\");\n-                        old = req(r.nextInt(nu), r.nextInt(np));\n-                        expected = true;\n-                    } else {\n-                        Proc.d(\"Console resue old\");\n-                        old = r.nextInt(reqs.size());\n-                        expected = false;\n+            } else if (userRuns.isEmpty()) {\n+                int count = 0;\n+                result = new Ex[libs.length * libs.length];\n+                for (int i = 0; i < libs.length; i++) {\n+                    result[count] = new Ex(\n+                            count,\n+                            req(0, 0),\n+                            pa[i * numPerType],\n+                            true);\n+                    count++;\n+                    for (int j = 0; j < libs.length; j++) {\n+                        if (i == j) {\n+                            continue;\n+                        }\n+                        result[count] = new Ex(\n+                                count,\n+                                i,\n+                                pa[j * numPerType],\n+                                false);\n+                        count++;\n@@ -149,4 +202,17 @@\n-                    int s = r.nextInt(ns);\n-                    Proc.d(\"Console send to \" + s);\n-                    result[i] = round(i, old, s, expected);\n-                    Proc.d(\"Console sees \" + result[i].actual);\n+                }\n+            } else {\n+                String[] runs = userRuns.split(\",\");\n+                result = new Ex[runs.length];\n+                for (int i = 0; i < runs.length; i++) {\n+                    UserRun run = new UserRun(runs[i]);\n+                    result[i] = new Ex(\n+                            i,\n+                            run.req() == -1 ?\n+                                    req(run.client(), run.service()) :\n+                                    result[run.req()].req,\n+                            Arrays.stream(pa)\n+                                    .filter(p -> p.debug().equals(run.acceptor()))\n+                                    .findFirst()\n+                                    .orElseThrow(() -> new Exception(\n+                                            \"no acceptor named \" + run.acceptor())),\n+                            run.success());\n@@ -156,3 +222,2 @@\n-            pc.println(\"END\");\n-            for (int i=0; i<ns; i++) {\n-                ps[i].println(\"END\");\n+            for (Ex x : result) {\n+                x.run();\n@@ -160,1 +225,6 @@\n-            System.out.println(\"Result\\n======\");\n+\n+            pi.println(\"END\");\n+            for (int i=0; i<na; i++) {\n+                pa[i].println(\"END\");\n+            }\n+            System.out.println(\"\\nAll Test Results\\n================\");\n@@ -162,1 +232,3 @@\n-            for (int i=0; i<nx; i++) {\n+            System.out.println(\"        req**  client    service  acceptor   Result\");\n+            System.out.println(\"----  -------  ------  ---------  --------  -------\");\n+            for (int i=0; i<result.length; i++) {\n@@ -165,1 +237,1 @@\n-                System.out.printf(\"%3d: %s (%2d): u%d h%d %s %s   %s %2d\\n\",\n+                System.out.printf(\"%3d:    %3d%s      c%d    s%d %4s  %8s   %s  %s\\n\",\n@@ -167,6 +239,32 @@\n-                        result[i].expected?\"----\":\"    \",\n-                        result[i].old,\n-                        result[i].user, result[i].peer, result[i].server,\n-                        result[i].actual?\"Good\":\"Bad \",\n-                        out?\"   \":\"xxx\",\n-                        result[i].csize);\n+                        result[i].req,\n+                        result[i].expected ? \"**\" : \"  \",\n+                        reqs.get(result[i].req).client,\n+                        reqs.get(result[i].req).service,\n+                        \"(\" + result[i].csize + \")\",\n+                        result[i].acceptor.debug(),\n+                        result[i].actual ? \"++\" : \"--\",\n+                        out ? \"   \" : \"xxx\");\n+            }\n+\n+            System.out.println(\"\\nPath of Reqs\\n============\");\n+            for (int j=0; ; j++) {\n+                boolean found = false;\n+                for (int i=0; i<result.length; i++) {\n+                    if (result[i].req == j) {\n+                        if (!found) {\n+                            System.out.printf(\"%3d (c%s -> s%s): \", j,\n+                                    reqs.get(j).client, reqs.get(j).service);\n+                        }\n+                        System.out.printf(\"%s%s(%d)%s\",\n+                                found ? \" -> \" : \"\",\n+                                result[i].acceptor.debug(),\n+                                i,\n+                                result[i].actual != result[i].expected ?\n+                                        \"xxx\" : \"\");\n+                        found = true;\n+                    }\n+                }\n+                System.out.println();\n+                if (!found) {\n+                    break;\n+                }\n@@ -175,1 +273,1 @@\n-        } else if (args[0].equals(\"N-1\")) {\n+        } else if (args[0].equals(\"Nsanity\")) {\n@@ -180,1 +278,1 @@\n-        } else if (args[0].equals(\"client\")) {\n+        } else if (args[0].equals(\"initiator\")) {\n@@ -194,0 +292,4 @@\n+            Proc.d(System.getProperty(\"java.vm.version\"));\n+            Proc.d(System.getProperty(\"sun.security.jgss.native\"));\n+            Proc.d(System.getProperty(\"sun.security.jgss.lib\"));\n+            Proc.d(\"---------------------------------\\n\");\n@@ -199,1 +301,1 @@\n-                Proc.d(\"Server \" + args[0] + \" sees \" + title);\n+                Proc.d(\"Server sees \" + title);\n@@ -206,1 +308,1 @@\n-                    Proc.d(args[0] + \" Good\");\n+                    Proc.d(\"Good\");\n@@ -209,1 +311,1 @@\n-                    Proc.d(args[0] + \" Bad\");\n+                    Proc.d(\"Bad\");\n@@ -224,3 +326,3 @@\n-    \/\/ returns the user name\n-    private static String user(int p) {\n-        return \"USER\" + p;\n+    \/\/ returns the client name\n+    private static String client(int p) {\n+        return \"client\" + p;\n@@ -228,3 +330,4 @@\n-    \/\/ returns the peer name\n-    private static String peer(int p) {\n-        return \"host\" + p + \"\/\" + HOST;\n+\n+    \/\/ returns the service name\n+    private static String service(int p) {\n+        return \"service\" + p + \"\/\" + HOST;\n@@ -232,1 +335,2 @@\n-    \/\/ returns the dfl name for a host\n+\n+    \/\/ returns the dfl name for a service\n@@ -234,1 +338,1 @@\n-        return cwd + \"host\" + p + (uid == -1 ? \"\" : (\"_\"+uid));\n+        return \"service\" + p + (uid == -1 ? \"\" : (\"_\"+uid));\n@@ -236,0 +340,1 @@\n+\n@@ -237,3 +342,3 @@\n-    private static int req(int user, int peer) throws Exception {\n-        pc.println(user(user) + \" \" + peer(peer));\n-        Req req = new Req(user, peer, pc.readData());\n+    private static int req(int client, int service) throws Exception {\n+        pi.println(client(client) + \" \" + service(service));\n+        Req req = new Req(client, service, pi.readData());\n@@ -243,24 +348,13 @@\n-    \/\/ carries out a round of experiment\n-    \/\/ i: ex#, old: which req, server: which server, expected: result?\n-    private static Ex round(int i, int old, int server, boolean expected)\n-            throws Exception {\n-        ps[server].println(\"TEST\");\n-        ps[server].println(reqs.get(old).msg);\n-        String reply = ps[server].readData();\n-        Ex result = new Ex();\n-        result.i = i;\n-        result.expected = expected;\n-        result.server = ps[server].debug();\n-        result.actual = Boolean.valueOf(reply);\n-        result.user = reqs.get(old).user;\n-        result.peer = reqs.get(old).peer;\n-        result.old = old;\n-        result.csize = csize(result.peer);\n-        result.hash = hash(reqs.get(old).msg);\n-        if (new File(dfl(result.peer)).exists()) {\n-            Files.copy(Paths.get(dfl(result.peer)), Paths.get(\n-                String.format(\"%03d-USER%d-host%d-%s-%s\",\n-                    i, result.user, result.peer, result.server,\n-                    result.actual)\n-                + \"-\" + result.hash),\n-                StandardCopyOption.COPY_ATTRIBUTES);\n+\n+    \/\/ create a acceptor\n+    private static Proc acceptor(String type, String suffix) throws Exception {\n+        Proc p;\n+        String label;\n+        String lib;\n+        int pos = type.indexOf('=');\n+        if (pos < 0) {\n+            label = type;\n+            lib = null;\n+        } else {\n+            label = type.substring(0, pos);\n+            lib = type.substring(pos + 1);\n@@ -268,25 +362,31 @@\n-        return result;\n-    }\n-    \/\/ create a native server\n-    private static Proc ns(int i) throws Exception {\n-        return Proc.create(\"ReplayCacheTestProc\")\n-                .args(\"N\"+i)\n-                .env(\"KRB5_CONFIG\", OneKDC.KRB5_CONF)\n-                .env(\"KRB5_KTNAME\", OneKDC.KTAB)\n-                .env(\"KRB5RCACHEDIR\", cwd)\n-                .prop(\"sun.security.jgss.native\", \"true\")\n-                .prop(\"javax.security.auth.useSubjectCredsOnly\", \"false\")\n-                .prop(\"sun.security.nativegss.debug\", \"true\")\n-                .prop(\"sun.net.spi.nameservice.provider.1\", \"ns,mock\")\n-                .debug(\"N\"+i)\n-                .start();\n-    }\n-    \/\/ creates a java server\n-    private static Proc js(int i) throws Exception {\n-        return Proc.create(\"ReplayCacheTestProc\")\n-                .debug(\"S\"+i)\n-                .args(\"S\"+i)\n-                .prop(\"sun.security.krb5.rcache\", \"dfl\")\n-                .prop(\"java.io.tmpdir\", cwd)\n-                .prop(\"sun.net.spi.nameservice.provider.1\", \"ns,mock\")\n-                .start();\n+        if (type.startsWith(\"J\")) {\n+            if (lib == null) {\n+                p = Proc.create(\"ReplayCacheTestProc\");\n+            } else {\n+                p = Proc.create(\"ReplayCacheTestProc\", lib);\n+            }\n+            p.prop(\"sun.security.krb5.rcache\", \"dfl\")\n+                    .prop(\"java.io.tmpdir\", cwd)\n+                    .prop(\"sun.net.spi.nameservice.provider.1\", \"ns,mock\");\n+            String useMD5 = System.getProperty(\"jdk.krb5.rcache.useMD5\");\n+            if (useMD5 != null) {\n+                p.prop(\"jdk.krb5.rcache.useMD5\", useMD5);\n+            }\n+        } else {\n+            p = Proc.create(\"ReplayCacheTestProc\")\n+                    .env(\"KRB5_CONFIG\", OneKDC.KRB5_CONF)\n+                    .env(\"KRB5_KTNAME\", OneKDC.KTAB)\n+                    .env(\"KRB5RCACHEDIR\", cwd)\n+                    .prop(\"sun.security.jgss.native\", \"true\")\n+                    .prop(\"javax.security.auth.useSubjectCredsOnly\", \"false\")\n+                    .prop(\"sun.security.nativegss.debug\", \"true\")\n+                    .prop(\"sun.net.spi.nameservice.provider.1\", \"ns,mock\");\n+            if (lib != null) {\n+                String libDir = lib.substring(0, lib.lastIndexOf('\/'));\n+                p.prop(\"sun.security.jgss.lib\", lib)\n+                        .env(\"DYLD_LIBRARY_PATH\", libDir)\n+                        .env(\"LD_LIBRARY_PATH\", libDir);\n+            }\n+        }\n+        Proc.d(label+suffix+\" started\");\n+        return p.args(label+suffix).debug(label+suffix).start();\n@@ -294,0 +394,1 @@\n+\n@@ -295,2 +396,2 @@\n-    private static String hash(String req) throws Exception {\n-        byte[] data = Base64.getDecoder().decode(req);\n+    private static void record(String label, Req req) throws Exception {\n+        byte[] data = Base64.getDecoder().decode(req.msg);\n@@ -298,1 +399,13 @@\n-        byte[] hash = MessageDigest.getInstance(\"MD5\").digest(new APReq(data).authenticator.getBytes());\n+\n+        try (PrintStream ps = new PrintStream(\n+                new FileOutputStream(\"log.txt\", true))) {\n+            ps.printf(\"%s:\\nmsg: %s\\nMD5: %s\\nSHA-256: %s\\n\\n\",\n+                    label,\n+                    req.msg,\n+                    hex(md5.digest(data)),\n+                    hex(sha256.digest(data)));\n+        }\n+    }\n+\n+    \/\/ Returns a compact hexdump for a byte array\n+    private static String hex(byte[] hash) {\n@@ -307,0 +420,1 @@\n+\n@@ -310,1 +424,1 @@\n-                Paths.get(dfl(p)), StandardOpenOption.READ)) {\n+                Paths.get(cwd, dfl(p)), StandardOpenOption.READ)) {\n@@ -325,0 +439,1 @@\n+\n@@ -328,0 +443,2 @@\n+        int req;            \/\/ which ap-req to send\n+        Proc acceptor;      \/\/ which acceptor to send to\n@@ -329,0 +446,1 @@\n+\n@@ -330,5 +448,0 @@\n-        int old;            \/\/ which ap-req to send\n-        String server;      \/\/ which server to send to\n-        String hash;        \/\/ the hash of req\n-        int user;           \/\/ which initiator\n-        int peer;           \/\/ which acceptor\n@@ -336,0 +449,27 @@\n+        String hash;        \/\/ the hash of req\n+\n+        Ex(int i, int req, Proc acceptor, boolean expected) {\n+            this.i = i;\n+            this.req = req;\n+            this.acceptor = acceptor;\n+            this.expected = expected;\n+        }\n+\n+        void run() throws Exception {\n+            Req r = reqs.get(req);\n+            acceptor.println(\"TEST\");\n+            acceptor.println(r.msg);\n+            String reply = acceptor.readData();\n+\n+            actual = Boolean.valueOf(reply);\n+            csize = csize(r.service);\n+\n+            String label = String.format(\"%03d-CLIENT%d-SERVICE%d-%s-%s\",\n+                    i, r.client, r.service, acceptor.debug(), actual);\n+\n+            record(label, r);\n+            if (new File(cwd, dfl(r.service)).exists()) {\n+                Files.copy(Paths.get(cwd, dfl(r.service)), Paths.get(label),\n+                        StandardCopyOption.COPY_ATTRIBUTES);\n+            }\n+        }\n@@ -337,0 +477,1 @@\n+\n@@ -340,3 +481,3 @@\n-        int user;           \/\/ which initiator\n-        int peer;           \/\/ which accceptor\n-        Req(int user, int peer, String msg) {\n+        int client;         \/\/ which client\n+        int service;        \/\/ which service\n+        Req(int client, int service, String msg) {\n@@ -344,2 +485,21 @@\n-            this.user= user;\n-            this.peer = peer;\n+            this.client= client;\n+            this.service = service;\n+        }\n+    }\n+\n+    private static class UserRun {\n+        static final Pattern p\n+                = Pattern.compile(\"(c(\\\\d)+s(\\\\d+)|r(\\\\d+))(.*)(.)\");\n+        final Matcher m;\n+\n+        UserRun(String run) { m = p.matcher(run); m.find(); }\n+\n+        int req() { return group(4); }\n+        int client() { return group(2); }\n+        int service() { return group(3); }\n+        String acceptor() { return m.group(5); }\n+        boolean success() { return m.group(6).equals(\"v\"); }\n+\n+        int group(int i) {\n+            String g = m.group(i);\n+            return g == null ? -1 : Integer.parseInt(g);\n","filename":"jdk\/test\/sun\/security\/krb5\/auto\/ReplayCacheTestProc.java","additions":315,"deletions":155,"binary":false,"changes":470,"status":"modified"},{"patch":"@@ -0,0 +1,30 @@\n+#\n+# Copyright (c) 2016, Oracle and\/or its affiliates. All rights reserved.\n+# DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+#\n+# This code is free software; you can redistribute it and\/or modify it\n+# under the terms of the GNU General Public License version 2 only, as\n+# published by the Free Software Foundation.\n+#\n+# This code is distributed in the hope that it will be useful, but WITHOUT\n+# ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+# FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+# version 2 for more details (a copy is included in the LICENSE file that\n+# accompanied this code).\n+#\n+# You should have received a copy of the GNU General Public License version\n+# 2 along with this work; if not, write to the Free Software Foundation,\n+# Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+#\n+# Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+# or visit www.oracle.com if you need additional information or have any\n+# questions.\n+#\n+\n+# @test\n+# @bug 8168518\n+# @library ..\/..\/..\/..\/java\/security\/testlibrary\/ \/test\/lib\n+# @run main\/othervm\/timeout=300 -Dsun.net.spi.nameservice.provider.1=ns,mock -Djdk.krb5.rcache.useMD5=true ReplayCacheTestProc\n+# @summary  testing jdk.krb5.rcache.useMD5. This action is put in a separate\n+#           test so that ReplayCacheTestProc.java can be launched with special\n+#           test.* system properties easily.\n","filename":"jdk\/test\/sun\/security\/krb5\/auto\/rcache_usemd5.sh","additions":30,"deletions":0,"binary":false,"changes":30,"status":"added"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,0 +32,1 @@\n+ *      8321408\n@@ -57,1 +58,1 @@\n-    private static final int COUNT = 106;\n+    private static final int COUNT = 108;\n@@ -62,1 +63,2 @@\n-            = \"61:5F:6D:C5:9C:A3:8A:65:3F:CB:F9:F5:26:04:23:F4:53:A6:8C:B3:8B:2B:0A:F0:66:7D:9E:67:B9:4D:AC:B7\";\n+            = \"81:D4:84:F6:92:78:A4:82:25:06:DC:42:25:C9:5D:6C:63:E4:99:CE:BC:ED:66:B3:8C:BA:E6:BA:6B:34:0F:01\";\n+\n@@ -280,0 +282,4 @@\n+            put(\"certainlyrootr1 [jdk]\",\n+                    \"77:B8:2C:D8:64:4C:43:05:F7:AC:C5:CB:15:6B:45:67:50:04:03:3D:51:C6:0C:62:02:A8:E0:C3:34:67:D3:A0\");\n+            put(\"certainlyroote1 [jdk]\",\n+                    \"B4:58:5F:22:E4:AC:75:6A:4E:86:12:A1:36:1C:5D:9D:03:1A:93:FD:84:FE:BB:77:8F:A3:06:8B:0F:C4:2D:C2\");\n","filename":"jdk\/test\/sun\/security\/lib\/cacerts\/VerifyCACerts.java","additions":9,"deletions":3,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2004, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2004, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,2 +26,4 @@\n- * @bug 5052433\n- * @summary NullPointerException for generateCRL and generateCRLs methods.\n+ * @bug 5052433 8315042\n+ * @summary Verify that generateCRL and generateCRLs methods do not throw\n+ *          NullPointerException. They should throw CRLException instead.\n+ * @library \/test\/lib\n@@ -32,0 +34,1 @@\n+import java.util.Base64;\n@@ -33,2 +36,1 @@\n-public class UnexpectedNPE {\n-    CertificateFactory cf = null ;\n+import jdk.test.lib.Utils;\n@@ -36,1 +38,2 @@\n-    public UnexpectedNPE() {}\n+public class UnexpectedNPE {\n+    static CertificateFactory cf = null;\n@@ -38,1 +41,2 @@\n-    public static void main( String[] av ) {\n+    public static void main(String[] av ) throws CertificateException,\n+            NoSuchProviderException {\n@@ -42,0 +46,2 @@\n+        byte[] encoded_4 = Base64.getDecoder().decode(\n+                \"MAsGCSqGSMP7TQEHAjI1Bgn\/\/\/\/\/\/\/8wCwUyAQ==\");\n@@ -43,5 +49,1 @@\n-        UnexpectedNPE unpe = new UnexpectedNPE() ;\n-\n-        if(!unpe.run(encoded_1)) {\n-            throw new SecurityException(\"CRLException has not been thrown\");\n-        }\n+        cf = CertificateFactory.getInstance(\"X.509\", \"SUN\");\n@@ -49,7 +51,4 @@\n-        if(!unpe.run(encoded_2)) {\n-            throw new SecurityException(\"CRLException has not been thrown\");\n-        }\n-\n-        if(!unpe.run(encoded_2)) {\n-            throw new SecurityException(\"CRLException has not been thrown\");\n-        }\n+        run(encoded_1);\n+        run(encoded_2);\n+        run(encoded_3);\n+        run(encoded_4);\n@@ -58,19 +57,7 @@\n-    private boolean run(byte[] buf) {\n-        if (cf == null) {\n-            try {\n-                cf = CertificateFactory.getInstance(\"X.509\", \"SUN\");\n-            } catch (CertificateException e) {\n-                throw new SecurityException(\"Cannot get CertificateFactory\");\n-            } catch (NoSuchProviderException npe) {\n-                throw new SecurityException(\"Cannot get CertificateFactory\");\n-            }\n-        }\n-        try {\n-            cf.generateCRL(new ByteArrayInputStream(buf));\n-        } catch (CRLException ce) {\n-            System.out.println(\"NPE checking passed\");\n-            return true;\n-        }\n-\n-        System.out.println(\"CRLException has not been thrown\");\n-        return false;\n+    private static void run(byte[] buf) {\n+        Utils.runAndCheckException(\n+                () -> cf.generateCRL(new ByteArrayInputStream(buf)),\n+                CRLException.class);\n+        Utils.runAndCheckException(\n+                () -> cf.generateCRLs(new ByteArrayInputStream(buf)),\n+                CRLException.class);\n","filename":"jdk\/test\/sun\/security\/x509\/X509CRLImpl\/UnexpectedNPE.java","additions":25,"deletions":38,"binary":false,"changes":63,"status":"modified"},{"patch":"@@ -24,1 +24,1 @@\n-tzdata2023c\n+tzdata2024a\n","filename":"jdk\/test\/sun\/util\/calendar\/zi\/tzdata\/VERSION","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -56,0 +56,4 @@\n+# For the 1911\/1912 establishment of standard time in French possessions, see:\n+# Société Française de Physique, Recueil de constantes physiques (1913),\n+# page 752, 18b.\n+#\n@@ -139,1 +143,1 @@\n-Zone\tAfrica\/Ndjamena\t1:00:12 -\tLMT\t1912        # N'Djamena\n+Zone\tAfrica\/Ndjamena\t1:00:12 -\tLMT\t1912 Jan  1 # N'Djamena\n@@ -165,1 +169,1 @@\n-Zone\tAfrica\/Abidjan\t-0:16:08 -\tLMT\t1912\n+Zone\tAfrica\/Abidjan\t-0:16:08 -\tLMT\t1912 Jan  1\n@@ -311,7 +315,0 @@\n-# From Paul Eggert (2014-06-04):\n-# Sarah El Deeb and Lee Keath of AP report that the Egyptian government says\n-# the change is because of blackouts in Cairo, even though Ahram Online (cited\n-# above) says DST had no affect on electricity consumption.  There is\n-# no information about when DST will end this fall.  See:\n-# http:\/\/abcnews.go.com\/International\/wireStory\/el-sissi-pushes-egyptians-line-23614833\n-\n","filename":"jdk\/test\/sun\/util\/calendar\/zi\/tzdata\/africa","additions":6,"deletions":9,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -106,0 +106,5 @@\n+# From Paul Eggert (2023-12-20):\n+# Transitions from 2021 on are taken from:\n+# https:\/\/www.timeanddate.com\/time\/zone\/antarctica\/casey\n+# retrieved at various dates.\n+\n@@ -119,1 +124,6 @@\n-\t\t\t11:00\t-\t+11\n+\t\t\t11:00\t-\t+11\t2021 Mar 14  0:00\n+\t\t\t 8:00\t-\t+08\t2021 Oct  3  0:01\n+\t\t\t11:00\t-\t+11\t2022 Mar 13  0:00\n+\t\t\t 8:00\t-\t+08\t2022 Oct  2  0:01\n+\t\t\t11:00\t-\t+11\t2023 Mar  9  3:00\n+\t\t\t 8:00\t-\t+08\n@@ -266,1 +276,44 @@\n-# See Asia\/Urumqi.\n+# From Craig Mundell (1994-12-15):\n+# http:\/\/quest.arc.nasa.gov\/antarctica\/QA\/computers\/Directions,Time,ZIP\n+# Vostok, which is one of the Russian stations, is set on the same\n+# time as Moscow, Russia.\n+#\n+# From Lee Hotz (2001-03-08):\n+# I queried the folks at Columbia who spent the summer at Vostok and this is\n+# what they had to say about time there:\n+# \"in the US Camp (East Camp) we have been on New Zealand (McMurdo)\n+# time, which is 12 hours ahead of GMT. The Russian Station Vostok was\n+# 6 hours behind that (although only 2 miles away, i.e. 6 hours ahead\n+# of GMT). This is a time zone I think two hours east of Moscow. The\n+# natural time zone is in between the two: 8 hours ahead of GMT.\"\n+#\n+# From Paul Eggert (2001-05-04):\n+# This seems to be hopelessly confusing, so I asked Lee Hotz about it\n+# in person.  He said that some Antarctic locations set their local\n+# time so that noon is the warmest part of the day, and that this\n+# changes during the year and does not necessarily correspond to mean\n+# solar noon.  So the Vostok time might have been whatever the clocks\n+# happened to be during their visit.  So we still don't really know what time\n+# it is at Vostok.\n+#\n+# From Zakhary V. Akulov (2023-12-17 22:00:48 +0700):\n+# ... from December, 18, 2023 00:00 by my decision the local time of\n+# the Antarctic research base Vostok will correspond to UTC+5.\n+# (2023-12-19): We constantly interact with Progress base, with company who\n+# builds new wintering station, with sledge convoys, with aviation - they all\n+# use UTC+5. Besides, difference between Moscow time is just 2 hours now, not 4.\n+# (2023-12-19, in response to the question \"Has local time at Vostok\n+# been UTC+6 ever since 1957, or has it changed before?\"): No. At least\n+# since my antarctic career start, 10 years ago, Vostok base has UTC+7.\n+# (In response to a 2023-12-18 question \"from 02:00 to 00:00 today\"): This.\n+#\n+# From Paul Eggert (2023-12-18):\n+# For lack of better info, guess Vostok was at +07 from founding through today,\n+# except when closed.\n+\n+# Zone\tNAME\t\tSTDOFF\tRULES\tFORMAT\t[UNTIL]\n+Zone Antarctica\/Vostok\t0\t-\t-00\t1957 Dec 16\n+\t\t\t7:00\t-\t+07\t1994 Feb\n+\t\t\t0\t-\t-00\t1994 Nov\n+\t\t\t7:00\t-\t+07\t2023 Dec 18  2:00\n+\t\t\t5:00\t-\t+05\n","filename":"jdk\/test\/sun\/util\/calendar\/zi\/tzdata\/antarctica","additions":55,"deletions":2,"binary":false,"changes":57,"status":"modified"},{"patch":"@@ -681,1 +681,0 @@\n-# Vostok base in Antarctica matches this since 1970.\n@@ -2484,0 +2483,11 @@\n+# From Zhanbolat Raimbekov (2024-01-19):\n+# Kazakhstan (all parts) switching to UTC+5 on March 1, 2024\n+# https:\/\/www.gov.kz\/memleket\/entities\/mti\/press\/news\/details\/688998?lang=ru\n+# [in Russian]\n+# (2024-01-20): https:\/\/primeminister.kz\/ru\/decisions\/19012024-20\n+#\n+# From Alexander Krivenyshev (2024-01-19):\n+# According to a different news and the official web site for the Ministry of\n+# Trade and Integration of the Republic of Kazakhstan:\n+# https:\/\/en.inform.kz\/news\/kazakhstan-to-switch-to-single-hour-zone-mar-1-54ad0b\/\n+\n@@ -2487,2 +2497,5 @@\n-# This includes KZ-AKM, KZ-ALA, KZ-ALM, KZ-AST, KZ-BAY, KZ-VOS, KZ-ZHA,\n-# KZ-KAR, KZ-SEV, KZ-PAV, and KZ-YUZ.\n+# This includes Abai\/Abay (ISO 3166-2 code KZ-10), Aqmola\/Akmola (KZ-11),\n+# Almaty (KZ-19), Almaty city (KZ-75), Astana city (KZ-71),\n+# East Kazkhstan (KZ-63), Jambyl\/Zhambyl (KZ-31), Jetisu\/Zhetysu (KZ-33),\n+# Karaganda (KZ-35), North Kazakhstan (KZ-59), Pavlodar (KZ-55),\n+# Shyumkent city (KZ-79), Turkistan (KZ-61), and Ulytau (KZ-62).\n@@ -2494,2 +2507,3 @@\n-\t\t\t6:00\t-\t+06\n-# Qyzylorda (aka Kyzylorda, Kizilorda, Kzyl-Orda, etc.) (KZ-KZY)\n+\t\t\t6:00\t-\t+06\t2024 Mar  1  0:00\n+\t\t\t5:00\t-\t+05\n+# Qyzylorda (aka Kyzylorda, Kizilorda, Kzyl-Orda, etc.) (KZ-43)\n@@ -2508,2 +2522,1 @@\n-#\n-# Qostanay (aka Kostanay, Kustanay) (KZ-KUS)\n+# Qostanay (aka Kostanay, Kustanay) (KZ-39)\n@@ -2520,3 +2533,3 @@\n-\t\t\t6:00\t-\t+06\n-\n-# Aqtöbe (aka Aktobe, formerly Aktyubinsk) (KZ-AKT)\n+\t\t\t6:00\t-\t+06\t2024 Mar  1  0:00\n+\t\t\t5:00\t-\t+05\n+# Aqtöbe (aka Aktobe, formerly Aktyubinsk) (KZ-15)\n@@ -2532,1 +2545,1 @@\n-# Mangghystaū (KZ-MAN)\n+# Mangghystaū (KZ-47)\n@@ -2544,1 +2557,1 @@\n-# Atyraū (KZ-ATY) is like Mangghystaū except it switched from\n+# Atyraū (KZ-23) is like Mangghystaū except it switched from\n@@ -2555,1 +2568,1 @@\n-# West Kazakhstan (KZ-ZAP)\n+# West Kazakhstan (KZ-27)\n@@ -3453,2 +3466,12 @@\n-#\n-# From Paul Eggert (2023-03-22):\n+# From Heba Hemad (2023-10-09):\n+# ... winter time will begin in Palestine from Saturday 10-28-2023,\n+# 02:00 AM by 60 minutes back.\n+#\n+# From Heba Hamad (2024-01-25):\n+# the summer time for the years 2024,2025 will begin in Palestine\n+# from Saturday at 02:00 AM by 60 minutes forward as shown below:\n+# year date\n+# 2024 2024-04-20\n+# 2025 2025-04-12\n+#\n+# From Paul Eggert (2024-01-25):\n@@ -3458,1 +3481,1 @@\n-# to DST at 02:00 the first Saturday after Ramadan, and that\n+# to DST at 02:00 the second Saturday after Ramadan, and that\n@@ -3462,1 +3485,1 @@\n-# 2023 through 2086 by running the following program under GNU Emacs 28.2,\n+# 2026 through 2086 by running the following program under GNU Emacs 29.2,\n@@ -3466,1 +3489,1 @@\n-# (let ((islamic-year 1444))\n+# (let ((islamic-year 1447))\n@@ -3475,0 +3498,1 @@\n+#       (setq b (+ 7 b))\n@@ -3525,2 +3549,2 @@\n-Rule Palestine\t2024\tonly\t-\tApr\t13\t2:00\t1:00\tS\n-Rule Palestine\t2025\tonly\t-\tApr\t 5\t2:00\t1:00\tS\n+Rule Palestine\t2024\tonly\t-\tApr\t20\t2:00\t1:00\tS\n+Rule Palestine\t2025\tonly\t-\tApr\t12\t2:00\t1:00\tS\n@@ -3532,2 +3556,0 @@\n-Rule Palestine\t2039\tonly\t-\tOct\t22\t2:00\t1:00\tS\n-Rule Palestine\t2039\t2067\t-\tOct\tSat<=30\t2:00\t0\t-\n@@ -3535,1 +3557,2 @@\n-Rule Palestine\t2040\tonly\t-\tOct\t13\t2:00\t1:00\tS\n+Rule Palestine\t2040\tonly\t-\tOct\t20\t2:00\t1:00\tS\n+Rule Palestine\t2040\t2067\t-\tOct\tSat<=30\t2:00\t0\t-\n@@ -3537,1 +3560,1 @@\n-Rule Palestine\t2041\tonly\t-\tSep\t28\t2:00\t1:00\tS\n+Rule Palestine\t2041\tonly\t-\tOct\t 5\t2:00\t1:00\tS\n@@ -3539,1 +3562,1 @@\n-Rule Palestine\t2042\tonly\t-\tSep\t20\t2:00\t1:00\tS\n+Rule Palestine\t2042\tonly\t-\tSep\t27\t2:00\t1:00\tS\n@@ -3541,1 +3564,1 @@\n-Rule Palestine\t2043\tonly\t-\tSep\t12\t2:00\t1:00\tS\n+Rule Palestine\t2043\tonly\t-\tSep\t19\t2:00\t1:00\tS\n@@ -3543,1 +3566,1 @@\n-Rule Palestine\t2044\tonly\t-\tAug\t27\t2:00\t1:00\tS\n+Rule Palestine\t2044\tonly\t-\tSep\t 3\t2:00\t1:00\tS\n@@ -3545,1 +3568,1 @@\n-Rule Palestine\t2045\tonly\t-\tAug\t19\t2:00\t1:00\tS\n+Rule Palestine\t2045\tonly\t-\tAug\t26\t2:00\t1:00\tS\n@@ -3547,1 +3570,1 @@\n-Rule Palestine\t2046\tonly\t-\tAug\t11\t2:00\t1:00\tS\n+Rule Palestine\t2046\tonly\t-\tAug\t18\t2:00\t1:00\tS\n@@ -3549,1 +3572,1 @@\n-Rule Palestine\t2047\tonly\t-\tJul\t27\t2:00\t1:00\tS\n+Rule Palestine\t2047\tonly\t-\tAug\t 3\t2:00\t1:00\tS\n@@ -3551,1 +3574,1 @@\n-Rule Palestine\t2048\tonly\t-\tJul\t18\t2:00\t1:00\tS\n+Rule Palestine\t2048\tonly\t-\tJul\t25\t2:00\t1:00\tS\n@@ -3553,1 +3576,1 @@\n-Rule Palestine\t2049\tonly\t-\tJul\t 3\t2:00\t1:00\tS\n+Rule Palestine\t2049\tonly\t-\tJul\t10\t2:00\t1:00\tS\n@@ -3555,1 +3578,1 @@\n-Rule Palestine\t2050\tonly\t-\tJun\t25\t2:00\t1:00\tS\n+Rule Palestine\t2050\tonly\t-\tJul\t 2\t2:00\t1:00\tS\n@@ -3557,1 +3580,1 @@\n-Rule Palestine\t2051\tonly\t-\tJun\t17\t2:00\t1:00\tS\n+Rule Palestine\t2051\tonly\t-\tJun\t24\t2:00\t1:00\tS\n@@ -3559,1 +3582,1 @@\n-Rule Palestine\t2052\tonly\t-\tJun\t 1\t2:00\t1:00\tS\n+Rule Palestine\t2052\tonly\t-\tJun\t 8\t2:00\t1:00\tS\n@@ -3561,1 +3584,1 @@\n-Rule Palestine\t2053\tonly\t-\tMay\t24\t2:00\t1:00\tS\n+Rule Palestine\t2053\tonly\t-\tMay\t31\t2:00\t1:00\tS\n@@ -3563,5 +3586,6 @@\n-Rule Palestine\t2054\tonly\t-\tMay\t16\t2:00\t1:00\tS\n-Rule Palestine\t2055\tonly\t-\tMay\t 1\t2:00\t1:00\tS\n-Rule Palestine\t2056\tonly\t-\tApr\t22\t2:00\t1:00\tS\n-Rule Palestine\t2057\tonly\t-\tApr\t 7\t2:00\t1:00\tS\n-Rule Palestine\t2058\tmax\t-\tMar\tSat<=30\t2:00\t1:00\tS\n+Rule Palestine\t2054\tonly\t-\tMay\t23\t2:00\t1:00\tS\n+Rule Palestine\t2055\tonly\t-\tMay\t 8\t2:00\t1:00\tS\n+Rule Palestine\t2056\tonly\t-\tApr\t29\t2:00\t1:00\tS\n+Rule Palestine\t2057\tonly\t-\tApr\t14\t2:00\t1:00\tS\n+Rule Palestine\t2058\tonly\t-\tApr\t 6\t2:00\t1:00\tS\n+Rule Palestine\t2059\tmax\t-\tMar\tSat<=30\t2:00\t1:00\tS\n@@ -3573,1 +3597,2 @@\n-Rule Palestine\t2072\tonly\t-\tOct\t15\t2:00\t1:00\tS\n+Rule Palestine\t2072\tonly\t-\tOct\t22\t2:00\t1:00\tS\n+Rule Palestine\t2072\tmax\t-\tOct\tSat<=30\t2:00\t0\t-\n@@ -3575,1 +3600,1 @@\n-Rule Palestine\t2073\tonly\t-\tOct\t 7\t2:00\t1:00\tS\n+Rule Palestine\t2073\tonly\t-\tOct\t14\t2:00\t1:00\tS\n@@ -3577,1 +3602,1 @@\n-Rule Palestine\t2074\tonly\t-\tSep\t29\t2:00\t1:00\tS\n+Rule Palestine\t2074\tonly\t-\tOct\t 6\t2:00\t1:00\tS\n@@ -3579,2 +3604,1 @@\n-Rule Palestine\t2075\tonly\t-\tSep\t14\t2:00\t1:00\tS\n-Rule Palestine\t2075\tmax\t-\tOct\tSat<=30\t2:00\t0\t-\n+Rule Palestine\t2075\tonly\t-\tSep\t21\t2:00\t1:00\tS\n@@ -3582,1 +3606,1 @@\n-Rule Palestine\t2076\tonly\t-\tSep\t 5\t2:00\t1:00\tS\n+Rule Palestine\t2076\tonly\t-\tSep\t12\t2:00\t1:00\tS\n@@ -3584,1 +3608,1 @@\n-Rule Palestine\t2077\tonly\t-\tAug\t28\t2:00\t1:00\tS\n+Rule Palestine\t2077\tonly\t-\tSep\t 4\t2:00\t1:00\tS\n@@ -3586,1 +3610,1 @@\n-Rule Palestine\t2078\tonly\t-\tAug\t13\t2:00\t1:00\tS\n+Rule Palestine\t2078\tonly\t-\tAug\t20\t2:00\t1:00\tS\n@@ -3588,1 +3612,1 @@\n-Rule Palestine\t2079\tonly\t-\tAug\t 5\t2:00\t1:00\tS\n+Rule Palestine\t2079\tonly\t-\tAug\t12\t2:00\t1:00\tS\n@@ -3590,1 +3614,1 @@\n-Rule Palestine\t2080\tonly\t-\tJul\t20\t2:00\t1:00\tS\n+Rule Palestine\t2080\tonly\t-\tJul\t27\t2:00\t1:00\tS\n@@ -3592,1 +3616,1 @@\n-Rule Palestine\t2081\tonly\t-\tJul\t12\t2:00\t1:00\tS\n+Rule Palestine\t2081\tonly\t-\tJul\t19\t2:00\t1:00\tS\n@@ -3594,1 +3618,1 @@\n-Rule Palestine\t2082\tonly\t-\tJul\t 4\t2:00\t1:00\tS\n+Rule Palestine\t2082\tonly\t-\tJul\t11\t2:00\t1:00\tS\n@@ -3596,1 +3620,1 @@\n-Rule Palestine\t2083\tonly\t-\tJun\t19\t2:00\t1:00\tS\n+Rule Palestine\t2083\tonly\t-\tJun\t26\t2:00\t1:00\tS\n@@ -3598,1 +3622,1 @@\n-Rule Palestine\t2084\tonly\t-\tJun\t10\t2:00\t1:00\tS\n+Rule Palestine\t2084\tonly\t-\tJun\t17\t2:00\t1:00\tS\n@@ -3600,1 +3624,1 @@\n-Rule Palestine\t2085\tonly\t-\tJun\t 2\t2:00\t1:00\tS\n+Rule Palestine\t2085\tonly\t-\tJun\t 9\t2:00\t1:00\tS\n@@ -3602,1 +3626,1 @@\n-Rule Palestine\t2086\tonly\t-\tMay\t18\t2:00\t1:00\tS\n+Rule Palestine\t2086\tonly\t-\tMay\t25\t2:00\t1:00\tS\n@@ -3630,1 +3654,1 @@\n-# From Paul Eggert (2018-11-18):\n+# From Paul Eggert (2024-01-21):\n@@ -3638,1 +3662,1 @@\n-# https:\/\/www.staff.science.uu.nl\/~gent0113\/idl\/idl_philippines.htm\n+# https:\/\/webspace.science.uu.nl\/~gent0113\/idl\/idl_philippines.htm\n@@ -4065,1 +4089,2 @@\n-# From Paul Eggert (2022-07-27) after a 2014 heads-up from Trần Ngọc Quân:\n+# From Paul Eggert (2024-01-14) after a 2014 heads-up from Trần Ngọc Quân\n+# and a 2024-01-14 heads-up from Đoàn Trần Công Danh:\n@@ -4095,2 +4120,5 @@\n-# Hoàng Xuân Hãn: \"Lịch và lịch Việt Nam\". Tập san Khoa học Xã hội,\n-# No. 9, Paris, February 1982.\n+#   Hoàng Xuân Hãn: \"Lịch và lịch Việt Nam\". Tập san Khoa học Xã hội,\n+#   No. 9, Paris, February 1982.\n+#\n+#   Lê Thành Lân: \"Lịch và niên biểu lịch sử hai mươi thế kỷ (0001-2010)\",\n+#   NXB Thống kê, Hanoi, 2000.\n@@ -4098,2 +4126,2 @@\n-# Lê Thành Lân: \"Lịch và niên biểu lịch sử hai mươi thế kỷ (0001-2010)\",\n-# NXB Thống kê, Hanoi, 2000.\n+#   Lê Thành Lân: \"Lịch hai thế kỷ (1802-2010) và các lịch vĩnh cửu\",\n+#   NXB Thuận Hoá, Huế, 1995.\n@@ -4101,2 +4129,20 @@\n-# Lê Thành Lân: \"Lịch hai thế kỷ (1802-2010) và các lịch vĩnh cửu\",\n-# NXB Thuận Hoá, Huế, 1995.\n+# Here is the decision for the September 1945 transition:\n+# Võ Nguyên Giáp, Việt Nam Dân Quốc Công Báo, No. 1 (1945-09-29), page 13\n+# http:\/\/baochi.nlv.gov.vn\/baochi\/cgi-bin\/baochi?a=d&d=JwvzO19450929.2.5&dliv=none\n+# It says that on 1945-09-01 at 24:00, Vietnam moved back two hours, to +07.\n+# It also mentions a 1945-03-29 decree (by a Japanese Goveror-General)\n+# to set the time zone to +09, but does not say whether that decree\n+# merely legalized an earlier change to +09.\n+#\n+# July 1955 transition:\n+# Ngô Đình Diệm, Công Báo Việt Nam, No. 92 (1955-07-02), page 1780-1781\n+# Ordinance (Dụ) No. 46 (1955-06-25)\n+# http:\/\/ddsnext.crl.edu\/titles\/32341#?c=0&m=29&s=0&cv=4&r=0&xywh=-89%2C342%2C1724%2C1216\n+# It says that on 1955-07-01 at 01:00, South Vietnam moved back 1 hour (to +07).\n+#\n+# December 1959 transition:\n+# Ngô Đình Diệm, Công Báo Việt Nam Cộng Hòa, 1960 part 1 (1960-01-02), page 62\n+# Decree (Sắc lệnh) No. 362-TTP (1959-12-30)\n+# http:\/\/ddsnext.crl.edu\/titles\/32341#?c=0&m=138&s=0&cv=793&r=0&xywh=-54%2C1504%2C1705%2C1202\n+# It says that on 1959-12-31 at 23:00, South Vietnam moved forward 1 hour (to +08).\n+\n@@ -4110,1 +4156,1 @@\n-\t\t\t9:00\t-\t+09\t1945 Sep  2\n+\t\t\t9:00\t-\t+09\t1945 Sep  1 24:00\n@@ -4112,1 +4158,1 @@\n-\t\t\t8:00\t-\t+08\t1955 Jul  1\n+\t\t\t8:00\t-\t+08\t1955 Jul  1 01:00\n","filename":"jdk\/test\/sun\/util\/calendar\/zi\/tzdata\/asia","additions":114,"deletions":68,"binary":false,"changes":182,"status":"modified"},{"patch":"@@ -417,0 +417,6 @@\n+\n+# From Almaz Mingaleev (2023-10-06):\n+# Cabinet approved the suspension of Daylight Saving and appropriate\n+# legislative changes will be considered including the repeal of the\n+# Daylight Saving Act 1998\n+# https:\/\/www.fiji.gov.fj\/Media-Centre\/Speeches\/English\/CABINET-DECISIONS-3-OCTOBER-2023\n@@ -418,1 +424,1 @@\n-# From Paul Eggert (2022-10-27):\n+# From Paul Eggert (2023-10-06):\n@@ -440,1 +446,1 @@\n-Zone\tPacific\/Gambier\t -8:59:48 -\tLMT\t1912 Oct # Rikitea\n+Zone\tPacific\/Gambier\t -8:59:48 -\tLMT\t1912 Oct  1 # Rikitea\n@@ -442,1 +448,1 @@\n-Zone\tPacific\/Marquesas -9:18:00 -\tLMT\t1912 Oct\n+Zone\tPacific\/Marquesas -9:18:00 -\tLMT\t1912 Oct  1\n@@ -444,1 +450,1 @@\n-Zone\tPacific\/Tahiti\t -9:58:16 -\tLMT\t1912 Oct # Papeete\n+Zone\tPacific\/Tahiti\t -9:58:16 -\tLMT\t1912 Oct  1 # Papeete\n@@ -822,1 +828,1 @@\n-Zone Pacific\/Guadalcanal 10:39:48 -\tLMT\t1912 Oct # Honiara\n+Zone Pacific\/Guadalcanal 10:39:48 -\tLMT\t1912 Oct  1 # Honiara\n@@ -983,0 +989,4 @@\n+# For the 1911\/1912 establishment of standard time in French possessions, see:\n+# Société Française de Physique, Recueil de constantes physiques (1913),\n+# page 752, 18b.\n+#\n@@ -2059,1 +2069,1 @@\n-# https:\/\/www.staff.science.uu.nl\/~gent0113\/idl\/idl.htm\n+# https:\/\/webspace.science.uu.nl\/~gent0113\/idl\/idl_alaska_samoa.htm\n","filename":"jdk\/test\/sun\/util\/calendar\/zi\/tzdata\/australasia","additions":16,"deletions":6,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -231,1 +231,0 @@\n-Link\tAsia\/Urumqi\t\tAntarctica\/Vostok\n","filename":"jdk\/test\/sun\/util\/calendar\/zi\/tzdata\/backward","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -31,1 +31,1 @@\n-# support for POSIX-style TZ strings.  On such platforms these entries\n+# support for POSIX.1-2017-style TZ strings.  On such platforms these entries\n","filename":"jdk\/test\/sun\/util\/calendar\/zi\/tzdata\/etcetera","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1016,2 +1016,18 @@\n-# From Paul Eggert (2018-04-15):\n-# The source for Czech data is: Kdy začíná a končí letní čas. 2018-04-15.\n+# From Ivan Benovic (2024-01-30):\n+# https:\/\/www.slov-lex.sk\/pravne-predpisy\/SK\/ZZ\/1946\/54\/\n+# (This is an official link to the Czechoslovak Summer Time Act of\n+# March 8, 1946 that authorizes the Czechoslovak government to set the\n+# exact dates of change to summer time and back to Central European Time.\n+# The act also implicitly confirms Central European Time as the\n+# official time zone of Czechoslovakia and currently remains in force\n+# in both the Czech Republic and Slovakia.)\n+# https:\/\/www.psp.cz\/eknih\/1945pns\/tisky\/t0216_00.htm\n+# (This is a link to the original legislative proposal dating back to\n+# February 22, 1946. The accompanying memorandum to the proposal says\n+# that an advisory committee on European railroad transportation that\n+# met in Brussels in October 1945 decided that the change of time\n+# should be carried out in all participating countries in a strictly\n+# coordinated manner....)\n+#\n+# From Paul Eggert (2024-01-30):\n+# The source for Czech data is: Kdy začíná a končí letní čas.\n@@ -1019,0 +1035,9 @@\n+# Its main text disagrees with its quoted sources only in 1918,\n+# where the main text says spring and autumn transitions\n+# occurred at 02:00 and 03:00 respectively (as usual),\n+# whereas the 1918 source \"Oznámení o zavedení letního času v roce 1918\"\n+# says transitions were at 01:00 and 02:00 respectively.\n+# As the 1918 source appears to be a humorous piece, and it is\n+# unlikely that Prague would have disagreed with its neighbors by an hour,\n+# go with the main text for now.\n+#\n@@ -1149,0 +1174,17 @@\n+#\n+# From Múte Bourup Egede via Jógvan Svabo Samuelsen (2023-03-15):\n+# Greenland will not switch to Daylight Saving Time this year, 2023,\n+# because the standard time for Greenland will change from UTC -3 to UTC -2.\n+# However, Greenland will change to Daylight Saving Time again in 2024\n+# and onwards.\n+\n+# From a contributor who wishes to remain anonymous for now (2023-10-29):\n+# https:\/\/www.dr.dk\/nyheder\/seneste\/i-nat-skal-uret-stilles-en-time-tilbage-men-foerste-gang-sker-det-ikke-i-groenland\n+# with a link to that page:\n+# https:\/\/naalakkersuisut.gl\/Nyheder\/2023\/10\/2710_sommertid\n+# ... Ittoqqortoormiit joins the time of Nuuk at March 2024.\n+# What would mean that America\/Scoresbysund would either be in -01 year round\n+# or in -02\/-01 like America\/Nuuk, but no longer in -01\/+00.\n+#\n+# From Paul Eggert (2023-10-29):\n+# For now, assume it will be like America\/Nuuk.\n@@ -1169,1 +1211,2 @@\n-\t\t\t-1:00\tEU\t-01\/+00\n+\t\t\t-1:00\tEU\t-01\/+00 2024 Mar 31\n+\t\t\t-2:00\tEU\t-02\/-01\n@@ -1172,1 +1215,2 @@\n-\t\t\t-3:00\tEU\t-03\/-02\t2023 Oct 29  1:00u\n+\t\t\t-3:00\tEU\t-03\/-02\t2023 Mar 26  1:00u\n+\t\t\t-2:00\t-\t-02\t2023 Oct 29  1:00u\n@@ -3737,5 +3781,1 @@\n-# The next change in October 1996 happened under EU rules....\n-# TZ database holds three other zones for Ukraine.... I have not yet\n-# worked out the consequences for these three zones, as we (me and my\n-# US colleague David Cochrane) are still trying to get more\n-# information upon these local deviations from Kiev rules.\n+# The next change in October 1996 happened under EU rules.\n","filename":"jdk\/test\/sun\/util\/calendar\/zi\/tzdata\/europe","additions":49,"deletions":9,"binary":false,"changes":58,"status":"modified"},{"patch":"@@ -29,1 +29,1 @@\n-# From Paul Eggert (2022-11-18):\n+# From Paul Eggert (2023-09-06):\n@@ -35,5 +35,10 @@\n-#     ISO 3166-1 N1087 (2022-09-02).  See: Updates on ISO 3166-1\n-#     https:\/\/isotc.iso.org\/livelink\/livelink\/Open\/16944257\n-# 2.  The usual English name for the coded region,\n-#     chosen so that alphabetic sorting of subsets produces helpful lists.\n-#     This is not the same as the English name in the ISO 3166 tables.\n+#     ISO\/TC 46 N1108 (2023-04-05).  See: ISO\/TC 46 Documents\n+#     https:\/\/www.iso.org\/committee\/48750.html?view=documents\n+# 2.  The usual English name for the coded region.  This sometimes\n+#     departs from ISO-listed names, sometimes so that sorted subsets\n+#     of names are useful (e.g., \"Samoa (American)\" and \"Samoa\n+#     (western)\" rather than \"American Samoa\" and \"Samoa\"),\n+#     sometimes to avoid confusion among non-experts (e.g.,\n+#     \"Czech Republic\" and \"Turkey\" rather than \"Czechia\" and \"Türkiye\"),\n+#     and sometimes to omit needless detail or churn (e.g., \"Netherlands\"\n+#     rather than \"Netherlands (the)\" or \"Netherlands (Kingdom of the)\").\n","filename":"jdk\/test\/sun\/util\/calendar\/zi\/tzdata\/iso3166.tab","additions":11,"deletions":6,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -29,4 +29,1 @@\n-# NIST format leap-seconds.list file, which can be copied from\n-# <ftp:\/\/ftp.nist.gov\/pub\/time\/leap-seconds.list>\n-# or <ftp:\/\/ftp.boulder.nist.gov\/pub\/time\/leap-seconds.list>.\n-# The NIST file is used instead of its IERS upstream counterpart\n+# NIST\/IERS format leap-seconds.list file, which can be copied from\n@@ -34,2 +31,2 @@\n-# because under US law the NIST file is public domain\n-# whereas the IERS file's copyright and license status is unclear.\n+# or, in a variant with different comments, from\n+# <ftp:\/\/ftp.boulder.nist.gov\/pub\/time\/leap-seconds.list>.\n@@ -98,1 +95,1 @@\n-#Expires 2023\tDec\t28\t00:00:00\n+#Expires 2024\tDec\t28\t00:00:00\n@@ -101,2 +98,2 @@\n-#updated 1467936000 (2016-07-08 00:00:00 UTC)\n-#expires 1703721600 (2023-12-28 00:00:00 UTC)\n+#updated 1704708379 (2024-01-08 10:06:19 UTC)\n+#expires 1735344000 (2024-12-28 00:00:00 UTC)\n@@ -104,2 +101,2 @@\n-#\tUpdated through IERS Bulletin C65\n-#\tFile expires on:  28 December 2023\n+#\tUpdated through IERS Bulletin C (https:\/\/hpiers.obspm.fr\/iers\/bul\/bulc\/bulletinc.dat)\n+#\tFile expires on 28 December 2024\n","filename":"jdk\/test\/sun\/util\/calendar\/zi\/tzdata\/leapseconds","additions":8,"deletions":11,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -1294,0 +1294,4 @@\n+# For the 1911\/1912 establishment of standard time in French possessions, see:\n+# Société Française de Physique, Recueil de constantes physiques (1913),\n+# page 752, 18b.\n+#\n@@ -1380,1 +1384,1 @@\n-# http:\/\/www.canadiangeographic.ca\/Magazine\/SO98\/alacarte.asp\n+# https:\/\/web.archive.org\/web\/19990827055050\/https:\/\/canadiangeographic.ca\/SO98\/geomap.htm\n@@ -1479,1 +1483,1 @@\n-# St John's has an apostrophe, but Posix file names can't have apostrophes.\n+# St John's has an apostrophe, but POSIX file names can't have apostrophes.\n@@ -1668,0 +1672,9 @@\n+# From Chris Walton (2024-01-09):\n+# The [Toronto] changes in 1947, 1948, and 1949 took place at 2:00 a.m. local\n+# time instead of midnight....  Toronto Daily Star - ...\n+# April 2, 1947 - Page 39 ... April 7, 1948 - Page 13 ...\n+# April 2, 1949 - Page 1 ... April 7, 1949 - Page 24 ...\n+# November 25, 1949 - Page 52 ... April 21, 1950 - Page 14 ...\n+# September 19, 1950 - Page 46 ... September 20, 1950 - Page 3 ...\n+# November 24, 1950 - Page 21\n+\n@@ -1729,7 +1742,3 @@\n-Rule\tToronto\t1945\t1946\t-\tSep\tlastSun\t2:00\t0\tS\n-Rule\tToronto\t1946\tonly\t-\tApr\tlastSun\t2:00\t1:00\tD\n-Rule\tToronto\t1947\t1949\t-\tApr\tlastSun\t0:00\t1:00\tD\n-Rule\tToronto\t1947\t1948\t-\tSep\tlastSun\t0:00\t0\tS\n-Rule\tToronto\t1949\tonly\t-\tNov\tlastSun\t0:00\t0\tS\n-Rule\tToronto\t1950\t1973\t-\tApr\tlastSun\t2:00\t1:00\tD\n-Rule\tToronto\t1950\tonly\t-\tNov\tlastSun\t2:00\t0\tS\n+Rule\tToronto\t1945\t1948\t-\tSep\tlastSun\t2:00\t0\tS\n+Rule\tToronto\t1946\t1973\t-\tApr\tlastSun\t2:00\t1:00\tD\n+Rule\tToronto\t1949\t1950\t-\tNov\tlastSun\t2:00\t0\tS\n@@ -3458,1 +3467,1 @@\n-\t\t\t-4:04:20 -\tFFMT\t1911 May    # Fort-de-France MT\n+\t\t\t-4:04:20 -\tFFMT\t1911 May  1 # Fort-de-France MT\n@@ -3565,1 +3574,1 @@\n-Zone America\/Miquelon\t-3:44:40 -\tLMT\t1911 May 15 # St Pierre\n+Zone America\/Miquelon\t-3:44:40 -\tLMT\t1911 Jun 15 # St Pierre\n","filename":"jdk\/test\/sun\/util\/calendar\/zi\/tzdata\/northamerica","additions":20,"deletions":11,"binary":false,"changes":31,"status":"modified"},{"patch":"@@ -1596,0 +1596,3 @@\n+# For the 1911\/1912 establishment of standard time in French possessions, see:\n+# Société Française de Physique, Recueil de constantes physiques (1913),\n+# page 752, 18b.\n@@ -1597,1 +1600,1 @@\n-Zone America\/Cayenne\t-3:29:20 -\tLMT\t1911 Jul\n+Zone America\/Cayenne\t-3:29:20 -\tLMT\t1911 Jul  1\n@@ -1723,0 +1726,6 @@\n+#\n+# From Paul Eggert (2023-07-26):\n+# Transition dates are now set by Law No. 7115, not by presidential decree.\n+# https:\/\/www.abc.com.py\/politica\/2023\/07\/12\/promulgacion-el-cambio-de-hora-sera-por-ley\/\n+# From Carlos Raúl Perasso (2023-07-27):\n+# http:\/\/silpy.congreso.gov.py\/descarga\/ley-144138\n","filename":"jdk\/test\/sun\/util\/calendar\/zi\/tzdata\/southamerica","additions":10,"deletions":1,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -74,1 +74,1 @@\n-AR\t-2828-06547\tAmerica\/Argentina\/Catamarca\tCatamarca (CT); Chubut (CH)\n+AR\t-2828-06547\tAmerica\/Argentina\/Catamarca\tCatamarca (CT), Chubut (CH)\n@@ -113,1 +113,1 @@\n-BR\t-0127-04829\tAmerica\/Belem\tPara (east); Amapa\n+BR\t-0127-04829\tAmerica\/Belem\tPara (east), Amapa\n@@ -133,2 +133,2 @@\n-CA\t+4734-05243\tAmerica\/St_Johns\tNewfoundland; Labrador (southeast)\n-CA\t+4439-06336\tAmerica\/Halifax\tAtlantic - NS (most areas); PE\n+CA\t+4734-05243\tAmerica\/St_Johns\tNewfoundland, Labrador (SE)\n+CA\t+4439-06336\tAmerica\/Halifax\tAtlantic - NS (most areas), PE\n@@ -139,1 +139,1 @@\n-CA\t+4339-07923\tAmerica\/Toronto\tEastern - ON, QC (most areas)\n+CA\t+4339-07923\tAmerica\/Toronto\tEastern - ON & QC (most areas)\n@@ -141,2 +141,2 @@\n-CA\t+484531-0913718\tAmerica\/Atikokan\tEST - ON (Atikokan); NU (Coral H)\n-CA\t+4953-09709\tAmerica\/Winnipeg\tCentral - ON (west); Manitoba\n+CA\t+484531-0913718\tAmerica\/Atikokan\tEST - ON (Atikokan), NU (Coral H)\n+CA\t+4953-09709\tAmerica\/Winnipeg\tCentral - ON (west), Manitoba\n@@ -147,1 +147,1 @@\n-CA\t+5333-11328\tAmerica\/Edmonton\tMountain - AB; BC (E); NT (E); SK (W)\n+CA\t+5333-11328\tAmerica\/Edmonton\tMountain - AB, BC(E), NT(E), SK(W)\n@@ -233,2 +233,2 @@\n-ID\t-0507+11924\tAsia\/Makassar\tBorneo (east, south); Sulawesi\/Celebes, Bali, Nusa Tengarra; Timor (west)\n-ID\t-0232+14042\tAsia\/Jayapura\tNew Guinea (West Papua \/ Irian Jaya); Malukus\/Moluccas\n+ID\t-0507+11924\tAsia\/Makassar\tBorneo (east, south), Sulawesi\/Celebes, Bali, Nusa Tengarra, Timor (west)\n+ID\t-0232+14042\tAsia\/Jayapura\tNew Guinea (West Papua \/ Irian Jaya), Malukus\/Moluccas\n@@ -381,1 +381,1 @@\n-RU\t+6728+15343\tAsia\/Srednekolymsk\tMSK+08 - Sakha (E); N Kuril Is\n+RU\t+6728+15343\tAsia\/Srednekolymsk\tMSK+08 - Sakha (E), N Kuril Is\n@@ -444,1 +444,1 @@\n-US\t+433649-1161209\tAmerica\/Boise\tMountain - ID (south); OR (east)\n+US\t+433649-1161209\tAmerica\/Boise\tMountain - ID (south), OR (east)\n","filename":"jdk\/test\/sun\/util\/calendar\/zi\/tzdata\/zone.tab","additions":12,"deletions":12,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -1,144 +0,0 @@\n-#!\/bin\/sh\n-\n-#\n-# Copyright (c) 2009, 2012, Oracle and\/or its affiliates. All rights reserved.\n-# DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n-#\n-# This code is free software; you can redistribute it and\/or modify it\n-# under the terms of the GNU General Public License version 2 only, as\n-# published by the Free Software Foundation.\n-#\n-# This code is distributed in the hope that it will be useful, but WITHOUT\n-# ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n-# FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n-# version 2 for more details (a copy is included in the LICENSE file that\n-# accompanied this code).\n-#\n-# You should have received a copy of the GNU General Public License version\n-# 2 along with this work; if not, write to the Free Software Foundation,\n-# Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n-#\n-# Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n-# or visit www.oracle.com if you need additional information or have any\n-# questions.\n-#\n-\n-# Shell script for a fast parallel forest command\n-command=\"$1\"\n-pull_extra_base=\"$2\"\n-\n-tmp=\/tmp\/forest.$$\n-rm -f -r ${tmp}\n-mkdir -p ${tmp}\n-\n-# Remove tmp area on A. B. Normal termination\n-trap 'rm -f -r ${tmp}' KILL\n-trap 'rm -f -r ${tmp}' EXIT\n-\n-# Only look in specific locations for possible forests (avoids long searches)\n-pull_default=\"\"\n-repos=\"\"\n-repos_extra=\"\"\n-if [ \"${command}\" = \"clone\" -o \"${command}\" = \"fclone\" ] ; then\n-  subrepos=\"corba jaxp jaxws langtools jdk hotspot nashorn\"\n-  if [ -f .hg\/hgrc ] ; then\n-    pull_default=`hg paths default`\n-    if [ \"${pull_default}\" = \"\" ] ; then\n-      echo \"ERROR: Need initial clone with 'hg paths default' defined\"\n-      exit 1\n-    fi\n-  fi\n-  if [ \"${pull_default}\" = \"\" ] ; then\n-    echo \"ERROR: Need initial repository to use this script\"\n-    exit 1\n-  fi\n-  for i in ${subrepos} ; do\n-    if [ ! -f ${i}\/.hg\/hgrc ] ; then\n-      repos=\"${repos} ${i}\"\n-    fi\n-  done\n-  if [ \"${pull_extra_base}\" != \"\" ] ; then\n-    subrepos_extra=\"jdk\/src\/closed jdk\/make\/closed jdk\/test\/closed hotspot\/make\/closed hotspot\/src\/closed hotspot\/test\/closed deploy install sponsors pubs\"\n-    pull_default_tail=`echo ${pull_default} | sed -e 's@^.*:\/\/[^\/]*\/\\(.*\\)@\\1@'`\n-    pull_extra=\"${pull_extra_base}\/${pull_default_tail}\"\n-    for i in ${subrepos_extra} ; do\n-      if [ ! -f ${i}\/.hg\/hgrc ] ; then\n-        repos_extra=\"${repos_extra} ${i}\"\n-      fi\n-    done\n-  fi\n-  at_a_time=2\n-  # Any repos to deal with?\n-  if [ \"${repos}\" = \"\" -a \"${repos_extra}\" = \"\" ] ; then\n-    echo \"No repositories to clone.\"\n-    exit\n-  fi\n-else\n-  hgdirs=`ls -d .\/.hg .\/*\/.hg .\/*\/*\/.hg .\/*\/*\/*\/.hg .\/*\/*\/*\/*\/.hg 2>\/dev\/null`\n-  # Derive repository names from the .hg directory locations\n-  for i in ${hgdirs} ; do\n-    repos=\"${repos} `echo ${i} | sed -e 's@\/.hg$@@'`\"\n-  done\n-  at_a_time=8\n-  # Any repos to deal with?\n-  if [ \"${repos}\" = \"\" ] ; then\n-    echo \"No repositories to process.\"\n-    exit\n-  fi\n-fi\n-\n-# Echo out what repositories we will clone\n-echo \"# Repos: ${repos} ${repos_extra}\"\n-\n-# Run the supplied command on all repos in parallel, save output until end\n-n=0\n-for i in ${repos} ; do\n-  echo \"Starting on ${i}\"\n-  n=`expr ${n} '+' 1`\n-  (\n-    (\n-      if [ \"${command}\" = \"clone\" -o \"${command}\" = \"fclone\" ] ; then\n-        pull_newrepo=\"`echo ${pull_default}\/${i} | sed -e 's@\\([^:]\/\\)\/\/*@\\1@g'`\"\n-        cline=\"hg clone ${pull_newrepo} ${i}\"\n-        echo \"# ${cline}\"\n-        ( eval \"${cline}\" )\n-      else\n-        cline=\"hg $*\"\n-        echo \"# cd ${i} && ${cline}\"\n-        ( cd ${i} && eval \"${cline}\" )\n-      fi\n-      echo \"# exit code $?\"\n-    ) > ${tmp}\/repo.${n} 2>&1 ; cat ${tmp}\/repo.${n} ) &\n-  if [ `expr ${n} '%' ${at_a_time}` -eq 0 ] ; then\n-    sleep 5\n-  fi\n-done\n-# Wait for all hg commands to complete\n-wait\n-\n-if [ \"${repos_extra}\" != \"\" ] ; then\n-  for i in ${repos_extra} ; do\n-    echo \"Starting on ${i}\"\n-    n=`expr ${n} '+' 1`\n-    (\n-      (\n-          pull_newextrarepo=\"`echo ${pull_extra}\/${i} | sed -e 's@\\([^:]\/\\)\/\/*@\\1@g'`\"\n-          cline=\"hg clone ${pull_newextrarepo} ${i}\"\n-          echo \"# ${cline}\"\n-          ( eval \"${cline}\" )\n-        echo \"# exit code $?\"\n-      ) > ${tmp}\/repo.${n} 2>&1 ; cat ${tmp}\/repo.${n} ) &\n-    if [ `expr ${n} '%' ${at_a_time}` -eq 0 ] ; then\n-      sleep 5\n-    fi\n-  done\n-  # Wait for all hg commands to complete\n-  wait\n-fi\n-\n-# Cleanup\n-rm -f -r ${tmp}\n-\n-# Terminate with exit 0 all the time (hard to know when to say \"failed\")\n-exit 0\n-\n","filename":"make\/scripts\/hgforest.sh","additions":0,"deletions":144,"binary":false,"changes":144,"status":"deleted"},{"patch":"@@ -1,2783 +0,0 @@\n-#!\/bin\/ksh -p\n-#\n-# CDDL HEADER START\n-#\n-# The contents of this file are subject to the terms of the\n-# Common Development and Distribution License (the \"License\").\n-# You may not use this file except in compliance with the License.\n-#\n-# You can obtain a copy of the license at usr\/src\/OPENSOLARIS.LICENSE\n-# or http:\/\/www.opensolaris.org\/os\/licensing.\n-# See the License for the specific language governing permissions\n-# and limitations under the License.\n-#\n-# When distributing Covered Code, include this CDDL HEADER in each\n-# file and include the License file at usr\/src\/OPENSOLARIS.LICENSE.\n-# If applicable, add the following below this CDDL HEADER, with the\n-# fields enclosed by brackets \"[]\" replaced with your own identifying\n-# information: Portions Copyright [yyyy] [name of copyright owner]\n-#\n-# CDDL HEADER END\n-#\n-# Copyright (c) 2008, 2013, Oracle and\/or its affiliates. All rights reserved.\n-# Use is subject to license terms.\n-#\n-# This script takes a file list and a workspace and builds a set of html files\n-# suitable for doing a code review of source changes via a web page.\n-# Documentation is available via 'webrev -h'.\n-#\n-\n-WEBREV_UPDATED=25.1-hg+openjdk.java.net\n-\n-HTML='<?xml version=\"1.0\"?>\n-<!DOCTYPE html PUBLIC \"-\/\/W3C\/\/DTD XHTML 1.0 Transitional\/\/EN\"\n-    \"http:\/\/www.w3.org\/TR\/xhtml1\/DTD\/xhtml1-transitional.dtd\">\n-<html xmlns=\"http:\/\/www.w3.org\/1999\/xhtml\" xml:lang=\"en\" lang=\"en\">\\n'\n-\n-FRAMEHTML='<?xml version=\"1.0\"?>\n-<!DOCTYPE html PUBLIC \"-\/\/W3C\/\/DTD XHTML 1.0 Frameset\/\/EN\"\n-    \"http:\/\/www.w3.org\/TR\/xhtml1\/DTD\/xhtml1-frameset.dtd\">\n-<html xmlns=\"http:\/\/www.w3.org\/1999\/xhtml\" xml:lang=\"en\" lang=\"en\">\\n'\n-\n-STDHEAD='<meta charset=\"utf-8\">\n-<meta http-equiv=\"cache-control\" content=\"no-cache\" \/>\n-<meta http-equiv=\"Pragma\" content=\"no-cache\" \/>\n-<meta http-equiv=\"Expires\" content=\"-1\" \/>\n-<!--\n-   Note to customizers: the body of the webrev is IDed as SUNWwebrev\n-   to allow easy overriding by users of webrev via the userContent.css\n-   mechanism available in some browsers.\n-\n-   For example, to have all \"removed\" information be red instead of\n-   brown, set a rule in your userContent.css file like:\n-\n-       body#SUNWwebrev span.removed { color: red ! important; }\n--->\n-<style type=\"text\/css\" media=\"screen\">\n-body {\n-    background-color: #eeeeee;\n-}\n-hr {\n-    border: none 0;\n-    border-top: 1px solid #aaa;\n-    height: 1px;\n-}\n-div.summary {\n-    font-size: .8em;\n-    border-bottom: 1px solid #aaa;\n-    padding-left: 1em;\n-    padding-right: 1em;\n-}\n-div.summary h2 {\n-    margin-bottom: 0.3em;\n-}\n-div.summary table th {\n-    text-align: right;\n-    vertical-align: top;\n-    white-space: nowrap;\n-}\n-span.lineschanged {\n-    font-size: 0.7em;\n-}\n-span.oldmarker {\n-    color: red;\n-    font-size: large;\n-    font-weight: bold;\n-}\n-span.newmarker {\n-    color: green;\n-    font-size: large;\n-    font-weight: bold;\n-}\n-span.removed {\n-    color: brown;\n-}\n-span.changed {\n-    color: blue;\n-}\n-span.new {\n-    color: blue;\n-    font-weight: bold;\n-}\n-a.print { font-size: x-small; }\n-\n-<\/style>\n-\n-<style type=\"text\/css\" media=\"print\">\n-pre { font-size: 0.8em; font-family: courier, monospace; }\n-span.removed { color: #444; font-style: italic }\n-span.changed { font-weight: bold; }\n-span.new { font-weight: bold; }\n-span.newmarker { font-size: 1.2em; font-weight: bold; }\n-span.oldmarker { font-size: 1.2em; font-weight: bold; }\n-a.print {display: none}\n-hr { border: none 0; border-top: 1px solid #aaa; height: 1px; }\n-<\/style>\n-'\n-\n-#\n-# UDiffs need a slightly different CSS rule for 'new' items (we don't\n-# want them to be bolded as we do in cdiffs or sdiffs).\n-#\n-UDIFFCSS='\n-<style type=\"text\/css\" media=\"screen\">\n-span.new {\n-    color: blue;\n-    font-weight: normal;\n-}\n-<\/style>\n-'\n-\n-#\n-# input_cmd | html_quote | output_cmd\n-# or\n-# html_quote filename | output_cmd\n-#\n-# Make a piece of source code safe for display in an HTML <pre> block.\n-#\n-html_quote()\n-{\n-\tsed -e \"s\/&\/\\&amp;\/g\" -e \"s\/&amp;#\\([x]*[0-9A-Fa-f]\\{2,5\\}\\);\/\\&#\\1;\/g\" -e \"s\/<\/\\&lt;\/g\" -e \"s\/>\/\\&gt;\/g\" \"$@\" | expand\n-}\n-\n-#\n-# input_cmd | html_quote | output_cmd\n-# or\n-# html_dequote filename | output_cmd\n-#\n-# Replace HTML entities with literals\n-#\n-html_dequote()\n-{\n-\tsed -e \"s\/&quot;\/\\\"\/g\" -e \"s\/&apos;\/\\'\/g\" -e \"s\/&amp;\/\\&\/g\" -e \"s\/&lt;\/<'\/g\" -e \"s\/&gt;\/>\/g\" \"$@\" | expand\n-}\n-\n-#\n-# input_cmd | bug2url | output_cmd\n-#\n-# Scan for bugids and insert <a> links to the relevent bug database.\n-#\n-bug2url()\n-{\n-\tsed -e 's|[0-9]\\{5,\\}|<a href=\\\"'$BUGURL$IDPREFIX'&\\\">&<\/a>|g'\n-}\n-\n-#\n-# strip_unchanged <infile> | output_cmd\n-#\n-# Removes chunks of sdiff documents that have not changed. This makes it\n-# easier for a code reviewer to find the bits that have changed.\n-#\n-# Deleted lines of text are replaced by a horizontal rule. Some\n-# identical lines are retained before and after the changed lines to\n-# provide some context.  The number of these lines is controlled by the\n-# variable C in the $AWK script below.\n-#\n-# The script detects changed lines as any line that has a \"<span class=\"\n-# string embedded (unchanged lines have no particular class and are not\n-# part of a <span>).  Blank lines (without a sequence number) are also\n-# detected since they flag lines that have been inserted or deleted.\n-#\n-strip_unchanged()\n-{\n-\t$AWK '\n-\tBEGIN\t{ C = c = 20 }\n-\tNF == 0 || \/span class=\/ {\n-\t\tif (c > C) {\n-\t\t\tc -= C\n-\t\t\tinx = 0\n-\t\t\tif (c > C) {\n-\t\t\t\tprint \"\\n<\/pre><hr><\/hr><pre>\"\n-\t\t\t\tinx = c % C\n-\t\t\t\tc = C\n-\t\t\t}\n-\n-\t\t\tfor (i = 0; i < c; i++)\n-\t\t\t\tprint ln[(inx + i) % C]\n-\t\t}\n-\t\tc = 0;\n-\t\tprint\n-\t\tnext\n-\t}\n-\t{\tif (c >= C) {\n-\t\t\tln[c % C] = $0\n-\t\t\tc++;\n-\t\t\tnext;\n-\t\t}\n-\t\tc++;\n-\t\tprint\n-\t}\n-\tEND\t{ if (c > (C * 2)) print \"\\n<\/pre><hr><\/hr>\" }\n-\n-\t' $1\n-}\n-\n-#\n-# sdiff_to_html\n-#\n-# This function takes two files as arguments, obtains their diff, and\n-# processes the diff output to present the files as an HTML document with\n-# the files displayed side-by-side, differences shown in color.  It also\n-# takes a delta comment, rendered as an HTML snippet, as the third\n-# argument.  The function takes two files as arguments, then the name of\n-# file, the path, and the comment.  The HTML will be delivered on stdout,\n-# e.g.\n-#\n-#   $ sdiff_to_html old\/usr\/src\/tools\/scripts\/webrev.sh \\\n-#         new\/usr\/src\/tools\/scripts\/webrev.sh \\\n-#         webrev.sh usr\/src\/tools\/scripts \\\n-#         '<a href=\"https:\/\/bugs.openjdk.java.net\/browse\/JDK-1234567\">\n-#          JDK-1234567<\/a> my bugid' > <file>.html\n-#\n-# framed_sdiff() is then called which creates $2.frames.html\n-# in the webrev tree.\n-#\n-# FYI: This function is rather unusual in its use of awk.  The initial\n-# diff run produces conventional diff output showing changed lines mixed\n-# with editing codes.  The changed lines are ignored - we're interested in\n-# the editing codes, e.g.\n-#\n-#      8c8\n-#      57a61\n-#      63c66,76\n-#      68,93d80\n-#      106d90\n-#      108,110d91\n-#\n-#  These editing codes are parsed by the awk script and used to generate\n-#  another awk script that generates HTML, e.g the above lines would turn\n-#  into something like this:\n-#\n-#      BEGIN { printf \"<pre>\\n\" }\n-#      function sp(n) {for (i=0;i<n;i++)printf \"\\n\"}\n-#      function wl(n) {printf \"<font color=%s>%4d %s <\/font>\\n\", n, NR, $0}\n-#      NR==8           {wl(\"#7A7ADD\");next}\n-#      NR==54          {wl(\"#7A7ADD\");sp(3);next}\n-#      NR==56          {wl(\"#7A7ADD\");next}\n-#      NR==57          {wl(\"black\");printf \"\\n\"; next}\n-#        :               :\n-#\n-#  This script is then run on the original source file to generate the\n-#  HTML that corresponds to the source file.\n-#\n-#  The two HTML files are then combined into a single piece of HTML that\n-#  uses an HTML table construct to present the files side by side.  You'll\n-#  notice that the changes are color-coded:\n-#\n-#   black     - unchanged lines\n-#   blue      - changed lines\n-#   bold blue - new lines\n-#   brown     - deleted lines\n-#\n-#  Blank lines are inserted in each file to keep unchanged lines in sync\n-#  (side-by-side).  This format is familiar to users of sdiff(1) or\n-#  Teamware's filemerge tool.\n-#\n-sdiff_to_html()\n-{\n-\tdiff -b $1 $2 > \/tmp\/$$.diffs\n-\n-\tTNAME=$3\n-\tTPATH=$4\n-\tCOMMENT=$5\n-\n-\t#\n-\t#  Now we have the diffs, generate the HTML for the old file.\n-\t#\n-\t$AWK '\n-\tBEGIN\t{\n-\t\tprintf \"function sp(n) {for (i=0;i<n;i++)printf \\\"\\\\n\\\"}\\n\"\n-\t\tprintf \"function removed() \"\n-\t\tprintf \"{printf \\\"<span class=\\\\\\\"removed\\\\\\\">%%4d %%s<\/span>\\\\n\\\", NR, $0}\\n\"\n-\t\tprintf \"function changed() \"\n-\t\tprintf \"{printf \\\"<span class=\\\\\\\"changed\\\\\\\">%%4d %%s<\/span>\\\\n\\\", NR, $0}\\n\"\n-\t\tprintf \"function bl() {printf \\\"%%4d %%s\\\\n\\\", NR, $0}\\n\"\n-}\n-\t\/^<\/\t{next}\n-\t\/^>\/\t{next}\n-\t\/^---\/\t{next}\n-\n-\t{\n-\tsplit($1, a, \/[cad]\/) ;\n-\tif (index($1, \"a\")) {\n-\t\tif (a[1] == 0) {\n-\t\t\tn = split(a[2], r, \/,\/);\n-\t\t\tif (n == 1)\n-\t\t\t\tprintf \"BEGIN\\t\\t{sp(1)}\\n\"\n-\t\t\telse\n-\t\t\t\tprintf \"BEGIN\\t\\t{sp(%d)}\\n\",\\\n-\t\t\t\t(r[2] - r[1]) + 1\n-\t\t\tnext\n-\t\t}\n-\n-\t\tprintf \"NR==%s\\t\\t{\", a[1]\n-\t\tn = split(a[2], r, \/,\/);\n-\t\ts = r[1];\n-\t\tif (n == 1)\n-\t\t\tprintf \"bl();printf \\\"\\\\n\\\"; next}\\n\"\n-\t\telse {\n-\t\t\tn = r[2] - r[1]\n-\t\t\tprintf \"bl();sp(%d);next}\\n\",\\\n-\t\t\t(r[2] - r[1]) + 1\n-\t\t}\n-\t\tnext\n-\t}\n-\tif (index($1, \"d\")) {\n-\t\tn = split(a[1], r, \/,\/);\n-\t\tn1 = r[1]\n-\t\tn2 = r[2]\n-\t\tif (n == 1)\n-\t\t\tprintf \"NR==%s\\t\\t{removed(); next}\\n\" , n1\n-\t\telse\n-\t\t\tprintf \"NR==%s,NR==%s\\t{removed(); next}\\n\" , n1, n2\n-\t\tnext\n-\t}\n-\tif (index($1, \"c\")) {\n-\t\tn = split(a[1], r, \/,\/);\n-\t\tn1 = r[1]\n-\t\tn2 = r[2]\n-\t\tfinal = n2\n-\t\td1 = 0\n-\t\tif (n == 1)\n-\t\t\tprintf \"NR==%s\\t\\t{changed();\" , n1\n-\t\telse {\n-\t\t\td1 = n2 - n1\n-\t\t\tprintf \"NR==%s,NR==%s\\t{changed();\" , n1, n2\n-\t\t}\n-\t\tm = split(a[2], r, \/,\/);\n-\t\tn1 = r[1]\n-\t\tn2 = r[2]\n-\t\tif (m > 1) {\n-\t\t\td2  = n2 - n1\n-\t\t\tif (d2 > d1) {\n-\t\t\t\tif (n > 1) printf \"if (NR==%d)\", final\n-\t\t\t\tprintf \"sp(%d);\", d2 - d1\n-\t\t\t}\n-\t\t}\n-\t\tprintf \"next}\\n\" ;\n-\n-\t\tnext\n-\t}\n-\t}\n-\n-\tEND\t{ printf \"{printf \\\"%%4d %%s\\\\n\\\", NR, $0 }\\n\" }\n-\t' \/tmp\/$$.diffs > \/tmp\/$$.file1\n-\n-\t#\n-\t#  Now generate the HTML for the new file\n-\t#\n-\t$AWK '\n-\tBEGIN\t{\n-\t\tprintf \"function sp(n) {for (i=0;i<n;i++)printf \\\"\\\\n\\\"}\\n\"\n-\t\tprintf \"function new() \"\n-\t\tprintf \"{printf \\\"<span class=\\\\\\\"new\\\\\\\">%%4d %%s<\/span>\\\\n\\\", NR, $0}\\n\"\n-\t\tprintf \"function changed() \"\n-\t\tprintf \"{printf \\\"<span class=\\\\\\\"changed\\\\\\\">%%4d %%s<\/span>\\\\n\\\", NR, $0}\\n\"\n-\t\tprintf \"function bl() {printf \\\"%%4d %%s\\\\n\\\", NR, $0}\\n\"\n-\t}\n-\n-\t\/^<\/\t{next}\n-\t\/^>\/\t{next}\n-\t\/^---\/\t{next}\n-\n-\t{\n-\tsplit($1, a, \/[cad]\/) ;\n-\tif (index($1, \"d\")) {\n-\t\tif (a[2] == 0) {\n-\t\t\tn = split(a[1], r, \/,\/);\n-\t\t\tif (n == 1)\n-\t\t\t\tprintf \"BEGIN\\t\\t{sp(1)}\\n\"\n-\t\t\telse\n-\t\t\t\tprintf \"BEGIN\\t\\t{sp(%d)}\\n\",\\\n-\t\t\t\t(r[2] - r[1]) + 1\n-\t\t\tnext\n-\t\t}\n-\n-\t\tprintf \"NR==%s\\t\\t{\", a[2]\n-\t\tn = split(a[1], r, \/,\/);\n-\t\ts = r[1];\n-\t\tif (n == 1)\n-\t\t\tprintf \"bl();printf \\\"\\\\n\\\"; next}\\n\"\n-\t\telse {\n-\t\t\tn = r[2] - r[1]\n-\t\t\tprintf \"bl();sp(%d);next}\\n\",\\\n-\t\t\t(r[2] - r[1]) + 1\n-\t\t}\n-\t\tnext\n-\t}\n-\tif (index($1, \"a\")) {\n-\t\tn = split(a[2], r, \/,\/);\n-\t\tn1 = r[1]\n-\t\tn2 = r[2]\n-\t\tif (n == 1)\n-\t\t\tprintf \"NR==%s\\t\\t{new() ; next}\\n\" , n1\n-\t\telse\n-\t\t\tprintf \"NR==%s,NR==%s\\t{new() ; next}\\n\" , n1, n2\n-\t\tnext\n-\t}\n-\tif (index($1, \"c\")) {\n-\t\tn = split(a[2], r, \/,\/);\n-\t\tn1 = r[1]\n-\t\tn2 = r[2]\n-\t\tfinal = n2\n-\t\td2 = 0;\n-\t\tif (n == 1) {\n-\t\t\tfinal = n1\n-\t\t\tprintf \"NR==%s\\t\\t{changed();\" , n1\n-\t\t} else {\n-\t\t\td2 = n2 - n1\n-\t\t\tprintf \"NR==%s,NR==%s\\t{changed();\" , n1, n2\n-\t\t}\n-\t\tm = split(a[1], r, \/,\/);\n-\t\tn1 = r[1]\n-\t\tn2 = r[2]\n-\t\tif (m > 1) {\n-\t\t\td1  = n2 - n1\n-\t\t\tif (d1 > d2) {\n-\t\t\t\tif (n > 1) printf \"if (NR==%d)\", final\n-\t\t\t\tprintf \"sp(%d);\", d1 - d2\n-\t\t\t}\n-\t\t}\n-\t\tprintf \"next}\\n\" ;\n-\t\tnext\n-\t}\n-\t}\n-\tEND\t{ printf \"{printf \\\"%%4d %%s\\\\n\\\", NR, $0 }\\n\" }\n-\t' \/tmp\/$$.diffs > \/tmp\/$$.file2\n-\n-\t#\n-\t# Post-process the HTML files by running them back through $AWK\n-\t#\n-\thtml_quote < $1 | $AWK -f \/tmp\/$$.file1 > \/tmp\/$$.file1.html\n-\n-\thtml_quote < $2 | $AWK -f \/tmp\/$$.file2 > \/tmp\/$$.file2.html\n-\n-\t#\n-\t# Now combine into a valid HTML file and side-by-side into a table\n-\t#\n-\tprint \"$HTML<head>$STDHEAD\"\n-\tprint \"<title>$WNAME Sdiff $TPATH <\/title>\"\n-\tprint \"<\/head><body id=\\\"SUNWwebrev\\\">\"\n-\tprint \"<h2>$TPATH\/$TNAME<\/h2>\"\n-        print \"<a class=\\\"print\\\" href=\\\"javascript:print()\\\">Print this page<\/a>\"\n-\tprint \"<pre>$COMMENT<\/pre>\\n\"\n-\tprint \"<table><tr valign=\\\"top\\\">\"\n-\tprint \"<td><pre>\"\n-\n-\tstrip_unchanged \/tmp\/$$.file1.html\n-\n-\tprint \"<\/pre><\/td><td><pre>\"\n-\n-\tstrip_unchanged \/tmp\/$$.file2.html\n-\n-\tprint \"<\/pre><\/td>\"\n-\tprint \"<\/tr><\/table>\"\n-\tprint \"<\/body><\/html>\"\n-\n-\tframed_sdiff $TNAME $TPATH \/tmp\/$$.file1.html \/tmp\/$$.file2.html \\\n-\t    \"$COMMENT\"\n-}\n-\n-\n-#\n-# framed_sdiff <filename> <filepath> <lhsfile> <rhsfile> <comment>\n-#\n-# Expects lefthand and righthand side html files created by sdiff_to_html.\n-# We use insert_anchors() to augment those with HTML navigation anchors,\n-# and then emit the main frame.  Content is placed into:\n-#\n-#    $WDIR\/DIR\/$TNAME.lhs.html\n-#    $WDIR\/DIR\/$TNAME.rhs.html\n-#    $WDIR\/DIR\/$TNAME.frames.html\n-#\n-# NOTE: We rely on standard usage of $WDIR and $DIR.\n-#\n-function framed_sdiff\n-{\n-\ttypeset TNAME=$1\n-\ttypeset TPATH=$2\n-\ttypeset lhsfile=$3\n-\ttypeset rhsfile=$4\n-\ttypeset comments=$5\n-\ttypeset RTOP\n-\n-\t# Enable html files to access WDIR via a relative path.\n-\tRTOP=$(relative_dir $TPATH $WDIR)\n-\n-\t# Make the rhs\/lhs files and output the frameset file.\n-\tprint \"$HTML<head>$STDHEAD\" > $WDIR\/$DIR\/$TNAME.lhs.html\n-\n-\tcat >> $WDIR\/$DIR\/$TNAME.lhs.html <<-EOF\n-\t    <script type=\"text\/javascript\" src=\"$RTOP\/ancnav.js\"><\/script>\n-\t    <\/head>\n-\t    <body id=\"SUNWwebrev\" onkeypress=\"keypress(event);\">\n-\t    <a name=\"0\"><\/a>\n-\t    <pre>$comments<\/pre><hr><\/hr>\n-\tEOF\n-\n-\tcp $WDIR\/$DIR\/$TNAME.lhs.html $WDIR\/$DIR\/$TNAME.rhs.html\n-\n-\tinsert_anchors $lhsfile >> $WDIR\/$DIR\/$TNAME.lhs.html\n-\tinsert_anchors $rhsfile >> $WDIR\/$DIR\/$TNAME.rhs.html\n-\n-\tclose='<\/body><\/html>'\n-\n-\tprint $close >> $WDIR\/$DIR\/$TNAME.lhs.html\n-\tprint $close >> $WDIR\/$DIR\/$TNAME.rhs.html\n-\n-\tprint \"$FRAMEHTML<head>$STDHEAD\" > $WDIR\/$DIR\/$TNAME.frames.html\n-\tprint \"<title>$WNAME Framed-Sdiff \" \\\n-\t    \"$TPATH\/$TNAME<\/title> <\/head>\" >> $WDIR\/$DIR\/$TNAME.frames.html\n-\tcat >> $WDIR\/$DIR\/$TNAME.frames.html <<-EOF\n-\t  <frameset rows=\"*,60\">\n-\t    <frameset cols=\"50%,50%\">\n-\t      <frame src=\"$TNAME.lhs.html\" scrolling=\"auto\" name=\"lhs\" \/>\n-\t      <frame src=\"$TNAME.rhs.html\" scrolling=\"auto\" name=\"rhs\" \/>\n-\t    <\/frameset>\n-\t  <frame src=\"$RTOP\/ancnav.html\" scrolling=\"no\" marginwidth=\"0\"\n-\t   marginheight=\"0\" name=\"nav\" \/>\n-\t  <noframes>\n-            <body id=\"SUNWwebrev\">\n-\t      Alas 'frames' webrev requires that your browser supports frames\n-\t      and has the feature enabled.\n-            <\/body>\n-\t  <\/noframes>\n-\t  <\/frameset>\n-\t<\/html>\n-\tEOF\n-}\n-\n-\n-#\n-# fix_postscript\n-#\n-# Merge codereview output files to a single conforming postscript file, by:\n-# \t- removing all extraneous headers\/trailers\n-#\t- making the page numbers right\n-#\t- removing pages devoid of contents which confuse some\n-#\t  postscript readers.\n-#\n-# From Casper.\n-#\n-function fix_postscript\n-{\n-\tinfile=$1\n-\n-\tcat > \/tmp\/$$.crmerge.pl << \\EOF\n-\n-\tprint scalar(<>);\t\t# %!PS-Adobe---\n-\tprint \"%%Orientation: Landscape\\n\";\n-\n-\t$pno = 0;\n-\t$doprint = 1;\n-\n-\t$page = \"\";\n-\n-\twhile (<>) {\n-\t\tnext if (\/^%%Pages:\\s*\\d+\/);\n-\n-\t\tif (\/^%%Page:\/) {\n-\t\t\tif ($pno == 0 || $page =~ \/\\)S\/) {\n-\t\t\t\t# Header or single page containing text\n-\t\t\t\tprint \"%%Page: ? $pno\\n\" if ($pno > 0);\n-\t\t\t\tprint $page;\n-\t\t\t\t$pno++;\n-\t\t\t} else {\n-\t\t\t\t# Empty page, skip it.\n-\t\t\t}\n-\t\t\t$page = \"\";\n-\t\t\t$doprint = 1;\n-\t\t\tnext;\n-\t\t}\n-\n-\t\t# Skip from %%Trailer of one document to Endprolog\n-\t\t# %%Page of the next\n-\t\t$doprint = 0 if (\/^%%Trailer\/);\n-\t\t$page .= $_ if ($doprint);\n-\t}\n-\n-\tif ($page =~ \/\\)S\/) {\n-\t\tprint \"%%Page: ? $pno\\n\";\n-\t\tprint $page;\n-\t} else {\n-\t\t$pno--;\n-\t}\n-\tprint \"%%Trailer\\n%%Pages: $pno\\n\";\n-EOF\n-\n-\t$PERL \/tmp\/$$.crmerge.pl < $infile\n-}\n-\n-\n-#\n-# input_cmd | insert_anchors | output_cmd\n-#\n-# Flag blocks of difference with sequentially numbered invisible\n-# anchors.  These are used to drive the frames version of the\n-# sdiffs output.\n-#\n-# NOTE: Anchor zero flags the top of the file irrespective of changes,\n-# an additional anchor is also appended to flag the bottom.\n-#\n-# The script detects changed lines as any line that has a \"<span\n-# class=\" string embedded (unchanged lines have no class set and are\n-# not part of a <span>.  Blank lines (without a sequence number)\n-# are also detected since they flag lines that have been inserted or\n-# deleted.\n-#\n-function insert_anchors\n-{\n-\t$AWK '\n-\tfunction ia() {\n-\t\t# This should be able to be a singleton <a \/> but that\n-\t\t# seems to trigger a bug in firefox a:hover rule processing\n-\t\tprintf \"<a name=\\\"%d\\\" id=\\\"anc%d\\\"><\/a>\", anc, anc++;\n-\t}\n-\n-\tBEGIN {\n-\t\tanc=1;\n-\t\tinblock=1;\n-\t\tprintf \"<pre>\\n\";\n-\t}\n-\tNF == 0 || \/^<span class=\/ {\n-\t\tif (inblock == 0) {\n-\t\t\tia();\n-\t\t\tinblock=1;\n-\t\t}\n-\t\tprint;\n-\t\tnext;\n-\t}\n-\t{\n-\t\tinblock=0;\n-\t\tprint;\n-\t}\n-\tEND {\n-\t\tia();\n-\n-\t\tprintf \"<b style=\\\"font-size: large; color: red\\\">\";\n-\t\tprintf \"--- EOF ---<\/b>\"\n-        \tfor(i=0;i<8;i++) printf \"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\";\n-\t\tprintf \"<\/pre>\"\n-\t\tprintf \"<form name=\\\"eof\\\">\";\n-\t\tprintf \"<input name=\\\"value\\\" value=\\\"%d\\\" type=\\\"hidden\\\" \/>\",\n-\t\t    anc - 1;\n-\t\tprintf \"<\/form>\";\n-\t}\n-\t' $1\n-}\n-\n-\n-#\n-# relative_dir\n-#\n-# Print a relative return path from $1 to $2.  For example if\n-# $1=\/tmp\/myreview\/raw_files\/usr\/src\/tools\/scripts and $2=\/tmp\/myreview,\n-# this function would print \"..\/..\/..\/..\/\".\n-#\n-# In the event that $1 is not in $2 a warning is printed to stderr,\n-# and $2 is returned-- the result of this is that the resulting webrev\n-# is not relocatable.\n-#\n-function relative_dir\n-{\n-    d1=$1\n-    d2=$2\n-    if [[ \"$d1\" == \".\" ]]; then\n-\tprint \".\"\n-    else\n-\ttypeset cur=\"${d1##$d2?(\/)}\"\n-\ttypeset ret=\"\"\n-\tif [[ $d2 == $cur ]]; then   # Should never happen.\n-\t\t# Should never happen.\n-\t\tprint -u2 \"\\nWARNING: relative_dir: \\\"$1\\\" not relative \"\n-\t\tprint -u2 \"to \\\"$2\\\".  Check input paths.  Framed webrev \"\n-\t\tprint -u2 \"will not be relocatable!\"\n-\t\tprint $2\n-\t\treturn\n-\tfi\n-\n-\twhile [[ -n ${cur} ]];\n-\tdo\n-\t\tcur=${cur%%*(\/)*([!\/])}\n-\t\tif [[ -z $ret ]]; then\n-\t\t\tret=\"..\"\n-\t\telse\n-\t\t\tret=\"..\/$ret\"\n-\t\tfi\n-\tdone\n-\tprint $ret\n-    fi\n-}\n-\n-\n-#\n-# frame_nav_js\n-#\n-# Emit javascript for frame navigation\n-#\n-function frame_nav_js\n-{\n-cat << \\EOF\n-var myInt;\n-var scrolling=0;\n-var sfactor = 3;\n-var scount=10;\n-\n-function scrollByPix() {\n-\tif (scount<=0) {\n-\t\tsfactor*=1.2;\n-\t\tscount=10;\n-\t}\n-\tparent.lhs.scrollBy(0,sfactor);\n-\tparent.rhs.scrollBy(0,sfactor);\n-\tscount--;\n-}\n-\n-function scrollToAnc(num) {\n-\n-\t\/\/ Update the value of the anchor in the form which we use as\n-\t\/\/ storage for this value.  setAncValue() will take care of\n-\t\/\/ correcting for overflow and underflow of the value and return\n-\t\/\/ us the new value.\n-\tnum = setAncValue(num);\n-\n-\t\/\/ Set location and scroll back a little to expose previous\n-\t\/\/ lines.\n-\t\/\/\n-\t\/\/ Note that this could be improved: it is possible although\n-\t\/\/ complex to compute the x and y position of an anchor, and to\n-\t\/\/ scroll to that location directly.\n-\t\/\/\n-\tparent.lhs.location.replace(parent.lhs.location.pathname + \"#\" + num);\n-\tparent.rhs.location.replace(parent.rhs.location.pathname + \"#\" + num);\n-\n-\tparent.lhs.scrollBy(0,-30);\n-\tparent.rhs.scrollBy(0,-30);\n-}\n-\n-function getAncValue()\n-{\n-\treturn (parseInt(parent.nav.document.diff.real.value));\n-}\n-\n-function setAncValue(val)\n-{\n-\tif (val <= 0) {\n-\t\tval = 0;\n-\t\tparent.nav.document.diff.real.value = val;\n-\t\tparent.nav.document.diff.display.value = \"BOF\";\n-\t\treturn (val);\n-\t}\n-\n-\t\/\/\n-\t\/\/ The way we compute the max anchor value is to stash it\n-\t\/\/ inline in the left and right hand side pages-- it's the same\n-\t\/\/ on each side, so we pluck from the left.\n-\t\/\/\n-\tmaxval = parent.lhs.document.eof.value.value;\n-\tif (val < maxval) {\n-\t\tparent.nav.document.diff.real.value = val;\n-\t\tparent.nav.document.diff.display.value = val.toString();\n-\t\treturn (val);\n-\t}\n-\n-\t\/\/ this must be: val >= maxval\n-\tval = maxval;\n-\tparent.nav.document.diff.real.value = val;\n-\tparent.nav.document.diff.display.value = \"EOF\";\n-\treturn (val);\n-}\n-\n-function stopScroll() {\n-\tif (scrolling==1) {\n-\t\tclearInterval(myInt);\n-\t\tscrolling=0;\n-\t}\n-}\n-\n-function startScroll() {\n-\tstopScroll();\n-\tscrolling=1;\n-\tmyInt=setInterval(\"scrollByPix()\",10);\n-}\n-\n-function handlePress(b) {\n-\n-\tswitch (b) {\n-\t    case 1 :\n-\t\tscrollToAnc(-1);\n-\t\tbreak;\n-\t    case 2 :\n-\t\tscrollToAnc(getAncValue() - 1);\n-\t\tbreak;\n-\t    case 3 :\n-\t\tsfactor=-3;\n-\t\tstartScroll();\n-\t\tbreak;\n-\t    case 4 :\n-\t\tsfactor=3;\n-\t\tstartScroll();\n-\t\tbreak;\n-\t    case 5 :\n-\t\tscrollToAnc(getAncValue() + 1);\n-\t\tbreak;\n-\t    case 6 :\n-\t\tscrollToAnc(999999);\n-\t\tbreak;\n-\t}\n-}\n-\n-function handleRelease(b) {\n-\tstopScroll();\n-}\n-\n-function keypress(ev) {\n-\tvar keynum;\n-\tvar keychar;\n-\n-\tif (window.event) { \/\/ IE\n-\t\tkeynum = ev.keyCode;\n-\t} else if (ev.which) { \/\/ non-IE\n-\t\tkeynum = ev.which;\n-\t}\n-\n-\tkeychar = String.fromCharCode(keynum);\n-\n-\tif (keychar == \"k\") {\n-\t\thandlePress(2);\n-\t\treturn (0);\n-\t} else if (keychar == \"j\" || keychar == \" \") {\n-\t\thandlePress(5);\n-\t\treturn (0);\n-\t}\n-\treturn (1);\n-}\n-\n-function ValidateDiffNum(){\n-\tval = parent.nav.document.diff.display.value;\n-\tif (val == \"EOF\") {\n-\t\tscrollToAnc(999999);\n-\t\treturn;\n-\t}\n-\n-\tif (val == \"BOF\") {\n-\t\tscrollToAnc(0);\n-\t\treturn;\n-\t}\n-\n-        i=parseInt(val);\n-        if (isNaN(i)) {\n-                parent.nav.document.diff.display.value = getAncValue();\n-        } else {\n-                scrollToAnc(i);\n-        }\n-        return false;\n-}\n-\n-EOF\n-}\n-\n-#\n-# frame_navigation\n-#\n-# Output anchor navigation file for framed sdiffs.\n-#\n-function frame_navigation\n-{\n-\tprint \"$HTML<head>$STDHEAD\"\n-\n-\tcat << \\EOF\n-<title>Anchor Navigation<\/title>\n-<meta http-equiv=\"Content-Script-Type\" content=\"text\/javascript\" \/>\n-<meta http-equiv=\"Content-Type\" content=\"text\/html\" \/>\n-\n-<style type=\"text\/css\">\n-    div.button td { padding-left: 5px; padding-right: 5px;\n-\t\t    background-color: #eee; text-align: center;\n-\t\t    border: 1px #444 outset; cursor: pointer; }\n-    div.button a { font-weight: bold; color: black }\n-    div.button td:hover { background: #ffcc99; }\n-<\/style>\n-EOF\n-\n-\tprint \"<script type=\\\"text\/javascript\\\" src=\\\"ancnav.js\\\"><\/script>\"\n-\n-\tcat << \\EOF\n-<\/head>\n-<body id=\"SUNWwebrev\" bgcolor=\"#eeeeee\" onload=\"document.diff.real.focus();\"\n-\tonkeypress=\"keypress(event);\">\n-    <noscript lang=\"javascript\">\n-      <center>\n-\t<p><big>Framed Navigation controls require Javascript<\/big><br \/>\n-\tEither this browser is incompatable or javascript is not enabled<\/p>\n-      <\/center>\n-    <\/noscript>\n-    <table width=\"100%\" border=\"0\" align=\"center\">\n-\t<tr>\n-          <td valign=\"middle\" width=\"25%\">Diff navigation:\n-          Use 'j' and 'k' for next and previous diffs; or use buttons\n-          at right<\/td>\n-\t  <td align=\"center\" valign=\"top\" width=\"50%\">\n-\t    <div class=\"button\">\n-\t      <table border=\"0\" align=\"center\">\n-                  <tr>\n-\t\t    <td>\n-\t\t      <a onMouseDown=\"handlePress(1);return true;\"\n-\t\t\t onMouseUp=\"handleRelease(1);return true;\"\n-\t\t\t onMouseOut=\"handleRelease(1);return true;\"\n-\t\t\t onClick=\"return false;\"\n-\t\t\t title=\"Go to Beginning Of file\">BOF<\/a><\/td>\n-\t\t    <td>\n-\t\t      <a onMouseDown=\"handlePress(3);return true;\"\n-\t\t\t onMouseUp=\"handleRelease(3);return true;\"\n-\t\t\t onMouseOut=\"handleRelease(3);return true;\"\n-\t\t\t title=\"Scroll Up: Press and Hold to accelerate\"\n-\t\t\t onClick=\"return false;\">Scroll Up<\/a><\/td>\n-\t\t    <td>\n-\t\t      <a onMouseDown=\"handlePress(2);return true;\"\n-\t\t\t onMouseUp=\"handleRelease(2);return true;\"\n-\t\t\t onMouseOut=\"handleRelease(2);return true;\"\n-\t\t\t title=\"Go to previous Diff\"\n-\t\t\t onClick=\"return false;\">Prev Diff<\/a>\n-\t\t    <\/td><\/tr>\n-\n-\t\t  <tr>\n-\t\t    <td>\n-\t\t      <a onMouseDown=\"handlePress(6);return true;\"\n-\t\t\t onMouseUp=\"handleRelease(6);return true;\"\n-\t\t\t onMouseOut=\"handleRelease(6);return true;\"\n-\t\t\t onClick=\"return false;\"\n-\t\t\t title=\"Go to End Of File\">EOF<\/a><\/td>\n-\t\t    <td>\n-\t\t      <a onMouseDown=\"handlePress(4);return true;\"\n-\t\t\t onMouseUp=\"handleRelease(4);return true;\"\n-\t\t\t onMouseOut=\"handleRelease(4);return true;\"\n-\t\t\t title=\"Scroll Down: Press and Hold to accelerate\"\n-\t\t\t onClick=\"return false;\">Scroll Down<\/a><\/td>\n-\t\t    <td>\n-\t\t      <a onMouseDown=\"handlePress(5);return true;\"\n-\t\t\t onMouseUp=\"handleRelease(5);return true;\"\n-\t\t\t onMouseOut=\"handleRelease(5);return true;\"\n-\t\t\t title=\"Go to next Diff\"\n-\t\t\t onClick=\"return false;\">Next Diff<\/a><\/td>\n-\t\t  <\/tr>\n-              <\/table>\n-\t    <\/div>\n-\t  <\/td>\n-\t  <th valign=\"middle\" width=\"25%\">\n-\t    <form action=\"\" name=\"diff\" onsubmit=\"return ValidateDiffNum();\">\n-\t\t<input name=\"display\" value=\"BOF\" size=\"8\" type=\"text\" \/>\n-\t\t<input name=\"real\" value=\"0\" size=\"8\" type=\"hidden\" \/>\n-\t    <\/form>\n-\t  <\/th>\n-\t<\/tr>\n-    <\/table>\n-  <\/body>\n-<\/html>\n-EOF\n-}\n-\n-\n-\n-#\n-# diff_to_html <filename> <filepath> { U | C } <comment>\n-#\n-# Processes the output of diff to produce an HTML file representing either\n-# context or unified diffs.\n-#\n-diff_to_html()\n-{\n-\tTNAME=$1\n-\tTPATH=$2\n-\tDIFFTYPE=$3\n-\tCOMMENT=$4\n-\n-\tprint \"$HTML<head>$STDHEAD\"\n-\tprint \"<title>$WNAME ${DIFFTYPE}diff $TPATH<\/title>\"\n-\n-\tif [[ $DIFFTYPE == \"U\" ]]; then\n-\t\tprint \"$UDIFFCSS\"\n-\tfi\n-\n-\tcat <<-EOF\n-\t<\/head>\n-\t<body id=\"SUNWwebrev\">\n-\t<h2>$TPATH<\/h2>\n-        <a class=\"print\" href=\"javascript:print()\">Print this page<\/a>\n-\t<pre>$COMMENT<\/pre>\n-        <pre>\n-EOF\n-\n-\thtml_quote | $AWK '\n-\t\/^--- new\/\t{ next }\n-\t\/^\\+\\+\\+ new\/\t{ next }\n-\t\/^--- old\/\t{ next }\n-\t\/^\\*\\*\\* old\/\t{ next }\n-\t\/^\\*\\*\\*\\*\/\t{ next }\n-\t\/^-------\/\t{ printf \"<center><h1>%s<\/h1><\/center>\\n\", $0; next }\n-\t\/^\\@\\@.*\\@\\@$\/\t{ printf \"<\/pre><hr \/><pre>\\n\";\n-\t\t\t  printf \"<span class=\\\"newmarker\\\">%s<\/span>\\n\", $0;\n-\t\t\t  next}\n-\n-\t\/^\\*\\*\\*\/\t{ printf \"<hr \/><span class=\\\"oldmarker\\\">%s<\/span>\\n\", $0;\n-\t\t\t  next}\n-\t\/^---\/\t\t{ printf \"<span class=\\\"newmarker\\\">%s<\/span>\\n\", $0;\n-\t\t\t  next}\n-\t\/^\\+\/\t\t{printf \"<span class=\\\"new\\\">%s<\/span>\\n\", $0; next}\n-\t\/^!\/\t\t{printf \"<span class=\\\"changed\\\">%s<\/span>\\n\", $0; next}\n-\t\/^-\/\t\t{printf \"<span class=\\\"removed\\\">%s<\/span>\\n\", $0; next}\n-\t\t\t{printf \"%s\\n\", $0; next}\n-\t'\n-\n-\tprint \"<\/pre><\/body><\/html>\\n\"\n-}\n-\n-\n-#\n-# source_to_html { new | old } <filename>\n-#\n-# Process a plain vanilla source file to transform it into an HTML file.\n-#\n-source_to_html()\n-{\n-\tWHICH=$1\n-\tTNAME=$2\n-\n-\tprint \"$HTML<head>$STDHEAD\"\n-\tprint \"<title>$WHICH $TNAME<\/title>\"\n-\tprint \"<body id=\\\"SUNWwebrev\\\">\"\n-\tprint \"<pre>\"\n-\thtml_quote | $AWK '{line += 1 ; printf \"%4d %s\\n\", line, $0 }'\n-\tprint \"<\/pre><\/body><\/html>\"\n-}\n-\n-comments_from_mercurial()\n-{\n-\tfmt=$1\n-\tpfile=$PWS\/$2\n-\tcfile=$CWS\/$3\n-\n-        logdir=`dirname $cfile`\n-        logf=`basename $cfile`\n-        if [ -d $logdir ]; then\n-            ( cd $logdir;\n-\t        active=`hg status $logf 2>\/dev\/null`\n-                # If the output from 'hg status' is not empty, it means the file\n-                # hasn't been committed, so don't fetch comments.\n-\t        if [[ -z $active ]] ; then\n-                    if [[ -n $ALL_CREV ]]; then\n-                        rev_opt=\n-                        for rev in $ALL_CREV; do\n-                            rev_opt=\"$rev_opt --rev $rev\"\n-                        done\n-                        comm=`hg log $rev_opt --follow --template 'rev {rev} : {desc}\\n' $logf`\n-                    elif [[ -n $FIRST_CREV ]]; then\n-\t\t        comm=`hg log --rev $FIRST_CREV:tip --follow --template 'rev {rev} : {desc}\\n' $logf`\n-                    else\n-\t\t        comm=`hg log -l1 --follow --template 'rev {rev} : {desc}\\n' $logf`\n-                    fi\n-\t        else\n-\t            comm=\"\"\n-\t        fi\n-\t        if [[ $fmt == \"text\" ]]; then\n-\t            print \"$comm\"\n-\t            return\n-\t        fi\n-\n-\t        print \"$comm\" | html_quote | bug2url\n-                )\n-        fi\n-}\n-\n-\n-#\n-# getcomments {text|html} filepath parentpath\n-#\n-# Fetch the comments depending on what SCM mode we're in.\n-#\n-getcomments()\n-{\n-\ttypeset fmt=$1\n-\ttypeset p=$2\n-\ttypeset pp=$3\n-\n-\tcomments_from_mercurial $fmt $pp $p\n-}\n-\n-#\n-# printCI <total-changed> <inserted> <deleted> <modified> <unchanged>\n-#\n-# Print out Code Inspection figures similar to sccs-prt(1) format.\n-#\n-function printCI\n-{\n-\tinteger tot=$1 ins=$2 del=$3 mod=$4 unc=$5\n-\ttypeset str\n-\tif (( tot == 1 )); then\n-\t\tstr=\"line\"\n-\telse\n-\t\tstr=\"lines\"\n-\tfi\n-\tprintf '%d %s changed: %d ins; %d del; %d mod; %d unchg' \\\n-\t    $tot $str $ins $del $mod $unc\n-}\n-\n-\n-#\n-# difflines <oldfile> <newfile>\n-#\n-# Calculate and emit number of added, removed, modified and unchanged lines,\n-# and total lines changed, the sum of added + removed + modified.\n-#\n-function difflines\n-{\n-\tinteger tot mod del ins unc err\n-\ttypeset filename\n-\n-\teval $( diff -e $1 $2 | $AWK '\n-\t# Change range of lines: N,Nc\n-\t\/^[0-9]*,[0-9]*c$\/ {\n-\t\tn=split(substr($1,1,length($1)-1), counts, \",\");\n-\t\tif (n != 2) {\n-\t\t    error=2\n-\t\t    exit;\n-\t\t}\n-\t\t#\n-\t\t# 3,5c means lines 3 , 4 and 5 are changed, a total of 3 lines.\n-\t\t# following would be 5 - 3 = 2! Hence +1 for correction.\n-\t\t#\n-\t\tr=(counts[2]-counts[1])+1;\n-\n-\t\t#\n-\t\t# Now count replacement lines: each represents a change instead\n-\t\t# of a delete, so increment c and decrement r.\n-\t\t#\n-\t\twhile (getline != \/^\\.$\/) {\n-\t\t\tc++;\n-\t\t\tr--;\n-\t\t}\n-\t\t#\n-\t\t# If there were more replacement lines than original lines,\n-\t\t# then r will be negative; in this case there are no deletions,\n-\t\t# but there are r changes that should be counted as adds, and\n-\t\t# since r is negative, subtract it from a and add it to c.\n-\t\t#\n-\t\tif (r < 0) {\n-\t\t\ta-=r;\n-\t\t\tc+=r;\n-\t\t}\n-\n-\t\t#\n-\t\t# If there were more original lines than replacement lines, then\n-\t\t# r will be positive; in this case, increment d by that much.\n-\t\t#\n-\t\tif (r > 0) {\n-\t\t\td+=r;\n-\t\t}\n-\t\tnext;\n-\t}\n-\n-\t# Change lines: Nc\n-\t\/^[0-9].*c$\/ {\n-\t\t# The first line is a replacement; any more are additions.\n-\t\tif (getline != \/^\\.$\/) {\n-\t\t\tc++;\n-\t\t\twhile (getline != \/^\\.$\/) a++;\n-\t\t}\n-\t\tnext;\n-\t}\n-\n-\t# Add lines: both Na and N,Na\n-\t\/^[0-9].*a$\/ {\n-\t\twhile (getline != \/^\\.$\/) a++;\n-\t\tnext;\n-\t}\n-\n-\t# Delete range of lines: N,Nd\n-\t\/^[0-9]*,[0-9]*d$\/ {\n-\t\tn=split(substr($1,1,length($1)-1), counts, \",\");\n-\t\tif (n != 2) {\n-\t\t\terror=2\n-\t\t\texit;\n-\t\t}\n-\t\t#\n-\t\t# 3,5d means lines 3 , 4 and 5 are deleted, a total of 3 lines.\n-\t\t# following would be 5 - 3 = 2! Hence +1 for correction.\n-\t\t#\n-\t\tr=(counts[2]-counts[1])+1;\n-\t\td+=r;\n-\t\tnext;\n-\t}\n-\n-\t# Delete line: Nd.   For example 10d says line 10 is deleted.\n-\t\/^[0-9]*d$\/ {d++; next}\n-\n-\t# Should not get here!\n-\t{\n-\t\terror=1;\n-\t\texit;\n-\t}\n-\n-\t# Finish off - print results\n-\tEND {\n-\t\tprintf(\"tot=%d;mod=%d;del=%d;ins=%d;err=%d\\n\",\n-\t\t    (c+d+a), c, d, a, error);\n-\t}' )\n-\n-\t# End of $AWK, Check to see if any trouble occurred.\n-\tif (( $? > 0 || err > 0 )); then\n-\t\tprint \"Unexpected Error occurred reading\" \\\n-\t\t    \"\\`diff -e $1 $2\\`: \\$?=$?, err=\" $err\n-\t\treturn\n-\tfi\n-\n-\t# Accumulate totals\n-\t(( TOTL += tot ))\n-\t(( TMOD += mod ))\n-\t(( TDEL += del ))\n-\t(( TINS += ins ))\n-\t# Calculate unchanged lines\n-\tunc=`wc -l < $1`\n-\tif (( unc > 0 )); then\n-\t\t(( unc -= del + mod ))\n-\t\t(( TUNC += unc ))\n-\tfi\n-\t# print summary\n-\tprint \"<span class=\\\"lineschanged\\\">\\c\"\n-\tprintCI $tot $ins $del $mod $unc\n-\tprint \"<\/span>\"\n-}\n-\n-function outgoing_from_mercurial_forest\n-{\n-    hg foutgoing --template 'rev: {rev}\\n' $OUTPWS | $FILTER | $AWK '\n-        BEGIN           {ntree=0}\n-        \/^comparing\/    {next}\n-        \/^no changes\/   {next}\n-        \/^searching\/    {next}\n-\t\/^\\[.*\\]$\/\t{tree=substr($1,2,length($1)-2);\n-                         trees[ntree++] = tree;\n-                         revs[tree]=-1;\n-                         next}\n-        \/^rev:\/   {rev=$2+0;\n-                   if (revs[tree] == -1 || rev < revs[tree])\n-                        { revs[tree] = rev; };\n-                  next;}\n-        END       {for (tree in trees)\n-                        { rev=revs[trees[tree]];\n-                          if (rev > 0)\n-                                {printf(\"%s %d\\n\",trees[tree],rev-1)}\n-                        }}' | while read LINE\n-    do\n-        set - $LINE\n-        TREE=$1\n-        REV=$2\n-        A=`hg -R $CWS\/$TREE log --rev $REV --template '{node}'`\n-        FSTAT_OPT=\"--rev $A\"\n-        print \"Revision: $A $REV\" >> $FLIST\n-        treestatus $TREE\n-    done\n-}\n-\n-function flist_from_mercurial_forest\n-{\n-    rm -f $FLIST\n-    if [ -z \"$Nflag\" ]; then\n-        print \" File list from hg foutgoing $PWS ...\"\n-        outgoing_from_mercurial_forest\n-        HG_LIST_FROM_COMMIT=1\n-    fi\n-    if [ ! -f $FLIST ]; then\n-        # hg commit hasn't been run see what is lying around\n-        print \"\\n No outgoing, perhaps you haven't commited.\"\n-        print \" File list from hg fstatus -mard ...\\c\"\n-        FSTAT_OPT=\n-        fstatus\n-        HG_LIST_FROM_COMMIT=\n-    fi\n-    print \" Done.\"\n-}\n-\n-#\n-# Used when dealing with the result of 'hg foutgoing'\n-# When now go down the tree and generate the change list\n-#\n-function treestatus\n-{\n-    TREE=$1\n-    HGCMD=\"hg -R $CWS\/$TREE status $FSTAT_OPT\"\n-\n-    $HGCMD -mdn 2>\/dev\/null | $FILTER | while read F\n-    do\n-        echo $TREE\/$F\n-    done >> $FLIST\n-\n-    # Then all the added files\n-    # But some of these could have been \"moved\" or renamed ones or copied ones\n-    # so let's make sure we get the proper info\n-    # hg status -aC will produce something like:\n-    #\tA subdir\/File3\n-    #\tA subdir\/File4\n-    #\t  File4\n-    #\tA subdir\/File5\n-    # The first and last are simple addition while the middle one\n-    # is a move\/rename or a copy.  We can't distinguish from a rename vs a copy\n-    # without also getting the status of removed files.  The middle case above\n-    # is a rename if File4 is also shown a being removed.  If File4 is not a\n-    # removed file, then the middle case is a copy from File4 to subdir\/File4\n-    # FIXME - we're not distinguishing copy from rename\n-    $HGCMD -aC | $FILTER | while read LINE; do\n-\tldone=\"\"\n-\twhile [ -z \"$ldone\" ]; do\n-\t    ldone=\"1\"\n-\t    set - $LINE\n-\t    if [ $# -eq 2 -a \"$1\" == \"A\" ]; then\n-\t\tAFILE=$2\n-\t\tif read LINE2; then\n-\t\t    set - $LINE2\n-\t\t    if [ $# -eq 1 ]; then\n-\t\t\techo $TREE\/$AFILE $TREE\/$1 >>$FLIST\n-\t\t    elif [ $# -eq 2 ]; then\n-\t\t\techo $TREE\/$AFILE >>$FLIST\n-\t\t\tLINE=$LINE2\n-\t\t\tldone=\"\"\n-\t\t    fi\n-\t\telse\n-\t\t    echo $TREE\/$AFILE >>$FLIST\n-\t\tfi\n-\t    fi\n-\tdone\n-    done\n-    $HGCMD -rn | $FILTER | while read RFILE; do\n-\tgrep \"$TREE\/$RFILE\" $FLIST >\/dev\/null\n-\tif [ $? -eq 1 ]; then\n-\t    echo $TREE\/$RFILE >>$FLIST\n-\tfi\n-    done\n-}\n-\n-function fstatus\n-{\n-    #\n-    # forest extension is still being changed. For instance the output\n-    # of fstatus used to no prepend the tree path to filenames, but\n-    # this has changed recently. AWK code below does try to handle both\n-    # cases\n-    #\n-    hg fstatus -mdn $FSTAT_OPT 2>\/dev\/null | $FILTER | $AWK '\n-\t\/^\\[.*\\]$\/\t{tree=substr($1,2,length($1)-2); next}\n-\t$1 != \"\"\t{n=index($1,tree);\n-\t\t\t if (n == 0)\n-\t\t\t\t{ printf(\"%s\/%s\\n\",tree,$1)}\n-\t\t\t else\n-\t\t\t\t{ printf(\"%s\\n\",$1)}}' >> $FLIST\n-\n-    #\n-    # There is a bug in the output of fstatus -aC on recent versions: it\n-    # inserts a space between the name of the tree and the filename of the\n-    # old file. e.g.:\n-    #\n-    # $ hg fstatus -aC\n-    # [.]\n-    #\n-    # [MyWS]\n-    # A MyWS\/subdir\/File2\n-    #  MyWS\/ File2\n-    #\n-    # [MyWS2]\n-    #\n-\n-    hg fstatus -aC $FSTAT_OPT 2>\/dev\/null | $FILTER | $AWK '\n-\t\/^\\[.*\\]$\/\t{tree=substr($1,2,length($1)-2); next}\n-\t\/^A .*\/\t\t{n=index($2,tree);\n-\t\t\t if (n == 0)\n-\t\t\t\t{ printf(\"A %s\/%s\\n\",tree,$2)}\n-\t\t\t else\n-\t\t\t\t{ printf(\"A %s\\n\",$2)};\n-\t\t\t next}\n-\t\/^ \/\t\t{n=index($1,tree);\n-\t\t\t if (n == 0)\n-\t\t\t\t{ printf(\"%s\/%s\\n\",tree,$1)}\n-\t\t\t else\n-\t\t\t\t{ if (NF == 2)\n-\t\t\t\t\tprintf(\"%s\/%s\\n\",tree,$2)\n-\t\t\t\t  else\n-\t\t\t\t\tprintf(\"%s\\n\",$1)\n-\t\t\t\t};\n-\t\t\t next}\n-\t' | while read LINE; do\n-\tldone=\"\"\n-\twhile [ -z \"$ldone\" ]; do\n-\t    ldone=\"1\"\n-\t    set - $LINE\n-\t    if [ $# -eq 2 -a \"$1\" == \"A\" ]; then\n-\t\tAFILE=$2\n-\t\tif read LINE2; then\n-\t\t    set - $LINE2\n-\t\t    if [ $# -eq 1 ]; then\n-\t\t\techo $AFILE $1 >>$FLIST\n-\t\t    elif [ $# -eq 2 ]; then\n-\t\t\techo $AFILE >>$FLIST\n-\t\t\tLINE=$LINE2\n-\t\t\tldone=\"\"\n-\t\t    fi\n-\t\telse\n-\t\t    echo $AFILE >>$FLIST\n-\t\tfi\n-\t    fi\n-\tdone\n-    done\n-    hg fstatus -rn $FSTAT_OPT 2>\/dev\/null | $FILTER | $AWK '\n-\t\/^\\[.*\\]$\/\t{tree=substr($1,2,length($1)-2); next}\n-\t$1 != \"\"\t{n=index($1,tree);\n-\t\t\t if (n == 0)\n-\t\t\t\t{ printf(\"%s\/%s\\n\",tree,$1)}\n-\t\t\t else\n-\t\t\t\t{ printf(\"%s\\n\",$1)}}' | while read RFILE; do\n-\tgrep \"$RFILE\" $FLIST >\/dev\/null\n-\tif [ $? -eq 1 ]; then\n-\t    echo $RFILE >>$FLIST\n-\tfi\n-    done\n-}\n-\n-#\n-# flist_from_mercurial $PWS\n-#\n-# Only local file based repositories are supported at present\n-# since even though we can determine the list from the parent finding\n-# the changes is harder.\n-#\n-# We first look for any outgoing files, this is for when the user has\n-# run hg commit.  If we don't find any then we look with hg status.\n-#\n-# We need at least one of default-push or default paths set in .hg\/hgrc\n-# If neither are set we don't know who to compare with.\n-\n-function flist_from_mercurial\n-{\n-#\tif [ \"${PWS##ssh:\/\/}\" != \"$PWS\" -o \\\n-#\t     \"${PWS##http:\/\/}\" != \"$PWS\" -o \\\n-#\t     \"${PWS##https:\/\/}\" != \"$PWS\" ]; then\n-#\t\tprint \"Remote Mercurial repositories not currently supported.\"\n-#\t\tprint \"Set default and\/or default-push to a local repository\"\n-#\t\texit\n-#\tfi\n-    if [[ -n $forestflag ]]; then\n-        HG_LIST_FROM_COMMIT=\n-\tflist_from_mercurial_forest\n-    else\n-        STATUS_REV=\n-        if [[ -n $rflag ]]; then\n-            STATUS_REV=\"--rev $PARENT_REV\"\n-        elif [[ -n $OUTREV ]]; then\n-            STATUS_REV=\"--rev $OUTREV\"\n-        else\n-            # hg commit hasn't been run see what is lying around\n-            print \"\\n No outgoing, perhaps you haven't commited.\"\n-        fi\n-\t# First let's list all the modified or deleted files\n-\n-\thg status $STATUS_REV -mdn | $FILTER > $FLIST\n-\n-\t# Then all the added files\n-\t# But some of these could have been \"moved\" or renamed ones\n-\t# so let's make sure we get the proper info\n-\t# hg status -aC will produce something like:\n-\t#\tA subdir\/File3\n-\t#\tA subdir\/File4\n-\t#\t  File4\n-\t#\tA subdir\/File5\n-        # The first and last are simple addition while the middle one\n-        # is a move\/rename or a copy.  We can't distinguish from a rename vs a copy\n-        # without also getting the status of removed files.  The middle case above\n-        # is a rename if File4 is also shown a being removed.  If File4 is not a\n-        # removed file, then the middle case is a copy from File4 to subdir\/File4\n-        # FIXME - we're not distinguishing copy from rename\n-\n-\thg status $STATUS_REV -aC | $FILTER >$FLIST.temp\n-\twhile read LINE; do\n-\t    ldone=\"\"\n-\t    while [ -z \"$ldone\" ]; do\n-\t\tldone=\"1\"\n-\t\tset - $LINE\n-\t\tif [ $# -eq 2 -a \"$1\" == \"A\" ]; then\n-\t\t    AFILE=$2\n-\t\t    if read LINE2; then\n-\t\t\tset - $LINE2\n-\t\t\tif [ $# -eq 1 ]; then\n-\t\t\t    echo $AFILE $1 >>$FLIST\n-\t\t\telif [ $# -eq 2 ]; then\n-\t\t\t    echo $AFILE >>$FLIST\n-\t\t\t    LINE=$LINE2\n-\t\t\t    ldone=\"\"\n-\t\t\tfi\n-\t\t    else\n-\t\t\techo $AFILE >>$FLIST\n-\t\t    fi\n-\t\tfi\n-\t    done\n-\tdone < $FLIST.temp\n-\thg status $STATUS_REV -rn | $FILTER > $FLIST.temp\n-\twhile read RFILE; do\n-\t    grep \"$RFILE\" $FLIST >\/dev\/null\n-\t    if [ $? -eq 1 ]; then\n-\t\techo $RFILE >>$FLIST\n-\t    fi\n-\tdone < $FLIST.temp\n-\trm -f $FLIST.temp\n-    fi\n-}\n-\n-function env_from_flist\n-{\n-\t[[ -r $FLIST ]] || return\n-\n-\t#\n-\t# Use \"eval\" to set env variables that are listed in the file\n-\t# list.  Then copy those into our local versions of those\n-\t# variables if they have not been set already.\n-\t#\n-\teval `sed -e \"s\/#.*$\/\/\" $FLIST | grep = `\n-\n-\t[[ -z $codemgr_ws && -n $CODEMGR_WS ]] && codemgr_ws=$CODEMGR_WS\n-\n-\t#\n-\t# Check to see if CODEMGR_PARENT is set in the flist file.\n-\t#\n-\t[[ -z $codemgr_parent && -n $CODEMGR_PARENT ]] && \\\n-\t    codemgr_parent=$CODEMGR_PARENT\n-}\n-\n-#\n-# detect_scm\n-#\n-# We dynamically test the SCM type; this allows future extensions to\n-# new SCM types\n-#\n-function detect_scm\n-{\n-\tif hg root >\/dev\/null ; then\n-\t\tprint \"mercurial\"\n-\telse\n-\t\tprint \"unknown\"\n-\tfi\n-}\n-\n-function look_for_prog\n-{\n-\ttypeset path\n-\ttypeset ppath\n-\ttypeset progname=$1\n-\n-\tDEVTOOLS=\n-\tOS=`uname`\n-\tif [[ \"$OS\" == \"SunOS\" ]]; then\n-\t    DEVTOOLS=\"\/java\/devtools\/`uname -p`\/bin\"\n-\telif [[ \"$OS\" == \"Linux\" ]]; then\n-\t    DEVTOOLS=\"\/java\/devtools\/linux\/bin\"\n-\tfi\n-\n-\tppath=$PATH\n-\tppath=$ppath:\/usr\/sfw\/bin:\/usr\/bin:\/usr\/sbin\n-\tppath=$ppath:\/opt\/teamware\/bin:\/opt\/onbld\/bin\n-\tppath=$ppath:\/opt\/onbld\/bin\/`uname -p`\n-\tppath=$ppath:\/java\/devtools\/share\/bin:$DEVTOOLS\n-\n-\tPATH=$ppath prog=`whence $progname`\n-\tif [[ -n $prog ]]; then\n-\t\tprint $prog\n-\tfi\n-}\n-\n-#\n-# Find the parent for $1\n-#\n-function find_outrev\n-{\n-    crev=$1\n-    prev=`hg log -r $crev --template '{parents}\\n'`\n-    if [[ -z \"$prev\" ]]\n-    then\n-\t# No specific parent means previous changeset is parent\n-\tprev=`expr $crev - 1`\n-    else\n-\t# Format is either of the following two:\n-\t# 546:7df6fcf1183b\n-\t# 548:16f1915bb5cd 547:ffaa4e775815\n-\tprev=`echo $prev | sed -e 's\/\\([0-9]*\\):.*\/\\1\/'`\n-    fi\n-    print $prev\n-}\n-\n-function extract_ssh_infos\n-{\n-    CMD=$1\n-    if expr \"$CMD\" : 'ssh:\/\/[^\/]*@' >\/dev\/null; then\n-\tssh_user=`echo $CMD | sed -e 's\/ssh:\\\/\\\/\\(.*\\)@.*\/\\1\/'`\n-\tssh_host=`echo $CMD | sed -e 's\/ssh:\\\/\\\/.*@\\([^\/]*\\)\\\/.*\/\\1\/'`\n-\tssh_dir=`echo $CMD | sed -e 's\/ssh:\\\/\\\/.*@[^\/]*\\\/\\(.*\\)\/\\1\/'`\n-    else\n-\tssh_user=\n-\tssh_host=`echo $CMD | sed -e 's\/ssh:\\\/\\\/\\([^\/]*\\)\\\/.*\/\\1\/'`\n-\tssh_dir=`echo $CMD | sed -e 's\/ssh:\\\/\\\/[^\/]*\\\/\\(.*\\)\/\\1\/'`\n-    fi\n-\n-}\n-\n-function build_old_new_mercurial\n-{\n-\tolddir=$1\n-\tnewdir=$2\n-\tDIR=$3\n-\tF=$4\n-\t#\n-\t# new version of the file.\n-\t#\n-\trm -rf $newdir\/$DIR\/$F\n-\tif [ -f $F ]; then\n-\t    cp $F  $newdir\/$DIR\/$F\n-\tfi\n-\n-\t#\n-\t# Old version of the file.\n-\t#\n-\trm -rf $olddir\/$DIR\/$F\n-\n-\tif [ -n \"$PWS\" ]; then\n-\t    if expr \"$PWS\" : 'ssh:\/\/' >\/dev\/null\n-\t    then\n-\t\textract_ssh_infos $PWS\n-\t\tif [ -n \"$ssh_user\" ]; then\n-\t\t    parent=\"ssh -l $ssh_user $ssh_host hg -R $ssh_dir --cwd $ssh_dir\"\n-\t\telse\n-\t\t    parent=\"ssh $ssh_host hg -R $ssh_dir --cwd $ssh_dir\"\n-\t\tfi\n-\t    else\n-\t\tparent=\"hg -R $PWS --cwd $PWS\"\n-\t    fi\n-\telse\n-\t    parent=\"\"\n-\tfi\n-\n-\tif [ -z \"$rename\" ]; then\n-\t    if [ -n \"$rflag\" ]; then\n-\t\tparentrev=$PARENT_REV\n-\t    elif [ \"$HG_LIST_FROM_COMMIT\" -eq 1 ]; then\n-                parentrev=$OUTREV\n-\t    else\n-                if [[ -n $HG_BRANCH ]]; then\n-                    parentrev=$HG_BRANCH\n-                else\n-\t\t    parentrev=\"tip\"\n-                fi\n-\t    fi\n-\n-\t    if [ -n \"$parentrev\" ]; then\n-\t\tif [ -z \"$parent\" ]; then\n-\t\t    hg cat --rev $parentrev --output $olddir\/$DIR\/$F $F 2>\/dev\/null\n-\t\telse\n-\t\t    # when specifying a workspace we have to provide\n-\t\t    # the full path\n-\t\t    $parent cat --rev $parentrev --output $olddir\/$DIR\/$F $DIR\/$F 2>\/dev\/null\n-\t\tfi\n-\t    fi\n-\telse\n-\t    # It's a rename (or a move), or a copy, so let's make sure we move\n-\t    # to the right directory first, then restore it once done\n-\t    current_dir=`pwd`\n-\t    hg_root=`hg root`\n-\t    cd $CWS\n-\t    if [ -n \"$rflag\" ]; then\n-\t\tparentrev=$PARENT_REV\n-\t    elif [ \"$HG_LIST_FROM_COMMIT\" -eq 1 ]; then\n-                parentrev=$OUTREV\n-\t    fi\n-\t    if [ -z \"$parentrev\" ]; then\n-\t\tparentrev=`hg log -l1 $PDIR\/$PF | $AWK -F: '\/changeset\/ {print $2}'`\n-\t    fi\n-\t    if [ -n \"$parentrev\" ]; then\n-\t\tmkdir -p $olddir\/$PDIR\n-\t\tif [ -z \"$parent\" ]; then\n-\t\t    hg cat -R $hg_root --rev $parentrev --output $olddir\/$PDIR\/$PF $PDIR\/$PF 2>\/dev\/null\n-\t\telse\n-\t\t    $parent cat --rev $parentrev --output $olddir\/$PDIR\/$PF $PDIR\/$PF 2>\/dev\/null\n-\t\tfi\n-\t    fi\n-\t    cd $current_dir\n-\tfi\n-}\n-\n-function build_old_new\n-{\n-\tif [[ $SCM_MODE == \"mercurial\" ]]; then\n-\t\tbuild_old_new_mercurial $@\n-\tfi\n-}\n-\n-\n-#\n-# Usage message.\n-#\n-function usage\n-{\n-\tprint \"Usage:\\twebrev [options]\n-\twebrev [options] ( <file> | - )\n-\n-Options:\n-\t-v: Print the version of this tool.\n-        -b: Do not ignore changes in the amount of white space.\n-        -c <CR#>: Include link to CR (aka bugid) in the main page.\n-\t-i <filename>: Include <filename> in the index.html file.\n-\t-o <outdir>: Output webrev to specified directory.\n-\t-p <compare-against>: Use specified parent wkspc or basis for comparison\n-        -u <username>: Use that username instead of 'guessing' one.\n-\t-m: Forces the use of Mercurial\n-\n-Mercurial only options:\n-\t-r rev: Compare against a specified revision\n-\t-N: Skip 'hg outgoing', use only 'hg status'\n-\t-f: Use the forest extension\n-\n-Arguments:\n-\t<file>: Optional file containing list of files to include in webrev\n-        -: read list of files to include in webrev from standard input\n-\n-Environment:\n-\tWDIR: Control the output directory.\n-\tWEBREV_BUGURL: Control the URL prefix for bugids.\n-\n-\"\n-\n-\texit 2\n-}\n-\n-#\n-#\n-# Main program starts here\n-#\n-#\n-LANG=\"C\"\n-LC_ALL=\"C\"\n-export LANG LC_ALL\n-trap \"rm -f \/tmp\/$$.* ; exit\" 0 1 2 3 15\n-\n-set +o noclobber\n-\n-[[ -z $WDIFF ]] && WDIFF=`look_for_prog wdiff`\n-[[ -z $CODEREVIEW ]] && CODEREVIEW=`look_for_prog codereview`\n-[[ -z $PS2PDF ]] && PS2PDF=`look_for_prog ps2pdf`\n-[[ -z $PERL ]] && PERL=`look_for_prog perl`\n-[[ -z $SCCS ]] && SCCS=`look_for_prog sccs`\n-[[ -z $AWK ]] && AWK=`look_for_prog nawk`\n-[[ -z $AWK ]] && AWK=`look_for_prog gawk`\n-[[ -z $AWK ]] && AWK=`look_for_prog awk`\n-[[ -z $JAR ]] && JAR=`look_for_prog jar`\n-[[ -z $ZIP ]] && ZIP=`look_for_prog zip`\n-[[ -z $GETENT ]] && GETENT=`look_for_prog getent`\n-[[ -z $WGET ]] && WGET=`look_for_prog wget`\n-\n-if uname | grep CYGWIN >\/dev\/null\n-then\n-        ISWIN=1\n-        # Under windows mercurial outputs '\\' instead of '\/'\n-        FILTER=\"tr '\\\\\\\\' '\/'\"\n-else\n-        FILTER=\"cat\"\n-fi\n-\n-if [[ ! -x $PERL ]]; then\n-\tprint -u2 \"Error: No perl interpreter found.  Exiting.\"\n-\texit 1\n-fi\n-\n-#\n-# These aren't fatal, but we want to note them to the user.\n-#\n-# [[ ! -x $CODEREVIEW ]] && print -u2 \"WARNING: codereview(1) not found.\"\n-# [[ ! -x $PS2PDF ]] && print -u2 \"WARNING: ps2pdf(1) not found.\"\n-# [[ ! -x $WDIFF ]] && print -u2 \"WARNING: wdiff not found.\"\n-\n-# Declare global total counters.\n-integer TOTL TINS TDEL TMOD TUNC\n-\n-flist_mode=\n-flist_file=\n-bflag=\n-iflag=\n-oflag=\n-pflag=\n-uflag=\n-Oflag=\n-rflag=\n-Nflag=\n-forestflag=\n-while getopts \"c:i:o:p:r:u:mONvfb\" opt\n-do\n-\tcase $opt in\n-        b)      bflag=1;;\n-\n-\ti)\tiflag=1\n-\t\tINCLUDE_FILE=$OPTARG;;\n-\n-\to)\toflag=1\n-\t\tWDIR=$OPTARG;;\n-\n-\tp)\tpflag=1\n-\t\tcodemgr_parent=$OPTARG;;\n-\n-\tu)      uflag=1\n-\t\tusername=$OPTARG;;\n-\n-        c)      if [[ -z $CRID ]]; then\n-                   CRID=$OPTARG\n-                else\n-                   CRID=\"$CRID $OPTARG\"\n-                fi;;\n-\n-\tm)\tSCM_MODE=\"mercurial\";;\n-\n-\tO)\tOflag=1;; # ignored (bugs are now all visible at bugs.openjdk.java.net)\n-\n-\tN)\tNflag=1;;\n-\n-\tf)\tforestflag=1;;\n-\n-\tr)\trflag=1\n-\t\tPARENT_REV=$OPTARG;;\n-\n-\tv)\tprint \"$0 version: $WEBREV_UPDATED\";;\n-\n-\n-\t?)\tusage;;\n-\tesac\n-done\n-\n-FLIST=\/tmp\/$$.flist\n-HG_LIST_FROM_COMMIT=\n-\n-if [[ -n $forestflag && -n $rflag ]]; then\n-    print \"The -r <rev> flag is incompatible with the use of forests\"\n-    exit 2\n-fi\n-\n-#\n-# If this manually set as the parent, and it appears to be an earlier webrev,\n-# then note that fact and set the parent to the raw_files\/new subdirectory.\n-#\n-if [[ -n $pflag && -d $codemgr_parent\/raw_files\/new ]]; then\n-\tparent_webrev=\"$codemgr_parent\"\n-\tcodemgr_parent=\"$codemgr_parent\/raw_files\/new\"\n-fi\n-\n-shift $(($OPTIND - 1))\n-\n-if [[ $1 == \"-\" ]]; then\n-\tcat > $FLIST\n-\tflist_mode=\"stdin\"\n-\tflist_done=1\n-\tshift\n-elif [[ -n $1 ]]; then\n-\tif [[ ! -r $1 ]]; then\n-\t\tprint -u2 \"$1: no such file or not readable\"\n-\t\tusage\n-\tfi\n-\tcat $1 > $FLIST\n-\tflist_mode=\"file\"\n-\tflist_file=$1\n-\tflist_done=1\n-\tshift\n-else\n-\tflist_mode=\"auto\"\n-fi\n-\n-#\n-# Before we go on to further consider -l and -w, work out which SCM we think\n-# is in use.\n-#\n-if [[ -z $SCM_MODE ]]; then\n-    SCM_MODE=`detect_scm $FLIST`\n-fi\n-if [[ $SCM_MODE == \"unknown\" ]]; then\n-       print -u2 \"Unable to determine SCM type currently in use.\"\n-       print -u2 \"For mercurial: webrev runs 'hg root'.\"\n-       exit 1\n-fi\n-\n-print -u2 \"   SCM detected: $SCM_MODE\"\n-\n-\n-if [[ $SCM_MODE == \"mercurial\" ]]; then\n-    #\n-    # determine Workspace and parent workspace paths\n-    #\n-    CWS=`hg root | $FILTER`\n-    if [[ -n $pflag && -z \"$PWS\" ]]; then\n-\tOUTPWS=$codemgr_parent\n-        # Let's try to expand it if it's an alias defined in [paths]\n-        tmp=`hg path $OUTPWS 2>\/dev\/null | $FILTER`\n-        if [[ -n $tmp ]]; then\n-            OUTPWS=\"$tmp\"\n-        fi\n-        if [[ -n $rflag ]]; then\n-\t    if expr \"$codemgr_parent\" : 'ssh:\/\/.*' >\/dev\/null; then\n-\t        PWS=$codemgr_parent\n-\t    else\n-\t        PWS=`hg -R \"$codemgr_parent\" root 2>\/dev\/null | $FILTER`\n-\t    fi\n-        fi\n-    fi\n-    #\n-    # OUTPWS is the parent repository to use when using 'hg outgoing'\n-    #\n-    if [[ -z $Nflag ]]; then\n-        if [[ -n $forestflag ]]; then\n-            #\n-            # for forest we have to rely on properly set default and\n-            # default-push because they can be different from the top one.\n-            # unless of course it was explicitly specified with -p\n-            if [[ -z $pflag ]]; then\n-                OUTPWS=\n-            fi\n-        else\n-            #\n-            # Unfortunately mercurial is bugged and doesn't handle\n-            # aliases correctly in 'hg path default'\n-            # So let's do it ourselves. Sigh...\n-            if [[ -z \"$OUTPWS\" ]]; then\n-                OUTPWS=`grep default-push $CWS\/.hg\/hgrc | $AWK '{print $3}' | $FILTER`\n-            fi\n-            # Still empty, means no default-push\n-            if [[ -z \"$OUTPWS\" ]]; then\n-                OUTPWS=`grep 'default =' $CWS\/.hg\/hgrc | $AWK '{print $3}' | $FILTER`\n-            fi\n-            # Let's try to expand it if it's an alias defined in [paths]\n-            tmp=`hg path $OUTPWS 2>\/dev\/null | $FILTER`\n-            if [[ -n $tmp ]]; then\n-                OUTPWS=\"$tmp\"\n-            fi\n-        fi\n-    fi\n-    #\n-    # OUTPWS may contain username:password, let's make sure we remove the\n-    # sensitive information before we print out anything in the HTML\n-    #\n-    OUTPWS2=$OUTPWS\n-    if [[ -n $OUTPWS ]]; then\n-\tif [[ `expr \"$OUTPWS\" : '.*:\/\/[^\/]*@.*'` -gt 0 ]]; then\n-\t    # Remove everything between ':\/\/' and '@'\n-\t    OUTPWS2=`echo $OUTPWS | sed -e 's\/\\(.*:\\\/\\\/\\).*@\\(.*\\)\/\\1\\2\/'`\n-\tfi\n-    fi\n-\n-    if [[ -z $HG_BRANCH ]]; then\n-        HG_BRANCH=`hg branch`\n-        if [ \"$HG_BRANCH\" == \"default\" ]; then\n-            #\n-            # 'default' means no particular branch, so let's cancel that\n-            #\n-            HG_BRANCH=\n-        fi\n-    fi\n-\n-    if [[ -z $forestflag ]]; then\n-        if [[ -z $Nflag ]]; then\n-            #\n-            # If no \"-N\", always do \"hg outgoing\" against parent\n-            # repository to determine list of outgoing revisions.\n-            #\n-            ALL_CREV=`hg outgoing -q --template '{rev}\\n' $OUTPWS | sort -n`\n-            if [[ -n $ALL_CREV ]]; then\n-                FIRST_CREV=`echo \"$ALL_CREV\" | head -1`\n-                #\n-                # If no \"-r\", choose revision to compare against by\n-                # finding the latest revision not in the outgoing list.\n-                #\n-                if [[ -z $rflag ]]; then\n-                    OUTREV=`find_outrev \"$FIRST_CREV\"`\n-                    if [[ -n $OUTREV ]]; then\n-                        HG_LIST_FROM_COMMIT=1\n-                    fi\n-                fi\n-            fi\n-        elif [[ -n $rflag ]]; then\n-            #\n-            # If skipping \"hg outgoing\" but still comparing against a\n-            # specific revision (not the tip), set revision for comment\n-            # accumulation.\n-            #\n-            FIRST_CREV=`hg log --rev $PARENT_REV --template '{rev}'`\n-            FIRST_CREV=`expr $FIRST_CREV + 1`\n-        fi\n-    fi\n-    #Let's check if a merge is needed, if so, issue a warning\n-    PREV=`hg parent | grep '^tag:.*tip$'`\n-    if [[ -z $PREV ]]; then\n-        print \"WARNING: parent rev is not tip. Maybe an update or merge is needed\"\n-    fi\n-fi\n-\n-if [[ $flist_mode == \"stdin\" ]]; then\n-\tprint -u2 \" File list from: standard input\"\n-elif [[ $flist_mode == \"file\" ]]; then\n-\tprint -u2 \" File list from: $flist_file\"\n-fi\n-\n-if [[ $# -gt 0 ]]; then\n-\tprint -u2 \"WARNING: unused arguments: $*\"\n-fi\n-\n-if [[ $SCM_MODE == \"mercurial\" ]]; then\n-    if [[ -z $flist_done ]]; then\n-\tflist_from_mercurial $PWS\n-    fi\n-fi\n-\n-#\n-# If the user didn't specify a -i option, check to see if there is a\n-# webrev-info file in the workspace directory.\n-#\n-if [[ -z $iflag && -r \"$CWS\/webrev-info\" ]]; then\n-\tiflag=1\n-\tINCLUDE_FILE=\"$CWS\/webrev-info\"\n-fi\n-\n-if [[ -n $iflag ]]; then\n-\tif [[ ! -r $INCLUDE_FILE ]]; then\n-\t\tprint -u2 \"include file '$INCLUDE_FILE' does not exist or is\" \\\n-\t\t    \"not readable.\"\n-\t\texit 1\n-\telse\n-\t\t#\n-\t\t# $INCLUDE_FILE may be a relative path, and the script alters\n-\t\t# PWD, so we just stash a copy in \/tmp.\n-\t\t#\n-\t\tcp $INCLUDE_FILE \/tmp\/$$.include\n-\tfi\n-fi\n-\n-#\n-# Output directory.\n-#\n-if [[ -z $WDIR ]]; then\n-    WDIR=$CWS\/webrev\n-else\n-    # If the output directory doesn't end with '\/webrev' or '\/webrev\/'\n-    # then add '\/webrev'. This is for backward compatibility\n-    if ! expr $WDIR : '.*\/webrev\/\\?$' >\/dev\/null\n-    then\n-\tWDIR=$WDIR\/webrev\n-    fi\n-fi\n-# WDIR=${WDIR:-$CWS\/webrev}\n-\n-#\n-# Name of the webrev, derived from the workspace name; in the\n-# future this could potentially be an option.\n-#\n-# Let's keep what's after the last '\/'\n-WNAME=${CWS##*\/}\n-\n-#\n-# If WDIR doesn't start with '\/' or 'x:' prepend the current dir\n-#\n-if [ ${WDIR%%\/*} ]; then\n-    if [[ -n $ISWIN ]]; then\n-        if [ ${WDIR%%[A-Za-z]:*} ]; then\n-\t    WDIR=$PWD\/$WDIR\n-        fi\n-    else\n-\tWDIR=$PWD\/$WDIR\n-    fi\n-fi\n-\n-if [[ ! -d $WDIR ]]; then\n-\tmkdir -p $WDIR\n-\t[[ $? != 0 ]] && exit 1\n-fi\n-\n-#\n-# Summarize what we're going to do.\n-#\n-print \"      Workspace: $CWS\"\n-if [[ -n $parent_webrev ]]; then\n-    print \"Compare against: webrev at $parent_webrev\"\n-elif [[ -n $OUTPWS2 ]]; then\n-    print \"Compare against: $OUTPWS2\"\n-fi\n-if [[ -n $HG_BRANCH ]]; then\n-    print \"         Branch: $HG_BRANCH\"\n-fi\n-if [[ -n $rflag ]]; then\n-        print \"Compare against version: $PARENT_REV\"\n-fi\n-[[ -n $INCLUDE_FILE ]] && print \"      Including: $INCLUDE_FILE\"\n-print \"      Output to: $WDIR\"\n-\n-#\n-# Save the file list in the webrev dir\n-#\n-[[ ! $FLIST -ef $WDIR\/file.list ]] && cp $FLIST $WDIR\/file.list\n-\n-#\n-#    Bug IDs will be replaced by a URL.  Order of precedence\n-#    is: default location, $WEBREV_BUGURL\n-#\n-BUGURL='https:\/\/bugs.openjdk.java.net\/browse\/'\n-[[ -n $WEBREV_BUGURL ]] && BUGURL=\"$WEBREV_BUGURL\"\n-IDPREFIX='JDK-'\n-\n-\n-rm -f $WDIR\/$WNAME.patch\n-rm -f $WDIR\/$WNAME.changeset\n-rm -f $WDIR\/$WNAME.ps\n-rm -f $WDIR\/$WNAME.pdf\n-\n-touch $WDIR\/$WNAME.patch\n-\n-print \"   Output Files:\"\n-\n-#\n-# Clean up the file list: Remove comments, blank lines and env variables.\n-#\n-sed -e \"s\/#.*$\/\/\" -e \"\/=\/d\" -e \"\/^[   ]*$\/d\" $FLIST > \/tmp\/$$.flist.clean\n-FLIST=\/tmp\/$$.flist.clean\n-\n-#\n-# Clean up residual raw files\n-#\n-if [ -d $WDIR\/raw_files ]; then\n-    rm -rf $WDIR\/raw_files 2>\/dev\/null\n-fi\n-\n-#\n-# Should we ignore changes in white spaces when generating diffs?\n-#\n-if [[ -n $bflag ]]; then\n-    DIFFOPTS=\"-t\"\n-else\n-    DIFFOPTS=\"-bt\"\n-fi\n-#\n-# First pass through the files: generate the per-file webrev HTML-files.\n-#\n-while read LINE\n-do\n-\tset - $LINE\n-\tP=$1\n-\n-        if [[ $1 == \"Revision:\" ]]; then\n-            OUTREV=$2\n-            continue\n-        fi\n-\t#\n-\t# Normally, each line in the file list is just a pathname of a\n-\t# file that has been modified or created in the child.  A file\n-\t# that is renamed in the child workspace has two names on the\n-\t# line: new name followed by the old name.\n-\t#\n-\toldname=\"\"\n-\toldpath=\"\"\n-\trename=\n-\tif [[ $# -eq 2 ]]; then\n-\t\tPP=$2\t\t\t# old filename\n-\t\toldname=\" (was $PP)\"\n-\t\toldpath=\"$PP\"\n-\t\trename=1\n-        \tPDIR=${PP%\/*}\n-        \tif [[ $PDIR == $PP ]]; then\n-\t\t\tPDIR=\".\"   # File at root of workspace\n-\t\tfi\n-\n-\t\tPF=${PP##*\/}\n-\n-\t        DIR=${P%\/*}\n-\t        if [[ $DIR == $P ]]; then\n-\t\t\tDIR=\".\"   # File at root of workspace\n-\t\tfi\n-\n-\t\tF=${P##*\/}\n-        else\n-\t        DIR=${P%\/*}\n-\t        if [[ \"$DIR\" == \"$P\" ]]; then\n-\t\t\tDIR=\".\"   # File at root of workspace\n-\t\tfi\n-\n-\t\tF=${P##*\/}\n-\n-\t\tPP=$P\n-\t\tPDIR=$DIR\n-\t\tPF=$F\n-\tfi\n-\n-        # Make the webrev directory if necessary as it may have been\n-        # removed because it was empty\n-        if [ ! -d $CWS\/$DIR ]; then\n-\t    mkdir -p $CWS\/$DIR\n-        fi\n-\n-\tCOMM=`getcomments html $P $PP`\n-\n-\tprint \"\\t$P$oldname\\n\\t\\t\\c\"\n-\n-\t# Make the webrev mirror directory if necessary\n-\tmkdir -p $WDIR\/$DIR\n-\n-\t# cd to the directory so the names are short\n-\tcd $CWS\/$DIR\n-\n-\t#\n-\t# We stash old and new files into parallel directories in \/tmp\n-\t# and do our diffs there.  This makes it possible to generate\n-\t# clean looking diffs which don't have absolute paths present.\n-\t#\n-\tolddir=$WDIR\/raw_files\/old\n-\tnewdir=$WDIR\/raw_files\/new\n-\tmkdir -p $olddir\n-\tmkdir -p $newdir\n-\tmkdir -p $olddir\/$PDIR\n-\tmkdir -p $newdir\/$DIR\n-\n-\tbuild_old_new $olddir $newdir $DIR $F\n-\n-\tif [[ ! -f $F && ! -f $olddir\/$DIR\/$F ]]; then\n-\t\tprint \"*** Error: file not in parent or child\"\n-\t\tcontinue\n-\tfi\n-\n-\tcd $WDIR\/raw_files\n-\tofile=old\/$PDIR\/$PF\n-\tnfile=new\/$DIR\/$F\n-\n-\tmv_but_nodiff=\n-\tcmp $ofile $nfile > \/dev\/null 2>&1\n-\tif [[ $? == 0 && $rename == 1 ]]; then\n-\t\tmv_but_nodiff=1\n-\tfi\n-\n-        #\n-        # Cleaning up\n-        #\n-        rm -f $WDIR\/$DIR\/$F.cdiff.html\n-        rm -f $WDIR\/$DIR\/$F.udiff.html\n-        rm -f $WDIR\/$DIR\/$F.wdiff.html\n-        rm -f $WDIR\/$DIR\/$F.sdiff.html\n-        rm -f $WDIR\/$DIR\/$F-.html\n-        rm -f $WDIR\/$DIR\/$F.html\n-\n-\tits_a_jar=\n-\tif expr $F : '.*\\.jar' \\| $F : '.*\\.zip' >\/dev\/null; then\n-\t    its_a_jar=1\n-\t    # It's a JAR or ZIP file, let's do it differently\n-\t    if [[ -z $JAR ]]; then\n-\t\tprint \"No access to jar, so can't produce diffs for jar or zip files\"\n-\t    else\n-\t\tif [ -f $ofile ]; then\n-\t\t    $JAR -tvf $ofile >\"$ofile\".lst\n-\t\tfi\n-\t\tif [ -f $nfile ]; then\n-\t\t    $JAR -tvf $nfile >\"$nfile\".lst\n-\t\tfi\n-\n-\t\tif [[ -f $ofile && -f $nfile && -z $mv_but_nodiff ]]; then\n-\n-\t\t    ${CDIFFCMD:-diff -bt -C 5} $ofile.lst $nfile.lst > $WDIR\/$DIR\/$F.cdiff\n-\t\t    diff_to_html $F $DIR\/$F \"C\" \"$COMM\" < $WDIR\/$DIR\/$F.cdiff \\\n-\t\t\t> $WDIR\/$DIR\/$F.cdiff.html\n-\t\t    print \" cdiffs\\c\"\n-\n-\t\t    ${UDIFFCMD:-diff -bt -U 5} $ofile.lst $nfile.lst > $WDIR\/$DIR\/$F.udiff\n-\t\t    diff_to_html $F $DIR\/$F \"U\" \"$COMM\" < $WDIR\/$DIR\/$F.udiff \\\n-\t\t\t> $WDIR\/$DIR\/$F.udiff.html\n-\n-\t\t    print \" udiffs\\c\"\n-\n-\t\t    if [[ -x $WDIFF ]]; then\n-\t\t\t$WDIFF -c \"$COMM\" \\\n-\t\t\t    -t \"$WNAME Wdiff $DIR\/$F\" $ofile.lst $nfile.lst > \\\n-\t\t\t    $WDIR\/$DIR\/$F.wdiff.html 2>\/dev\/null\n-\t\t\tif [[ $? -eq 0 ]]; then\n-\t\t\t    print \" wdiffs\\c\"\n-\t\t\telse\n-\t\t\t    print \" wdiffs[fail]\\c\"\n-\t\t\tfi\n-\t\t    fi\n-\n-\t\t    sdiff_to_html $ofile $nfile $F $DIR \"$COMM\" \\\n-\t\t\t> $WDIR\/$DIR\/$F.sdiff.html\n-\t\t    print \" sdiffs\\c\"\n-\n-\t\t    print \" frames\\c\"\n-\n-\t\t    rm -f $WDIR\/$DIR\/$F.cdiff $WDIR\/$DIR\/$F.udiff\n-\n-\t\t    difflines $ofile.lst $nfile.lst > $WDIR\/$DIR\/$F.count\n-\n-\t\telif [[ -f $ofile && -f $nfile && -n $mv_but_nodiff ]]; then\n-\t\t# renamed file: may also have differences\n-\t\t    difflines $ofile.lst $nfile.lst > $WDIR\/$DIR\/$F.count\n-\t\telif [[ -f $nfile ]]; then\n-\t\t# new file: count added lines\n-\t\t    difflines \/dev\/null $nfile.lst > $WDIR\/$DIR\/$F.count\n-\t\telif [[ -f $ofile ]]; then\n-\t\t# old file: count deleted lines\n-\t\t    difflines $ofile.lst \/dev\/null > $WDIR\/$DIR\/$F.count\n-\t\tfi\n-\t    fi\n-\telse\n-\n-\t    #\n-\t    # If we have old and new versions of the file then run the\n-\t    # appropriate diffs.  This is complicated by a couple of factors:\n-\t    #\n-\t    #\t- renames must be handled specially: we emit a 'remove'\n-\t    #\t  diff and an 'add' diff\n-\t    #\t- new files and deleted files must be handled specially\n-\t    #\t- Solaris patch(1m) can't cope with file creation\n-\t    #\t  (and hence renames) as of this writing.\n-\t    #   - To make matters worse, gnu patch doesn't interpret the\n-\t    #\t  output of Solaris diff properly when it comes to\n-\t    #\t  adds and deletes.  We need to do some \"cleansing\"\n-\t    #     transformations:\n-\t    # \t    [to add a file] @@ -1,0 +X,Y @@  -->  @@ -0,0 +X,Y @@\n-\t    #\t    [to del a file] @@ -X,Y +1,0 @@  -->  @@ -X,Y +0,0 @@\n-\t    #\n-\t    cleanse_rmfile=\"sed 's\/^\\(@@ [0-9+,-]*\\) [0-9+,-]* @@$\/\\1 +0,0 @@\/'\"\n-\t    cleanse_newfile=\"sed 's\/^@@ [0-9+,-]* \\([0-9+,-]* @@\\)$\/@@ -0,0 \\1\/'\"\n-\n-            if [[ ! \"$HG_LIST_FROM_COMMIT\" -eq 1 || ! $flist_mode == \"auto\" ]];\n-            then\n-              # Only need to generate a patch file here if there are no commits in outgoing\n-              # or if we've specified a file list\n-              rm -f $WDIR\/$DIR\/$F.patch\n-              if [[ -z $rename ]]; then\n-                  if [ ! -f $ofile ]; then\n-                      diff -u \/dev\/null $nfile | sh -c \"$cleanse_newfile\" \\\n-                          > $WDIR\/$DIR\/$F.patch\n-                  elif [ ! -f $nfile ]; then\n-                      diff -u $ofile \/dev\/null | sh -c \"$cleanse_rmfile\" \\\n-                          > $WDIR\/$DIR\/$F.patch\n-                  else\n-                      diff -u $ofile $nfile > $WDIR\/$DIR\/$F.patch\n-                  fi\n-              else\n-                  diff -u $ofile \/dev\/null | sh -c \"$cleanse_rmfile\" \\\n-                      > $WDIR\/$DIR\/$F.patch\n-\n-                  diff -u \/dev\/null $nfile | sh -c \"$cleanse_newfile\" \\\n-                      >> $WDIR\/$DIR\/$F.patch\n-\n-              fi\n-\n-\n-            #\n-            # Tack the patch we just made onto the accumulated patch for the\n-            # whole wad.\n-            #\n-              cat $WDIR\/$DIR\/$F.patch >> $WDIR\/$WNAME.patch\n-            fi\n-\n-            print \" patch\\c\"\n-\n-\t    if [[ -f $ofile && -f $nfile && -z $mv_but_nodiff ]]; then\n-\n-\t\t${CDIFFCMD:-diff -bt -C 5} $ofile $nfile > $WDIR\/$DIR\/$F.cdiff\n-\t\tdiff_to_html $F $DIR\/$F \"C\" \"$COMM\" < $WDIR\/$DIR\/$F.cdiff \\\n-\t\t    > $WDIR\/$DIR\/$F.cdiff.html\n-\t\tprint \" cdiffs\\c\"\n-\n-\t\t${UDIFFCMD:-diff -bt -U 5} $ofile $nfile > $WDIR\/$DIR\/$F.udiff\n-\t\tdiff_to_html $F $DIR\/$F \"U\" \"$COMM\" < $WDIR\/$DIR\/$F.udiff \\\n-\t\t    > $WDIR\/$DIR\/$F.udiff.html\n-\n-\t\tprint \" udiffs\\c\"\n-\n-\t\tif [[ -x $WDIFF ]]; then\n-\t\t    $WDIFF -c \"$COMM\" \\\n-\t\t\t-t \"$WNAME Wdiff $DIR\/$F\" $ofile $nfile > \\\n-\t\t\t$WDIR\/$DIR\/$F.wdiff.html 2>\/dev\/null\n-\t\t    if [[ $? -eq 0 ]]; then\n-\t\t\tprint \" wdiffs\\c\"\n-\t\t    else\n-\t\t\tprint \" wdiffs[fail]\\c\"\n-\t\t    fi\n-\t\tfi\n-\n-\t\tsdiff_to_html $ofile $nfile $F $DIR \"$COMM\" \\\n-\t\t    > $WDIR\/$DIR\/$F.sdiff.html\n-\t\tprint \" sdiffs\\c\"\n-\n-\t\tprint \" frames\\c\"\n-\n-\t\trm -f $WDIR\/$DIR\/$F.cdiff $WDIR\/$DIR\/$F.udiff\n-\n-\t\tdifflines $ofile $nfile > $WDIR\/$DIR\/$F.count\n-\n-\t    elif [[ -f $ofile && -f $nfile && -n $mv_but_nodiff ]]; then\n-\t\t# renamed file: may also have differences\n-\t\tdifflines $ofile $nfile > $WDIR\/$DIR\/$F.count\n-\t    elif [[ -f $nfile ]]; then\n-\t\t# new file: count added lines\n-\t\tdifflines \/dev\/null $nfile > $WDIR\/$DIR\/$F.count\n-\t    elif [[ -f $ofile ]]; then\n-\t\t# old file: count deleted lines\n-\t\tdifflines $ofile \/dev\/null > $WDIR\/$DIR\/$F.count\n-\t    fi\n-\tfi\n-\t#\n-\t# Now we generate the postscript for this file.  We generate diffs\n-\t# only in the event that there is delta, or the file is new (it seems\n-\t# tree-killing to print out the contents of deleted files).\n-\t#\n-\tif [[ -f $nfile ]]; then\n-\t\tocr=$ofile\n-\t\t[[ ! -f $ofile ]] && ocr=\/dev\/null\n-\n-\t\tif [[ -z $mv_but_nodiff ]]; then\n-\t\t\ttextcomm=`getcomments text $P $PP`\n-\t\t\tif [[ -x $CODEREVIEW ]]; then\n-\t\t\t\t$CODEREVIEW -y \"$textcomm\" \\\n-\t\t\t\t    -e $ocr $nfile \\\n-\t\t\t\t    > \/tmp\/$$.psfile 2>\/dev\/null &&\n-\t\t\t\t    cat \/tmp\/$$.psfile >> $WDIR\/$WNAME.ps\n-\t\t\t\tif [[ $? -eq 0 ]]; then\n-\t\t\t\t\tprint \" ps\\c\"\n-\t\t\t\telse\n-\t\t\t\t\tprint \" ps[fail]\\c\"\n-\t\t\t\tfi\n-\t\t\tfi\n-\t\tfi\n-\tfi\n-\n-\tif [[ -f $ofile && -z $mv_but_nodiff ]]; then\n-\t    if [[ -n $its_a_jar ]]; then\n-\t\tsource_to_html Old $P < $ofile.lst > $WDIR\/$DIR\/$F-.html\n-\t    else\n-\t\tsource_to_html Old $P < $ofile > $WDIR\/$DIR\/$F-.html\n-\t    fi\n-\t\tprint \" old\\c\"\n-\tfi\n-\n-\tif [[ -f $nfile ]]; then\n-\t    if [[ -n $its_a_jar ]]; then\n-\t\tsource_to_html New $P < $nfile.lst > $WDIR\/$DIR\/$F.html\n-\t    else\n-\t\tsource_to_html New $P < $nfile > $WDIR\/$DIR\/$F.html\n-\t    fi\n-\t\tprint \" new\\c\"\n-\tfi\n-\n-\tprint\n-done < $FLIST\n-\n-# Create the new style mercurial patch here using hg export -r [all-revs] -g -o $CHANGESETPATH\n-if [[ $SCM_MODE == \"mercurial\" ]]; then\n-  if [[ \"$HG_LIST_FROM_COMMIT\" -eq 1 && $flist_mode == \"auto\" ]]; then\n-    EXPORTCHANGESET=\"$WNAME.changeset\"\n-    CHANGESETPATH=${WDIR}\/${EXPORTCHANGESET}\n-    rm -f $CHANGESETPATH\n-    touch $CHANGESETPATH\n-    if [[ -n $ALL_CREV ]]; then\n-      rev_opt=\n-      for rev in $ALL_CREV; do\n-        rev_opt=\"$rev_opt --rev $rev\"\n-      done\n-    elif [[ -n $FIRST_CREV ]]; then\n-      rev_opt=\"--rev $FIRST_CREV\"\n-    fi\n-\n-    if [[ -n $rev_opt ]]; then\n-      (cd $CWS;hg export -g $rev_opt -o $CHANGESETPATH)\n-      echo \"Created changeset: $CHANGESETPATH\" 1>&2\n-      # Use it in place of the jdk.patch created above\n-      rm -f $WDIR\/$WNAME.patch\n-    fi\n-  set +x\n-  fi\n-fi\n-\n-frame_nav_js > $WDIR\/ancnav.js\n-frame_navigation > $WDIR\/ancnav.html\n-\n-if [[ -f $WDIR\/$WNAME.ps && -x $CODEREVIEW && -x $PS2PDF ]]; then\n-\tprint \" Generating PDF: \\c\"\n-\tfix_postscript $WDIR\/$WNAME.ps | $PS2PDF - > $WDIR\/$WNAME.pdf\n-\tprint \"Done.\"\n-fi\n-\n-# Now build the index.html file that contains\n-# links to the source files and their diffs.\n-\n-cd $CWS\n-\n-# Save total changed lines for Code Inspection.\n-print \"$TOTL\" > $WDIR\/TotalChangedLines\n-\n-print \"     index.html: \\c\"\n-INDEXFILE=$WDIR\/index.html\n-exec 3<&1\t\t\t# duplicate stdout to FD3.\n-exec 1<&-\t\t\t# Close stdout.\n-exec > $INDEXFILE\t\t# Open stdout to index file.\n-\n-print \"$HTML<head>\"\n-print \"<meta name=\\\"scm\\\" content=\\\"$SCM_MODE\\\" \/>\"\n-print \"$STDHEAD\"\n-print \"<title>$WNAME<\/title>\"\n-print \"<\/head>\"\n-print \"<body id=\\\"SUNWwebrev\\\">\"\n-print \"<div class=\\\"summary\\\">\"\n-print \"<h2>Code Review for $WNAME<\/h2>\"\n-\n-print \"<table>\"\n-\n-if [[ -z $uflag ]]; then\n-    if [[ $SCM_MODE == \"mercurial\" ]]; then\n-        #\n-        # Let's try to extract the user name from the .hgrc file\n-        #\n-\tusername=`grep '^username' $HOME\/.hgrc | sed 's\/^username[ ]*=[ ]*\\(.*\\)\/\\1\/'`\n-    fi\n-\n-    if [[ -z $username ]]; then\n-        #\n-        # Figure out the username and gcos name.  To maintain compatibility\n-        # with passwd(4), we must support '&' substitutions.\n-        #\n-\tusername=`id | cut -d '(' -f 2 | cut -d ')' -f 1`\n-\tif [[ -x $GETENT ]]; then\n-\t    realname=`$GETENT passwd $username | cut -d':' -f 5 | cut -d ',' -f 1`\n-\tfi\n-\tuserupper=`print \"$username\" | sed 's\/\\<.\/\\u&\/g'`\n-\trealname=`print $realname | sed s\/\\&\/$userupper\/`\n-    fi\n-fi\n-\n-date=\"on `date`\"\n-\n-if [[ -n \"$username\" && -n \"$realname\" ]]; then\n-\tprint \"<tr><th>Prepared by:<\/th>\"\n-\tprint \"<td>$realname ($username) $date<\/td><\/tr>\"\n-elif [[ -n \"$username\" ]]; then\n-\tprint \"<tr><th>Prepared by:<\/th><td>$username $date<\/td><\/tr>\"\n-fi\n-\n-print \"<tr><th>Workspace:<\/th><td>$CWS<\/td><\/tr>\"\n-if [[ -n $parent_webrev ]]; then\n-        print \"<tr><th>Compare against:<\/th><td>\"\n-\tprint \"webrev at $parent_webrev\"\n-else\n-    if [[ -n $OUTPWS2 ]]; then\n-        print \"<tr><th>Compare against:<\/th><td>\"\n-\tprint \"$OUTPWS2\"\n-    fi\n-fi\n-print \"<\/td><\/tr>\"\n-if [[ -n $rflag ]]; then\n-    print \"<tr><th>Compare against version:<\/th><td>$PARENT_REV<\/td><\/tr>\"\n-elif [[ -n $OUTREV ]]; then\n-    if [[ -z $forestflag ]]; then\n-        print \"<tr><th>Compare against version:<\/th><td>$OUTREV<\/td><\/tr>\"\n-    fi\n-fi\n-if [[ -n $HG_BRANCH ]]; then\n-    print \"<tr><th>Branch:<\/th><td>$HG_BRANCH<\/td><\/tr>\"\n-fi\n-\n-print \"<tr><th>Summary of changes:<\/th><td>\"\n-printCI $TOTL $TINS $TDEL $TMOD $TUNC\n-print \"<\/td><\/tr>\"\n-\n-if [[ -f $WDIR\/$WNAME.patch ]]; then\n-  print \"<tr><th>Patch of changes:<\/th><td>\"\n-  print \"<a href=\\\"$WNAME.patch\\\">$WNAME.patch<\/a><\/td><\/tr>\"\n-elif [[ -f $CHANGESETPATH ]]; then\n-  print \"<tr><th>Changeset:<\/th><td>\"\n-  print \"<a href=\\\"$EXPORTCHANGESET\\\">$EXPORTCHANGESET<\/a><\/td><\/tr>\"\n-fi\n-\n-if [[ -f $WDIR\/$WNAME.pdf ]]; then\n-\tprint \"<tr><th>Printable review:<\/th><td>\"\n-\tprint \"<a href=\\\"$WNAME.pdf\\\">$WNAME.pdf<\/a><\/td><\/tr>\"\n-fi\n-\n-if [[ -n \"$iflag\" ]]; then\n-\tprint \"<tr><th>Author comments:<\/th><td><div>\"\n-\tcat \/tmp\/$$.include\n-\tprint \"<\/div><\/td><\/tr>\"\n-fi\n-# Add links to referenced CRs, if any\n-# URL has a <title> like:\n-# <title>[#JDK-8024688] b106-lambda: j.u.Map.merge doesn&#39;t work as specified if contains key:null pair - Java Bug System<\/title>\n-# we format this to:\n-# JDK-8024688: b106-lambda: j.u.Map.merge doesn't work as specified if contains key:null pair\n-if [[ -n $CRID ]]; then\n-    for id in $CRID\n-    do\n-        #add \"JDK-\" to raw bug id for openjdk.java.net links.\n-        id=`echo ${id} | sed 's\/^\\([0-9]\\{5,\\}\\)$\/JDK-\\1\/'`\n-\n-        print \"<tr><th>Bug id:<\/th><td>\"\n-        url=\"${BUGURL}${id}\"\n-\n-        if [[ -n $WGET ]]; then\n-            msg=`$WGET --timeout=10 --tries=1 -q $url -O - | grep '<title>' | sed 's\/<title>\\[#\\(.*\\)\\] \\(.*\\) - Java Bug System<\\\/title>\/\\1 : \\2\/' | html_dequote | html_quote`\n-        fi\n-        if [[ -z $msg ]]; then\n-            msg=\"${id}\"\n-        fi\n-\n-        print \"<a href=\\\"$url\\\">$msg<\/a>\"\n-\n-        print \"<\/td><\/tr>\"\n-    done\n-fi\n-print \"<tr><th>Legend:<\/th><td>\"\n-print \"<b>Modified file<\/b><br><font color=red><b>Deleted file<\/b><\/font><br><font color=green><b>New file<\/b><\/font><\/td><\/tr>\"\n-print \"<\/table>\"\n-print \"<\/div>\"\n-\n-#\n-# Second pass through the files: generate the rest of the index file\n-#\n-while read LINE\n-do\n-\tset - $LINE\n-        if [[ $1 == \"Revision:\" ]]; then\n-            FIRST_CREV=`expr $3 + 1`\n-            continue\n-        fi\n-\tP=$1\n-\n-\tif [[ $# == 2 ]]; then\n-\t\tPP=$2\n-\t\toldname=\" <i>(was $PP)<\/i>\"\n-\n-\telse\n-\t\tPP=$P\n-\t\toldname=\"\"\n-\tfi\n-\n-\tDIR=${P%\/*}\n-\tif [[ $DIR == $P ]]; then\n-\t\tDIR=\".\"   # File at root of workspace\n-\tfi\n-\n-\t# Avoid processing the same file twice.\n-\t# It's possible for renamed files to\n-\t# appear twice in the file list\n-\n-\tF=$WDIR\/$P\n-\n-\tprint \"<p><code>\"\n-\n-\t# If there's a diffs file, make diffs links\n-\n-        NODIFFS=\n-\tif [[ -f $F.cdiff.html ]]; then\n-\t\tprint \"<a href=\\\"$P.cdiff.html\\\">Cdiffs<\/a>\"\n-\t\tprint \"<a href=\\\"$P.udiff.html\\\">Udiffs<\/a>\"\n-\n-\t\tif [[ -f $F.wdiff.html && -x $WDIFF ]]; then\n-\t\t\tprint \"<a href=\\\"$P.wdiff.html\\\">Wdiffs<\/a>\"\n-\t\tfi\n-\n-\t\tprint \"<a href=\\\"$P.sdiff.html\\\">Sdiffs<\/a>\"\n-\n-\t\tprint \"<a href=\\\"$P.frames.html\\\">Frames<\/a>\"\n-\telse\n-                NODIFFS=1\n-\t\tprint \" ------ ------ ------\"\n-\n-\t\tif [[ -x $WDIFF ]]; then\n-\t\t\tprint \" ------\"\n-\t\tfi\n-\n-\t\tprint \" ------\"\n-\tfi\n-\n-\t# If there's an old file, make the link\n-\n-        NOOLD=\n-\tif [[ -f $F-.html ]]; then\n-\t\tprint \"<a href=\\\"$P-.html\\\">Old<\/a>\"\n-\telse\n-                NOOLD=1\n-\t\tprint \" ---\"\n-\tfi\n-\n-\t# If there's an new file, make the link\n-\n-        NONEW=\n-\tif [[ -f $F.html ]]; then\n-\t\tprint \"<a href=\\\"$P.html\\\">New<\/a>\"\n-\telse\n-                NONEW=1\n-\t\tprint \" ---\"\n-\tfi\n-\n-\tif [[ -f $F.patch ]]; then\n-\t\tprint \"<a href=\\\"$P.patch\\\">Patch<\/a>\"\n-\telse\n-\t\tprint \" -----\"\n-\tfi\n-\n-\tif [[ -f $WDIR\/raw_files\/new\/$P ]]; then\n-\t\tprint \"<a href=\\\"raw_files\/new\/$P\\\">Raw<\/a>\"\n-\telse\n-\t\tprint \" ---\"\n-\tfi\n-        print \"<\/code>\"\n-        if [[ -n $NODIFFS && -z $oldname ]]; then\n-            if [[ -n $NOOLD ]]; then\n-                print \"<font color=green><b>$P<\/b><\/font>\"\n-            elif [[ -n $NONEW ]]; then\n-                print \"<font color=red><b>$P<\/b><\/font>\"\n-            fi\n-        else\n-\t    print \"<b>$P<\/b> $oldname\"\n-        fi\n-\n-\tprint \"<\/p><blockquote>\\c\"\n-\t# Insert delta comments if any\n-\tcomments=`getcomments html $P $PP`\n-\tif [ -n \"$comments\" ]; then\n-\t    print \"<pre>$comments<\/pre>\"\n-\tfi\n-\n-\t# Add additional comments comment\n-\n-\tprint \"<!-- Add comments to explain changes in $P here -->\"\n-\n-\t# Add count of changes.\n-\n-\tif [[ -f $F.count ]]; then\n-\t    cat $F.count\n-\t    rm $F.count\n-\tfi\n-        print \"<\/blockquote>\"\n-done < $FLIST\n-\n-print\n-print\n-print \"<hr \/>\"\n-print \"<p style=\\\"font-size: small\\\">\"\n-print \"This code review page was prepared using <b>$0<\/b>\"\n-print \"(vers $WEBREV_UPDATED).\"\n-print \"<\/body>\"\n-print \"<\/html>\"\n-\n-if [[ -n $ZIP ]]; then\n-    # Let's generate a zip file for convenience\n-    cd $WDIR\/..\n-    if [ -f webrev.zip ]; then\n-\trm webrev.zip\n-    fi\n-    $ZIP -r webrev webrev >\/dev\/null 2>&1\n-fi\n-\n-exec 1<&-\t\t\t# Close FD 1.\n-exec 1<&3\t\t\t# dup FD 3 to restore stdout.\n-exec 3<&-\t\t\t# close FD 3.\n-\n-print \"Done.\"\n-print \"Output to: $WDIR\"\n","filename":"make\/scripts\/webrev.ksh","additions":0,"deletions":2783,"binary":false,"changes":2783,"status":"deleted"}]}
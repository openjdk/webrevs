{"files":[{"patch":"@@ -537,1 +537,1 @@\n-        run: make CONF_NAME=linux-x86 images\n+        run: make CONF_NAME=linux-x86 LOG_LEVEL=debug images\n@@ -821,1 +821,1 @@\n-          & make CONF_NAME=windows-x64 FORCE_MSC_VER=1912 FORCE_LD_VER=1412 images\n+          & make CONF_NAME=windows-x64 FORCE_MSC_VER=1912 FORCE_LD_VER=1412 LOG_LEVEL=debug images\n@@ -1004,1 +1004,1 @@\n-          & make CONF_NAME=windows-x86 images\n+          & make CONF_NAME=windows-x86 LOG_LEVEL=debug images\n@@ -1429,1 +1429,1 @@\n-        run: make CONF_NAME=macos-x64 images\n+        run: make CONF_NAME=macos-x64 LOG_LEVEL=debug images\n","filename":".github\/workflows\/submit.yml","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -127,1 +127,1 @@\n-        # make sure the default include and lib dirs are appended to each \n+        # make sure the default include and lib dirs are appended to each\n@@ -160,13 +160,4 @@\n-  if test \"x$TOOLCHAIN_TYPE\" = xgcc; then\n-    PICFLAG=\"-fPIC\"\n-    PIEFLAG=\"-fPIE\"\n-    C_FLAG_REORDER=''\n-    CXX_FLAG_REORDER=''\n-\n-    if test \"x$OPENJDK_TARGET_OS\" = xmacosx; then\n-      # Linking is different on MacOSX\n-      SHARED_LIBRARY_FLAGS=\"-dynamiclib -compatibility_version 1.0.0 -current_version 1.0.0 $PICFLAG\"\n-      SET_EXECUTABLE_ORIGIN='-Xlinker -rpath -Xlinker @loader_path\/.'\n-      SET_SHARED_LIBRARY_ORIGIN=\"$SET_EXECUTABLE_ORIGIN\"\n-      SET_SHARED_LIBRARY_NAME='-Xlinker -install_name -Xlinker @rpath\/[$]1'\n-      SET_SHARED_LIBRARY_MAPFILE=''\n+  if test \"x$TOOLCHAIN_TYPE\" = xgcc -o \"x$TOOLCHAIN_TYPE\" = xclang; then\n+    if test \"x$TOOLCHAIN_TYPE\" = xgcc; then\n+      PICFLAG=\"-fPIC\"\n+      PIEFLAG=\"-fPIE\"\n@@ -174,6 +165,1 @@\n-      # Default works for linux, might work on other platforms as well.\n-      SHARED_LIBRARY_FLAGS='-shared'\n-      SET_EXECUTABLE_ORIGIN='-Xlinker -rpath -Xlinker \\$$$$ORIGIN[$]1'\n-      SET_SHARED_LIBRARY_ORIGIN=\"-Xlinker -z -Xlinker origin $SET_EXECUTABLE_ORIGIN\"\n-      SET_SHARED_LIBRARY_NAME='-Xlinker -soname=[$]1'\n-      SET_SHARED_LIBRARY_MAPFILE='-Xlinker -version-script=[$]1'\n+      PICFLAG=''\n@@ -181,2 +167,0 @@\n-  elif test \"x$TOOLCHAIN_TYPE\" = xclang; then\n-    PICFLAG=''\n@@ -369,15 +353,1 @@\n-    if test \"x$TOOLCHAIN_TYPE\" = xgcc; then\n-      if test \"x$OPENJDK_TARGET_OS\" = xmacosx; then\n-        # On MacOSX we optimize for size, something\n-        # we should do for all platforms?\n-        C_O_FLAG_HIGHEST=\"-Os\"\n-        C_O_FLAG_HI=\"-Os\"\n-        C_O_FLAG_NORM=\"-Os\"\n-        C_O_FLAG_NONE=\"\"\n-      else\n-        C_O_FLAG_HIGHEST=\"-O3\"\n-        C_O_FLAG_HI=\"-O3\"\n-        C_O_FLAG_NORM=\"-O2\"\n-        C_O_FLAG_NONE=\"-O0\"\n-      fi\n-    elif test \"x$TOOLCHAIN_TYPE\" = xclang; then\n+    if test \"x$TOOLCHAIN_TYPE\" = xgcc -o \"x$TOOLCHAIN_TYPE\" = xclang; then\n@@ -436,1 +406,1 @@\n-  elif test \"x$TOOLCHAIN_TYPE\" = xgcc; then\n+  elif test \"x$TOOLCHAIN_TYPE\" = xgcc -o \"x$TOOLCHAIN_TYPE\" = xclang; then\n@@ -515,1 +485,1 @@\n-  if test \"x$TOOLCHAIN_TYPE\" = xgcc; then\n+  if test \"x$TOOLCHAIN_TYPE\" = xgcc -o \"x$TOOLCHAIN_TYPE\" = xclang; then\n@@ -518,1 +488,1 @@\n-        -pipe -fstack-protector -D_GNU_SOURCE -D_REENTRANT -D_LARGEFILE64_SOURCE\"\n+        -pipe -fstack-protector\"\n@@ -532,1 +502,5 @@\n-    TOOLCHAIN_CHECK_COMPILER_VERSION(6, FLAGS_SETUP_GCC6_COMPILER_FLAGS)\n+\n+    if test \"x$TOOLCHAIN_TYPE\" = xgcc\n+      TOOLCHAIN_CHECK_COMPILER_VERSION(6, FLAGS_SETUP_GCC6_COMPILER_FLAGS)\n+    fi\n+\n@@ -575,1 +549,1 @@\n-  \n+\n@@ -656,1 +630,1 @@\n-  \n+\n@@ -663,1 +637,1 @@\n-  \n+\n@@ -686,0 +660,2 @@\n+  elif test \"x$OPENJDK_TARGET_OS\" = xlinux; then\n+    CCXXFLAGS_JDK=\"-D_GNU_SOURCE -D_REENTRANT -D_LARGEFILE64_SOURCE\"\n@@ -696,1 +672,1 @@\n-    \n+\n@@ -830,1 +806,1 @@\n-  AC_COMPILE_IFELSE([AC_LANG_SOURCE([[int i;]])], [], \n+  AC_COMPILE_IFELSE([AC_LANG_SOURCE([[int i;]])], [],\n@@ -855,1 +831,1 @@\n-  AC_COMPILE_IFELSE([AC_LANG_SOURCE([[int i;]])], [], \n+  AC_COMPILE_IFELSE([AC_LANG_SOURCE([[int i;]])], [],\n@@ -859,1 +835,1 @@\n-  \n+\n@@ -884,1 +860,1 @@\n-  \n+\n@@ -931,1 +907,0 @@\n-\n","filename":"common\/autoconf\/flags.m4","additions":25,"deletions":50,"binary":false,"changes":75,"status":"modified"}]}
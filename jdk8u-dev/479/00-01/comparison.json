{"files":[{"patch":"@@ -2555,1 +2555,0 @@\n-          assert(o != NULL, \"must be constant\");\n@@ -2561,4 +2560,7 @@\n-          assert(field != NULL, \"missing field\");\n-          BasicType basic_elem_type = field->layout_type();\n-          _is_ptr_to_narrowoop = UseCompressedOops && (basic_elem_type == T_OBJECT ||\n-                                                       basic_elem_type == T_ARRAY);\n+          if (field != NULL) {\n+            BasicType basic_elem_type = field->layout_type();\n+            _is_ptr_to_narrowoop = UseCompressedOops && is_reference_type(basic_elem_type);\n+          } else {\n+            \/\/ unsafe access\n+            _is_ptr_to_narrowoop = UseCompressedOops;\n+          }\n","filename":"hotspot\/src\/share\/vm\/opto\/type.cpp","additions":7,"deletions":5,"binary":false,"changes":12,"status":"modified"}]}
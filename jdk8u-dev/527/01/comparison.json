{"files":[{"patch":"@@ -397,1 +397,2 @@\n-  static bool        is_defined     (int  code)    { return 0 <= code && code < number_of_codes && flags(code, false) != 0; }\n+  static bool        is_valid       (int  code)    { return 0 <= code && code < number_of_codes; }\n+  static bool        is_defined     (int  code)    { return is_valid(code) && flags(code, false) != 0; }\n@@ -404,2 +405,2 @@\n-  static int         length_for     (Code code)    { \/*no check*\/      return _lengths       [code] & 0xF; }\n-  static int         wide_length_for(Code code)    { \/*no check*\/      return _lengths       [code] >> 4; }\n+  static int         length_for     (Code code)    { return is_valid(code) ? _lengths[code] & 0xF : -1; }\n+  static int         wide_length_for(Code code)    { return is_valid(code) ? _lengths[code]  >> 4 : -1; }\n","filename":"hotspot\/src\/share\/vm\/interpreter\/bytecodes.hpp","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -1734,0 +1734,3 @@\n+            if (instruction < 0 || instruction > JVM_OPC_MAX)\n+                return -1;\n+\n@@ -1735,2 +1738,4 @@\n-            int length = opcode_length[instruction];\n-            return (length <= 0) ? -1 : length;\n+            if (opcode_length[instruction] <= 0)\n+                return -1;\n+\n+            return opcode_length[instruction];\n","filename":"jdk\/src\/share\/native\/common\/check_code.c","additions":7,"deletions":2,"binary":false,"changes":9,"status":"modified"}]}
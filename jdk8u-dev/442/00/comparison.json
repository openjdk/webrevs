{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2016, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,2 +32,3 @@\n- * @bug 8013810\n- * @summary Test that print service returned without filter are of the same class as with name filter\n+ * @bug 8013810 8025439\n+ * @summary Test that print service returned without filter are of the same class\n+ *          as with name filter\n@@ -37,6 +38,11 @@\n-  public static void main(String[] args) throws Exception {\n-    for (PrintService service : PrintServiceLookup.lookupPrintServices(null, null)) {\n-      String serviceName = service.getName();\n-      PrintService serviceByName = lookupByName(serviceName);\n-      if (!service.equals(serviceByName)) {\n-        throw new RuntimeException(\"NOK \" + serviceName\n+    public static void main(String[] args) throws Exception {\n+        for (PrintService service : PrintServiceLookup.lookupPrintServices(null, null)) {\n+            String serviceName = service.getName();\n+            PrinterName name = service.getAttribute(PrinterName.class);\n+            String printerName = name.getValue();\n+\n+            PrintService serviceByName = lookupByName(printerName);\n+            System.out.println(\"service \" + service);\n+            System.out.println(\"serviceByName \" + serviceByName);\n+            if (!service.equals(serviceByName)) {\n+                throw new RuntimeException(\"NOK \" + serviceName\n@@ -45,1 +51,3 @@\n-      }\n+            }\n+        }\n+        System.out.println(\"Test PASSED\");\n@@ -47,2 +55,0 @@\n-    System.out.println(\"Test PASSED\");\n-  }\n@@ -50,5 +56,8 @@\n-  private static PrintService lookupByName(String name) {\n-    AttributeSet attributes = new HashAttributeSet();\n-    attributes.add(new PrinterName(name, null));\n-    for (PrintService service : PrintServiceLookup.lookupPrintServices(null, attributes)) {\n-      return service;\n+    private static PrintService lookupByName(String name) {\n+        AttributeSet attributes = new HashAttributeSet();\n+        attributes.add(new PrinterName(name, null));\n+        for (PrintService service :\n+             PrintServiceLookup.lookupPrintServices(null, attributes)) {\n+            return service;\n+        }\n+        return null;\n@@ -56,2 +65,0 @@\n-    return null;\n-  }\n","filename":"jdk\/test\/javax\/print\/PrintServiceLookup\/GetPrintServices.java","additions":26,"deletions":19,"binary":false,"changes":45,"status":"modified"}]}
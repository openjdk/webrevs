{"files":[{"patch":"@@ -455,1 +455,4 @@\n-        run: make CONF_NAME=linux-${{ matrix.gnu-arch }}-hotspot hotspot\n+        run: |\n+          cat build\/linux-${{ matrix.gnu-arch }}-hotspot\/spec.gmk\n+          cat build\/linux-${{ matrix.gnu-arch }}-hotspot\/hotspot-spec.gmk\n+          make CONF_NAME=linux-${{ matrix.gnu-arch }}-hotspot LOG_LEVEL=debug hotspot\n","filename":".github\/workflows\/submit.yml","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -142,3 +142,6 @@\n-    LEGACY_EXTRA_CFLAGS=\"$LEGACY_EXTRA_CFLAGS $SYSROOT_CFLAGS\"\n-    LEGACY_EXTRA_CXXFLAGS=\"$LEGACY_EXTRA_CXXFLAGS $SYSROOT_CFLAGS\"\n-    LEGACY_EXTRA_LDFLAGS=\"$LEGACY_EXTRA_LDFLAGS $SYSROOT_LDFLAGS\"\n+    LEGACY_HOST_CFLAGS=\"$LEGACY_EXTRA_CFLAGS\"\n+    LEGACY_HOST_CXXFLAGS=\"$LEGACY_EXTRA_CXXFLAGS\"\n+    LEGACY_HOST_LDFLAGS=\"$LEGACY_EXTRA_LDFLAGS\"\n+    LEGACY_TARGET_CFLAGS=\"$LEGACY_EXTRA_CFLAGS $SYSROOT_CFLAGS\"\n+    LEGACY_TARGET_CXXFLAGS=\"$LEGACY_EXTRA_CXXFLAGS $SYSROOT_CFLAGS\"\n+    LEGACY_TARGET_LDFLAGS=\"$LEGACY_EXTRA_LDFLAGS $SYSROOT_LDFLAGS\"\n@@ -434,2 +437,4 @@\n-    LEGACY_EXTRA_CFLAGS=\"$LEGACY_EXTRA_CFLAGS -fstack-protector\"\n-    LEGACY_EXTRA_CXXFLAGS=\"$LEGACY_EXTRA_CXXFLAGS -fstack-protector\"\n+    LEGACY_HOST_CFLAGS=\"$LEGACY_HOST_CFLAGS -fstack-protector\"\n+    LEGACY_TARGET_CFLAGS=\"$LEGACY_TARGET_CFLAGS -fstack-protector\"\n+    LEGACY_HOST_CXXFLAGS=\"$LEGACY_HOST_CXXFLAGS -fstack-protector\"\n+    LEGACY_TARGET_CXXFLAGS=\"$LEGACY_TARGET_CXXFLAGS -fstack-protector\"\n@@ -438,1 +443,2 @@\n-      LEGACY_EXTRA_LDFLAGS=\"$LEGACY_EXTRA_LDFLAGS -Wl,-z,relro\"\n+      LEGACY_HOST_LDFLAGS=\"$LEGACY_HOST_LDFLAGS -Wl,-z,relro\"\n+      LEGACY_TARGET_LDFLAGS=\"$LEGACY_TARGET_LDFLAGS -Wl,-z,relro\"\n@@ -482,9 +488,17 @@\n-  LEGACY_EXTRA_CFLAGS=\"$LEGACY_EXTRA_CFLAGS $with_extra_cflags\"\n-  LEGACY_EXTRA_CXXFLAGS=\"$LEGACY_EXTRA_CXXFLAGS $with_extra_cxxflags\"\n-  LEGACY_EXTRA_LDFLAGS=\"$LEGACY_EXTRA_LDFLAGS $with_extra_ldflags\"\n-  LEGACY_EXTRA_ASFLAGS=\"$with_extra_asflags\"\n-\n-  AC_SUBST(LEGACY_EXTRA_CFLAGS)\n-  AC_SUBST(LEGACY_EXTRA_CXXFLAGS)\n-  AC_SUBST(LEGACY_EXTRA_LDFLAGS)\n-  AC_SUBST(LEGACY_EXTRA_ASFLAGS)\n+  LEGACY_HOST_CFLAGS=\"$LEGACY_HOST_CFLAGS $with_extra_cflags\"\n+  LEGACY_TARGET_CFLAGS=\"$LEGACY_TARGET_CFLAGS $with_extra_cflags\"\n+  LEGACY_HOST_CXXFLAGS=\"$LEGACY_HOST_CXXFLAGS $with_extra_cxxflags\"\n+  LEGACY_TARGET_CXXFLAGS=\"$LEGACY_TARGET_CXXFLAGS $with_extra_cxxflags\"\n+  LEGACY_HOST_LDFLAGS=\"$LEGACY_HOST_LDFLAGS $with_extra_ldflags\"\n+  LEGACY_TARGET_LDFLAGS=\"$LEGACY_TARGET_LDFLAGS $with_extra_ldflags\"\n+  LEGACY_HOST_ASFLAGS=\"$with_extra_asflags\"\n+  LEGACY_TARGET_ASFLAGS=\"$with_extra_asflags\"\n+\n+  AC_SUBST(LEGACY_HOST_CFLAGS)\n+  AC_SUBST(LEGACY_HOST_CXXFLAGS)\n+  AC_SUBST(LEGACY_HOST_LDFLAGS)\n+  AC_SUBST(LEGACY_HOST_ASFLAGS)\n+  AC_SUBST(LEGACY_TARGET_CFLAGS)\n+  AC_SUBST(LEGACY_TARGET_CXXFLAGS)\n+  AC_SUBST(LEGACY_TARGET_LDFLAGS)\n+  AC_SUBST(LEGACY_TARGET_ASFLAGS)\n","filename":"common\/autoconf\/flags.m4","additions":29,"deletions":15,"binary":false,"changes":44,"status":"modified"},{"patch":"@@ -694,4 +694,8 @@\n-LEGACY_EXTRA_ASFLAGS\n-LEGACY_EXTRA_LDFLAGS\n-LEGACY_EXTRA_CXXFLAGS\n-LEGACY_EXTRA_CFLAGS\n+LEGACY_TARGET_ASFLAGS\n+LEGACY_TARGET_LDFLAGS\n+LEGACY_TARGET_CXXFLAGS\n+LEGACY_TARGET_CFLAGS\n+LEGACY_HOST_ASFLAGS\n+LEGACY_HOST_LDFLAGS\n+LEGACY_HOST_CXXFLAGS\n+LEGACY_HOST_CFLAGS\n@@ -1020,1 +1024,0 @@\n-runstatedir\n@@ -1266,1 +1269,0 @@\n-runstatedir='${localstatedir}\/run'\n@@ -1519,9 +1521,0 @@\n-  -runstatedir | --runstatedir | --runstatedi | --runstated \\\n-  | --runstate | --runstat | --runsta | --runst | --runs \\\n-  | --run | --ru | --r)\n-    ac_prev=runstatedir ;;\n-  -runstatedir=* | --runstatedir=* | --runstatedi=* | --runstated=* \\\n-  | --runstate=* | --runstat=* | --runsta=* | --runst=* | --runs=* \\\n-  | --run=* | --ru=* | --r=*)\n-    runstatedir=$ac_optarg ;;\n-\n@@ -1665,1 +1658,1 @@\n-\t\tlibdir localedir mandir runstatedir\n+\t\tlibdir localedir mandir\n@@ -1818,1 +1811,0 @@\n-  --runstatedir=DIR       modifiable per-process data [LOCALSTATEDIR\/run]\n@@ -2577,1 +2569,1 @@\n-main ()\n+main (void)\n@@ -2594,1 +2586,1 @@\n-main ()\n+main (void)\n@@ -2621,1 +2613,1 @@\n-main ()\n+main (void)\n@@ -2638,1 +2630,1 @@\n-main ()\n+main (void)\n@@ -2673,1 +2665,1 @@\n-main ()\n+main (void)\n@@ -2698,2 +2690,2 @@\n-static long int longval () { return $2; }\n-static unsigned long int ulongval () { return $2; }\n+static long int longval (void) { return $2; }\n+static unsigned long int ulongval (void) { return $2; }\n@@ -2703,1 +2695,1 @@\n-main ()\n+main (void)\n@@ -2810,1 +2802,1 @@\n-    which can conflict with char $2 (); below.\n+    which can conflict with char $2 (void); below.\n@@ -2828,1 +2820,1 @@\n-char $2 ();\n+char $2 (void);\n@@ -2837,1 +2829,1 @@\n-main ()\n+main (void)\n@@ -4443,1 +4435,1 @@\n-DATE_WHEN_GENERATED=1705630975\n+DATE_WHEN_GENERATED=1716396030\n@@ -28937,1 +28929,1 @@\n-main ()\n+main (void)\n@@ -29077,1 +29069,1 @@\n-main ()\n+main (void)\n@@ -29141,1 +29133,1 @@\n-main ()\n+main (void)\n@@ -29192,1 +29184,1 @@\n-main ()\n+main (void)\n@@ -29233,1 +29225,1 @@\n-main ()\n+main (void)\n@@ -29248,1 +29240,1 @@\n-main ()\n+main (void)\n@@ -29264,1 +29256,1 @@\n-main ()\n+main (void)\n@@ -29313,3 +29305,1 @@\n-static char *e (p, i)\n-     char **p;\n-     int i;\n+static char *e (char **p, int i)\n@@ -29350,1 +29340,1 @@\n-main ()\n+main (void)\n@@ -30683,1 +30673,1 @@\n-main ()\n+main (void)\n@@ -30724,1 +30714,1 @@\n-main ()\n+main (void)\n@@ -30739,1 +30729,1 @@\n-main ()\n+main (void)\n@@ -30755,1 +30745,1 @@\n-main ()\n+main (void)\n@@ -33268,1 +33258,1 @@\n-main ()\n+main (void)\n@@ -33309,1 +33299,1 @@\n-main ()\n+main (void)\n@@ -33324,1 +33314,1 @@\n-main ()\n+main (void)\n@@ -33340,1 +33330,1 @@\n-main ()\n+main (void)\n@@ -41857,3 +41847,6 @@\n-    LEGACY_EXTRA_CFLAGS=\"$LEGACY_EXTRA_CFLAGS $SYSROOT_CFLAGS\"\n-    LEGACY_EXTRA_CXXFLAGS=\"$LEGACY_EXTRA_CXXFLAGS $SYSROOT_CFLAGS\"\n-    LEGACY_EXTRA_LDFLAGS=\"$LEGACY_EXTRA_LDFLAGS $SYSROOT_LDFLAGS\"\n+    LEGACY_HOST_CFLAGS=\"$LEGACY_EXTRA_CFLAGS\"\n+    LEGACY_HOST_CXXFLAGS=\"$LEGACY_EXTRA_CXXFLAGS\"\n+    LEGACY_HOST_LDFLAGS=\"$LEGACY_EXTRA_LDFLAGS\"\n+    LEGACY_TARGET_CFLAGS=\"$LEGACY_EXTRA_CFLAGS $SYSROOT_CFLAGS\"\n+    LEGACY_TARGET_CXXFLAGS=\"$LEGACY_EXTRA_CXXFLAGS $SYSROOT_CFLAGS\"\n+    LEGACY_TARGET_LDFLAGS=\"$LEGACY_EXTRA_LDFLAGS $SYSROOT_LDFLAGS\"\n@@ -41883,1 +41876,1 @@\n-main ()\n+main (void)\n@@ -41953,1 +41946,1 @@\n-main ()\n+main (void)\n@@ -42251,1 +42244,1 @@\n-main ()\n+main (void)\n@@ -42271,1 +42264,1 @@\n-main ()\n+main (void)\n@@ -42297,1 +42290,1 @@\n-main ()\n+main (void)\n@@ -42314,1 +42307,1 @@\n-main ()\n+main (void)\n@@ -42356,1 +42349,1 @@\n-main ()\n+main (void)\n@@ -42382,1 +42375,1 @@\n-main ()\n+main (void)\n@@ -42681,2 +42674,4 @@\n-    LEGACY_EXTRA_CFLAGS=\"$LEGACY_EXTRA_CFLAGS -fstack-protector\"\n-    LEGACY_EXTRA_CXXFLAGS=\"$LEGACY_EXTRA_CXXFLAGS -fstack-protector\"\n+    LEGACY_HOST_CFLAGS=\"$LEGACY_HOST_CFLAGS -fstack-protector\"\n+    LEGACY_TARGET_CFLAGS=\"$LEGACY_TARGET_CFLAGS -fstack-protector\"\n+    LEGACY_HOST_CXXFLAGS=\"$LEGACY_HOST_CXXFLAGS -fstack-protector\"\n+    LEGACY_TARGET_CXXFLAGS=\"$LEGACY_TARGET_CXXFLAGS -fstack-protector\"\n@@ -42685,1 +42680,2 @@\n-      LEGACY_EXTRA_LDFLAGS=\"$LEGACY_EXTRA_LDFLAGS -Wl,-z,relro\"\n+      LEGACY_HOST_LDFLAGS=\"$LEGACY_HOST_LDFLAGS -Wl,-z,relro\"\n+      LEGACY_TARGET_LDFLAGS=\"$LEGACY_TARGET_LDFLAGS -Wl,-z,relro\"\n@@ -42786,4 +42782,12 @@\n-  LEGACY_EXTRA_CFLAGS=\"$LEGACY_EXTRA_CFLAGS $with_extra_cflags\"\n-  LEGACY_EXTRA_CXXFLAGS=\"$LEGACY_EXTRA_CXXFLAGS $with_extra_cxxflags\"\n-  LEGACY_EXTRA_LDFLAGS=\"$LEGACY_EXTRA_LDFLAGS $with_extra_ldflags\"\n-  LEGACY_EXTRA_ASFLAGS=\"$with_extra_asflags\"\n+  LEGACY_HOST_CFLAGS=\"$LEGACY_HOST_CFLAGS $with_extra_cflags\"\n+  LEGACY_TARGET_CFLAGS=\"$LEGACY_TARGET_CFLAGS $with_extra_cflags\"\n+  LEGACY_HOST_CXXFLAGS=\"$LEGACY_HOST_CXXFLAGS $with_extra_cxxflags\"\n+  LEGACY_TARGET_CXXFLAGS=\"$LEGACY_TARGET_CXXFLAGS $with_extra_cxxflags\"\n+  LEGACY_HOST_LDFLAGS=\"$LEGACY_HOST_LDFLAGS $with_extra_ldflags\"\n+  LEGACY_TARGET_LDFLAGS=\"$LEGACY_TARGET_LDFLAGS $with_extra_ldflags\"\n+  LEGACY_HOST_ASFLAGS=\"$with_extra_asflags\"\n+  LEGACY_TARGET_ASFLAGS=\"$with_extra_asflags\"\n+\n+\n+\n+\n@@ -44214,1 +44218,1 @@\n-main ()\n+main (void)\n@@ -44300,1 +44304,1 @@\n-main ()\n+main (void)\n@@ -44317,1 +44321,1 @@\n-main ()\n+main (void)\n@@ -44361,1 +44365,1 @@\n-char XOpenDisplay ();\n+char XOpenDisplay (void);\n@@ -44363,1 +44367,1 @@\n-main ()\n+main (void)\n@@ -44389,1 +44393,1 @@\n-char dnet_ntoa ();\n+char dnet_ntoa (void);\n@@ -44391,1 +44395,1 @@\n-main ()\n+main (void)\n@@ -44430,1 +44434,1 @@\n-char dnet_ntoa ();\n+char dnet_ntoa (void);\n@@ -44432,1 +44436,1 @@\n-main ()\n+main (void)\n@@ -44490,1 +44494,1 @@\n-char gethostbyname ();\n+char gethostbyname (void);\n@@ -44492,1 +44496,1 @@\n-main ()\n+main (void)\n@@ -44531,1 +44535,1 @@\n-char gethostbyname ();\n+char gethostbyname (void);\n@@ -44533,1 +44537,1 @@\n-main ()\n+main (void)\n@@ -44587,1 +44591,1 @@\n-char connect ();\n+char connect (void);\n@@ -44589,1 +44593,1 @@\n-main ()\n+main (void)\n@@ -44636,1 +44640,1 @@\n-char remove ();\n+char remove (void);\n@@ -44638,1 +44642,1 @@\n-main ()\n+main (void)\n@@ -44685,1 +44689,1 @@\n-char shmat ();\n+char shmat (void);\n@@ -44687,1 +44691,1 @@\n-main ()\n+main (void)\n@@ -44737,1 +44741,1 @@\n-char IceConnectionNumber ();\n+char IceConnectionNumber (void);\n@@ -44739,1 +44743,1 @@\n-main ()\n+main (void)\n@@ -49703,1 +49707,1 @@\n-main ()\n+main (void)\n@@ -49793,1 +49797,1 @@\n-char DGifGetCode ();\n+char DGifGetCode (void);\n@@ -49795,1 +49799,1 @@\n-main ()\n+main (void)\n@@ -49859,1 +49863,1 @@\n-char compress ();\n+char compress (void);\n@@ -49861,1 +49865,1 @@\n-main ()\n+main (void)\n@@ -49945,1 +49949,1 @@\n-main ()\n+main (void)\n@@ -49986,1 +49990,1 @@\n-char cos ();\n+char cos (void);\n@@ -49988,1 +49992,1 @@\n-main ()\n+main (void)\n@@ -50045,1 +50049,1 @@\n-char dlopen ();\n+char dlopen (void);\n@@ -50047,1 +50051,1 @@\n-main ()\n+main (void)\n@@ -50115,1 +50119,1 @@\n-main ()\n+main (void)\n@@ -50157,1 +50161,1 @@\n-main ()\n+main (void)\n@@ -55948,1 +55952,1 @@\n-main ()\n+main (void)\n@@ -57461,0 +57465,1 @@\n+\n","filename":"common\/autoconf\/generated-configure.sh","additions":105,"deletions":100,"binary":false,"changes":205,"status":"modified"},{"patch":"@@ -114,5 +114,13 @@\n-EXTRA_CFLAGS=@LEGACY_EXTRA_CFLAGS@ $(NO_DELETE_NULL_POINTER_CHECKS_CFLAG) \\\n-\t\t\t\t   $(NO_LIFETIME_DSE_CFLAG) $(CXXSTD_CXXFLAG)\n-EXTRA_CXXFLAGS=@LEGACY_EXTRA_CXXFLAGS@\n-EXTRA_LDFLAGS=@LEGACY_EXTRA_LDFLAGS@\n-EXTRA_ASFLAGS=@LEGACY_EXTRA_ASFLAGS@\n+# Retain EXTRA_{CFLAGS,CXXFLAGS,LDFLAGS,ASFLAGS} for the target flags to\n+# maintain compatibility with the existing Makefiles\n+EXTRA_CFLAGS=@LEGACY_TARGET_CFLAGS@ $(NO_DELETE_NULL_POINTER_CHECKS_CFLAG) \\\n+\t\t\t\t    $(NO_LIFETIME_DSE_CFLAG) $(CXXSTD_CXXFLAG)\n+EXTRA_CXXFLAGS=@LEGACY_TARGET_CXXFLAGS@\n+EXTRA_LDFLAGS=@LEGACY_TARGET_LDFLAGS@\n+EXTRA_ASFLAGS=@LEGACY_TARGET_ASFLAGS@\n+# Define an equivalent set for the host flags (i.e. without sysroot options)\n+HOST_CFLAGS=@LEGACY_HOST_CFLAGS@ $(NO_DELETE_NULL_POINTER_CHECKS_CFLAG) \\\n+\t\t\t\t $(NO_LIFETIME_DSE_CFLAG) $(CXXSTD_CXXFLAG)\n+HOST_CXXFLAGS=@LEGACY_HOST_CXXFLAGS@\n+HOST_LDFLAGS=@LEGACY_HOST_LDFLAGS@\n+HOST_ASFLAGS=@LEGACY_HOST_ASFLAGS@\n","filename":"common\/autoconf\/hotspot-spec.gmk.in","additions":13,"deletions":5,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -72,0 +72,5 @@\n+# Extra flags from gnumake's invocation or environment\n+CFLAGS += $(HOST_CFLAGS)\n+LFLAGS += $(HOST_CFLAGS) $(HOST_LDFLAGS)\n+ASFLAGS += $(HOST_ASFLAGS)\n+\n","filename":"hotspot\/make\/aix\/makefiles\/adlc.make","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -74,0 +74,5 @@\n+# Extra flags from gnumake's invocation or environment\n+CFLAGS += $(HOST_CFLAGS)\n+LFLAGS += $(HOST_CFLAGS) $(HOST_LDFLAGS)\n+ASFLAGS += $(HOST_ASFLAGS)\n+\n","filename":"hotspot\/make\/bsd\/makefiles\/adlc.make","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -72,0 +72,5 @@\n+# Extra flags from gnumake's invocation or environment\n+CFLAGS += $(HOST_CFLAGS)\n+LFLAGS += $(HOST_CFLAGS) $(HOST_LDFLAGS)\n+ASFLAGS += $(HOST_ASFLAGS)\n+\n","filename":"hotspot\/make\/linux\/makefiles\/adlc.make","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -86,0 +86,4 @@\n+# Extra flags from gnumake's invocation or environment\n+CFLAGS += $(HOST_CFLAGS)\n+ASFLAGS += $(HOST_ASFLAGS)\n+\n","filename":"hotspot\/make\/solaris\/makefiles\/adlc.make","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"}]}
{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2015, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -33,1 +33,1 @@\n-import java.util.Date;\n+import java.util.Arrays;\n@@ -314,3 +314,9 @@\n-            if (tableEntry == INVALID_COUNTRY_ENTRY ||\n-                    (tableEntry & SPECIAL_CASE_COUNTRY_MASK) != 0 ||\n-                    (tableEntry & SIMPLE_CASE_COUNTRY_FINAL_CHAR_MASK) != (currencyCode.charAt(2) - 'A')) {\n+\n+            \/\/ Do not allow a future currency to be classified as an otherCurrency,\n+            \/\/ otherwise it will leak out into Currency:getAvailableCurrencies\n+            boolean futureCurrency = Arrays.asList(specialCaseNewCurrencies).contains(currencyCode);\n+            boolean simpleCurrency = (tableEntry & SIMPLE_CASE_COUNTRY_FINAL_CHAR_MASK) == (currencyCode.charAt(2) - 'A');\n+\n+            \/\/ If neither a simple currency, or one defined in the future\n+            \/\/ then the current currency is applicable to be added to the otherTable\n+            if (!futureCurrency && !simpleCurrency) {\n","filename":"jdk\/make\/src\/classes\/build\/tools\/generatecurrencydata\/GenerateCurrencyData.java","additions":11,"deletions":5,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2000, 2022, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2000, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -34,1 +34,1 @@\n-dataVersion=174\n+dataVersion=177\n@@ -57,4 +57,3 @@\n-    XBB956-XBC957-XBD958-XCD951-XDR960-XFO000-XFU000-XOF952-XPD964-XPF953-\\\n-    XPT962-XSU994-XTS963-XUA965-XXX999-YER886-YUM891-ZAR710-ZMK894-ZMW967-ZWD716-ZWL932-\\\n-    ZWN942-ZWR935\n-\n+    XBB956-XBC957-XBD958-XCD951-XCG532-XDR960-XFO000-XFU000-XOF952-XPD964-XPF953-\\\n+    XPT962-XSU994-XTS963-XUA965-XXX999-YER886-YUM891-ZAR710-ZMK894-ZMW967-ZWD716-ZWG924-\\\n+    ZWL932-ZWN942-ZWR935\n@@ -191,1 +190,1 @@\n-HR=HRK;2022-12-31-23-00-00;EUR\n+HR=EUR\n@@ -195,1 +194,1 @@\n-CW=ANG\n+CW=ANG;2025-04-01-04-00-00;XCG\n@@ -510,1 +509,1 @@\n-SX=ANG\n+SX=ANG;2025-04-01-04-00-00;XCG\n@@ -582,1 +581,1 @@\n-ZW=ZWL\n+ZW=ZWG\n","filename":"jdk\/src\/share\/classes\/java\/util\/CurrencyData.properties","additions":9,"deletions":10,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2005, 2022, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2005, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -269,0 +269,1 @@\n+XCG=XCG\n@@ -286,0 +287,1 @@\n+ZWG=ZWG\n@@ -494,0 +496,1 @@\n+xcg=Caribbean Guilder\n@@ -510,0 +513,1 @@\n+zwg=Zimbabwe Gold\n","filename":"jdk\/src\/share\/classes\/sun\/util\/resources\/CurrencyNames.properties","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -34,1 +34,1 @@\n-    static final String datafile = \"tablea1.txt\";\n+    static final String datafile = \"ISO4217-list-one.txt\";\n","filename":"jdk\/test\/java\/util\/Currency\/CheckDataVersion.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2011, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +26,1 @@\n- *    6488442 7036905 8074350 8074351\n+ *    6488442 7036905 8074350 8074351 8334653\n","filename":"jdk\/test\/java\/util\/Currency\/CurrencyTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -3,2 +3,2 @@\n-# Amendments up until ISO 4217 AMENDMENT NUMBER 174\n-#   (As of 2 November 2022)\n+# Amendments up until ISO 4217 AMENDMENT NUMBER 176\n+#   (As of 20 June 2024)\n@@ -9,1 +9,1 @@\n-DATAVERSION=174\n+DATAVERSION=177\n@@ -70,1 +70,1 @@\n-HR\tHRK\t191\t2\t2022-12-31-23-00-00\tEUR\t978\t2\n+HR\tEUR\t978\t2\n@@ -72,1 +72,1 @@\n-CW\tANG\t532\t2\n+CW\tANG\t532\t2\t2025-04-01-04-00-00\tXCG\t532\t2\n@@ -236,1 +236,1 @@\n-SX\tANG\t532\t2\n+SX\tANG\t532\t2\t2025-04-01-04-00-00\tXCG\t532\t2\n@@ -279,1 +279,1 @@\n-ZW\tZWL\t932\t2\n+ZW\tZWG\t924\t2\n","filename":"jdk\/test\/java\/util\/Currency\/ISO4217-list-one.txt","additions":7,"deletions":7,"binary":false,"changes":14,"previous_filename":"jdk\/test\/java\/util\/Currency\/tablea1.txt","status":"renamed"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,2 +26,2 @@\n- *      8074350 8074351 8145952 8187946 8193552 8202026 8204269\n- *      8208746 8209775 8274658 8283277 8296239\n+ *      8039317 8074350 8074351 8145952 8187946 8193552 8202026 8204269\n+ *      8208746 8209775 8264792 8274658 8283277 8296239 8321480 8334653\n@@ -44,1 +44,1 @@\n- *      fields and save as .\/tablea1.txt.\n+ *      fields and save as .\/ISO4217-list-one.txt.\n@@ -67,1 +67,1 @@\n-    static final String datafile = \"tablea1.txt\";\n+    static final String datafile = \"ISO4217-list-one.txt\";\n@@ -98,1 +98,1 @@\n-        + \"DEM-EEK-ESP-FIM-FRF-GHC-GRD-GWP-IEP-ITL-LTL-LUF-LVL-MGF-MRO-MTL-MXV-MZM-NLG-\"\n+        + \"DEM-EEK-ESP-FIM-FRF-GHC-GRD-GWP-HRK-IEP-ITL-LTL-LUF-LVL-MGF-MRO-MTL-MXV-MZM-NLG-\"\n@@ -101,1 +101,1 @@\n-        + \"YUM-ZMK-ZWD-ZWN-ZWR\";\n+        + \"YUM-ZMK-ZWD-ZWL-ZWN-ZWR\";\n","filename":"jdk\/test\/java\/util\/Currency\/ValidateISO4217.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"}]}
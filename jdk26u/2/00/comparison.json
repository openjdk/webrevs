{"files":[{"patch":"@@ -230,5 +230,0 @@\n-    \/\/ Further down, just before FLAG_SET_ERGO(), all segment sizes are\n-    \/\/ aligned down to the next lower multiple of min_size. For large page\n-    \/\/ sizes, this may result in (non_nmethod.size == 0) which is not acceptable.\n-    \/\/ Therefore, force non_nmethod.size to at least min_size.\n-    non_nmethod.size = MAX2(non_nmethod.size, min_size);\n@@ -310,5 +305,4 @@\n-  non_profiled.size += non_nmethod.size & alignment_mask(min_size);\n-  non_profiled.size += profiled.size & alignment_mask(min_size);\n-  non_nmethod.size = align_down(non_nmethod.size, min_size);\n-  profiled.size = align_down(profiled.size, min_size);\n-  non_profiled.size = align_down(non_profiled.size, min_size);\n+  non_nmethod.size = align_up(non_nmethod.size, min_size);\n+  profiled.size = align_up(profiled.size, min_size);\n+  non_profiled.size = align_up(non_profiled.size, min_size);\n+  cache_size = non_nmethod.size + profiled.size + non_profiled.size;\n","filename":"src\/hotspot\/share\/code\/codeCache.cpp","additions":4,"deletions":10,"binary":false,"changes":14,"status":"modified"}]}